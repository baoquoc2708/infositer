// Copyright (c) 2014 comScore, Inc.
var ns_=ns_||{};ns_.StreamSense=ns_.StreamSense||function(){function h(t,n){var r=t||"",i=e,s="undefined",o=l.comScore||l.sitestat||function(e){var t="comScore=",n=c.cookie,r="",i="indexOf",o="substring",a="length",f=2048,h,p="&ns_",d="&",v,m,g,y,b=l.encodeURIComponent||escape;if(n[i](t)+1)for(g=0,m=n.split(";"),y=m[a];g<y;g++)v=m[g][i](t),v+1&&(r=d+unescape(m[g][o](v+t[a])));e+=p+"_t="+ +(new Date)+p+"c="+(c.characterSet||c.defaultCharset||"")+r,e[a]>f&&e[i](d)>0&&(h=e[o](0,f-8).lastIndexOf(d),e=(e[o](0,h)+p+"cut="+b(e[o](h+1)))[o](0,f)),u.httpGet(e),typeof ns_p===s&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof n!==s){var a=[],f=l.encodeURIComponent||escape;for(var h in n)n.hasOwnProperty(h)&&a.push(f(h)+"="+f(n[h]));/[\?\&]$/.test(r)||(r+="&"),r+=a.join("&")}return o(r)}function p(e,t){var n,r=2048,i=l.encodeURIComponent||escape,s=[],o=y.LABELS_ORDER,u=e.split("?"),a=u[0],f=u[1],h=f.split("&");for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=unescape(v[0]),g=unescape(v[1]);m&&(t[m]=g)}var b={};for(var p=0,d=o.length;p<d;p++){var w=o[p];if(t.hasOwnProperty(w)){var E=t[w];typeof E!="undefined"&&E!=null&&(b[w]=!0,s.push(i(w)+"="+i(t[w])))}}for(var w in t){if(b[w])continue;if(t.hasOwnProperty(w)){var E=t[w];typeof E!="undefined"&&E!=null&&s.push(i(w)+"="+i(t[w]))}}return n=a+"?"+s.join("&"),n=n+(n.indexOf("&c8=")<0?"&c8="+i(c.title):"")+(n.indexOf("&c7=")<0?"&c7="+i(c.URL):"")+(n.indexOf("&c9=")<0?"&c9="+i(c.referrer):""),n.length>r&&n.indexOf("&")>0&&(last=n.substr(0,r-8).lastIndexOf("&"),n=(n.substring(0,last)+"&ns_cut="+i(n.substring(last+1))).substr(0,r)),n}var e=function(){var e=function(){function e(e,t){var o=e[0],u=e[1],a=e[2],f=e[3];o=n(o,u,a,f,t[0],7,-680876936),f=n(f,o,u,a,t[1],12,-389564586),a=n(a,f,o,u,t[2],17,606105819),u=n(u,a,f,o,t[3],22,-1044525330),o=n(o,u,a,f,t[4],7,-176418897),f=n(f,o,u,a,t[5],12,1200080426),a=n(a,f,o,u,t[6],17,-1473231341),u=n(u,a,f,o,t[7],22,-45705983),o=n(o,u,a,f,t[8],7,1770035416),f=n(f,o,u,a,t[9],12,-1958414417),a=n(a,f,o,u,t[10],17,-42063),u=n(u,a,f,o,t[11],22,-1990404162),o=n(o,u,a,f,t[12],7,1804603682),f=n(f,o,u,a,t[13],12,-40341101),a=n(a,f,o,u,t[14],17,-1502002290),u=n(u,a,f,o,t[15],22,1236535329),o=r(o,u,a,f,t[1],5,-165796510),f=r(f,o,u,a,t[6],9,-1069501632),a=r(a,f,o,u,t[11],14,643717713),u=r(u,a,f,o,t[0],20,-373897302),o=r(o,u,a,f,t[5],5,-701558691),f=r(f,o,u,a,t[10],9,38016083),a=r(a,f,o,u,t[15],14,-660478335),u=r(u,a,f,o,t[4],20,-405537848),o=r(o,u,a,f,t[9],5,568446438),f=r(f,o,u,a,t[14],9,-1019803690),a=r(a,f,o,u,t[3],14,-187363961),u=r(u,a,f,o,t[8],20,1163531501),o=r(o,u,a,f,t[13],5,-1444681467),f=r(f,o,u,a,t[2],9,-51403784),a=r(a,f,o,u,t[7],14,1735328473),u=r(u,a,f,o,t[12],20,-1926607734),o=i(o,u,a,f,t[5],4,-378558),f=i(f,o,u,a,t[8],11,-2022574463),a=i(a,f,o,u,t[11],16,1839030562),u=i(u,a,f,o,t[14],23,-35309556),o=i(o,u,a,f,t[1],4,-1530992060),f=i(f,o,u,a,t[4],11,1272893353),a=i(a,f,o,u,t[7],16,-155497632),u=i(u,a,f,o,t[10],23,-1094730640),o=i(o,u,a,f,t[13],4,681279174),f=i(f,o,u,a,t[0],11,-358537222),a=i(a,f,o,u,t[3],16,-722521979),u=i(u,a,f,o,t[6],23,76029189),o=i(o,u,a,f,t[9],4,-640364487),f=i(f,o,u,a,t[12],11,-421815835),a=i(a,f,o,u,t[15],16,530742520),u=i(u,a,f,o,t[2],23,-995338651),o=s(o,u,a,f,t[0],6,-198630844),f=s(f,o,u,a,t[7],10,1126891415),a=s(a,f,o,u,t[14],15,-1416354905),u=s(u,a,f,o,t[5],21,-57434055),o=s(o,u,a,f,t[12],6,1700485571),f=s(f,o,u,a,t[3],10,-1894986606),a=s(a,f,o,u,t[10],15,-1051523),u=s(u,a,f,o,t[1],21,-2054922799),o=s(o,u,a,f,t[8],6,1873313359),f=s(f,o,u,a,t[15],10,-30611744),a=s(a,f,o,u,t[6],15,-1560198380),u=s(u,a,f,o,t[13],21,1309151649),o=s(o,u,a,f,t[4],6,-145523070),f=s(f,o,u,a,t[11],10,-1120210379),a=s(a,f,o,u,t[2],15,718787259),u=s(u,a,f,o,t[9],21,-343485551),e[0]=h(o,e[0]),e[1]=h(u,e[1]),e[2]=h(a,e[2]),e[3]=h(f,e[3])}function t(e,t,n,r,i,s){return t=h(h(t,e),h(r,s)),h(t<<i|t>>>32-i,n)}function n(e,n,r,i,s,o,u){return t(n&r|~n&i,e,n,s,o,u)}function r(e,n,r,i,s,o,u){return t(n&i|r&~i,e,n,s,o,u)}function i(e,n,r,i,s,o,u){return t(n^r^i,e,n,s,o,u)}function s(e,n,r,i,s,o,u){return t(r^(n|~i),e,n,s,o,u)}function o(t){txt="";var n=t.length,r=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=t.length;i+=64)e(r,u(t.substring(i-64,i)));t=t.substring(i-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)s[i>>2]|=t.charCodeAt(i)<<(i%4<<3);s[i>>2]|=128<<(i%4<<3);if(i>55){e(r,s);for(i=0;i<16;i++)s[i]=0}return s[14]=n*8,e(r,s),r}function u(e){var t=[],n;for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function f(e){var t="",n=0;for(;n<4;n++)t+=a[e>>n*8+4&15]+a[e>>n*8&15];return t}function l(e){for(var t=0;t<e.length;t++)e[t]=f(e[t]);return e.join("")}function c(e){return l(o(e))}function h(e,t){return e+t&4294967295}var a="0123456789abcdef".split("");if(c("hello")!="5d41402abc4b2a76b9719d911017c592")function h(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}return c}(),t=function(){function h(e,t,n){e!=null&&("number"==typeof e?this.fromNumber(e,t,n):t==null&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function p(){return new h(null)}function w(e){return m.charAt(e)}function E(e,t){var n=g[e.charCodeAt(t)];return n==null?-1:n}function S(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function x(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function T(e){var t=p();return t.fromInt(e),t}function N(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==256)n=8;else if(t==2)n=1;else if(t==32)n=5;else{if(t!=4){this.fromRadix(e,t);return}n=2}this.t=0,this.s=0;var r=e.length,i=!1,s=0;while(--r>=0){var o=n==8?e[r]&255:E(e,r);if(o<0){e.charAt(r)=="-"&&(i=!0);continue}i=!1,s==0?this[this.t++]=o:s+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,s+=n,s>=this.DB&&(s-=this.DB)}n==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&h.ZERO.subTo(this,this)}function C(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t}function k(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else{if(e!=4)return this.toRadix(e);t=2}var n=(1<<t)-1,r,i=!1,s="",o=this.t,u=this.DB-o*this.DB%t;if(o-->0){u<this.DB&&(r=this[o]>>u)>0&&(i=!0,s=w(r));while(o>=0)u<t?(r=(this[o]&(1<<u)-1)<<t-u,r|=this[--o]>>(u+=this.DB-t)):(r=this[o]>>(u-=t)&n,u<=0&&(u+=this.DB,--o)),r>0&&(i=!0),i&&(s+=w(r))}return i?s:"0"}function L(){var e=p();return h.ZERO.subTo(this,e),e}function A(){return this.s<0?this.negate():this}function O(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t;t=n-e.t;if(t!=0)return this.s<0?-t:t;while(--n>=0)if((t=this[n]-e[n])!=0)return t;return 0}function M(e){var t=1,n;return(n=e>>>16)!=0&&(e=n,t+=16),(n=e>>8)!=0&&(e=n,t+=8),(n=e>>4)!=0&&(e=n,t+=4),(n=e>>2)!=0&&(e=n,t+=2),(n=e>>1)!=0&&(e=n,t+=1),t}function _(){return this.t<=0?0:this.DB*(this.t-1)+M(this[this.t-1]^this.s&this.DM)}function D(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function P(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function H(e,t){var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,s=Math.floor(e/this.DB),o=this.s<<n&this.DM,u;for(u=this.t-1;u>=0;--u)t[u+s+1]=this[u]>>r|o,o=(this[u]&i)<<n;for(u=s-1;u>=0;--u)t[u]=0;t[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function B(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var r=e%this.DB,i=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&s)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}function j(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r-=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function F(e,t){var n=this.abs(),r=e.abs(),i=n.t;t.t=i+r.t;while(--i>=0)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&h.ZERO.subTo(t,t)}function I(e){var t=this.abs(),n=e.t=2*t.t;while(--n>=0)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function q(e,t,n){var r=e.abs();if(r.t<=0)return;var i=this.abs();if(i.t<r.t){t!=null&&t.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=p());var s=p(),o=this.s,u=e.s,a=this.DB-M(r[r.t-1]);a>0?(r.lShiftTo(a,s),i.lShiftTo(a,n)):(r.copyTo(s),i.copyTo(n));var f=s.t,l=s[f-1];if(l==0)return;var c=l*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),d=this.FV/c,v=(1<<this.F1)/c,m=1<<this.F2,g=n.t,y=g-f,b=t==null?p():t;s.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),h.ONE.dlShiftTo(f,b),b.subTo(s,s);while(s.t<f)s[s.t++]=0;while(--y>=0){var w=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+m)*v);if((n[g]+=s.am(0,w,n,y,0,f))<w){s.dlShiftTo(y,b),n.subTo(b,n);while(n[g]<--w)n.subTo(b,n)}}t!=null&&(n.drShiftTo(f,t),o!=u&&h.ZERO.subTo(t,t)),n.t=f,n.clamp(),a>0&&n.rShiftTo(a,n),o<0&&h.ZERO.subTo(n,n)}function R(e){var t=p();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(h.ZERO)>0&&e.subTo(t,t),t}function U(e){this.m=e}function z(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function W(e){return e}function X(e){e.divRemTo(this.m,null,e)}function V(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function $(e,t){e.squareTo(t),this.reduce(t)}function J(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function K(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Q(e){var t=p();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(h.ZERO)>0&&this.m.subTo(t,t),t}function G(e){var t=p();return e.copyTo(t),this.reduce(t),t}function Y(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=e[t]&32767,r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);while(e[n]>=e.DV)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Z(e,t){e.squareTo(t),this.reduce(t)}function et(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function tt(){return(this.t>0?this[0]&1:this.s)==0}function nt(e,t){if(e>4294967295||e<1)return h.ONE;var n=p(),r=p(),i=t.convert(this),s=M(e)-1;i.copyTo(n);while(--s>=0){t.sqrTo(n,r);if((e&1<<s)>0)t.mulTo(r,i,n);else{var o=n;n=r,r=o}}return t.revert(n)}function rt(e,t){var n;return e<256||t.isEven()?n=new U(t):n=new K(t),this.exp(e,n)}function it(){var e=p();return this.copyTo(e),e}function st(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ot(){return this.t==0?this.s:this[0]<<24>>24}function ut(){return this.t==0?this.s:this[0]<<16>>16}function at(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function ft(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function lt(e){e==null&&(e=10);if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=T(n),i=p(),s=p(),o="";this.divRemTo(r,i,s);while(i.signum()>0)o=(n+s.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,s);return s.intValue().toString(e)+o}function ct(e,t){this.fromInt(0),t==null&&(t=10);var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,o=0;for(var u=0;u<e.length;++u){var a=E(e,u);if(a<0){e.charAt(u)=="-"&&this.signum()==0&&(i=!0);continue}o=t*o+a,++s>=n&&(this.dMultiply(r),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&h.ZERO.subTo(this,this)}function ht(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(h.ONE.shiftLeft(e-1),wt,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(t))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(h.ONE.shiftLeft(e-1),this)}else{var r=new Array,i=e&7;r.length=(e>>3)+1,t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function pt(){var e=this.t,t=new Array;t[0]=this.s;var n=this.DB-e*this.DB%8,r,i=0;if(e-->0){n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);while(e>=0){n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(r&128)!=0&&(r|=-256),i==0&&(this.s&128)!=(r&128)&&++i;if(i>0||r!=this.s)t[i++]=r}}return t}function dt(e){return this.compareTo(e)==0}function vt(e){return this.compareTo(e)<0?this:e}function mt(e){return this.compareTo(e)>0?this:e}function gt(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){i=e.s&this.DM;for(r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{i=this.s&this.DM;for(r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function yt(e,t){return e&t}function bt(e){var t=p();return this.bitwiseTo(e,yt,t),t}function wt(e,t){return e|t}function Et(e){var t=p();return this.bitwiseTo(e,wt,t),t}function St(e,t){return e^t}function xt(e){var t=p();return this.bitwiseTo(e,St,t),t}function Tt(e,t){return e&~t}function Nt(e){var t=p();return this.bitwiseTo(e,Tt,t),t}function Ct(){var e=p();for(var t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function kt(e){var t=p();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Lt(e){var t=p();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function At(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function Ot(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+At(this[e]);return this.s<0?this.t*this.DB:-1}function Mt(e){var t=0;while(e!=0)e&=e-1,++t;return t}function _t(){var e=0,t=this.s&this.DM;for(var n=0;n<this.t;++n)e+=Mt(this[n]^t);return e}function Dt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function Pt(e,t){var n=h.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function Ht(e){return this.changeBit(e,wt)}function Bt(e){return this.changeBit(e,Tt)}function jt(e){return this.changeBit(e,St)}function Ft(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r+=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function It(e){var t=p();return this.addTo(e,t),t}function qt(e){var t=p();return this.subTo(e,t),t}function Rt(e){var t=p();return this.multiplyTo(e,t),t}function Ut(){var e=p();return this.squareTo(e),e}function zt(e){var t=p();return this.divRemTo(e,t,null),t}function Wt(e){var t=p();return this.divRemTo(e,null,t),t}function Xt(e){var t=p(),n=p();return this.divRemTo(e,t,n),new Array(t,n)}function Vt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function $t(e,t){if(e==0)return;while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Jt(){}function Kt(e){return e}function Qt(e,t,n){e.multiplyTo(t,n)}function Gt(e,t){e.squareTo(t)}function Yt(e){return this.exp(e,new Jt)}function Zt(e,t,n){var r=Math.min(this.t+e.t,t);n.s=0,n.t=r;while(r>0)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function en(e,t,n){--t;var r=n.t=this.t+e.t-t;n.s=0;while(--r>=0)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function tn(e){this.r2=p(),this.q3=p(),h.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function nn(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=p();return e.copyTo(t),this.reduce(t),t}function rn(e){return e}function sn(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function on(e,t){e.squareTo(t),this.reduce(t)}function un(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function an(e,t){var n=e.bitLength(),r,i=T(1),s;if(n<=0)return i;n<18?r=1:n<48?r=3:n<144?r=4:n<768?r=5:r=6,n<8?s=new U(t):t.isEven()?s=new tn(t):s=new K(t);var o=new Array,u=3,a=r-1,f=(1<<r)-1;o[1]=s.convert(this);if(r>1){var l=p();s.sqrTo(o[1],l);while(u<=f)o[u]=p(),s.mulTo(l,o[u-2],o[u]),u+=2}var c=e.t-1,h,d=!0,v=p(),m;n=M(e[c])-1;while(c>=0){n>=a?h=e[c]>>n-a&f:(h=(e[c]&(1<<n+1)-1)<<a-n,c>0&&(h|=e[c-1]>>this.DB+n-a)),u=r;while((h&1)==0)h>>=1,--u;(n-=u)<0&&(n+=this.DB,--c);if(d)o[h].copyTo(i),d=!1;else{while(u>1)s.sqrTo(i,v),s.sqrTo(v,i),u-=2;u>0?s.sqrTo(i,v):(m=i,i=v,v=m),s.mulTo(v,o[h],i)}while(c>=0&&(e[c]&1<<n)==0)s.sqrTo(i,v),m=i,i=v,v=m,--n<0&&(n=this.DB-1,--c)}return s.revert(i)}function fn(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;i<s&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));while(t.signum()>0)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function ln(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(t==0)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function cn(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return h.ZERO;var n=e.clone(),r=this.clone(),i=T(1),s=T(0),o=T(0),u=T(1);while(n.signum()!=0){while(n.isEven()){n.rShiftTo(1,n);if(t){if(!i.isEven()||!s.isEven())i.addTo(this,i),s.subTo(e,s);i.rShiftTo(1,i)}else s.isEven()||s.subTo(e,s);s.rShiftTo(1,s)}while(r.isEven()){r.rShiftTo(1,r);if(t){if(!o.isEven()||!u.isEven())o.addTo(this,o),u.subTo(e,u);o.rShiftTo(1,o)}else u.isEven()||u.subTo(e,u);u.rShiftTo(1,u)}n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),s.subTo(u,s)):(r.subTo(n,r),t&&o.subTo(i,o),u.subTo(s,u))}return r.compareTo(h.ONE)!=0?h.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u}function dn(e){var t,n=this.abs();if(n.t==1&&n[0]<=hn[hn.length-1]){for(t=0;t<hn.length;++t)if(n[0]==hn[t])return!0;return!1}if(n.isEven())return!1;t=1;while(t<hn.length){var r=hn[t],i=t+1;while(i<hn.length&&r<pn)r*=hn[i++];r=n.modInt(r);while(t<i)if(r%hn[t++]==0)return!1}return n.millerRabin(e)}function vn(e){var t=this.subtract(h.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);e=e+1>>1,e>hn.length&&(e=hn.length);var i=p();for(var s=0;s<e;++s){i.fromInt(hn[Math.floor(Math.random()*hn.length)]);var o=i.modPow(r,this);if(o.compareTo(h.ONE)!=0&&o.compareTo(t)!=0){var u=1;while(u++<n&&o.compareTo(t)!=0){o=o.modPowInt(2,this);if(o.compareTo(h.ONE)==0)return!1}if(o.compareTo(t)!=0)return!1}}return!0}function mn(){this.i=0,this.j=0,this.S=new Array}function gn(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;n=0;for(t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function yn(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function bn(){return new mn}function Tn(e){Sn[xn++]^=e&255,Sn[xn++]^=e>>8&255,Sn[xn++]^=e>>16&255,Sn[xn++]^=e>>24&255,xn>=wn&&(xn-=wn)}function Nn(){Tn((new Date).getTime())}function kn(){if(En==null){Nn(),En=bn(),En.init(Sn);for(xn=0;xn<Sn.length;++xn)Sn[xn]=0;xn=0}return En.next()}function Ln(e){var t;for(t=0;t<e.length;++t)e[t]=kn()}function An(){}function On(e,t){return new h(e,t)}function Mn(e,t){var n="",r=0;while(r+t<e.length)n+=e.substring(r,r+t)+"\n",r+=t;return n+e.substring(r,e.length)}function _n(e){return e<16?"0"+e.toString(16):e.toString(16)}function Dn(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;var n=new Array,r=e.length-1;while(r>=0&&t>0){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=i&63|128,n[--t]=i>>6|192):(n[--t]=i&63|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;var s=new An,o=new Array;while(t>2){o[0]=0;while(o[0]==0)s.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new h(n)}function Pn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Hn(e,t){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=On(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function Bn(e){return e.modPowInt(this.e,this.n)}function jn(e){var t=Dn(e,this.n.bitLength()+7>>3);if(t==null)return null;var n=this.doPublic(t);if(n==null)return null;var r=n.toString(16);return(r.length&1)==0?r:"0"+r}function Fn(e,t){var n=e.toByteArray(),r=0;while(r<n.length&&n[r]==0)++r;if(n.length-r!=t-1||n[r]!=2)return null;++r;while(n[r]!=0)if(++r>=n.length)return null;var i="";while(++r<n.length){var s=n[r]&255;s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((s&31)<<6|n[r+1]&63),++r):(i+=String.fromCharCode((s&15)<<12|(n[r+1]&63)<<6|n[r+2]&63),r+=2)}return i}function In(e,t,n){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=On(e,16),this.e=parseInt(t,16),this.d=On(n,16)):alert("Invalid RSA private key")}function qn(e,t,n,r,i,s,o,u){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=On(e,16),this.e=parseInt(t,16),this.d=On(n,16),this.p=On(r,16),this.q=On(i,16),this.dmp1=On(s,16),this.dmq1=On(o,16),this.coeff=On(u,16)):alert("Invalid RSA private key")}function Rn(e,t){var n=new An,r=e>>1;this.e=parseInt(t,16);var i=new h(t,16);for(;;){for(;;){this.p=new h(e-r,1,n);if(this.p.subtract(h.ONE).gcd(i).compareTo(h.ONE)==0&&this.p.isProbablePrime(10))break}for(;;){this.q=new h(r,1,n);if(this.q.subtract(h.ONE).gcd(i).compareTo(h.ONE)==0&&this.q.isProbablePrime(10))break}if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(h.ONE),u=this.q.subtract(h.ONE),a=o.multiply(u);if(a.gcd(i).compareTo(h.ONE)==0){this.n=this.p.multiply(this.q),this.d=i.modInverse(a),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}}function Un(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(n)<0)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function zn(e){var t=On(e,16),n=this.doPrivate(t);return n==null?null:Fn(n,this.n.bitLength()+7>>3)}function Vn(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=Wn.charAt(n>>6)+Wn.charAt(n&63);t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=Wn.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=Wn.charAt(n>>2)+Wn.charAt((n&3)<<4));while((r.length&3)>0)r+=Xn;return r}function $n(e){var t="",n,r=0,i;for(n=0;n<e.length;++n){if(e.charAt(n)==Xn)break;v=Wn.indexOf(e.charAt(n));if(v<0)continue;r==0?(t+=w(v>>2),i=v&3,r=1):r==1?(t+=w(i<<2|v>>4),i=v&15,r=2):r==2?(t+=w(i),t+=w(v>>2),i=v&3,r=3):(t+=w(i<<2|v>>4),t+=w(v&15),r=0)}return r==1&&(t+=w(i<<2)),t}function Jn(e){var t=$n(e),n,r=new Array;for(n=0;2*n<t.length;++n)r[n]=parseInt(t.substring(2*n,2*n+2),16);return r}var e={},t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(e,t){var r=n.indexOf(e.charAt(t));if(r===-1)throw new Error;return r},i=function(e){e=""+e;var n,i,s,o=e.length;if(o===0)return e;if(o%4!==0)throw new Error;n=0,e.charAt(o-1)===t&&(n=1,e.charAt(o-2)===t&&(n=2),o-=4);var u=[];for(i=0;i<o;i+=4)s=r(e,i)<<18|r(e,i+1)<<12|r(e,i+2)<<6|r(e,i+3),u.push(String.fromCharCode(s>>16,s>>8&255,s&255));switch(n){case 1:s=r(e,i)<<18|r(e,i+1)<<12|r(e,i+2)<<6,u.push(String.fromCharCode(s>>16,s>>8&255));break;case 2:s=r(e,i)<<18|r(e,i+1)<<12,u.push(String.fromCharCode(s>>16))}return u.join("")},s=function(e,t){var n=e.charCodeAt(t);if(n>255)throw new Error;return n},o=function(e){if(arguments.length!==1)throw new SyntaxError("Not enough arguments");var r=t,i=n,o,u,a=[];e=""+e;var f=e.length-e.length%3;if(e.length===0)return e;for(o=0;o<f;o+=3)u=s(e,o)<<16|s(e,o+1)<<8|s(e,o+2),a.push(i.charAt(u>>18)),a.push(i.charAt(u>>12&63)),a.push(i.charAt(u>>6&63)),a.push(i.charAt(u&63));switch(e.length-f){case 1:u=s(e,o)<<16,a.push(i.charAt(u>>18)+i.charAt(u>>12&63)+r+r);break;case 2:u=s(e,o)<<16|s(e,o+1)<<8,a.push(i.charAt(u>>18)+i.charAt(u>>12&63)+i.charAt(u>>6&63)+r)}return a.join("")},u=i,a=o,f,l=0xdeadbeefcafe,c=(l&16777215)==15715070;h.prototype.am=function(e,t,n,r,i,s){var o=t&16383,u=t>>14;while(--s>=0){var a=this[e]&16383,f=this[e++]>>14,l=u*a+f*o;a=o*a+((l&16383)<<14)+n[r]+i,i=(a>>28)+(l>>14)+u*f,n[r++]=a&268435455}return i},f=28,h.prototype.DB=f,h.prototype.DM=(1<<f)-1,h.prototype.DV=1<<f;var d=52;h.prototype.FV=Math.pow(2,d),h.prototype.F1=d-f,h.prototype.F2=2*f-d;var m="0123456789abcdefghijklmnopqrstuvwxyz",g=new Array,y,b;y="0".charCodeAt(0);for(b=0;b<=9;++b)g[y++]=b;y="a".charCodeAt(0);for(b=10;b<36;++b)g[y++]=b;y="A".charCodeAt(0);for(b=10;b<36;++b)g[y++]=b;U.prototype.convert=z,U.prototype.revert=W,U.prototype.reduce=X,U.prototype.mulTo=V,U.prototype.sqrTo=$,K.prototype.convert=Q,K.prototype.revert=G,K.prototype.reduce=Y,K.prototype.mulTo=et,K.prototype.sqrTo=Z,h.prototype.copyTo=S,h.prototype.fromInt=x,h.prototype.fromString=N,h.prototype.clamp=C,h.prototype.dlShiftTo=D,h.prototype.drShiftTo=P,h.prototype.lShiftTo=H,h.prototype.rShiftTo=B,h.prototype.subTo=j,h.prototype.multiplyTo=F,h.prototype.squareTo=I,h.prototype.divRemTo=q,h.prototype.invDigit=J,h.prototype.isEven=tt,h.prototype.exp=nt,h.prototype.toString=k,h.prototype.negate=L,h.prototype.abs=A,h.prototype.compareTo=O,h.prototype.bitLength=_,h.prototype.mod=R,h.prototype.modPowInt=rt,h.ZERO=T(0),h.ONE=T(1),Jt.prototype.convert=Kt,Jt.prototype.revert=Kt,Jt.prototype.mulTo=Qt,Jt.prototype.sqrTo=Gt,tn.prototype.convert=nn,tn.prototype.revert=rn,tn.prototype.reduce=sn,tn.prototype.mulTo=un,tn.prototype.sqrTo=on;var hn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],pn=(1<<26)/hn[hn.length-1];h.prototype.chunkSize=at,h.prototype.toRadix=lt,h.prototype.fromRadix=ct,h.prototype.fromNumber=ht,h.prototype.bitwiseTo=gt,h.prototype.changeBit=Pt,h.prototype.addTo=Ft,h.prototype.dMultiply=Vt,h.prototype.dAddOffset=$t,h.prototype.multiplyLowerTo=Zt,h.prototype.multiplyUpperTo=en,h.prototype.modInt=ln,h.prototype.millerRabin=vn,h.prototype.clone=it,h.prototype.intValue=st,h.prototype.byteValue=ot,h.prototype.shortValue=ut,h.prototype.signum=ft,h.prototype.toByteArray=pt,h.prototype.equals=dt,h.prototype.min=vt,h.prototype.max=mt,h.prototype.and=bt,h.prototype.or=Et,h.prototype.xor=xt,h.prototype.andNot=Nt,h.prototype.not=Ct,h.prototype.shiftLeft=kt,h.prototype.shiftRight=Lt,h.prototype.getLowestSetBit=Ot,h.prototype.bitCount=_t,h.prototype.testBit=Dt,h.prototype.setBit=Ht,h.prototype.clearBit=Bt,h.prototype.flipBit=jt,h.prototype.add=It,h.prototype.subtract=qt,h.prototype.multiply=Rt,h.prototype.divide=zt,h.prototype.remainder=Wt,h.prototype.divideAndRemainder=Xt,h.prototype.modPow=an,h.prototype.modInverse=cn,h.prototype.pow=Yt,h.prototype.gcd=fn,h.prototype.isProbablePrime=dn,h.prototype.square=Ut,mn.prototype.init=gn,mn.prototype.next=yn;var wn=256,En,Sn,xn;if(Sn==null){Sn=new Array,xn=0;var Cn;while(xn<wn)Cn=Math.floor(65536*Math.random()),Sn[xn++]=Cn>>>8,Sn[xn++]=Cn&255;xn=0,Nn()}An.prototype.nextBytes=Ln,Pn.prototype.doPublic=Bn,Pn.prototype.setPublic=Hn,Pn.prototype.encrypt=jn,Pn.prototype.doPrivate=Un,Pn.prototype.setPrivate=In,Pn.prototype.setPrivateEx=qn,Pn.prototype.generate=Rn,Pn.prototype.decrypt=zn;var Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xn="=";Pn.prototype.parseKey=function(e){e=this.prepareKey(e);var t=this.structure(),n=0,r=null,i=null,s=0;for(var o in t)r=t[o],r.hasOwnProperty("offset")&&(n+=r.offset*2),s=typeof r.length=="string"?this[r.length]:r.length,s*=2,i=e.substr(n,s),r.hasOwnProperty("type")&&(r.type=="int"?i=parseInt(i,16):r.type=="bigint"&&(i=On(i,16))),n+=s,this[o]=i},Pn.prototype.char64ToHex=function(e){var t="";e=u(e);for(var n=0;n<e.length;++n){var r=e.charCodeAt(n).toString(16);r.length===1&&(r="0"+r),t+=r}return t},Pn.prototype.prepareKey=function(e){e=e.replace(/^\s+|\s+$/g,"");var t=e.split(/\r?\n/);return t[0].substring(0,10)=="-----BEGIN"&&(t=t.slice(1,t.length-1)),e=t.join(""),this.char64ToHex(e)},Pn.prototype.getBaseKey=function(){var e="",t=this.structure(),n=null,r=null,i=0;for(var s in t)n=t[s],n.variable&&(r=this[s].toString(16),!(r.length%2)||(r="0"+r),n.hasOwnProperty("padded")&&n.padded&&(r="00"+r),i=r.length/2,i=i.toString(16),!(i.length%2)||(i="0"+i),n.hasOwnProperty("extraspace")&&(e+=i),e+=i,e+=r,e+="02");return e.slice(0,-2)},Pn.prototype.wordwrap=function(e,t){t=t||64;if(!e)return e;var n="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},Pn.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.getBaseKey(),e+=this.wordwrap(Vn(t))+"\n",e+="-----END RSA PRIVATE KEY-----",e},Pn.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.getBaseKey(),e+=this.wordwrap(Vn(t))+"\n",e+="-----END PUBLIC KEY-----",e};var Kn=function(e){Pn.call(this),e&&this.parseKey(e)};Kn.prototype=new Pn,Kn.prototype.constructor=Kn,Kn.prototype.structure=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",variable:!0,padded:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",variable:!0,padded:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",variable:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",variable:!0,padded:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",variable:!0,padded:!0}}};var Qn=function(e){Pn.call(this),e&&(typeof e=="string"?this.parseKey(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))};Qn.prototype=new Pn,Qn.prototype.constructor=Qn,Qn.prototype.structure=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0}}};var Gn=function(){this.privkey=null,this.pubkey=null};return Gn.prototype.setPrivateKey=function(e){this.privkey=new Kn(e),this.pubkey=new Qn(this.privkey)},Gn.prototype.setPublicKey=function(e){this.pubkey=new Qn(e)},Gn.prototype.decrypt=function(e){return this.privkey?this.privkey.decrypt($n(e)):!1},Gn.prototype.encrypt=function(e){var t=this.pubkey||this.privkey;return t?Vn(t.encrypt(e)):!1},Gn.prototype.getPrivateKey=function(){return this.privkey||(this.privkey=new Kn,this.privkey.generate(1024,"010001"),this.pubkey=new Qn(this.privkey)),this.privkey.getPrivateKey()},Gn.prototype.getPublicKey=function(){return this.pubkey||(this.pubkey=new Qn,this.pubkey.generate(1024,"010001")),this.pubkey.getPublicKey()},function(e){var t=new Gn;return t.setPublicKey(Constants.RSA_PUBLIC_KEY),t.encrypt(e)}}(),n={uid:
function(){var e=1;return function(){return+(new Date)+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t=arguments.length,n;e=e||{};for(var r=1;r<t;r++){n=arguments[r];if(!n)continue;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},getString:function(e,t){var n=String(e);return e==null?t||"na":n},getLong:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getBoolean:function(e,t){var n=String(e).toLowerCase()=="true";return e==null?t||!1:n},isNotEmpty:function(e){return typeof e!="undefined"&&e!=null&&typeof e.length!="undefined"&&e.length>0},indexOf:function(e,t){var r=-1;return n.forEach(t,function(t,n){t==e&&(r=n)}),r},forEach:function(e,t,n){try{if(typeof t=="function"){n=typeof n!="undefined"?n:null;if(typeof e["length"]!="number"||typeof e[0]=="undefined"){var r=typeof e.__proto__!="undefined";for(var i in e)(!r||r&&typeof e.__proto__[i]=="undefined")&&typeof e[i]!="function"&&t.call(n,e[i],i)}else for(var i=0,s=e.length;i<s;i++)t.call(n,e[i],i)}}catch(o){}},regionMatches:function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;while(--i>=0){var s=e.charAt(t++),o=n.charAt(r++);if(s!=o)return!1}return!0},size:function(e){var t=0,n;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(typeof t!="undefined"&&t){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return typeof e=="undefined"?!1:typeof e=="string"?(e=e.toLowerCase(),e==="true"||e==="1"||e==="on"):e?!0:!1},toString:function(e){if(typeof e=="undefined")return"undefined";if(typeof e=="string")return e;if(Object.prototype.toString.call(e)==="[object Array]")return e.join(",");if(n.size(e)>0){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+":"+e[r]+";");return t}return e.toString()},exists:function(e){return typeof e!="undefined"&&e!=null},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},safeGet:function(e,t){return t=n.exists(t)?t:"",n.exists(e)?e:t},md5:e,encrypt:t,getBrowserName:function(){var e=navigator.userAgent,t=navigator.appName,n,r,i;return(r=e.indexOf("Opera"))!=-1?t="Opera":(r=e.indexOf("MSIE"))!=-1?t="Internet Explorer":(r=e.indexOf("Android"))!=-1?t="Android":(r=e.indexOf("Chrome"))!=-1?t="Chrome":(r=e.indexOf("Safari"))!=-1?t="Safari":(r=e.indexOf("Firefox"))!=-1?t="Firefox":(r=e.indexOf("Windows NT"))!=-1?t="Internet Explorer":(n=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))&&(t=e.substring(n,r),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),t},getBrowserFullVersion:function(){var e=navigator.userAgent,t=""+parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10),r,i,s;return(i=e.indexOf("Opera"))!=-1?(t=e.substring(i+6),(i=e.indexOf("Version"))!=-1&&(t=e.substring(i+8))):(i=e.indexOf("MSIE"))!=-1?t=e.substring(i+5):(i=e.indexOf("Android"))!=-1?t=e.substring(i+8):(i=e.indexOf("Chrome"))!=-1?t=e.substring(i+7):(i=e.indexOf("Safari"))!=-1?(t=e.substring(i+7),(i=e.indexOf("Version"))!=-1&&(t=e.substring(i+8))):(i=e.indexOf("Firefox"))!=-1?t=e.substring(i+8):(i=e.indexOf("Windows NT"))!=-1?(i=e.indexOf("rv:"),t=e.substring(i+3)):(r=e.lastIndexOf(" ")+1)<(i=e.lastIndexOf("/"))&&(t=e.substring(i+1)),(s=t.indexOf(";"))!=-1&&(t=t.substring(0,s)),(s=t.indexOf(" "))!=-1&&(t=t.substring(0,s)),(s=t.indexOf(")"))!=-1&&(t=t.substring(0,s)),n=parseInt(""+t,10),isNaN(n)&&(t=""+parseFloat(navigator.appVersion)),t}};return n}(),t=function(){var t="cs_",n=function(){var n=this,r=typeof localStorage!="undefined"?localStorage:{};e.extend(this,{get:function(e){return r[t+e]},set:function(e,n){r[t+e]=n},has:function(e){return t+e in r},remove:function(e){delete r[t+e]},clear:function(){for(var e in r)r.hasOwnProperty(e)&&delete r[e]}})};return n}(),n=function(e,t){var n=new Image;n.onload=function(){t&&t(200)},n.onerror=function(){t&&t()},n.src=e},r=function(e,t){t&&setTimeout(t,0)},i=function(e,t,n){n&&setTimeout(n,0)},s=function(){return{dir:function(e){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(e,t){return!1},read:function(e,t){return null}}}(),o=function(e,t){typeof engine!="undefined"&&t&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest("GET",e,null);r.start(),t&&setTimeout(t,0)},u=function(){var e={PLATFORM:"generic",httpGet:n,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(e){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},isCrossPublisherIdChanged:function(){return!1}};return e}(),a=function(){function f(){return typeof engine!="undefined"&&typeof engine.stats!="undefined"}function l(){return e.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:e.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function c(){if(r==null){var e=l();e!=null?(r=e,u="31",a=e):(r=+(new Date)+~~(Math.random()*1e3),u="72",a=null)}}var n=this,r=null,u=null,a=null;return{PLATFORM:"trilithium",httpGet:o,httpPost:i,Storage:t,IO:s,getCrossPublisherId:function(){return c(),a},getAppName:function(){return e.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(t){return e.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return c(),r},getVisitorIdSuffix:function(){return u},getDeviceName:function(){return e.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return e.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return typeof screen!="undefined"&&typeof screen.height!="undefined"&&typeof screen.width!="undefined"?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:f}}();u.autoSelect=function(){a.isCompatible()&&e.extend(u,a)};var f=typeof window!="undefined"&&typeof document!="undefined",l,c;f?(l=window,c=document):(l={},c={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var e=e||{};e.filterMap=function(t,n){for(var r in t)e.indexOf(r,n)==-1&&delete t[r]},e.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var d=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),m=function(){var e=[d.END,d.PLAY,d.PAUSE,d.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),g={ADPLAY:d.AD_PLAY,ADPAUSE:d.AD_PAUSE,ADEND:d.AD_END,ADCLICK:d.AD_CLICK},y={STREAMSENSE_VERSION:"4.1410.01",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",LABELS_ORDER:["c1","c2","ns_site","ns_vsite","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","name","ns_ak","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_type","ns_radio","ns_nc","ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ns_st_pe","ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ct","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","c3","c4","c5","c6","c10","c11","c12","c13","c14","c15","c16","c7","c8","c9"]},b=function(){var t=function(){function l(e,t){var n=t[e];n!=null&&(f[e]=n)}var t=this,n=0,r=0,i=0,s=0,o=0,u=0,a,f;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},f.hasOwnProperty("ns_st_cl")||(f.ns_st_cl="0"),f.hasOwnProperty("ns_st_pn")||(f.ns_st_pn="1"),f.hasOwnProperty("ns_st_tp")||(f.ns_st_tp="1"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClipId:function(){return(typeof a=="undefined"||a==null)&&t.setClipId("1"),a},setClipId:function(e){a=e},setRegisters:function(e,s){var u=e.ns_st_cn;u!=null&&(t.setClipId(u),delete e.ns_st_cn),u=e.ns_st_bt,u!=null&&(i=Number(u),delete e.ns_st_bt),l("ns_st_cl",e),l("ns_st_pn",e),l("ns_st_tp",e),l("ns_st_ub",e),l("ns_st_br",e);if(s==m.PLAYING||s==null)u=e.ns_st_sq,u!=null&&(r=Number(u),delete e.ns_st_sq);s!=m.BUFFERING&&(u=e.ns_st_pt,u!=null&&(o=Number(u),delete e.ns_st_pt));if(s==m.PAUSED||s==m.IDLE||s==null)u=e.ns_st_pc,u!=null&&(n=Number(u),delete e.ns_st_pc)},createLabels:function(i,s){var o=s||{};o.ns_st_cn=t.getClipId(),o.ns_st_bt=String(t.getBufferingTime());if(i==d.PLAY||i==null)o.ns_st_sq=String(r);if(i==d.PAUSE||i==d.END||i==d.KEEP_ALIVE||i==d.HEART_BEAT||i==null)o.ns_st_pt=String(t.getPlaybackTime()),o.ns_st_pc=String(n);return e.extend(o,t.getLabels()),o},incrementPauses:function(){n++},incrementStarts:function(){r++},getBufferingTime:function(){var e=i;return s>=0&&(e+=+(new Date)-s),e},setBufferingTime:function(e){i=e},getPlaybackTime:function(){var e=o;return u>=0&&(e+=+(new Date)-u),e},setPlaybackTime:function(e){o=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return n},setPauses:function(e){n=e},getStarts:function(){return r},setStarts:function(e){r=e}}),f={},t.reset()};return t}(),w=function(){var t=function(){var t=this,n=null,r,i=0,s=0,o=0,u=0,a=0,f,l=0,c=!1;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},t.setPlaylistId(+(new Date)+"_"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),c=!1},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClip:function(){return n},getPlaylistId:function(){return r},setPlaylistId:function(e){r=e},setRegisters:function(e,t){var n=e.ns_st_sp;n!=null&&(i=Number(n),delete e.ns_st_sp),n=e.ns_st_bc,n!=null&&(o=Number(n),delete e.ns_st_bc),n=e.ns_st_bp,n!=null&&(u=Number(n),delete e.ns_st_bp),n=e.ns_st_id,n!=null&&(r=n,delete e.ns_st_id),t!=m.BUFFERING&&(n=e.ns_st_pa,n!=null&&(a=Number(n),delete e.ns_st_pa));if(t==m.PAUSED||t==m.IDLE||t==null)n=e.ns_st_pp,n!=null&&(s=Number(n),delete e.ns_st_pp)},createLabels:function(n,u){var a=u||{};a.ns_st_bp=String(t.getBufferingTime()),a.ns_st_sp=String(i),a.ns_st_id=String(r),o>0&&(a.ns_st_bc=String(o));if(n==d.PAUSE||n==d.END||n==d.KEEP_ALIVE||n==d.HEART_BEAT||n==null)a.ns_st_pa=String(t.getPlaybackTime()),a.ns_st_pp=String(s);if(n==d.PLAY||n==null)t.didFirstPlayOccurred()||(a.ns_st_pb="1",t.setFirstPlayOccurred(!0));return e.extend(a,t.getLabels()),a},incrementStarts:function(){i++},incrementPauses:function(){s++,n.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var r=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+r),t.setPlaybackTime(t.getPlaybackTime()+r)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var r=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+r),t.setBufferingTime(t.getBufferingTime()+r)}},getBufferingTime:function(){var e=u;return n.getBufferingTimestamp()>=0&&(e+=+(new Date)-n.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=a;return n.getPlaybackTimestamp()>=0&&(e+=+(new Date)-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){a=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return s},setPauses:function(e){s=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return c},setFirstPlayOccurred:function(e){c=e}}),n=new b,f={},t.reset()};return t}(),E=function(){var t=function(t,n){function q(e){var t=0;if(k!=null)for(var n=0;n<k.length;n++){var r=k[n],i=r.playingtime;if(!i||e<i){t=r.interval;break}}return t}function R(){X();var e=q(b.getClip().getPlaybackTime());if(e>0){var t=O>0?O:e;C=setTimeout(W,t)}O=0}function U(){X();var e=q(b.getClip().getPlaybackTime());O=e-b.getClip().getPlaybackTime()%e,C!=null&&X()}function z(){O=0,_=0,M=0}function W(){M++;var e=mt(d.HEART_BEAT,null);rt(e),O=0,R()}function X(){C!=null&&(clearTimeout(C),C=null)}function V(){J(),N=setTimeout($,L)}function $(){var e=mt(d.KEEP_ALIVE,null);rt(e),g++,V()}function J(){N!=null&&(clearTimeout(N),N=null)}function K(){G(),r.isPauseOnBufferingEnabled()&&at(m.PAUSED)&&(x=setTimeout(Q,A))}function Q(){if(P==m.PLAYING){b.incrementRebufferCount(),b.incrementPauses();var e=mt(d.PAUSE,null);rt(e),g++,P=m.PAUSED}}function G(){x!=null&&(clearTimeout(x),x=null)}function Y(e){return e==m.PLAYING||e==m.PAUSED}function Z(){l&&(clearTimeout(l),l=null)}function et(e){return e==d.PLAY?m.PLAYING:e==d.PAUSE?m.PAUSED:e==d.BUFFER?m.BUFFERING:e==d.END?m.IDLE:null}function tt(t,n,r){Z();if(r)l=setTimeout(function(e,t){return function(){tt(e,t)}}(t,n),r);else if(ct(t)){var i=pt(),s=a,o=lt(n),u=s>=0?o-s:0;ot(pt(),n),ut(t,n),dt(pt()),ht(t);for(var f=0,c=F.length;f<c;f++)F[f](i,t,n,u);nt(n),b.setRegisters(n,t),b.getClip().setRegisters(n,t);var h=mt(m.toEventType(t),n);e.extend(h,n),at(v)&&(rt(h),P=v,g++)}}function nt(e){var t=e.ns_st_mp;t!=null&&(H=t,delete e.ns_st_mp),t=e.ns_st_mv,t!=null&&(B=t,delete e.ns_st_mv),t=e.ns_st_ec,t!=null&&(g=Number(t),delete e.ns_st_ec)}function rt(e,t){t===undefined&&(t=!0),t&&st(e);var n=r.getPixelURL();if(E){if(!it()){var i=I.am,s=I.et,o=i.newApplicationMeasurement(E,s.HIDDEN,e,n);E.getQueue().offer(o)}}else n&&u.httpGet(p(n,e))}function it(){var e=E.getAppContext(),t=E.getSalt(),n=E.getPixelURL();return e==null||t==null||t.length==0||n==null||n.length==0}function st(t){j=mt(null),e.extend(j,t)}function ot(t,n){var r=lt(n);if(t==m.PLAYING)b.addPlaybackTime(r),U(),J();else if(t==m.BUFFERING)b.addBufferingTime(r),G();else if(t==m.IDLE){var i=e.getKeys(b.getClip().getLabels());b.getClip().reset(i)}}function ut(e,t){var n=lt(t),r=ft(t);f=r,e==m.PLAYING?(R(),V(),b.getClip().setPlaybackTimestamp(n),at(e)&&(b.getClip().incrementStarts(),b.getStarts()<1&&b.setStarts(1))):e==m.PAUSED?at(e)&&b.incrementPauses():e==m.BUFFERING?(b.getClip().setBufferingTimestamp(n),T&&K()):e==m.IDLE&&z()}function at(e){return e!=m.PAUSED&&e!=m.IDLE||P!=m.IDLE&&P!=null?e!=m.BUFFERING&&P!=e:!1}function ft(t){var n=-1;return t.hasOwnProperty("ns_st_po")&&(n=e.getInteger(t.ns_st_po)),n}function lt(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function ct(e){return e!=null&&pt()!=e}function ht(e){v=e,a=+(new Date)}function pt(){return v}function dt(e){c=e}function vt(){return c}function mt(){var t,n;arguments.length==1?(t=m.toEventType(v),n=arguments[0]):(t=arguments[0],n=arguments[1]);var i={};if(typeof document!="undefined"){var s=document;i.c7=s.URL,i.c8=s.title,i.c9=s.referrer}return n!=null&&e.extend(i,n),i.hasOwnProperty("ns_ts")||(i.ns_ts=String(+(new Date))),t!=null&&!i.hasOwnProperty("ns_st_ev")&&(i.ns_st_ev=d.toString(t)),r.isPersistentLabelsShared()&&E&&e.extend(i,E.getLabels()),e.extend(i,r.getLabels()),gt(t,i),b.createLabels(t,i),b.getClip().createLabels(t,i),i.hasOwnProperty("ns_st_mp")||(i.ns_st_mp=H),i.hasOwnProperty("ns_st_mv")||(i.ns_st_mv=B),i.hasOwnProperty("ns_st_ub")||(i.ns_st_ub="0"),i.hasOwnProperty("ns_st_br")||(i.ns_st_br="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),i.hasOwnProperty("ns_st_it")||(i.ns_st_it="c"),i.ns_st_sv=y.STREAMSENSE_VERSION,i.ns_type="hidden",i}function gt(t,n){var r=n||{};r.ns_st_ec=String(g);if(!r.hasOwnProperty("ns_st_po")){var i=f,s=lt(r);if(t==d.PLAY||t==d.KEEP_ALIVE||t==d.HEART_BEAT||t==null&&v==m.PLAYING)i+=s-b.getClip().getPlaybackTimestamp();r.ns_st_po=e.getInteger(i)}return t==d.HEART_BEAT&&(r.ns_st_hc=String(M)),r}function yt(e){var t=lt(e);t<0&&(e.ns_ts=String(+(new Date)))}function bt(e,t,n){t=t||{},t.ns_st_ad=1,e>=d.AD_PLAY&&e<=d.AD_CLICK&&r.notify(e,t,n)}function wt(e,t){r.notify(d.CUSTOM,e,t)}var r=this,i=500,s,o=null,a=0,f=0,l,c,v,g=0,b=null,E,S=!0,x,T=!0,N,C,k=y.DEFAULT_HEARTBEAT_INTERVAL,L=y.DEFAULT_KEEP_ALIVE_INTERVAL,A=y.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,O=0,M=0,_=0,D=!1,P,H,B,j,F,I={};u.autoSelect(),e.extend(this,{reset:function(t){b.reset(t),b.setPlaylistCounter(0),b.setPlaylistId(+(new Date)+"_1"),b.getClip().reset(t),t!=null&&!t.isEmpty()?e.filterMap(s,t):s={},g=1,M=0,U(),z(),J(),G(),Z(),v=m.IDLE,c=null,a=-1,P=null,H=y.DEFAULT_PLAYERNAME,B=y.STREAMSENSE_VERSION,j=null},setPauseOnBufferingInterval:function(e){A=e},getPauseOnBufferingInterval:function(){return A},setKeepAliveInterval:function(e){L=e},getKeepAliveInterval:function(){return L},setHeartbeatIntervals:function(e){k=e},notify:function(){var t,n,s,o;n=arguments[0],arguments.length==3?(s=arguments[1],o=arguments[2]):(s={},o=arguments[1]),t=et(n);var u=e.extend({},s);yt(u),u.hasOwnProperty("ns_st_po")||(u.ns_st_po=e.getInteger(o).toString());if(n==d.PLAY||n==d.PAUSE||n==d.BUFFER||n==d.END)r.isPausePlaySwitchDelayEnabled()&&Y(v)&&Y(t)&&(v!=m.PLAYING||t!=m.PAUSED||!!l)?tt(t,u,i):tt(t,u);else{var a=mt(n,u);e.extend(a,u),rt(a,!1),g++}},getLabels:function(){return s},getState:function(){return v},setLabels:function(t){t!=null&&(s==null?s=t:e.extend(s,t))},getLabel:function(e){return s[e]},setLabel:function(e,t){t==null?delete s[e]:s[e]=t},setPixelURL:function(e){if(e==null||e.length==0)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){var i=e.substring(n+1).split("&");for(var s=0,u=i.length;s<u;s++){var a=i[s],f=a.split("=");f.length==2?r.setLabel(f[0],t(f[1])):f.length==1&&r.setLabel(y.PAGE_NAME_LABEL,t(f[0]))}e=e.substring(0,n+1)}}else e+="?";return o=e,o},getPixelURL:function(){return o?o:typeof ns_p!="undefined"&&typeof ns_p.src=="string"?o=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):typeof ns_pixelUrl=="string"?o=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPersistentLabelsShared:function(){return S},setPersistentLabelsShared:function(e){S=e},isPauseOnBufferingEnabled:function(){return T},setPauseOnBufferingEnabled:function(e){T=e},isPausePlaySwitchDelayEnabled:function(){return D},setPausePlaySwitchDelayEnabled:function(e){D=e},setPausePlaySwitchDelay:function(e){e&&e>0&&(i=e)},getPausePlaySwitchDelay:function(){return i},setClip:function(e,t){var n=!1;return v==m.IDLE&&(b.getClip().reset(),b.getClip().setLabels(e,null),t&&b.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return v==m.IDLE&&(b.incrementPlaylistCounter(),b.reset(),b.getClip().reset(),b.setLabels(e,null),t=!0),t},importState:function(t){reset();var n=e.extend({},t);b.setRegisters(n,null),b.getClip().setRegisters(n,null),nt(n),g++},exportState:function(){return j},getVersion:function(){return y.STREAMSENSE_VERSION},addListener:function(e){F.push(e)},removeListener:function(t){F.splice(e.indexOf(t,F),1)},getClip:function(){return b.getClip()},getPlaylist:function(){return b}}),e.extend(this,{adNotify:bt,customNotify:wt,viewNotify:function(e,t){e=e||r.getPixelURL(),e&&h(e,t)}}),ns_.comScore&&(I=ns_.comScore.exports,E=I.c()),s={},g=1,v=m.IDLE,b=new w,x=null,T=!0,C=null,M=0,z(),N=null,l=null,D=!1,P=null,f=0,F=[],r.reset(),t&&r.setLabels(t),n&&r.setPixelURL(n)};return function(t){function s(e,t){return n[i]||u(e,t)}function o(){i=-1;for(var e=0;e<=r;e++)if(n.hasOwnProperty(e)){i=e;break}return ns_.StreamSense.activeIndex=i,i}function u(e,t){return e=e||null,t=t||null,e&&typeof e=="object"&&(t=e,e=null),n[++r]=new ns_.StreamSense(t,e),o(),n[r]}function a(){var e=!1,t=i;if(typeof arguments[0]=="number"&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var r in n)if(n[r]===arguments[0]){t=r;break}return n.hasOwnProperty(t)&&(e=n[t],delete n[t],e.reset(),o()),e}function f(e){return e=e||{},s().setPlaylist(e),s().getPlaylist()}function l(e,t,n){return e=e||{},typeof t=="number"&&(e.ns_st_cn=t),s().setClip(e,n),s().getClip()}function c(e,t,n){return typeof e=="undefined"?!1:(n=n||null,t=t||{},s().notify(e,t,n))}function h(e){typeof e!="undefined"&&s().setLabels(e)}function p(){return s().getLabels()}function d(e){typeof e!="undefined"&&s().getPlaylist().setLabels(e)}function v(){return s().getPlaylist().getLabels()}function m(e){typeof e!="undefined"&&s().getClip().setLabels(e)}function g(){return s().getClip().getLabels()}function y(e){return s().reset(e||{})}function b(e){return s().getPlaylist().reset(e||{})}function w(e){return s().getClip().reset(e||{})}function E(e){return e=e||{},s().viewNotify(null,e)}function S(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},typeof t=="number"&&(e.ns_st_po=t),s().customNotify(e,t)}function x(){return s().exportState()}function T(e){s().importState(e)}var n={},r=-1,i=-1;e.extend(t,{activeIndex:i,newInstance:u,"new":u,destroyInstance:a,destroy:a,newPlaylist:f,newClip:l,notify:c,setLabels:h,getLabels:p,setPlaylistLabels:d,getPlaylistLabels:v,setClipLabels:m,getClipLabels:g,resetInstance:y,resetPlaylist:b,resetClip:w,viewEvent:E,customEvent:S,exportState:x,importState:T})}(t),t}();return E.AdEvents=g,E.PlayerEvents=d,ns_.StreamingTag=ns_.StreamingTag||function(){var t=function(){var t=function(t){function f(){if(e.exists(t)&&e.exists(t.customerC2)){var n=t.secure?"https://sb":"http"+(document.location.href.charAt(4)=="s"?"s://sb":"://b");a.setPixelURL(n+".scorecardresearch.com/p?c1=2"),a.setLabel("c2",t.customerC2),a.setLabel("ns_st_it","r")}}function l(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci="0"),e.exists(t.c3)||(t.c3="*null"),e.exists(t.c4)||(t.c4="*null"),e.exists(t.c6)||(t.c6="*null"),t}function c(e){return i>0&&e>=i?s+=e-i:s=0,s}function h(e){a.getState()!=m.IDLE&&a.getState()!=m.PAUSED?a.notify(d.END,c(e)):a.getState()==m.PAUSED&&a.notify(d.END,s)}function p(e){return v("ns_st_ci",o,e)&&v("c3",o,e)&&v("c4",o,e)&&v("c6",o,e)}function v(t,n,r){if(e.exists(t)&&e.exists(n)&&e.exists(r)){var i=n[t],s=r[t];return e.exists(i)&&e.exists(s)&&i===s}return!1}function g(e,t){h(e),r++,a.setClip({ns_st_cn:r,ns_st_pn:"1",ns_st_ct:"vc",ns_st_tp:"0"}),a.getClip().setLabels(t),o=t,i=e,s=0,a.notify(d.PLAY,s)}var n=this,r=0,i=0,s=0,o=null,u=!1,a=new E;e.extend(this,{playAdvertisement:function(){var e=+(new Date);h(e),r++;var t=l(null);t.ns_st_cn=r,t.ns_st_pn="1",t.ns_st_ct="va",t.ns_st_tp="1",t.ns_st_ad="1",a.setClip(t),s=0,a.notify(d.PLAY,s),i=e,u=!1},playContentPart:function(e){var t=+(new Date);e=l(e),u?p(e)?(a.getClip().setLabels(e),a.getState()!=m.PLAYING&&(i=t,a.notify(d.PLAY,s))):g(t,e):g(t,e),u=!0},stop:function(){var e=+(new Date);a.notify(d.PAUSE,c(e))}}),f()};return function(e){}(t),t}();return t}(),E}();