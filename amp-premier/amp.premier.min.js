Array.prototype.indexOf||(Array.prototype.indexOf=function(c,a){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var b=this.length>>>0;a=+a||0;Infinity===Math.abs(a)&&(a=0);0>a&&(a+=b,0>a&&(a=0));for(;a<b;a++)if(this[a]===c)return a;return-1});
Date.now||(Date.now=function(){return +new Date});
if(!Function.prototype.bind){Function.prototype.bind=function(e){function s(){}if(typeof this!=="function"){throw new TypeError("Bind must be called on a function")}var t=[].slice,n=t.call(arguments,1),r=this,i=function(){return r.apply(this instanceof s?this:e||{},n.concat(t.call(arguments)))};s.prototype=r.prototype;i.prototype=new s;return i}}
if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
(function(n){function i(a,d){this.setNotifyMethod(a);this.setNotifyContext(d)}function j(a,d,b){this.name=a;this.body=d;this.type=b}function k(){}function m(){}function l(){this.subCommands=[];this.initializeMacroCommand()}function g(a,d){this.mediatorName=a||this.constructor.NAME;this.viewComponent=d}function h(a,d){this.proxyName=a||this.constructor.NAME;null!=d&&this.setData(d)}function b(a){if(null!=b.instanceMap[a])throw Error(b.MULTITON_MSG);this.initializeNotifier(a);b.instanceMap[a]=this;
this.initializeFacade()}function c(a){if(null!=c.instanceMap[a])throw Error(c.MULTITON_MSG);this.multitonKey=a;c.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}function e(a){if(e.instanceMap[a])throw Error(e.MULTITON_MSG);this.multitonKey=a;e.instanceMap[a]=this;this.proxyMap=[];this.initializeModel()}function f(a){if(null!=f.instanceMap[a])throw Error(f.MULTITON_MSG);this.multitonKey=a;f.instanceMap[this.multitonKey]=this;this.commandMap=[];this.initializeController()}
function p(a,d,b){for(var a=a.split("."),b=b||o.global,c,e,f=0,g=a.length;f<g;f++)c=b,e=a[f],b=null==b[e]?b[e]={}:b[e];return null==d?b:c[e]=d}null==n&&(n=window);if(!n.puremvc){i.prototype.setNotifyMethod=function(a){this.notify=a};i.prototype.setNotifyContext=function(a){this.context=a};i.prototype.getNotifyMethod=function(){return this.notify};i.prototype.getNotifyContext=function(){return this.context};i.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),
a)};i.prototype.compareNotifyContext=function(a){return a===this.context};i.prototype.notify=null;i.prototype.context=null;j.prototype.getName=function(){return this.name};j.prototype.setBody=function(a){this.body=a};j.prototype.getBody=function(){return this.body};j.prototype.setType=function(a){this.type=a};j.prototype.getType=function(){return this.type};j.prototype.toString=function(){var a="Notification Name: "+this.getName(),a=a+("\nBody:"+(null==this.body?"null":this.body.toString()));return a+=
"\nType:"+(null==this.type?"null":this.type)};j.prototype.name=null;j.prototype.type=null;j.prototype.body=null;k.prototype.sendNotification=function(a,d,b){var c=this.getFacade();c&&c.sendNotification(a,d,b)};k.prototype.initializeNotifier=function(a){this.multitonKey=""+a;this.facade=this.getFacade()};k.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(k.MULTITON_MSG);return b.getInstance(this.multitonKey)};k.prototype.multitonKey=null;k.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";
m.prototype=new k;m.prototype.constructor=m;m.prototype.execute=function(){};l.prototype=new k;l.prototype.constructor=l;l.prototype.subCommands=null;l.prototype.initializeMacroCommand=function(){};l.prototype.addSubCommand=function(a){this.subCommands.push(a)};l.prototype.execute=function(a){for(;0<this.subCommands.length;){var d=new (this.subCommands.shift());d.initializeNotifier(this.multitonKey);d.execute(a)}};g.NAME="Mediator";g.prototype=new k;g.prototype.constructor=g;g.prototype.getMediatorName=
function(){return this.mediatorName};g.prototype.setViewComponent=function(a){this.viewComponent=a};g.prototype.getViewComponent=function(){return this.viewComponent};g.prototype.listNotificationInterests=function(){return[]};g.prototype.handleNotification=function(){};g.prototype.onRegister=function(){};g.prototype.onRemove=function(){};g.prototype.mediatorName=null;g.prototype.viewComponent=null;h.NAME="Proxy";h.prototype=new k;h.prototype.constructor=h;h.prototype.getProxyName=function(){return this.proxyName};
h.prototype.setData=function(a){this.data=a};h.prototype.getData=function(){return this.data};h.prototype.onRegister=function(){};h.prototype.onRemove=function(){};h.prototype.proxyName=null;h.prototype.data=null;b.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};b.getInstance=function(a){if(null==a)return null;null==b.instanceMap[a]&&(b.instanceMap[a]=new b(a));return b.instanceMap[a]};b.prototype.initializeController=function(){if(null==
this.controller)this.controller=f.getInstance(this.multitonKey)};b.prototype.initializeModel=function(){if(null==this.model)this.model=e.getInstance(this.multitonKey)};b.prototype.initializeView=function(){if(null==this.view)this.view=c.getInstance(this.multitonKey)};b.prototype.registerCommand=function(a,d){this.controller.registerCommand(a,d)};b.prototype.removeCommand=function(a){this.controller.removeCommand(a)};b.prototype.hasCommand=function(a){return this.controller.hasCommand(a)};b.prototype.registerProxy=
function(a){this.model.registerProxy(a)};b.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)};b.prototype.removeProxy=function(a){var d=null;null!=this.model&&(d=this.model.removeProxy(a));return d};b.prototype.hasProxy=function(a){return this.model.hasProxy(a)};b.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)};b.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)};b.prototype.removeMediator=function(a){var d=null;
null!=this.view&&(d=this.view.removeMediator(a));return d};b.prototype.hasMediator=function(a){return this.view.hasMediator(a)};b.prototype.sendNotification=function(a,d,b){this.notifyObservers(new j(a,d,b))};b.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)};b.prototype.initializeNotifier=function(a){this.multitonKey=a};b.hasCore=function(a){return null!=b.instanceMap[a]};b.removeCore=function(a){null!=b.instanceMap[a]&&(e.removeModel(a),c.removeView(a),f.removeController(a),
delete b.instanceMap[a])};b.prototype.controller=null;b.prototype.model=null;b.prototype.view=null;b.prototype.multitonKey=null;b.instanceMap=[];b.MULTITON_MSG="Facade instance for this Multiton key already constructed!";c.prototype.initializeView=function(){};c.getInstance=function(a){if(null==a)return null;null==c.instanceMap[a]&&(c.instanceMap[a]=new c(a));return c.instanceMap[a]};c.prototype.registerObserver=function(a,d){null!=this.observerMap[a]?this.observerMap[a].push(d):this.observerMap[a]=
[d]};c.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var d=this.observerMap[a.getName()],b=[],c,e=0;e<d.length;e++)c=d[e],b.push(c);for(e=0;e<b.length;e++)c=b[e],c.notifyObserver(a)}};c.prototype.removeObserver=function(a,d){for(var b=this.observerMap[a],c=0;c<b.length;c++)if(!0==b[c].compareNotifyContext(d)){b.splice(c,1);break}0==b.length&&delete this.observerMap[a]};c.prototype.registerMediator=function(a){if(null==this.mediatorMap[a.getMediatorName()]){a.initializeNotifier(this.multitonKey);
this.mediatorMap[a.getMediatorName()]=a;var d=a.listNotificationInterests();if(0<d.length)for(var b=new i(a.handleNotification,a),c=0;c<d.length;c++)this.registerObserver(d[c],b);a.onRegister()}};c.prototype.retrieveMediator=function(a){return this.mediatorMap[a]};c.prototype.removeMediator=function(a){var d=this.mediatorMap[a];if(d){for(var b=d.listNotificationInterests(),c=0;c<b.length;c++)this.removeObserver(b[c],d);delete this.mediatorMap[a];d.onRemove()}return d};c.prototype.hasMediator=function(a){return null!=
this.mediatorMap[a]};c.removeView=function(a){delete c.instanceMap[a]};c.prototype.mediatorMap=null;c.prototype.observerMap=null;c.instanceMap=[];c.prototype.multitonKey=null;c.MULTITON_MSG="View instance for this Multiton key already constructed!";e.prototype.initializeModel=function(){};e.getInstance=function(a){if(null==a)return null;null==e.instanceMap[a]&&(e.instanceMap[a]=new e(a));return e.instanceMap[a]};e.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey);this.proxyMap[a.getProxyName()]=
a;a.onRegister()};e.prototype.retrieveProxy=function(a){return this.proxyMap[a]};e.prototype.hasProxy=function(a){return null!=this.proxyMap[a]};e.prototype.removeProxy=function(a){var b=this.proxyMap[a];b&&(this.proxyMap[a]=null,b.onRemove());return b};e.removeModel=function(a){delete e.instanceMap[a]};e.prototype.proxyMap=null;e.instanceMap=[];e.MULTITON_MSG="Model instance for this Multiton key already constructed!";f.prototype.initializeController=function(){this.view=c.getInstance(this.multitonKey)};
f.getInstance=function(a){if(null==a)return null;null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a));return this.instanceMap[a]};f.prototype.executeCommand=function(a){var b=this.commandMap[a.getName()];null!=b&&(b=new b,b.initializeNotifier(this.multitonKey),b.execute(a))};f.prototype.registerCommand=function(a,b){null==this.commandMap[a]&&this.view.registerObserver(a,new i(this.executeCommand,this));this.commandMap[a]=b};f.prototype.hasCommand=function(a){return null!=this.commandMap[a]};
f.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)};f.removeController=function(a){delete this.instanceMap[a]};f.prototype.view=null;f.prototype.commandMap=null;f.prototype.multitonKey=null;f.instanceMap=[];f.MULTITON_MSG="controller key for this Multiton key already constructed";var o={global:function(){return this}(),extend:function(a,b){if("function"!==typeof a)throw new TypeError("#extend- child should be Function");if("function"!==
typeof b)throw new TypeError("#extend- parent should be Function");if(b!==a){var c=new Function;c.prototype=b.prototype;a.prototype=new c;return a.prototype.constructor=a}},decorate:function(a,b){for(var c in b)a[c]=b[c];return a}};n.puremvc={View:c,Model:e,Controller:f,SimpleCommand:m,MacroCommand:l,Facade:b,Mediator:g,Observer:i,Notification:j,Notifier:k,Proxy:h,define:function(a,b,c){a||(a={});var e=a.name,f=a.parent,g="function"===typeof f,h=a.scope||null;if("parent"in a&&!g)throw new TypeError("Class parent must be Function");
if(a.hasOwnProperty("constructor")){if(a=a.constructor,"function"!==typeof a)throw new TypeError("Class constructor must be Function");}else a=g?function(){f.apply(this,arguments)}:new Function;g&&o.extend(a,f);if(b)g=a.prototype,o.decorate(g,b),g.constructor=a;c&&o.decorate(a,c);if(e){if("string"!==typeof e)throw new TypeError("Class name must be primitive string");p(e,a,h)}return a},declare:p}}})(this);
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){function u(){if(!v){try{var a=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}v=!0;for(var a=z.length,c=0;c<a;c++)z[c]()}}function M(a){v?a():z[z.length]=a}function N(a){if("undefined"!=typeof n.addEventListener)n.addEventListener("load",a,!1);else if("undefined"!=typeof d.addEventListener)d.addEventListener("load",a,!1);else if("undefined"!=typeof n.attachEvent)U(n,"onload",a);else if("function"==typeof n.onload){var b=
n.onload;n.onload=function(){b();a()}}else n.onload=a}function V(){var a=d.getElementsByTagName("body")[0],b=d.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var c=a.appendChild(b);if(c){var f=0;(function(){if("undefined"!=typeof c.GetVariable){var g=c.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),e.pv=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}else if(10>f){f++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;E()})()}else E()}
function E(){var a=r.length;if(0<a)for(var b=0;b<a;b++){var c=r[b].id,f=r[b].callbackFn,g={success:!1,id:c};if(0<e.pv[0]){var d=p(c);if(d)if(!A(r[b].swfVersion)||e.wk&&312>e.wk)if(r[b].expressInstall&&F()){g={};g.data=r[b].expressInstall;g.width=d.getAttribute("width")||"0";g.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(g.styleclass=d.getAttribute("class"));d.getAttribute("align")&&(g.align=d.getAttribute("align"));for(var h={},d=d.getElementsByTagName("param"),k=d.length,l=0;l<
k;l++)"movie"!=d[l].getAttribute("name").toLowerCase()&&(h[d[l].getAttribute("name")]=d[l].getAttribute("value"));G(g,h,c,f)}else W(d),f&&f(g);else w(c,!0),f&&(g.success=!0,g.ref=H(c),f(g))}else w(c,!0),f&&((c=H(c))&&"undefined"!=typeof c.SetVariable&&(g.success=!0,g.ref=c),f(g))}}function H(a){var b=null;(a=p(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&(b=a));return b}function F(){return!B&&A("6.0.65")&&(e.win||e.mac)&&!(e.wk&&312>e.wk)}
function G(a,b,c,f){B=!0;I=f||null;O={success:!1,id:c};var g=p(c);if(g){"OBJECT"==g.nodeName?(y=J(g),C=null):(y=g,C=c);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";f=e.ie&&e.win?"ActiveX":"PlugIn";f="MMredirectURL="+encodeURI(n.location).toString().replace(/&/g,"%26")+"&MMplayerType="+
f+"&MMdoctitle="+d.title;b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("&"+f):f;e.ie&&e.win&&4!=g.readyState&&(f=d.createElement("div"),c+="SWFObjectNew",f.setAttribute("id",c),g.parentNode.insertBefore(f,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());K(a,b,c)}}function W(a){if(e.ie&&e.win&&4!=a.readyState){var b=d.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(J(a),b);a.style.display="none";
(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(J(a),a)}function J(a){var b=d.createElement("div");if(e.win&&e.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName("object")[0])if(a=a.childNodes)for(var c=a.length,f=0;f<c;f++)1==a[f].nodeType&&"PARAM"==a[f].nodeName||8==a[f].nodeType||b.appendChild(a[f].cloneNode(!0));return b}function K(a,b,c){var f,g=p(c);if(e.wk&&312>e.wk)return f;if(g)if("undefined"==typeof a.id&&
(a.id=c),e.ie&&e.win){var q="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?q+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(q+=" "+h+'="'+a[h]+'"'));h="";for(var k in b)b[k]!=Object.prototype[k]&&(h+='<param name="'+k+'" value="'+b[k]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+q+">"+h+"</object>";D[D.length]=a.id;f=p(a.id)}else{k=d.createElement("object");k.setAttribute("type","application/x-shockwave-flash");
for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(q in b)b[q]!=Object.prototype[q]&&"movie"!=q.toLowerCase()&&(a=k,h=q,l=b[q],c=d.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",l),a.appendChild(c));g.parentNode.replaceChild(k,g);f=k}return f}function P(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(e.ie&&e.win?(b.style.display="none",function(){if(4==b.readyState){var c=p(a);
if(c){for(var f in c)"function"==typeof c[f]&&(c[f]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=null;try{b=d.getElementById(a)}catch(c){}return b}function U(a,b,c){a.attachEvent(b,c);x[x.length]=[a,b,c]}function A(a){var b=e.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function Q(a,b,c,f){if(!e.ie||
!e.mac){var g=d.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",f&&(L=m=null),m&&L==c||(f=d.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("media",c),m=g.appendChild(f),e.ie&&e.win&&"undefined"!=typeof d.styleSheets&&0<d.styleSheets.length&&(m=d.styleSheets[d.styleSheets.length-1]),L=c),e.ie&&e.win?m&&"object"==typeof m.addRule&&m.addRule(a,b):m&&"undefined"!=typeof d.createTextNode&&m.appendChild(d.createTextNode(a+" {"+b+"}")))}}function w(a,b){if(R){var c=
b?"visible":"hidden";v&&p(a)?p(a).style.visibility=c:Q("#"+a,"visibility:"+c)}}function S(a){return null!=/[\\\"<>\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var n=window,d=document,t=navigator,T=!1,z=[function(){T?V():E()}],r=[],D=[],x=[],y,C,I,O,v=!1,B=!1,m,L,R=!0,e=function(){var a="undefined"!=typeof d.getElementById&&"undefined"!=typeof d.getElementsByTagName&&"undefined"!=typeof d.createElement,b=t.userAgent.toLowerCase(),c=t.platform.toLowerCase(),f=c?/win/.test(c):
/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",e=[0,0,0],h=null;if("undefined"!=typeof t.plugins&&"object"==typeof t.plugins["Shockwave Flash"])!(h=t.plugins["Shockwave Flash"].description)||"undefined"!=typeof t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&!t.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(T=!0,g=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=parseInt(h.replace(/^(.*)\..*$/,
"$1"),10),e[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof n.ActiveXObject)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(g=!0,h=h.split(" ")[1].split(","),e=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{w3:a,pv:e,wk:b,ie:g,win:f,mac:c}}();(function(){e.w3&&(("undefined"!=typeof d.readyState&&"complete"==d.readyState||
"undefined"==typeof d.readyState&&(d.getElementsByTagName("body")[0]||d.body))&&u(),v||("undefined"!=typeof d.addEventListener&&d.addEventListener("DOMContentLoaded",u,!1),e.ie&&e.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),u())}),n==top&&function(){if(!v){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}u()}}()),e.wk&&function(){v||(/loaded|complete/.test(d.readyState)?u():
setTimeout(arguments.callee,0))}(),N(u)))})();(function(){e.ie&&e.win&&window.attachEvent("onunload",function(){for(var a=x.length,b=0;b<a;b++)x[b][0].detachEvent(x[b][1],x[b][2]);a=D.length;for(b=0;b<a;b++)P(D[b]);for(var c in e)e[c]=null;e=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})})();return{registerObject:function(a,b,c,f){if(e.w3&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c;d.callbackFn=f;r[r.length]=d;w(a,!1)}else f&&f({success:!1,id:a})},getObjectById:function(a){if(e.w3)return H(a)},
embedSWF:function(a,b,c,d,g,q,h,k,l,n){var p={success:!1,id:b};e.w3&&!(e.wk&&312>e.wk)&&a&&b&&c&&d&&g?(w(b,!1),M(function(){c+="";d+="";var e={};if(l&&"object"===typeof l)for(var m in l)e[m]=l[m];e.data=a;e.width=c;e.height=d;m={};if(k&&"object"===typeof k)for(var r in k)m[r]=k[r];if(h&&"object"===typeof h)for(var t in h)m.flashvars="undefined"!=typeof m.flashvars?m.flashvars+("&"+t+"="+h[t]):t+"="+h[t];if(A(g))r=K(e,m,b),e.id==b&&w(b,!0),p.success=!0,p.ref=r;else{if(q&&F()){e.data=q;G(e,m,b,n);return}w(b,
!0)}n&&n(p)})):n&&n(p)},switchOffAutoHideShow:function(){R=!1},ua:e,getFlashPlayerVersion:function(){return{major:e.pv[0],minor:e.pv[1],release:e.pv[2]}},hasFlashPlayerVersion:A,createSWF:function(a,b,c){if(e.w3)return K(a,b,c)},showExpressInstall:function(a,b,c,d){e.w3&&F()&&G(a,b,c,d)},removeSWF:function(a){e.w3&&P(a)},createCSS:function(a,b,c,d){e.w3&&Q(a,b,c,d)},addDomLoadEvent:M,addLoadEvent:N,callDomLoadFunctions:u,getQueryParamValue:function(a){var b=d.location.search||d.location.hash;if(b){/\?/.test(b)&&
(b=b.split("?")[1]);if(null==a)return S(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return S(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(B){var a=p("SWFObjectExprInst");a&&y&&(a.parentNode.replaceChild(y,a),C&&(w(C,!0),e.ie&&e.win&&(y.style.display="block")),I&&I(O));B=!1}}}}();

(function(){function Eg(){var a,c,d,f=this;c=null;this.getSDK=function(){return c};this.setSDK=function(d){var f;c=d;a();for(f in c)d=c[f],window[f]=d;return c};this.saveSDK=function(a,c){var f,e;if(null!=c&&null!=a&&""!==a){if(null==c.main)for(f in c)if(e=c[f],(null!=e?e.VERSION:void 0)===a){c.main=e;break}null==c.version&&(c.version=a);d.push(c);return this[a]=c}};d=[];this.getVersions=function(){return d.slice()};this.getVersion=function(a){return this[a]};this.setVersion=function(a){c=this.getVersion(a);
if(null==c)return null;this.setSDK(c);return c};this.revert=function(){return this.setSDK(d[0])};this.noConflict=function(){var a;a=this.getSDK();this.revert();return a};this.create=function(){var a;a=function(a,c){this.prototype=a.prototype;return a.apply(this,c)};return function(d){return new a(c.main,arguments)}}();a=function(){var a,d,e;if(null!=(d=window.com)&&null!=(e=d.akamai)&&e.amp)for(a in window)if(d=window[a],(d===window.AMP||d===window.AMPremier)&&null!=(null!=d?d.VERSION:void 0)&&""!==
d.VERSION&&d.VERSION!==(null!=c?c.version:void 0)&&null==f[d.VERSION]){a={};a.main=d;a.com=window.com;window.AMP&&(a.AMP=window.AMP);window.AMPPremier&&(a.AMPremier=window.AMPPremier);window.Utils&&(a.Utils=window.Utils);window.QueryString&&(a.QueryString=window.QueryString);window.QueryParams&&(a.QueryParams=window.QueryParams);f.saveSDK(d.VERSION,a);break}};a()}var zg;null==window.AKAMAI_MEDIA_PLAYER&&(window.AKAMAI_MEDIA_PLAYER=new Eg);if(null==window.AKAMAI_MEDIA_PLAYER["AMP - Premier : WebMD v0.30.0.0002"]){zg=
window.AKAMAI_MEDIA_PLAYER["AMP - Premier : WebMD v0.30.0.0002"]={};var Fg=function(a){return{}.hasOwnProperty(a)},g=function(a,c){function d(){this.constructor=a}for(var f in c)Fg.call(c,f)&&(a[f]=c[f]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a},Me=function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1},Gg=function(a,c){return function(){return a.apply(c,arguments)}},x=function(a,c){this.config=a;x.__super__.constructor.call(this,
c)};g(x,puremvc.Proxy);x.NAME="ModuleProxy";x.prototype.defaults=null;x.prototype.config=null;x.prototype.initializeNotifier=function(a){x.__super__.initializeNotifier.call(this,a);this.createData()};x.prototype.createData=function(){this.setData(this.config)};x.prototype.setData=function(a){var c,d,f,p;null==a&&(a={});f={};p=this.defaults;for(d in p)c=p[d],c=d in a?a[d]:c,f[d]=c;x.__super__.setData.call(this,f);return a};var H=function(a){this.viewComponent=a;H.__super__.constructor.call(this,this.getModuleName()+
"-"+Date.now());this.dispatcher=new qb(this);this.logger=ba;this.moduleMap={}};g(H,puremvc.Facade);H.prototype.logger=null;H.prototype.config=null;H.prototype.moduleName=null;H.prototype.moduleMap=null;H.prototype.viewComponent=null;H.prototype.dispatcher=null;H.prototype.oninitialized=null;H.prototype.parentModule=null;H.prototype.initialize=function(a,c){this.config=a;this.parentModule=c;this.loadResources()};H.prototype.loadResources=function(){var a,c,d,f;if(0<!(null!=(a=this.config.resources)&&
a.length))this.resourcesLoaded();else{f=this.config.resources;c=0;for(d=f.length;c<d;c++)a=f[c],a.src=this.evaluatePaths(a.src);q.addResources(this.config.resources,this.resourcesLoaded.bind(this))}};H.prototype.evaluatePaths=function(a){var c,d,f;c=this.config.paths||(null!=(d=this.parentModule)?null!=(f=d.config)?f.paths:void 0:void 0);return null!=c?wb.eval(a,null,null,null,c):a};H.prototype.resourcesLoaded=function(){this.createFramework();if("function"===typeof this.oninitialized)this.oninitialized(this)};
H.prototype.createFramework=function(){this.createModel();this.createController();this.createView()};H.prototype.createModel=function(){this.registerProxy(new x(this.config))};H.prototype.createView=function(){};H.prototype.createController=function(){this.registerCommand(e.DISPATCH_EVENT,Od)};H.prototype.getModuleName=function(){return this.moduleName};H.prototype.getConfig=function(){return this.config};H.prototype.hasModule=function(a){return null!=this.moduleMap[a]};H.prototype.getModules=function(){var a,
c,d,f;c={};f=this.moduleMap;for(a in f)d=f[a],c[a]=d.module;return c};H.prototype.registerModule=function(a){var c,d;d=a.getModuleName();null!=a&&null==this.moduleMap[d]&&(c=new Kb(a),this.moduleMap[d]=c,this.registerMediator(c),a.onRegister())};H.prototype.retrieveModule=function(a){return this.moduleMap[a].module};H.prototype.removeModule=function(a){var c;c=this.moduleMap[a];if(null!=c)return delete this.moduleMap[a],this.removeMediator(a),c.module.onRemove(),c.module};H.prototype.listNotificationInterests=
function(){return[]};H.prototype.listNotificationPublications=function(){return[]};H.prototype.getViewComponent=function(){return this.viewComponent};H.prototype.setViewComponent=function(a){return this.viewComponent=a};H.prototype.onRegister=function(){};H.prototype.onRemove=function(){};H.prototype.destroy=function(){var a,c,d,f,p;null!=this.viewComponent&&(this.viewComponent.innerHTML="",this.viewComponent.className="");p=this.getModules();d=0;for(f=p.length;d<f;d++)c=p[d],this.removeModule(c.getModuleName()),
c.destroy();puremvc.Facade.removeCore(this.multitonKey);for(a in this)this[a]=null,delete this[a]};H.prototype.addEventListener=function(a,c){this.dispatcher.addEventListener(a,c)};H.prototype.logEvent=function(a){var c;!0!==/(timeupdate)/.test(a.type)&&(c=this.getModuleName().toUpperCase(),a.dispatcher&&(c+=" "+a.dispatcher),this.logger.log("["+c+" EVENT]",a.type,a))};H.prototype.dispatchEvent=function(a){this.logEvent(a);this.dispatcher.dispatchEvent(a)};H.prototype.removeEventListener=function(a,
c){this.dispatcher.removeEventListener(a,c)};var R=function(){};R.createTextContent=function(a,c){return/[\&<>]/.test(c)?a.createCDATASection(c):a.createTextNode(c)};R.updateTextContent=function(a,c){var d;d=R.createTextContent(a.ownerDocument,c);a.removeChild(a.childNodes[0]);a.appendChild(d);return a};R.serialize=function(a){var c;if(null!=a){if("string"===typeof a)return a;try{return c=new XMLSerializer,c.serializeToString(a)}catch(d){try{return document.implementation.createLSSerializer(),xmlSerializer.writeToString(a)}catch(f){try{return a.xml}catch(p){}}}}};
R.parse=function(a){var c;window.DOMParser?(c=new DOMParser,c=c.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a));return c};var Pd=function(){Pd.__super__.constructor.call(this)};g(Pd,puremvc.SimpleCommand);Pd.prototype.execute=function(a){var c;this.sendNotification(e.READY,this.facade.config);a=null!=(c=this.facade.config)?c.media:void 0;null!=a&&this.sendNotification(e.SET_MEDIA,a)};var Cg=function(a){a.className=Qc.PREFIX+"player";a=gb.create("install-flash",
a);gb.create(null,a,"p","To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.");a=gb.create(null,a,"a");a.href="http://www.adobe.com/go/getflashplayer";a=gb.create(null,a,"img");a.src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif";a.alt="Get Adobe Flash player"};Cg.prototype.getModules=function(){return[]};var Qd=function(){this.map={}};Qd.prototype.map=null;Qd.prototype.add=function(a,c){this.map[a]=c};Qd.prototype.item=function(a){return this.map[a]};
Qd.prototype.remove=function(a){var c;c=this.map[a];null!=c&&(this.map[a]=null,delete this.map[a]);return c};var kd=function(){kd.__super__.constructor.call(this)};g(kd,Qd);kd.prototype.add=function(a,c){var d;null!=this.item(a.src)?c():(kd.__super__.add.call(this,a.src,a),d=document.body,a.type===h.mimeTypes.js?h.loadScript(a.src,c,d):(a.type===h.mimeTypes.css&&h.loadStyleSheet(a.src),c()))};kd.prototype.addResources=function(a,c){var d,f,p,e=this;0<!(null!=a&&a.length)?c():(f=0,p=function(){e.add(a[f],
d)},d=function(){f++;f>=a.length?c():p()},p())};var I=function(){I.__super__.constructor.call(this)};g(I,puremvc.SimpleCommand);I.prototype.applicationState=null;I.prototype.media=null;I.prototype.player=null;I.prototype.playback=null;I.prototype.config=null;I.prototype.logger=null;I.prototype.bindings=null;I.prototype.params=null;I.prototype.playerCore=null;I.prototype.security=null;I.prototype.initializeNotifier=function(a){var c;I.__super__.initializeNotifier.call(this,a);this.player=this.facade.player||
this.facade;this.applicationState=this.player.appState;this.media=this.player.media;this.config=this.player.configuration;this.logger=this.player.logger;this.bindings=this.player.bindings;this.params=this.player.params;this.playerCore=this.player.playerCore;this.security=this.player.security;this.playback=(null!=(c=this.player.playerCore)?c.getActivePlaybackCore():void 0)||this.player.playback};var Rd=function(){Rd.__super__.constructor.call(this)};g(Rd,I);Rd.prototype.execute=function(a){var c;switch(this.applicationState.getPlayState()){case L.ENDED:c=
e.REPLAY;break;case L.PAUSED:case L.READY:c=e.PLAY;break;case L.PLAYING:c=e.PAUSE;break;case L.WAITING:!0===this.facade.getMediaElement().paused&&(c=e.PLAY)}this.sendNotification(c,!0)};var Ne=function(){Ne.__super__.constructor.call(this)};g(Ne,I);Ne.prototype.execute=function(a){a=this.applicationState.getDisplayState()===Y.FULL_SCREEN?Y.NORMAL:Y.FULL_SCREEN;this.sendNotification(e.CHANGE_DISPLAY_STATE,a)};var F=function(){F.__super__.constructor.call(this)};g(F,I);F.prototype.dispatchEvent=function(a,
c){var d;"string"!==typeof a&&(c=a.getBody()||{},a=a.getName());d=new Z(a,c);this.sendNotification(e.DISPATCH_EVENT,d)};F.prototype.dispatchEventAfterCommand=function(a,c){setTimeout(this.dispatchEvent.bind(this,a,c),0)};F.prototype.execute=function(a){this.dispatchEvent(a)};var Sd=function(){Sd.__super__.constructor.call(this)};g(Sd,F);Sd.prototype.execute=function(a){!0!==this.applicationState.getIsUserActive()&&(this.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING),Sd.__super__.execute.call(this,
a))};var Rc=function(){Rc.__super__.constructor.call(this)};g(Rc,F);Rc.prototype.execute=function(a){this.playback.pause();this.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE);Rc.__super__.execute.call(this,a)};var Oe=function(){Oe.__super__.constructor.call(this)};g(Oe,I);Oe.prototype.execute=function(a){this.config.setAutoplay(a.getBody())};var Pe=function(){Pe.__super__.constructor.call(this)};g(Pe,I);Pe.prototype.execute=function(a){this.config.setLoop(a.getBody())};var Qe=function(){Qe.__super__.constructor.call(this)};
g(Qe,I);Qe.prototype.execute=function(a){this.playback.setVolume(a.getBody())};var Td=function(){Td.__super__.constructor.call(this)};g(Td,puremvc.SimpleCommand);Td.prototype.execute=function(a){a=a.getBody();this.sendNotification(e.MEDIA_CHANGE,a);!0===this.facade.getAutoplay()&&this.sendNotification(e.PLAY)};var Ud=function(){Ud.__super__.constructor.call(this)};g(Ud,I);Ud.prototype.execute=function(a){var c,d,f;d=a.getBody();0===d&&this.media.getType()===h.mimeTypes.m3u8&&(d=0.25);d!==this.playback.getCurrentTime()&&
(this.sendNotification(e.CHANGE_PLAY_STATE,L.WAITING),this.sendNotification(e.DISPLAY_TIME,{currentTime:d,duration:this.playback.getDuration()}),this.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE),f=this.facade.getMediaElement(),this.applicationState.pausedBeforeSeek=f.paused,0===f.readyState?(c=function(a){f.removeEventListener("loadedmetadata",c,!1);this.playback.setCurrentTime(d)},f.addEventListener("loadedmetadata",c,!1)):this.playback.setCurrentTime(d))};var Vd=function(){Vd.__super__.constructor.call(this)};
g(Vd,F);Vd.prototype.execute=function(a){!0!==this.applicationState.getSeeking()&&(this.applicationState.setSeeking(!0),Vd.__super__.execute.call(this,a))};var Re=function(){Re.__super__.constructor.call(this)};g(Re,F);Re.prototype.execute=function(a){var c=this;!0===this.applicationState.getIsUserActive()?setTimeout(this.sendNotification.bind(this,a.getName(),a.getBody()),100):setTimeout(function(){c.applicationState.setSeeking(!1);c.dispatchEvent(a);c.sendNotification(e.CHANGE_PLAY_STATE,!0===c.applicationState.pausedBeforeSeek?
L.PAUSED:L.PLAYING)},1)};var Se=function(){Se.__super__.constructor.call(this)};g(Se,I);Se.prototype.execute=function(a){this.playback.setCurrentTime(0.25);this.sendNotification(e.PLAY);this.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING)};var Te=function(){Te.__super__.constructor.call(this)};g(Te,I);Te.prototype.execute=function(a){this.playback.pause();this.playback.getCurrentTime()!==this.playback.getDuration()&&this.playback.setCurrentTime(this.playback.getDuration())};var Sc=function(){Sc.__super__.constructor.call(this)};
g(Sc,F);Sc.prototype.execute=function(a){!0===this.config.getLoop()?(Sc.__super__.execute.call(this,a),this.sendNotification(e.REPLAY)):(this.sendNotification(e.CHANGE_PLAY_STATE,L.ENDED),this.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE),Sc.__super__.execute.call(this,a))};var Wd=function(){Wd.__super__.constructor.call(this)};g(Wd,I);Wd.prototype.execute=function(a){this.sendNotification(e.DISPLAY_TIME,{currentTime:0,duration:this.media.getDuration()});this.sendNotification(e.STARTED,a.getBody())};
var Ue=function(){Ue.__super__.constructor.call(this)};g(Ue,I);Ue.prototype.execute=function(a){this.applicationState.setIsUserActive(a.getBody())};var Xd=function(){Xd.__super__.constructor.call(this)};g(Xd,F);Xd.prototype.execute=function(a){this.sendNotification(e.CHANGE_PLAY_STATE,L.WAITING);Xd.__super__.execute.call(this,a)};var Ve=function(){Ve.__super__.constructor.call(this)};g(Ve,I);Ve.prototype.execute=function(a){this.playback.setMuted(a.getBody())};var Yd=function(){Yd.__super__.constructor.call(this)};
g(Yd,F);Yd.prototype.execute=function(a){var c;c=a.getBody();this.security.setMedia(c);!1===this.security.getAuthorized()?this.sendNotification(ca.AUTHORIZE,c):this.sendNotification(e.MEDIA_VALIDATED,c);Yd.__super__.execute.call(this,a)};var Zd=function(){Zd.__super__.constructor.call(this)};g(Zd,F);Zd.prototype.execute=function(a){var c;this.media.authorized=!0;c=this.security.createURL(this.media.getSrc());this.media.setSrc(c);this.sendNotification(e.MEDIA_VALIDATED,this.media.getData());Zd.__super__.execute.call(this,
a)};var We=function(){We.__super__.constructor.call(this)};g(We,I);We.prototype.execute=function(a){this.playback.initialized=!0};var Xe=function(){Xe.__super__.constructor.call(this)};g(Xe,I);Xe.prototype.execute=function(a){this.playerCore.registerPlaybackCore(a.getBody())};var $d=function(){$d.__super__.constructor.call(this)};g($d,F);$d.prototype.execute=function(a){var c;c="amp"===a.getBody().target?e.REMOVE_APPLICATION_STATE:e.ADD_APPLICATION_STATE;this.sendNotification(c,"remote-playback");
$d.__super__.execute.call(this,a)};var Ye=function(){Ye.__super__.constructor.call(this)};g(Ye,I);Ye.prototype.execute=function(a){a=a.getBody();this.sendNotification(e.CHANGE_CONTENT,{from:this.media.getData(),to:a});this.media.updateData(a);this.sendNotification(e.UPDATE_DATA_BINDINGS);this.sendNotification(e.CHANGE_CONTENT,this.media.getData())};var ae=function(){ae.__super__.constructor.call(this)};g(ae,F);ae.prototype.execute=function(a){this.sendNotification(e.DISPLAY_TIME,{currentTime:this.playback.getCurrentTime(),
duration:this.playback.getDuration()});ae.__super__.execute.call(this,a)};var Ze=function(){Ze.__super__.constructor.call(this)};g(Ze,I);Ze.prototype.execute=function(a){this.playback.setMuted(!this.playback.getMuted())};var Bc=function(a){null==this.cssPrefix&&(this.cssPrefix=Qc.PREFIX);Bc.__super__.constructor.call(this,this.mediatorName,a)};g(Bc,puremvc.Mediator);Bc.prototype.config=null;Bc.prototype.cssPrefix=null;Bc.prototype.classList=null;Bc.prototype.initializeNotifier=function(a){Bc.__super__.initializeNotifier.call(this,
a);this.config=(this.facade.player||this.facade).retrieveProxy(x.NAME);this.classList={prefix:this.cssPrefix,element:this.viewComponent,contains:function(a,d){var f,p;null==d&&(d=this.element);f=this.prefix+a;return null!=(null!=(p=d.classList)?p.contains:void 0)?d.classList.contains(f):-1!==d.className.indexOf(f)},add:function(a,d){var f,p;null==d&&(d=this.element);f=this.prefix+a;null!=(null!=(p=d.classList)?p.add:void 0)?d.classList.add(f):this.contains(a,d)||(d.className=""!==d.className?d.className+
(" "+f):f)},remove:function(a,d){var f,p;null==d&&(d=this.element);f=this.prefix+a;null!=(null!=(p=d.classList)?p.remove:void 0)?d.classList.remove(f):this.contains(a,d)&&(f=RegExp(" ?"+f),d.className=d.className.replace(f,""))},toggle:function(a,d){var f;null==d&&(d=this.element);return null!=(null!=(f=d.classList)?f.toggle:void 0)?d.classList.toggle(this.prefix+a):this.contains(a,d)?this.remome(a,d):this.add(a,d)}}};var Tc=function(a){Tc.__super__.constructor.call(this,a)};g(Tc,Bc);Tc.prototype.localizationManager=
null;Tc.prototype.initializeNotifier=function(a){Tc.__super__.initializeNotifier.call(this,a);this.localizationManager=(this.facade.player||this.facade).retrieveProxy(ma.NAME)};var S=function(a,c,d,f){this.componentName=null!=a?a:this.componentName;this.componentType=null!=c?c:this.componentType;this.viewComponent=this.createViewComponent(d,f);this.classList=this.viewComponent._classList;null==this.mediatorName&&(this.mediatorName=this.createMediatorName());S.__super__.constructor.call(this,this.viewComponent)};
g(S,Tc);S.prototype.componentName=null;S.prototype.componentType=null;S.prototype.classList=null;S.prototype.state=null;S.prototype.disabled=!1;S.prototype.onRegister=function(){gb.bindEvents(this.viewComponent,this)};S.prototype.createViewComponent=function(a,c){var d;d=this.getTypeList();return gb.create(d,a,c)};S.prototype.createMediatorName=function(){var a;a=this.getTypeList();a.push("mediator");a.push(gb.createUID());return a.join("-")};S.prototype.getTypeList=function(){var a;a=[];null!=this.componentName&&
a.push(this.componentName);null!=this.componentType&&(a=a.concat(this.componentType));return a};S.prototype.create=function(a,c,d,f){null==c&&(c=this);!1===c&&(c=null);return gb.create(a,c,d,f)};S.prototype.createText=function(a,c,d,f){null==d&&(d=this);return gb.create(a,d,f,c)};S.prototype.setState=function(a){if(a!==this.state)return null!=this.state&&this.classList.remove(this.state),this.state=a,null!=this.state&&this.classList.add(this.state),a};S.prototype.getState=function(){return this.state};
S.prototype.setDisabled=function(a){if(a!==this.disabled)return(this.disabled=a)?this.classList.add("disabled"):this.classList.remove("disabled"),a};S.prototype.getDisabled=function(){return this.disabled};var ha=function(){ha.__super__.constructor.call(this,null,null,null,null)};g(ha,S);ha.prototype.componentType="overlay";ha.prototype.onRegister=function(){ha.__super__.onRegister.call(this);this.registerOverlay()};ha.prototype.onRemove=function(){ha.__super__.onRemove.call(this);this.removeOverlay()};
ha.prototype.registerOverlay=function(){this.sendNotification(e.ADD_OVERLAY,this.viewComponent)};ha.prototype.removeOverlay=function(){this.sendNotification(e.REMOVE_OVERLAY,this.viewComponent)};var qc=function(){qc.__super__.constructor.call(this)};g(qc,ha);qc.prototype.componentName="context-menu";qc.prototype.contextMenu=null;qc.prototype.onRegister=function(){var a=this;qc.__super__.onRegister.call(this);m.create(this.facade.viewComponent,m.CONTEXTMENU,function(c){c.preventDefault();a.contextMenuHandler(c);
return!1})};qc.prototype.contextMenuHandler=function(a){var c=this;this.contextMenu&&this.removeContextMenu();this.contextMenu=gb.create("context-menu",document.body,"ul");gb.create("context-item",this.contextMenu,"li",this.facade.getVersion());this.contextMenu.style.top=a.pageY+"px";this.contextMenu.style.left=a.pageX+"px";m.create(document.body,m.CLICK,function(a){c.removeContextMenu(a);return!1})};qc.prototype.removeContextMenu=function(a){try{m.clear(document.body,m.CLICK),document.body.removeChild(this.contextMenu),
this.contextMenu=null}catch(c){}};var Cc=function(){Cc.__super__.constructor.call(this)};g(Cc,ha);Cc.prototype.componentName="end-slate";Cc.prototype.onRegister=function(){null!=this.config.getEndSlate()&&Cc.__super__.onRegister.call(this)};Cc.prototype.listNotificationInterests=function(){return[e.MEDIA_CHANGE]};Cc.prototype.handleNotification=function(a){var c,d,f;switch(a.getName()){case e.MEDIA_CHANGE:d=a.getBody(),c=this.config.getEndSlate(),f=this.getViewComponent(),a="",null!=c&&(c=!0===c.usePoster?
d.poster:c.url,null!=c&&""!==c&&(a='\x3cimg src\x3d"'+c+'" class\x3d"end-slate-image" /\x3e')),f.innerHTML=a}};var Dc=function(){Dc.__super__.constructor.call(this)};g(Dc,ha);Dc.prototype.componentName="waiting";Dc.prototype.bar=null;Dc.prototype.text=null;Dc.prototype.onRegister=function(){this.bar=this.create("waiting-bar");this.text=this.createText("waiting-text",this.localizationManager.getString(w.MSG_BUFFERING));Dc.__super__.onRegister.call(this)};var $e=function(){$e.__super__.constructor.call(this)};
g($e,ha);$e.prototype.componentName="loading";var w=function(){};w.MSG_LIVE="MSG_LIVE";w.MSG_REPLAY="MSG_REPLAY";w.MSG_BUFFERING="MSG_BUFFERING_TEXT";w.MSG_CC="MSG_CC";w.MSG_CC_TITLE="MSG_CC_TITLE";w.MSG_CC_LANGUAGE="MSG_CC_LANGUAGE";w.MSG_CC_PRESETS="MSG_CC_PRESETS";w.MSG_CC_FONT="MSG_CC_FONT";w.MSG_CC_EDGE="MSG_CC_EDGE";w.MSG_CC_SIZE="MSG_CC_SIZE";w.MSG_CC_SCROLL="MSG_CC_SCROLL";w.MSG_CC_COLOR="MSG_CC_COLOR";w.MSG_CC_BACKGROUND="MSG_CC_BACKGROUND";w.MSG_CC_EDGE="MSG_CC_EDGE";w.MSG_CC_WINDOW="MSG_CC_WINDOW";
w.MSG_CC_OPACITY="MSG_CC_OPACITY";w.MSG_CC_SHOW_ADVANCED="MSG_CC_SHOW_ADVANCED";w.MSG_CC_HIDE_ADVANCED="MSG_CC_HIDE_ADVANCED";w.MSG_CC_RESET="MSG_CC_RESET";w.MSG_CC_CANCEL="MSG_CC_CANCEL";w.MSG_CC_APPLY="MSG_CC_APPLY";w.MSG_SECONDS="MSG_SECONDS";w.MSG_RECOMMENDATIONS_TITLE="MSG_RECOMMENDATIONS_TITLE";w.MSG_NEXT_VIDEO="MSG_NEXT_VIDEO";w.MSG_NEXT_AD="MSG_NEXT_AD";w.MSG_TIME_SEPARATOR="MSG_TIME_SEPARATOR";w.MSG_VIEW_ALL="MSG_VIEW_ALL";w.MSG_VIDEO="MSG_VIDEO";var Zb=function(){Zb.__super__.constructor.call(this)};
g(Zb,ha);Zb.prototype.componentName="replay";Zb.prototype.replay=null;Zb.prototype.icon=null;Zb.prototype.label=null;Zb.prototype.onRegister=function(){this.replay=this.create("replay-button");this.replay.onclick=this.onclick.bind(this);this.icon=this.create("replay-icon",this.replay);this.label=this.createText("replay-label",this.localizationManager.getString(w.MSG_REPLAY),this.replay);Zb.__super__.onRegister.call(this)};Zb.prototype.onclick=function(a){a.stopImmediatePropagation();this.sendNotification(e.REPLAY);
return!1};var af=function(){af.__super__.constructor.call(this)};g(af,I);af.prototype.execute=function(a){a="persistent"!==this.config.getControls().mode?a.getBody():Sa.ACTIVE;this.applicationState.setActiveState(a)};var xb=function(){xb.__super__.constructor.call(this);this.keyHandler=this.keypress.bind(this)};g(xb,F);xb.interval=null;xb.keyHandler=null;xb.prototype.keypress=function(a){switch(a.keyCode){case 32:this.facade.getEnded()||(this.facade.getPaused()?this.facade.play():this.facade.pause())}};
xb.prototype.execute=function(a){var c,d,f,p=this;a=a.getBody();this.applicationState.setDisplayState(a);"external"!==this.config.getFullscreen().mode&&(c=this.facade.getMediaElement(),f=this.facade.getViewComponent(),d={},null!=f.webkitRequestFullScreen?(d.enter=f.webkitRequestFullScreen.bind(f),d.exit=null!=document.webkitExitFullscreen?document.webkitExitFullscreen.bind(document):document.webkitCancelFullScreen.bind(document),d.event="onwebkitfullscreenchange",d.element="webkitFullscreenElement",
d.error="webkitfullscreenerror"):null!=f.requestFullscreen?(d.enter=f.requestFullscreen.bind(f),d.exit=null!=document.exitFullscreen?document.exitFullscreen.bind(document):document.cancelFullscreen.bind(document),d.event="onfullscreenchange",d.element="fullscreenElement",d.error="fullscreenerror"):null!=f.mozRequestFullScreen?(d.enter=f.mozRequestFullScreen.bind(f),d.exit=document.mozCancelFullScreen.bind(document),d.event="onmozfullscreenchange",d.element="mozFullscreenElement",d.error="mozfullscreenerror"):
null!=f.msRequestFullscreen?(d.enter=f.msRequestFullscreen.bind(f),d.exit=document.msExitFullscreen.bind(document),d.event="MSFullscreenChange",d.element="msFullscreenElement",d.error="MSFullscreenError"):null!=c.webkitEnterFullscreen&&(d.enter=c.webkitEnterFullscreen.bind(c),d.exit=c.webkitExitFullscreen.bind(c),d.event=null,d.error=null),a===Y.FULL_SCREEN?(null!=d.event?f[d.event]=function(a){null==document[d.element]&&p.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL)}:(clearInterval(xb.interval),
xb.interval=setInterval(function(){!0!==c.webkitDisplayingFullscreen&&(p.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL),clearInterval(xb.interval))},100)),null!=d.error&&document.addEventListener(d.error,this.facade.logger.error.bind(this.facade.logger)),d.enter(),this.playback.keyHandler=this.keypress.bind(this),window.addEventListener("keypress",this.playback.keyHandler)):a===Y.NORMAL&&(window.removeEventListener("keypress",this.playback.keyHandler),this.playback.keyHandler=null,null!=d&&"function"===
typeof d.exit&&d.exit(),c[d.event]=null,clearInterval(xb.interval)));this.sendNotifications(a)};xb.prototype.sendNotifications=function(a){setTimeout(this.sendNotification.bind(this,e.FULL_SCREEN_CHANGE,a),100);this.dispatchEvent("fullscreenchange",a===Y.FULL_SCREEN)};var Uc=function(){Uc.__super__.constructor.call(this)};g(Uc,F);Uc.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);a.getBody()&&!0!==this.playback.initialized&&this.sendNotification(e.INITIALIZED);!0===this.playback.initialized&&
(this.media.getSrc()||this.media.getSource())&&(this.playback.getStarted()||this.sendNotification(e.START),this.playback.play(),Uc.__super__.execute.call(this,a))};var bf=function(){bf.__super__.constructor.call(this)};g(bf,I);bf.prototype.execute=function(a){a=this.applicationState.getActiveState()===Sa.ACTIVE?Sa.INACTIVE:Sa.ACTIVE;this.sendNotification(e.CHANGE_ACTIVE_STATE,a)};var u=function(a){u.__super__.constructor.call(this,a)};g(u,H);u.prototype.moduleName="amp";u.prototype.playerType=null;
u.prototype.config=null;u.prototype.mediaElement=null;u.prototype.hidden=!1;u.prototype.l10n=null;u.prototype.setViewComponent=function(a){a.amp=this;return u.__super__.setViewComponent.call(this,a)};u.prototype.setMediaElement=function(a){return this.mediaElement=a};u.prototype.getPlayerType=function(){return this.playerType};u.prototype.getVersion=function(){return q.getVersion()};u.prototype.createPlugins=function(){this.sendNotification($a.REGISTER_PLUGINS,this.config)};u.prototype.createMediaElement=
function(){return null};u.prototype.createFramework=function(){u.__super__.createFramework.call(this);this.mediaElement=this.createMediaElement();this.createPlugins()};u.prototype.getLanguage=function(){return this.retrieveProxy(ma.NAME).getLanguage()};u.prototype.setLanguage=function(a){this.retrieveProxy(ma.NAME).setLanguage(a);return a};u.prototype.getMediaElement=function(){return this.mediaElement};u.prototype.getContainer=function(){return this.getViewComponent()};u.prototype.evaluateBinding=
function(a){};u.prototype.canPlayType=function(a){};u.prototype.load=function(){};u.prototype.play=function(){};u.prototype.replay=function(){};u.prototype.pause=function(){};u.prototype.end=function(){};u.prototype.setParams=function(a){};u.prototype.getParams=function(){};u.prototype.setAutoplay=function(a){};u.prototype.getAutoplay=function(){};u.prototype.setLoop=function(a){};u.prototype.getLoop=function(){};u.prototype.setMuted=function(a){};u.prototype.getMuted=function(){};u.prototype.mute=
function(){return this.setMuted(!0)};u.prototype.unmute=function(){return this.setMuted(!1)};u.prototype.setMedia=function(a){var c,d,f;c=a.src;a=null!=(d=a.source)?null!=(f=d[0])?f.src:void 0:void 0;if(!(null!=c&&""!==c||null!=a&&""!==a))throw Error("[AMP ERROR] Invalid Media");};u.prototype.getMedia=function(){};u.prototype.setCurrentTime=function(a){};u.prototype.getCurrentTime=function(){};u.prototype.getDuration=function(){};u.prototype.setSrc=function(a){};u.prototype.getSrc=function(){};u.prototype.setSource=
function(a){};u.prototype.getSource=function(){};u.prototype.setVolume=function(a){};u.prototype.getVolume=function(){};u.prototype.getSeeking=function(){};u.prototype.getPaused=function(){};u.prototype.getEnded=function(){};u.prototype.setDisplayState=function(a){};u.prototype.getDisplayState=function(){};u.prototype.enterFullScreen=function(){};u.prototype.exitFullScreen=function(){};u.prototype.setHidden=function(a){a!==this.hidden&&(this.hidden=a,a=this.viewComponent.style,this.hidden?(this.hiddenData=
{width:a.width,height:a.height,paused:this.getPaused()},a.width=a.height="0px",!1===this.hiddenData.paused&&this.pause()):(a.width=this.hiddenData.width,a.height=this.hiddenData.height,!1===this.hiddenData.paused&&this.play(),this.hiddenData=null))};u.prototype.getHidden=function(){return this.hidden};u.prototype.recordContentChange=function(a){};u.prototype.setPlaybackRate=function(){};u.prototype.getPlaybackRate=function(){};var z=function(a){z.__super__.constructor.call(this,a)};g(z,u);z.prototype.playerType=
"html";z.prototype.media=null;z.prototype.bindings=null;z.prototype.configuration=null;z.prototype.params=null;z.prototype.appState=null;z.prototype.security=null;z.prototype.playerCore=null;z.prototype.createMediaElement=function(){var a,c;a=new Vc("html5","video");c=a.getViewComponent();null==c.dataset&&(c.dataset={});this.sendNotification(e.PLAYBACK_CORE_CHANGE,a);return c};z.prototype.createModel=function(){var a;this.bindings=new ta;this.registerProxy(this.bindings);this.security=new Ja;this.registerProxy(this.security);
this.configuration=new P(this.config);this.registerProxy(this.configuration);this.registerProxy(new ma(this.config));this.appState=new N;this.registerProxy(this.appState);this.appState.setRenderMode(Hg.HTML);a=new r;this.registerProxy(a);this.media=new s;this.registerProxy(this.media);this.playerCore=new da(a);this.registerProxy(this.playerCore);this.params=new $b(this.config.params);this.registerProxy(this.params);this.bindings.initialize()};z.prototype.createView=function(){var a,c,d;this.registerMediator(new Ka("html5",
this.getViewComponent()));this.registerMediator(new yb);this.registerMediator(new Wc);this.registerMediator(new zb);a=new Ab;this.registerMediator(a);this.registerMediator(new $e);!0!==(null!=(c=this.config.controls)?c["native"]:void 0)&&this.registerMediator(new qc);this.registerMediator(new Dc);this.registerMediator(new Zb);this.registerMediator(new Cc);!0===(null!=(d=this.config.titlebar)?d.enabled:void 0)&&this.registerMediator(new Lb);this.registerMediator(new ac)};z.prototype.createController=
function(){z.__super__.createController.call(this);this.registerCommand($a.PLUGINS_INITIALIZED,Pd);this.registerCommand(e.PLAY,Uc);this.registerCommand(e.PLAYING,Sd);this.registerCommand(e.PAUSE,Rc);this.registerCommand(e.CHANGE_PLAY_STATE,ld);this.registerCommand(e.TOGGLE_FULL_SCREEN,Ne);this.registerCommand(e.CHANGE_DISPLAY_STATE,xb);this.registerCommand(e.TOGGLE_ACTIVE,bf);this.registerCommand(e.CHANGE_ACTIVE_STATE,af);this.registerCommand(e.SET_MEDIA,be);this.registerCommand(e.CHANGE_MEDIA,ce);
this.registerCommand(e.MEDIA_VALIDATED,Td);this.registerCommand(e.MEDIA_CHANGE,md);this.registerCommand(e.UPDATE_DATA_BINDINGS,de);this.registerCommand(e.START,Wd);this.registerCommand(e.SEEK,Ud);this.registerCommand(e.SEEKING,Vd);this.registerCommand(e.SEEKED,Re);this.registerCommand(e.CHANGE_VOLUME,Qe);this.registerCommand(e.CHANGE_MUTED,Ve);this.registerCommand(e.CHANGE_AUTOPLAY,Oe);this.registerCommand(e.CHANGE_LOOP,Pe);this.registerCommand(e.END,Te);this.registerCommand(e.ENDED,Sc);this.registerCommand(e.REPLAY,
Se);this.registerCommand(e.ERROR,nd);this.registerCommand(e.READY,ee);this.registerCommand(e.WAITING,Xd);this.registerCommand(e.CHANGE_DURATION,fe);this.registerCommand(e.CHANGE_PARAMS,ge);this.registerCommand(e.IS_USER_ACTIVE,Ue);this.registerCommand(ca.CHECK_AUTHORIZATION,Yd);this.registerCommand(ca.AUTHORIZED,Zd);this.registerCommand(ca.SET_KEY,od);this.registerCommand(ca.SET_TOKEN,pd);this.registerCommand(e.INITIALIZED,We);this.registerCommand(e.REGISTER_PLAYBACK_CORE,Xe);this.registerCommand(T.TOGGLE_PLAY_PAUSE,
Rd);this.registerCommand(T.SEEK,Ud);this.registerCommand(e.PLAYBACK_TARGET_CHANGE,$d);this.registerCommand(e.RECORD_CONTENT_CHANGE,Ye);this.registerCommand(e.TIME_UPDATE,ae);this.registerCommand(e.TOGGLE_MUTED,Ze);this.registerCommand(e.PLAY_STATE_CHANGE,F);this.registerCommand(e.PROGRESS,F);this.registerCommand(e.CAN_PLAY,F);this.registerCommand(e.CAN_PLAY_THROUGH,F);this.registerCommand(e.VOLUME_CHANGE,F);this.registerCommand(e.LOAD_START,F);this.registerCommand(e.STARTED,F);this.registerCommand(e.LOADED_METADATA,
F);this.registerCommand(e.DURATION_CHANGE,F);this.registerCommand(e.MEDIUM_CHANGE,F);this.registerCommand(e.TEMPORAL_TYPE_CHANGE,F);this.registerCommand(e.LANGUAGE_CHANGE,F);this.registerCommand(e.PLAYBACK_TARGET_AVAILABLE,F);this.registerCommand(ca.AUTHORIZE,F);this.registerCommand(ca.AUTHORIZATION_FAILED,F);this.registerCommand(e.FAIL_OVER_ATTEMPT,F);this.registerCommand(e.PLAY_REQUEST,F);this.registerCommand(e.PAUSED,F)};z.prototype.evaluateBinding=function(a){return this.bindings.evaluateBinding(a)};
z.prototype.recordContentChange=function(a){this.sendNotification(e.RECORD_CONTENT_CHANGE,a)};z.prototype.canPlayType=function(a){return this.retrieveProxy(r.NAME).canPlayType(a)};z.prototype.load=function(){this.sendNotification(e.LOAD)};z.prototype.play=function(){this.sendNotification(e.PLAY,!0)};z.prototype.replay=function(){this.sendNotification(e.REPLAY)};z.prototype.pause=function(){this.sendNotification(e.PAUSE)};z.prototype.end=function(){this.sendNotification(e.END)};z.prototype.setParams=
function(a){this.sendNotification(e.CHANGE_PARAMS,a);return a};z.prototype.getParams=function(){return this.params.getData()};z.prototype.setAutoplay=function(a){this.sendNotification(e.CHANGE_AUTOPLAY,a);return a};z.prototype.getAutoplay=function(){var a;return this.retrieveProxy(r.NAME).initialized&&(this.configuration.getAutoplay()||!0===(null!=(a=this.getMedia())?a.autoplay:void 0))};z.prototype.setLoop=function(a){this.sendNotification(e.CHANGE_LOOP,a);return a};z.prototype.getLoop=function(){return this.configuration.getLoop()};
z.prototype.setMuted=function(a){this.sendNotification(e.CHANGE_MUTED,a);return a};z.prototype.getMuted=function(){return this.retrieveProxy(r.NAME).getMuted()};z.prototype.setMedia=function(a){z.__super__.setMedia.call(this,a);this.sendNotification(e.SET_MEDIA,a);return a};z.prototype.getMedia=function(){return this.media.getData()};z.prototype.setCurrentTime=function(a){this.sendNotification(e.SEEK,a);return a};z.prototype.getCurrentTime=function(){return this.retrieveProxy(r.NAME).getCurrentTime()};
z.prototype.getDuration=function(){return this.media.getDuration()};z.prototype.setSrc=function(a){this.sendNotification(e.SET_MEDIA,{src:a});return a};z.prototype.getSrc=function(){return this.retrieveProxy(r.NAME).getSrc()};z.prototype.setSource=function(a){this.sendNotification(e.SET_MEDIA,{source:a});return a};z.prototype.getSource=function(){return this.media.getSource()};z.prototype.setVolume=function(a){this.sendNotification(e.CHANGE_VOLUME,a);return a};z.prototype.getVolume=function(){return this.retrieveProxy(r.NAME).getVolume()};
z.prototype.getSeeking=function(){return this.retrieveProxy(r.NAME).getSeeking()};z.prototype.getPaused=function(){return this.retrieveProxy(r.NAME).getPaused()};z.prototype.getEnded=function(){return this.retrieveProxy(r.NAME).getEnded()};z.prototype.setDisplayState=function(a){this.sendNotification(e.CHANGE_DISPLAY_STATE,a)};z.prototype.getDisplayState=function(a){return this.appState.getDisplayState()};z.prototype.enterFullScreen=function(){this.sendNotification(e.CHANGE_DISPLAY_STATE,Y.FULL_SCREEN)};
z.prototype.exitFullScreen=function(){this.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL)};z.prototype.setPlaybackRate=function(a){this.mediaElement.playbackRate=a};z.prototype.getPlaybackRate=function(){return this.mediaElement.playbackRate};var Ja=function(){Ja.__super__.constructor.call(this,this.constructor.NAME,{});this.setupHDN1()};g(Ja,puremvc.Proxy);Ja.NAME="SecurityProxy";Ja.prototype.setupHDN1=function(){var a=this;return window.retrieveToken=function(c,d){var f;try{a.facade.logger.debug("[AMP AUTH] HDN1: Token Requested",
c,d),f=a.getToken(),null!=f?a.facade.getMediaElement().tokenRetrievalSuccess("\x26primaryToken\x3d"+f):a.sendNotification(ca.AUTHORIZE)}catch(p){a.facade.logger.error("[AMP AUTH ERROR]: Token Retrival Error",p)}return!0}};Ja.prototype.getKey=function(){return this.data.key};Ja.prototype.setKey=function(a){return this.data.key=a};Ja.prototype.getToken=function(){return this.data.token};Ja.prototype.setToken=function(a){return this.data.token=a};Ja.prototype.getSecret=function(){var a;if(null==this.data.token)return null;
a="";null!=this.data.key&&(a+=this.data.key);return a+=this.data.token};Ja.prototype.createURL=function(a){var c;c=this.getSecret();null!=c&&(a+=/\?/.test(a)?"\x26":"?",a+=c);return a};Ja.prototype.getAuthorized=function(){return this.data.authorized};Ja.prototype.setAuthorized=function(a){return this.data.authorized=a};Ja.prototype.getProvider=function(){return this.data.provider};Ja.prototype.setProvider=function(a){return this.data.provider=a};var na=function(a){na.__super__.constructor.call(this,
a)};g(na,x);na.NAME=x.NAME;na.prototype.bindings=null;na.prototype.configurationName=null;na.prototype.configurationData=null;na.prototype.contextName=null;na.prototype.contextData=null;na.prototype.value=null;na.prototype.getConfigurationName=function(){return this.configurationName};na.prototype.getConfigurationData=function(){return this.configurationData.value||{}};na.prototype.getContextName=function(){return this.contextName};na.prototype.getContextData=function(){return this.contextData};na.prototype.onRegister=
function(){var a;a=this.facade.player||this.facade;null==this.configurationName&&(this.configurationName=this.facade.moduleName);this.bindings=a.retrieveProxy(ta.NAME);this.bindings.registerConfiguration(this)};na.prototype.setData=function(a){var c,d,f;null==a&&(a={});this.data={};f=this.defaults;for(c in f)d=f[c],this.data[c]=c in a?a[c]:d;this.configurationData=new Ec(this.data);return this.data};na.prototype.getValue=function(a){var c;this.bindings.update();this.value[a]=null!=(c=this.configurationData.data[a])?
c.compile(this.bindings.getData()):void 0;return this.value[a]};na.prototype.compile=function(a,c){null==c&&(c=!1);if(null==this.configurationData)return null;null==a&&(a=this.bindings.getData());null!=this.contextName&&null!=this.contextData&&(a=h.clone(a),a[this.contextName]=this.contextData);this.configurationData.compile(a,c);return this.value=this.configurationData.value};var Mb=function(a,c){this.app=a;this.config=c;Mb.__super__.constructor.call(this,this.constructor.NAME);this.proxy=new ma(this.config);
this.app.registerProxy(this.proxy)};g(Mb,puremvc.Mediator);Mb.prototype.player=null;Mb.prototype.config=null;Mb.prototype.proxy=null;Mb.NAME="LocalizationWrapper";Mb.prototype.getString=function(a){return this.proxy.getString(a)};Mb.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};Mb.prototype.handleNotification=function(a){var c,d,f,p,e,ka,g,h;Mb.__super__.handleNotification.call(this,a);e=a.getName();a=a.getBody();switch(e){case "createFlashVars":f=a.flashvars;
d=a.config;null!=d.language&&(f.locale_setting=d.language);break;case "createXML":for(d in e=a.xml,c=e.firstChild,a=e.getElementsByTagName("locales")[0],null==a&&(a=e.createElement("locales"),c.appendChild(a)),h=this.config.locales,h)for(f in p=h[d],c=e.createElement("locale"),c.setAttribute("id",d),a.appendChild(c),p)g=p[f],ka=e.createElement("property"),ka.setAttribute("key",f),g=R.createTextContent(e,g),ka.appendChild(g),c.appendChild(ka)}};var Vc=function(a,c){this.mediatorName="#@{getComponentType()}-mediator";
Vc.__super__.constructor.call(this,a,null,null,c)};g(Vc,S);Vc.prototype.componentType="media-element";var hb=function(){hb.__super__.constructor.call(this)};g(hb,S);hb.prototype.componentType="layer";hb.prototype.onRegister=function(){hb.__super__.onRegister.call(this);this.registerLayer()};hb.prototype.onRemove=function(){hb.__super__.onRemove.call(this);this.removeLayer()};hb.prototype.registerLayer=function(){this.sendNotification(e.ADD_LAYER,this.viewComponent)};hb.prototype.removeLayer=function(){this.sendNotification(e.REMOVE_LAYER,
this.viewComponent)};var Wc=function(){Wc.__super__.constructor.call(this)};g(Wc,hb);Wc.prototype.componentName="video";Wc.prototype.listNotificationInterests=function(){return[e.PLAYBACK_CORE_CHANGE]};Wc.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case e.PLAYBACK_CORE_CHANGE:c=this.facade.getMediaElement(),null!=c&&this.viewComponent.removeChild(c),c=(null!=a?"function"===typeof a.getViewComponent?a.getViewComponent():void 0:void 0)||a,this.facade.setMediaElement(c),
null!=c&&this.viewComponent.appendChild(c)}};var Ka=function(a,c){this.componentName=a;this.layers=[];Ka.__super__.constructor.call(this,null,null,null,c)};g(Ka,S);Ka.prototype.componentType="player";Ka.prototype.core=null;Ka.prototype.medium=null;Ka.prototype.layers=null;Ka.prototype.ready=!1;Ka.prototype.onRegister=function(){var a;Ka.__super__.onRegister.call(this);a=h.getDevice();null!=a&&this.classList.add(a)};Ka.prototype.listNotificationInterests=function(){return[e.DISPLAY_STATE_CHANGE,e.ACTIVE_STATE_CHANGE,
e.PLAY_STATE_CHANGE,e.ADD_APPLICATION_STATE,e.REMOVE_APPLICATION_STATE,e.MEDIUM_CHANGE,e.DURATION_CHANGE,e.TEMPORAL_TYPE_CHANGE,e.ADD_LAYER,e.REMOVE_LAYER,e.READY]};Ka.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case e.ACTIVE_STATE_CHANGE:case e.PLAY_STATE_CHANGE:case e.DISPLAY_STATE_CHANGE:case e.MEDIUM_CHANGE:c=a.newState;a=a.oldState;null!=a&&this.classList.contains(a)&&this.classList.remove(a);null!=c&&this.classList.add(c);break;case e.ADD_APPLICATION_STATE:this.classList.add(a);
break;case e.REMOVE_APPLICATION_STATE:this.classList.remove(a);break;case e.TEMPORAL_TYPE_CHANGE:"live"===a?this.sendNotification(e.ADD_APPLICATION_STATE,"live"):this.sendNotification(e.REMOVE_APPLICATION_STATE,"live");break;case e.DURATION_CHANGE:3600<a?this.sendNotification(e.ADD_APPLICATION_STATE,"long-form"):this.sendNotification(e.REMOVE_APPLICATION_STATE,"long-form");break;case e.ADD_LAYER:this.addLayer(a);break;case e.REMOVE_LAYER:this.removeLayer(a);break;case e.READY:this.initialize()}};
Ka.prototype.initialize=function(){var a,c,d,f;this.ready=!0;f=this.layers;c=0;for(d=f.length;c<d;c++)a=f[c],this.viewComponent.contains(a)||this.viewComponent.appendChild(a)};Ka.prototype.addLayer=function(a){this.layers.push(a);this.ready&&this.viewComponent.appendChild(a)};Ka.prototype.removeLayer=function(a){this.viewComponent.contains(a)&&this.viewComponent.removeChild(a);a=this.layers.indexOf(a);0<=a&&this.layers.splice(a,1)};var rc=function(a){rc.__super__.constructor.call(this,this.type,a)};
g(rc,Ka);rc.NAME="FlashPlayerMediator";rc.prototype.type="flash";rc.prototype.listNotificationInterests=function(){return rc.__super__.listNotificationInterests.call(this).concat([$a.PLUGINS_INITIALIZED])};rc.prototype.handleNotification=function(a){var c;c=a.getName();a.getBody();switch(c){case e.READY:return;case $a.PLUGINS_INITIALIZED:this.initialize();return}rc.__super__.handleNotification.call(this,a)};var od=function(){od.__super__.constructor.call(this)};g(od,F);od.prototype.execute=function(a){this.security.setKey(a.getBody());
od.__super__.execute.call(this,a)};var pd=function(){pd.__super__.constructor.call(this)};g(pd,F);pd.prototype.execute=function(a){this.security.setToken(a.getBody());this.security.setAuthorized(!0);pd.__super__.execute.call(this,a)};var O={START_AUTHENTICATION:"aisauthenticationstarted",AUTHENTICATED:"aisauthenticated",AUTHENTICATING:"aisauthenticating",AUTHENTICATION_COMPLETE:"aisauthenticationcomplete",CHOOSE_AUTH_PROVIDER:"aischooseprovider",CHOOSE_PLAY_OPTIONS:"aischooseplayoptions",LAUNCH_IDP_LOGIN:"aislaunchidplogin"},
A=function(){A.__super__.constructor.call(this)};g(A,I);A.prototype.plugin=null;A.prototype.proxy=null;A.prototype.initializeNotifier=function(a){A.__super__.initializeNotifier.call(this,a);this.proxy=this.facade.retrieveProxy(x.NAME);this.plugin=this.facade};var cf=function(){cf.__super__.constructor.call(this)};g(cf,A);cf.prototype.execute=function(a){this.proxy().vcsSet(0)};var df=function(){};df.setCookie=function(a,c,d,f,p){var e;c=escape(c);null!=d&&(e=new Date,e.setDate(e.getDate()+d),c+="; expires\x3d"+
e.toUTCString());null!=p&&(c+="; domain\x3d"+p);null!=f&&(c+="; path\x3d"+f);return document.cookie=a+"\x3d"+c};df.getCookie=function(a){var c,d,f,p,e,ka;d=document.cookie.split(";");e=0;for(ka=d.length;e<ka;e++)if(c=d[e],f=c.indexOf("\x3d"),p=c.substr(0,f).replace(/^\s+|\s+$/g,""),c=unescape(c.substr(f+1)),p===a)return c};df.deleteCookie=function(a){return this.setCookie(a,"",-1)};var ef=function(){ef.__super__.constructor.call(this)};g(ef,A);ef.prototype.execute=function(a){this.proxy.vcsSet(this.proxy.currentTime)};
var ff=function(){ff.__super__.constructor.call(this)};g(ff,A);ff.prototype.execute=function(a){a=Math.floor(a.getBody());0!==a&&0===a%30&&a!==this.proxy.currentTime&&this.proxy.vcsSet(a);this.proxy.currentTime=a};var la=function(a){la.__super__.constructor.call(this,a)};g(la,na);la.NAME=x.NAME;la.prototype.enabled=!0;la.prototype.plugin=null;la.prototype.setEnabled=function(a){return this.enabled=a};la.prototype.getEnabled=function(){return this.enabled};la.prototype.createPlugin=function(){};la.prototype.initialize=
function(){this.plugin=this.createPlugin()};la.prototype.error=function(a){this.facade.logger.error("[AMP "+this.facade.getModuleName().toUpperCase()+" Error]",a)};var K=function(a){K.__super__.constructor.call(this,a)};g(K,la);K.NAME=x.NAME;K.prototype.client=null;K.prototype.currentTime=null;K.prototype.idps=null;K.prototype.idp=null;K.prototype.token=null;K.prototype.authz=null;K.prototype.defaults={platformID:null,resourceID:null,contentID:null,responseTargets:null,logos:{base:null,group:null,
key:"full"}};K.prototype.getScript=function(){return this.value.plugin};K.prototype.initialize=function(){this.client=window.ais_client;this.client.setLogging(this.facade.logger.enabled);this.client.setPlatformId(this.value.platformID);this.client.setUseCache(!/MSIE [7-8]/.test(navigator.userAgent));this.client.assignhandler("bounce",this.bounceHandler.bind(this));this.client.assignhandler("chooser",this.chooserHandler.bind(this));this.client.assignhandler("init",this.initHandler.bind(this));this.client.assignhandler("authz_query",
this.authz_queryHandler.bind(this));this.client.assignhandler("identity",this.identityHandler.bind(this));this.client.assignhandler("logout_result",this.logoutHandler.bind(this));this.client.assignhandler("vcs",this.vcsHandler.bind(this));window.onunload=function(){}};K.prototype.authorize=function(){this.token=this.authz=null;this.disengage();this.sendNotification(O.START_AUTHENTICATION)};K.prototype.authorized=function(a){null==a&&(a=this.token);this.engage();this.sendNotification(O.AUTHENTICATION_COMPLETE);
this.sendNotification(ca.AUTHORIZED,a)};K.prototype.play=function(a){this.sendNotification(e.INITIALIZED);this.sendNotification(e.PLAY);if(null!=a)return this.sendNotification(e.SEEK,a)};K.prototype.engage=function(){this.facade.registerCommand(e.TIME_UPDATE,ff);this.facade.registerCommand(e.PAUSE,ef);this.facade.registerCommand(e.ENDED,cf)};K.prototype.disengage=function(){this.facade.removeCommand(e.TIME_UPDATE);this.facade.removeCommand(e.PAUSE);this.facade.removeCommand(e.ENDED)};K.prototype.logout=
function(){var a,c,d;a=(null!=(c=this.idp.window_display)?c.method:void 0)||"redirect";c=this.getTarget(a);this.setRedirect(a);switch(a){case "redirect":window.open(this.client.logoutFormat(c),"_top");break;case "popup":d=this.idp.window_display.width||320,a=this.idp.window_display.height||240,window.open(this.client.logoutFormat(c),"ais_popup","width\x3d"+d+",height\x3d"+a)}};K.prototype.bounce=function(a){this.client.bounce()};K.prototype.init=function(a){this.client.init()};K.prototype.choose=
function(){this.client.chooser()};K.prototype.resourceAccess=function(a){null==a&&(a=this.value.resourceID);this.client.resourceAccess(a)};K.prototype.vcsSet=function(a){a=h.formatTimecode(a);return this.client.vcsSet(this.value.contentID,a)};K.prototype.bounceHandler=function(a,c){var d;d="true"===c.authenticated.toString();!1===d?(this.sendNotification(e.DISPATCH_EVENT,new Z("authenticationfailed")),this.sendNotification(ca.AUTHORIZATION_FAILED),this.choose()):!0===d&&this.init()};K.prototype.initHandler=
function(a,c){var d,f,p,l;this.idp=c.idps;this.facade.idps={};p=c.idps;for(d in p){p=p[d];this.facade.idps.key=d;for(f in p)l=p[f],this.facade.idps[f]=l;break}for(d in c)p=c[d],"idps"!==d&&null!=p&&(this.facade[d]=p);this.facade.idps.logo=this.value.logos.base+this.facade.idps.logos[this.value.logos.key];this.facade.player.sendNotification(e.REMOVE_APPLICATION_STATE,"authenticating");this.sendNotification(O.AUTHENTICATED,this.facade.idps);this.resourceAccess(this.value.resourceID)};K.prototype.chooserHandler=
function(a,c){this.facade.sendNotification(e.ADD_APPLICATION_STATE,"authenticating");c.possible_idps=this.idps=this.sort(c.possible_idps,"value","display_name");this.sendNotification(O.CHOOSE_AUTH_PROVIDER,c)};K.prototype.launchIDPLogin=function(a){var c,d,f;this.sendNotification(O.AUTHENTICATING,!0);c=this.idps[a];d=(null!=(f=c.window_display)?f.method:void 0)||"redirect";f=this.getTarget(d);this.setRedirect(d);switch(d){case "redirect":window.open(this.client.loginFormat(a,f),"_top");break;case "popup":d=
c.window_display.width||320,c=c.window_display.height||240,window.open(this.client.loginFormat(a,f),"ais_popup","width\x3d"+d+",height\x3d"+c)}};K.prototype.identityHandler=function(a,c){};K.prototype.authz_queryHandler=function(a,c){var d;d="true"===c.authorization.toString();!1===d?(this.sendNotification(ca.AUTHORIZATION_FAILED),this.authorize()):!0===d&&(this.authz=c,d={mvpdName:this.facade.idps.name,viewerId:this.client.aisuid,"std:viewerId":this.client.aisuid},this.facade.player.setParams({mvpdname:d.mvpdName}),
this.facade.player.sendNotification("mediaanalytics:setDimensions",d),this.facade.viewerId=this.client.aisuid,d=c.resource,null!=d&&(this.facade.resource=d),this.token="hdnea\x3d"+c.security_token,this.sendNotification(ca.SET_KEY,"hdnea\x3d"),this.sendNotification(ca.SET_TOKEN,c.security_token),this.sendNotification(O.AUTHENTICATING,!1),null!=this.value.contentID?this.client.vcsGet(this.value.contentID):this.authorized(this.token))};K.prototype.logoutHandler=function(a,c){top.location.href=top.location.href};
K.prototype.vcsHandler=function(a,c){"get"===c.operation&&("00:00:00"===c.ph_pos||"00:00"===c.ph_pos?(this.client.vcsSet(this.value.contentID,c.ph_pos),this.authorized(this.token)):this.sendNotification(O.CHOOSE_PLAY_OPTIONS,h.flattenTimecode(c.ph_pos)))};K.prototype.sort=function(a,c,d){var f,p,e,ka,g;ka={};f=[];p=0;for(e in a)g=a[e],f[p]={key:e,value:g[d]},p++;f.sort(function(a,d){var f,p;f="value"===c?a.value.toLowerCase():a.key.toLowercase();p="value"===c?d.value.toLowerCase():d.key.toLowercase();
return f<p?-1:f>p?1:0});p=d=0;for(e=f.length;d<e;p=++d)p=f[p],ka[p.key]=a[p.key];return ka};K.prototype.setRedirect=function(a){var c,d,f;try{c=/\/dev\./,f=window.top.location.href||window.top.location,d=c.test(f)?f.replace(c,"/"):null,df.setCookie(this.getTarget(a),f,1,"/",d)}catch(p){}};K.prototype.getTarget=function(a){null==a&&(a="redirect");return this.value.responseTargets[a]};var r=function(){r.__super__.constructor.call(this,r.NAME);this.data={core:null,muted:!1,started:!1,volume:1,currentTime:0,
duration:0,src:null,ended:!1,paused:!1,seeking:!1,loading:!1};"desktop"===h.getDevice()&&(this.initialized=!0);this.handlers={timeupdate:this.ontimeupdate.bind(this),durationchange:this.ondurationchange.bind(this),play:this.onplay.bind(this),playing:this.onplaying.bind(this),pause:this.onpause.bind(this),loadeddata:this.onloadeddata.bind(this),waiting:this.onwaiting.bind(this),seeking:this.onseeking.bind(this),seeked:this.onseeked.bind(this),ended:this.onended.bind(this),progress:this.onprogress.bind(this),
error:this.onerror.bind(this),loadstart:this.onloadstart.bind(this),canplay:this.oncanplay.bind(this),canplaythrough:this.oncanplaythrough.bind(this),loadedmetadata:this.onloadedmetadata.bind(this)};this.resumeHandlers={seeked:this.resumeseeked.bind(this),loadedmetadata:this.resumeloadedmetadata.bind(this)}};g(r,puremvc.Proxy);r.NAME="PlaybackProxy";r.prototype.data=null;r.prototype.initialized=!1;r.prototype.enabled=null;r.prototype.handlers=null;r.prototype.resumeHandlers=null;r.prototype.playWhenLoaded=
!1;r.prototype.metadataloaded=!1;r.prototype.getEnabled=function(){return this.enabled};r.prototype.setEnabled=function(a){if(a!==this.enabled)return this.enabled=a,!0===this.enabled?this.load():this.applyHandlers(!1),a};r.prototype.applyHandlers=function(a){var c,d,f,p;null==a&&(a=!0);f=this.getMediaElement();a=a?"addEventListener":"removeEventListener";p=this.handlers;for(d in p)c=p[d],f[a](d,c)};r.prototype.resumeloadedmetadata=function(a){var c;c=a.target;c.removeEventListener("loadedmetadata",
this.resumeHandlers.loadedmetadata);this.handlers.durationchange(a);0<this.data.currentTime?(c.addEventListener("seeked",this.resumeHandlers.seeked),setTimeout(this.seek.bind(this),0)):this.resumecomplete()};r.prototype.resumeseeked=function(a){a.target.removeEventListener("seeked",this.resumeHandlers.seeked);this.resumecomplete()};r.prototype.resumecomplete=function(){this.data.loading=!1;this.applyHandlers(!0);!0===this.playWhenLoaded&&setTimeout(this.play.bind(this),0)};r.prototype.ontimeupdate=
function(a){this.data.currentTime=a.target.currentTime;this.sendNotification(e.TIME_UPDATE,this.data.currentTime)};r.prototype.ondurationchange=function(a){var c;c=this.getMediaElement().duration;c===this.data.duration||0===c||isNaN(c)||(this.data.duration=c,/Android 4/.test(navigator.userAgent)&&-1!==a.target.src.indexOf(".m3u8")||this.sendNotification(e.CHANGE_DURATION,c))};r.prototype.onplay=function(a){this.data.paused=!1};r.prototype.onplaying=function(a){this.data.paused=!1;this.data.seeking=
!1;this.sendNotification(e.PLAYING)};r.prototype.onpause=function(a){!0!==this.data.seeking&&(this.data.paused=!0,0<a.target.readyState&&(this.sendNotification(e.PAUSED),this.sendNotification(e.CHANGE_PLAY_STATE,L.PAUSED)))};r.prototype.onloadeddata=function(a){this.sendNotification(e.LOADED_DATA)};r.prototype.onwaiting=function(a){this.sendNotification(e.WAITING)};r.prototype.onseeking=function(a){a.target.removeEventListener("timeupdate",this.handlers.timeupdate);this.data.seeking=!0;this.sendNotification(e.SEEKING)};
r.prototype.onseeked=function(a){this.data.seeking=!1;this.sendNotification(e.SEEKED);a.target.addEventListener("timeupdate",this.handlers.timeupdate)};r.prototype.onended=function(a){this.data.ended=!0;this.sendNotification(e.ENDED)};r.prototype.onprogress=function(a){var c,d;try{d=a.target,c=d.buffered,this.sendNotification(e.PROGRESS,c.end(c.length-1)/d.duration)}catch(f){}};r.prototype.onerror=function(a){this.sendNotification(e.ERROR,a.target.error)};r.prototype.onloadstart=function(a){this.sendNotification(e.LOAD_START)};
r.prototype.oncanplay=function(a){this.sendNotification(e.CAN_PLAY)};r.prototype.oncanplaythrough=function(a){this.sendNotification(e.CAN_PLAY_THROUGH);this.sendNotification(e.PROGRESS,this.getDuration())};r.prototype.onloadedmetadata=function(a){this.metadataloaded=!0;this.sendNotification(e.ENABLE_FULL_SCREEN);this.sendNotification(e.LOADED_METADATA)};r.prototype.reset=function(){this.data.currentTime=0;this.data.duration=0;this.data.src=null;this.data.ended=!1;this.data.paused=!1;this.data.seeking=
!1;this.data.started=!1;this.data.loading=!1};r.prototype.getStarted=function(){return this.data.started};r.prototype.getMediaElement=function(){return this.facade.getMediaElement()};r.prototype.canPlayType=function(a){var c;c=this.getMediaElement().canPlayType(a)||"";(/Android 4\.[1-9]/.test(navigator.userAgent)||/Silk\/3/.test(navigator.userAgent))&&a===h.mimeTypes.m3u8&&(c="maybe");"probably"===c&&/video\/f4m|x-flv/.test(a)&&/UCBrowser/.test(navigator.userAgent)&&(c="");return c};r.prototype.getPaused=
function(){return this.data.paused};r.prototype.getEnded=function(){return this.data.ended};r.prototype.getSeeking=function(){return this.data.seeking};r.prototype.getCurrentTime=function(){return this.data.currentTime};r.prototype.setCurrentTime=function(a){if(a!==this.data.currentTime)return this.data.currentTime=a,this.getStarted()&&this.seek(a),a};r.prototype.seek=function(a){null==a&&(a=this.data.currentTime);this.getMediaElement().currentTime=a};r.prototype.getSrc=function(){return this.data.src};
r.prototype.setSrc=function(a){null!=a&&""!==a||this.sendNotification(e.ERROR,"The value of src is not supported: "+a);this.reset();return this.data.src=a};r.prototype.getVolume=function(){return this.getMediaElement().volume};r.prototype.setVolume=function(a){0<=a&&1>=a&&a!==this.getMediaElement().volume&&this.sendNotification(e.VOLUME_CHANGE,this.getMediaElement().volume=a);return a};r.prototype.getMuted=function(){return this.data.muted};r.prototype.setMuted=function(a){var c;this.data.muted=a;
!0===this.data.muted?(this.data.volume=this.getVolume(),c=0):c=this.data.volume;this.sendNotification(e.CHANGE_VOLUME,c);return a};r.prototype.getDuration=function(){return this.data.duration};r.prototype.play=function(){if(!0!==this.data.started){if(this.data.started=!0,this.setEnabled(!0),this.playWhenLoaded=!0,!1===this.metadataloaded)return}else if(!0===this.data.loading){this.playWhenLoaded=!0;return}this.getMediaElement().play()};r.prototype.pause=function(){this.data.paused=!0;this.getMediaElement().pause()};
r.prototype.load=function(){var a,c;this.data.loading=!0;this.metadataloaded=this.playWhenLoaded=!1;a=this.getMediaElement();a.addEventListener("loadedmetadata",this.handlers.loadedmetadata);a.addEventListener("loadedmetadata",this.resumeHandlers.loadedmetadata);a.addEventListener("durationchange",this.handlers.durationchange);a.addEventListener("canplaythrough",this.handlers.canplaythrough);a.addEventListener("error",this.handlers.error);a.src=this.data.src;h.isIPad()&&8>(null!=(c=h.getIOSversion())?
c[0]:void 0)?setTimeout(a.load.bind(a),100):a.load()};var gf=function(){gf.__super__.constructor.call(this)};g(gf,puremvc.SimpleCommand);gf.prototype.execute=function(a){var c,d;a=this.facade.retrieveProxy(s.NAME);c=this.facade.retrieveProxy(Ja.NAME);d=a.getSrc()||"";-1===d.indexOf(".smil")&&(d=c.createURL(d));a.setSrc(d);this.facade.getMediaElement().authenticationComplete({media:a.getData()})};var Bb=function(a){this.supportedTypes=null!=a?a:this.supportedTypes;Bb.__super__.constructor.call(this)};
g(Bb,r);Bb.prototype.supportedTypes=null;Bb.prototype.playbackCoreName=null;Bb.prototype.getPlaybackCoreName=function(){return this.playbackCoreName};Bb.prototype.getSupportedTypes=function(){return this.supportedTypes};Bb.prototype.setSupportedTypes=function(a){return this.supportedTypes=a};Bb.prototype.canPlayType=function(a){return-1!==this.getSupportedTypes().indexOf(a)?"maybe":""};var oa=function(a){this.player=a;oa.__super__.constructor.call(this)};g(oa,Bb);oa.NAME=r.NAME;oa.prototype.player=
null;oa.prototype.initialized=!0;oa.prototype.playbackCoreName="flash";oa.prototype.supportedTypes=["video/mp4","video/x-flv","video/f4m","application/smil","application/smil+xml"];oa.prototype.getPaused=function(){return this.player.getPaused()};oa.prototype.getEnded=function(){return this.player.getEnded()};oa.prototype.getSeeking=function(){return this.player.getSeeking()};oa.prototype.getCurrentTime=function(){return this.player.getCurrentTime()};oa.prototype.setCurrentTime=function(a){this.player.setCurrentTime(a);
return a};oa.prototype.getSrc=function(){return this.player.getSrc()};oa.prototype.setSrc=function(a){this.player.setSrc(a);return a};oa.prototype.getVolume=function(){return this.player.getVolume()};oa.prototype.setVolume=function(a){this.player.setVolume(a);return a};oa.prototype.getMuted=function(){return this.player.getMuted()};oa.prototype.setMuted=function(a){this.player.setMuted(a);return a};oa.prototype.getDuration=function(a){return this.player.getDuration()};oa.prototype.play=function(){this.player.play()};
oa.prototype.pause=function(){this.player.pause()};oa.prototype.load=function(){this.player.load()};var n=function(a){this.flashObjectID+=Date.now();this.plugins={};this.displayState=Y.NORMAL;this.debug=/debug\=true/.test(location.search);n.__super__.constructor.call(this,a)};g(n,u);n.prototype.initialize=function(a,c){this.config=a;this.parentModule=c;this.createDefaults();n.__super__.initialize.call(this,this.config,this.parentModule)};n.prototype.createFramework=function(){var a,c,d,f,p,e,ka=this;
n.__super__.createFramework.call(this);d=this.config.flash||{};a=!0===(null!=(c=d["static"])?c.enabled:void 0)?d["static"]:d;p=this.debug&&null!=a.debug?a.debug:a.swf||"amp.swf";e=d.version||"10.1";c=this.evaluatePaths(d.expressInstallSWF)||"playerProductInstall.swf";f=this.createParams(d);a=this.createAttributes(d);this.flashvars=this.createFlashVars(d);null==this.flashvars.settings_url&&(d=this.createXML(this.config),null!=d&&(this.flashvars.settings_xml=d));swfobject.embedSWF(this.evaluatePaths(p),
this.flashObjectID,"100%","100%",e,c,this.flashvars,f,a,function(a){ka.createdHandler(a)})};n.prototype.playerType="flash";n.prototype.flashObjectID="flashObject";n.prototype.playState=null;n.prototype.loaded=!1;n.prototype.flashvars=null;n.prototype.seeking=!1;n.prototype.paused=!1;n.prototype.ended=!1;n.prototype.muted=!1;n.prototype.plugins=null;n.prototype.debug=!1;n.prototype.started=!1;n.prototype.displayState=null;n.prototype.media=null;n.prototype.bindings=null;n.prototype.configuration=null;
n.prototype.params=null;n.prototype.appState=null;n.prototype.security=null;n.prototype.playback=null;n.prototype.configuration=null;n.prototype.flashPluginIds=["AkamaiAdvancedStreamingPlugin","ErrorMessagingPlugin","VideoMetricsViewPlugin","VideoStatsInfoOverlayPlugin"];n.prototype.createModel=function(){this.appState=new N;this.registerProxy(this.appState);this.bindings=new ta;this.registerProxy(this.bindings);this.security=new Ja;this.registerProxy(this.security);this.media=new s;this.registerProxy(this.media);
this.playback=new oa(this);this.registerProxy(this.playback);this.configuration=new P(this.config);this.registerProxy(this.configuration)};n.prototype.createView=function(){this.registerMediator(new rc(this.getViewComponent()));this.registerMediator(new Wc);this.registerMediator(new Ab);this.registerMediator(new Mb(this,this.config))};n.prototype.createController=function(){n.__super__.createController.call(this);this.registerCommand(ca.AUTHORIZED,gf);this.registerCommand(ca.SET_TOKEN,pd);this.registerCommand(ca.SET_KEY,
od);this.registerCommand(e.CHANGE_PLAY_STATE,ld);this.registerCommand(e.PLAY_STATE_CHANGE,F)};n.prototype.createMediaElement=function(){var a,c;a=new Vc("flash","div");c=a.getViewComponent();c.id=c.name=this.flashObjectID;this.sendNotification(e.PLAYBACK_CORE_CHANGE,a);return c};n.prototype.createDefaults=function(){var a,c,d,f,p,e,ka;if(!(0<!(null!=(c=this.flashPluginIds)&&c.length))){d=this.config.resources||[];f=h.mimeTypes.swf;ka=this.flashPluginIds;p=0;for(e=ka.length;p<e;p++)a=ka[p],c=q.defaults.flash[a],
null!=c&&0===d.filter(function(c){return c.id===a}).length&&(c.type=f,c.id=a,d.push(c));this.config.resources=d}};n.prototype.createParams=function(a){var c;c={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"};null!=a.params&&(null!=a.params.allowFullScreen&&(c.allowFullScreen=a.params.allowFullScreen),null!=a.params.allowScriptAccess&&(c.allowScriptAccess=a.params.allowScriptAccess),null!=a.params.wmode&&(c.wmode=a.params.wmode),null!=a.params.bgColor&&(c.bgColor=a.params.bgColor));
"direct"===c.wmode&&/MSIE/.test(navigator.userAgent)&&(c.wmode="transparent");return c};n.prototype.getModules=function(){return this.plugins};n.prototype.createPlugins=function(){var a,c,d,f,p;p=q.plugins;for(d in p)if(a=p[d],d in this.config&&!1!==this.config[d].enabled)if(a=a[this.getPlayerType()],null==a)this.logger.debug("[AMP FLASH]","Plugin could not be found",d);else try{f=this[d]=this.plugins[d]=new a(this,this.config[d]),this.registerMediator(this.plugins[d]),c="function"===typeof f.getFeatureName?
f.getFeatureName():void 0,null!=c&&(this[c]=f),this.logger.debug("[AMP FLASH]","Plugin Registered",d)}catch(e){this.error("Plugin Error: "+d+": "+(e.message||e.toString()),e)}this.sendNotification($a.PLUGINS_INITIALIZED,this.plugins)};n.prototype.createAttributes=function(a){var c;c={id:this.flashObjectID,name:this.flashObjectID};null!=a.attributes&&(null!=a.attributes.id&&(c.id=a.attributes.id),null!=a.attributes.name&&(c.name=a.attributes.name));return c};n.prototype.createFlashJSON=function(a,
c){var d,f;null==a&&(a=this.config);a=JSON.stringify(a);a=this.evaluatePaths(a);a=JSON.parse(a);f=function(a,c,f){switch(typeof f){case "string":a[c]=escape(f);break;case "object":d(f)}};d=function(a){var c,d,e,g;if(a instanceof Array)for(c=e=0,g=a.length;e<g;c=++e)d=a[c],f(a,c,d);else if("object"===typeof a)for(c in a)d=a[c],f(a,c,d)};d(a);return escape(JSON.stringify(a,null,c))};n.prototype.createFlashVars=function(a){var c,d,f,p,e,ka;c={};f=JSON.parse(JSON.stringify(this.config));f.flash=null;
delete f.flash;f.locales=null;delete f.locales;f.params=null;delete f.params;f.rules=null;delete f.rules;c.settings_json=this.createFlashJSON(f);null!=this.config.autoplay&&(c.auto_play=this.config.autoplay);null!=this.config.rules&&h.mergeRules(this.config.rules);c.hinting_rules=escape(JSON.stringify(h.rules));null!=this.config.volume&&(c.volume=h.clamp(this.config.volume,0,1));null!=this.config.target&&(c.external_target=this.config.target);null!=this.config.name&&(c.core_player_name=this.config.name);
null!=this.config.domain&&(c.embed_domain=c.domain=this.config.domain);c.auto_replay=!0===this.config.loop;null!=this.config.fullscreen&&(c.fullscreen_enabled=!1!==this.config.fullscreen.enabled&&"external"!==this.config.fullscreen.mode);null!=this.config.titlebar&&(c.titlebar_enabled=!1!==this.config.titlebar.enabled);null!=this.config.params&&(c.params=escape(JSON.stringify(this.config.params)));null!=this.config.version&&(c.context_menu_label=this.config.version);null!=(null!=(p=this.config.controls)?
p.displaySceneMarkers:void 0)&&(c.displaySceneMarkers=this.config.controls.displaySceneMarkers);null!=this.config.media&&(null!=this.config.media.src&&(this.setSrc(this.config.media.src),c.video_url=escape(this.config.media.src)),null!=this.config.media.source&&0<this.config.media.source.length&&(this.setSource(this.config.media.source),c.video_url=escape(this.media.getSrc())),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),c.medium=this.config.media.medium),null!=this.config.media.title&&
(c.title=escape(this.config.media.title)),null!=this.config.media.poster&&(c.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(c.temporalType=this.config.media.temporalType));"audio"===this.getMedium()&&(c.controls=!0,c.auto_hide=-1);null!=(null!=(e=this.config.ima)?null!=(ka=e.overlay)?ka.delay:void 0:void 0)&&(c.overlay_ad_delay=this.config.ima.overlay.delay);null!=this.config.ticker&&!1!==this.config.ticker.enabled&&(null!=this.config.ticker.url&&(c.ticker_text_url=
this.config.ticker.url),null!=this.config.ticker.interval&&(c.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(c.ticker_speed=this.config.ticker.speed));c.show_play_button_overlay=!1;c.auto_play_list=!1;c.next_video_timer=0;null==c.context_menu_mode&&(c.context_menu_mode=!0===this.debug?"long":"short");this.sendNotification("createFlashVars",{flashvars:c,config:this.config});if(null!=a.vars)for(d in f=a.vars,f)a=f[d],c[d]=a;return c};n.prototype.createXML=function(a){var c,
d,f,p,e,ka,g,k,m,n,q,r;if(null!=(null!=a?null!=(c=a.flash)?c.xml:void 0:void 0)){c=R.parse(a.flash.xml);1<c.childNodes.length&&c.removeChild(c.firstChild);this.sendNotification("createXML",{config:a,xml:c});ka=function(a){var c,d,f,e,l,g;e=a.resources;d=[];if(e instanceof Array&&0<(null!=e?e.length:void 0))for(l=0,g=e.length;l<g;l++)f=e[l],f.type===m&&(f=h.clone(f),!0===p?null!=f.main&&""!==f.main?(f.src=f.main,f.type="static"):f.type="dynamic":null!=f.src&&""!==f.src?f.type="dynamic":(f.src=f.main,
f.type="static"),delete f.main,d.push(f));for(c in a)f=a[c],null!=(e=null!=f?f.resources:void 0)&&e instanceof Array&&0<e.length&&(d=d.concat(ka(f)));return d};m=h.mimeTypes.swf;k=ka(this.config);p=!0===(null!=(e=a.flash["static"])?e.enabled:void 0);if(0<(null!=k?k.length:void 0))for(e=c.getElementsByTagName("plugins"),1>e.length?(e=c.createElement("plugins"),c.firstChild.appendChild(e)):e=e[0],q=0,r=k.length;q<r;q++){g=k[q];a=c.createElement("plugin");for(f in g)n=g[f],"src"!==f?a.setAttribute(f,
n):("id"===f&&"AkamaiAdvancedStreamingPlugin"===n&&!0===this.debug&&(n=n.replace("AkamaiAdvancedStreamingPlugin.swf","AkamaiAdvancedStreamingPlugin-logging.swf")),a.appendChild(R.createTextContent(c,n)));e.appendChild(a)}f=null!=(d=this.config.fullscreen)?d.mode:void 0;if(null!=f)for(f=c.getElementsByTagName("element"),k=0,a=f.length;k<a;k++)d=f[k],"fullscreenBtn"===d.getAttribute("id")&&d.setAttribute("action","external");c=R.serialize(c);c=c.match(/<application>[\w\W\s\S\d\D]*<\/application>/)[0]||
c;c=c.replace(/[\n\r\t]/g,"");c=this.evaluatePaths(c);return escape(c)}};n.prototype.createdHandler=function(a){var c=this;this.mediaElement=a.ref;this.mediaElement.className=Qc.PREFIX+Vc.prototype.componentType;this.mediaElement.eventHandler=function(a,f){return c.eventHandler(a,f)};this.sendNotification("flashCreated");null!=this.getMedium()&&this.setMedium(this.getMedium())};n.prototype.eventHandler=function(a,c){var d,f,p,l,g,v;try{switch(a){case "mediaPlayerInitialized":l=p="ready";break;case "mediaPlayerReset":null==
c&&(p="ready");this.started=!1;break;case "mediaPlayerLoading":l="loadstart";break;case "mediaPlayerError":l=p="error";break;case "mediaError":l=p="error";break;case "mediaPlayerErrorStreamNotFound":l=p="error";break;case "mediaPlayerCapabilityChange":f=c.type;"canPlayChange"===f&&!0===c.enabled?(l="canplay",this.loaded=!0):"canSeekChange"===f&&!0===c.enabled?l="canplaythrough":"temporalChange"===f&&!0===c.enabled&&(l="loadedmetadata");break;case "mediaPlayerPlaybackOpen":l="started";this.started=
!0;break;case "mediaPlayerPlaying":this.started||this.sendNotification(e.PLAY,c);l=p="playing";this.paused=this.ended=!1;break;case "mediaPlayerElementEvent":"fullscreenBtn"===c.element&&"click"===c.type&&"external"===(null!=(g=this.config)?null!=(v=g.fullscreen)?v.mode:void 0:void 0)&&(p=this.getDisplayState()===Y.FULL_SCREEN?Y.NORMAL:Y.FULL_SCREEN,this.setDisplayState(p));break;case "mediaPlayerPlaybackSequenceInitiated":l="playrequest";this.loaded=!0;break;case "mediaPlayerResumeOrPausePlayback":"paused"!==
this.playState&&this.started&&(l="play");break;case "mediaPlayerPlaybackSequenceComplete":l=p="ended";this.ended=!0;break;case "mediaPlayerPaused":l="pause";p="paused";this.paused=!0;break;case "mediaPlayerBuffering":"ended"!==this.className&&(l=p="waiting");break;case "mediaPlayerDurationChange":isNaN(c.time)||(l="durationchange",c=c.time);break;case "mediaPlayerVolumeChanged":l="volumechange";break;case "mediaPlayerPlayheadUpdate":l="timeupdate";break;case "mediaPlayerSeekingChange":l=c.seeking?
"seeking":"seeked";this.seeking=c.seeking;break;case "mediaPlayerFullscreenChange":l="fullscreenchange";c="fullScreen"===c.displayState;this.applyDisplayState(c?Y.FULL_SCREEN:Y.NORMAL);break;case "mediaPlayerFailoverAttempt":l="failoverattempt";break;case "error":a=null;break;case "mediaPlayerAuthenticate":l=ca.AUTHORIZE}null!=a&&a!==l&&(f=new Z(a,c),f.dispatcher="FLASH",this.sendNotification(e.DISPATCH_EVENT,f),this.sendNotification(a,c));null!=l&&("error"===l&&(d=c.error||c,this.error("Flash Error",
d)),this.sendNotification(l,c),this.sendNotification(e.DISPATCH_EVENT,new Z(l,c)));null!=p&&this.setPlayState(p)}catch(h){this.error("Event Error: "+a,h)}};n.prototype.error=function(a,c){this.logger.error("[AMP FLASH ERROR]",a,c)};n.prototype.excludedFlashEvents=/(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/;n.prototype.logFlashEvents=!1;n.prototype.logEvent=function(a){"FLASH"===a.dispatcher&&!1===this.logFlashEvents||!0===this.excludedFlashEvents.test(a.type)||
n.__super__.logEvent.call(this,a)};n.prototype.setPlayState=function(a){var c;if(a!==this.playState)return c={newState:a,oldState:this.playState},this.playState=a,this.sendNotification(e.PLAY_STATE_CHANGE,c),a};n.prototype.setMedia=function(a){n.__super__.setMedia.call(this,a);null!=this.playState&&this.setPlayState("ready");this.media.setData(a);null!=a.src&&this.setSrc(a.src);null!=a.source&&0<a.source.length&&this.setSource(a.source);this.sendNotification(e.MEDIA_CHANGE,a);this.loaded=!0;this.mediaElement.loadURL(this.media.getSrc(),
this.media.getData());return a};n.prototype.getMedia=function(){return this.media.getData()};n.prototype.load=function(){this.loaded=!0;this.mediaElement.loadURL(this.media.getSrc())};n.prototype.play=function(){this.loaded||this.load();this.mediaElement.unpause()};n.prototype.setMuted=function(a){this.muted=a;try{!0===a?this.mediaElement.mute():this.mediaElement.unmute()}catch(c){this.error("Flash muted error",c)}return a};n.prototype.getMuted=function(){return this.muted};n.prototype.getSrc=function(a){return this.mediaElement.getURL()};
n.prototype.setSrc=function(a){this.media.setSrc(a);this.loaded=!1;this.setMedium(h.getMimeType(a));return a};n.prototype.setAutoplay=function(a){this.mediaElement.setPlayerProperty("autoplay",a);return a};n.prototype.getAutoplay=function(){return this.mediaElement.getPlayerProperty("autoplay")};n.prototype.getMedium=function(){return this.media.getData().medium};n.prototype.setMedium=function(a){var c,d;c=this.media.getData();if(a!==c.medium)return null!=c.medium&&(d="medium-"+c.medium),c=c.medium=
/audio/.test(a)?"audio":"video",this.sendNotification(e.MEDIUM_CHANGE,{newState:"medium-"+c,oldState:d}),a};n.prototype.setSource=function(a){var c,d=this;if(!(null==a||1>a.length)){c=this.media.getData();c.source=a;this.loaded=!1;c=h.selectSource(a,function(a){return d.canPlayType(a)});if(null!=(null!=c?c.src:void 0)&&""!==c.src)this.setSrc(c.src),"undefined"!==typeof type&&null!==type&&this.setMedium(type);else throw Error("No valid source could be found");return a}};n.prototype.getSource=function(a){return this.media.getData().source};
n.prototype.getSeeking=function(){return this.seeking};n.prototype.getPaused=function(){return this.paused};n.prototype.getEnded=function(){return this.ended};n.prototype.getFlashXML=function(){var a,c;c=unescape(this.flashvars.settings_xml);a=R.parse(c);a.toString=function(){return c};return a};n.prototype.getFlashVars=function(){return this.flashvars};n.prototype.getFlashJSON=function(){return JSON.parse(unescape(this.flashvars.settings_json))};n.prototype.evaluateBinding=function(a){return this.mediaElement.evaluateBinding(a)};
n.prototype.canPlayType=function(a){return 0<=Me.call(h.flashTypes,a)?"maybe":""};n.prototype.replay=function(){this.mediaElement.replay()};n.prototype.pause=function(){this.mediaElement.pause()};n.prototype.end=function(){this.mediaElement.stopPlayer()};n.prototype.getCurrentTime=function(a){return this.mediaElement.getCurrentTime()};n.prototype.setCurrentTime=function(a){this.mediaElement.jumpToTime(a);return a};n.prototype.getParams=function(){return this.mediaElement.getParams()};n.prototype.setParams=
function(a){this.mediaElement.setParams(a);return a};n.prototype.getVolume=function(){return this.mediaElement.getVolume()};n.prototype.setVolume=function(a,c){this.mediaElement.setVolume(a,c||"");return a};n.prototype.getDuration=function(){return this.mediaElement.getDuration()};n.prototype.getDisplayState=function(a){return this.displayState};n.prototype.setDisplayState=function(a){var c;if(a!==this.displayState&&(this.applyDisplayState(a),"external"!==(null!=(c=this.config.fullscreen)?c.mode:
void 0)))return this.displayState===Y.FULL_SCREEN?this.mediaElement.enterFullScreen():this.mediaElement.exitFullScreen(),a};n.prototype.applyDisplayState=function(a){var c;a!==this.displayState&&(c={newState:a,oldState:this.displayState},this.displayState=a,this.sendNotification(e.DISPLAY_STATE_CHANGE,c),this.sendNotification(e.DISPATCH_EVENT,new Z("fullscreenchange",this.displayState===Y.FULL_SCREEN)))};n.prototype.enterFullScreen=function(){this.setDisplayState(Y.FULL_SCREEN)};n.prototype.exitFullScreen=
function(){this.setDisplayState(Y.NORMAL)};n.prototype.recordContentChange=function(a){this.mediaElement.recordContentChange(a)};var Kb=function(a){this.module=a;Kb.__super__.constructor.call(this,a.getModuleName(),this)};g(Kb,puremvc.Mediator);Kb.prototype.module=null;Kb.prototype.mediator=null;Kb.prototype.initializeNotifier=function(a){var c,d=this;Kb.__super__.initializeNotifier.call(this,a);c=this.module.listNotificationPublications();null!=c&&(this.mediator=new puremvc.Mediator(this.facade.getModuleName()),
this.mediator.listNotificationInterests=function(){return c},this.mediator.handleNotification=function(a){d.facade.sendNotification(a.getName(),a.getBody(),a.getType())})};Kb.prototype.onRegister=function(){null!=this.mediator&&this.module.registerMediator(this.mediator)};Kb.prototype.onRemove=function(){null!=this.mediator&&this.module.removeMeditator(this.mediator)};Kb.prototype.listNotificationInterests=function(){return this.module.listNotificationInterests()};Kb.prototype.handleNotification=
function(a){this.module.sendNotification(a.getName(),a.getBody(),a.getType())};var e={STARTUP:"startup",LOAD:"load",PAUSE_REQUEST:"pauserequest",TOGGLE_PLAY_PAUSE:"togglePlayPause",CHANGE_PLAY_STATE:"chageplaystate",PLAY_STATE_CHANGE:"playstatechange",TOGGLE_FULL_SCREEN:"toggleFullScreen",CHANGE_DISPLAY_STATE:"chageDisplayState",DISPLAY_STATE_CHANGE:"displayStateChange",FULL_SCREEN_CHANGE:"fullscreenchange",DISABLE_FULL_SCREEN:"disableFullScreen",ENABLE_FULL_SCREEN:"enableFullScreen",LANGUAGE_CHANGE:"languagechange",
TOGGLE_ACTIVE:"toggleActive",CHANGE_ACTIVE_STATE:"changeactivestate",ACTIVE_STATE_CHANGE:"activestatechange",CHANGE_MEDIA:"changeMedia",SET_MEDIA:"setmedia",MEDIA_VALIDATED:"mediavalidated",UPDATE_DATA_BINDINGS:"updatedatabindings",CHANGE_VOLUME:"changevolume",CHANGE_MUTED:"changemuted",TOGGLE_MUTED:"togglemuted",SEEK:"seek",CHANGE_DURATION:"changeduration",CHANGE_AUTOPLAY:"changeAutoplay",CHANGE_LOOP:"changeLoop",PLAYBACK_CORE_CHANGE:"playbackCoreChange",START:"start",END:"end",REPLAY:"replay",LOAD_FEED:"loadFeed",
REGISTER_PLUGIN:"registerPlugin",REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",ADD_LAYER:"addLayer",REMOVE_LAYER:"removeLayer",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",ADD_CONTROL:"addControl",REMOVE_CONTROL:"removeControl",ADD_CONTROL_STATE:"addControlState",REMOVE_CONTROL_STATE:"removeControlState",ADD_APPLICATION_STATE:"addApplicationState",REMOVE_APPLICATION_STATE:"removeApplicationState",DISPATCH_EVENT:"dispatchEvent",CHANGE_PARAMS:"changeParams",ADD_CUE_POINTS:"addCuePoints",
REMOVE_CUE_POINTS:"removeCuePoints",INITIALIZED:"initialized",REGISTER_PLAYBACK_CORE:"registerPlaybackCore",REMOVE_PLAYBACK_CORE:"removePlaybackCore",DISPLAY_TIME:"displaytime",IS_USER_ACTIVE:"isUserActive",LOADED_METADATA:"loadedmetadata",READY:"ready",ERROR:"error",ENDED:"ended",STARTED:"started",DURATION_CHANGE:"durationchange",SEEKING:"seeking",SEEKED:"seeked",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",LOADED_DATA:"loadeddata",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",PROGRESS:"progress",
MEDIA_CHANGE:"mediachange",WAITING:"waiting",PLAY:"play",PLAYING:"playing",PAUSE:"pause",PAUSED:"paused",PLAY_REQUEST:"playrequest",MEDIUM_CHANGE:"mediumchange",TEMPORAL_TYPE_CHANGE:"temporaltypechange",VOLUME_CHANGE:"volumechange",FAIL_OVER_ATTEMPT:"failoverattempt",PLAYBACK_TARGET_CHANGE:"playbacktargetchange",PLAYBACK_TARGET_AVAILABLE:"playbacktargetavailable",RECORD_CONTENT_CHANGE:"recordcontentchange",CHANGE_CONTENT:"changecontent",CONTENT_CHANGED:"contentchanged"},wb=function(){};wb.SINGLE=
/^\s*#{([^#{}]+)}\s*$/;wb.TOKEN=/#{([^#}]*)}/g;wb.RETURN="return ";wb.EVENT="event";wb.ELEMENT="element";wb.PATHS="paths";wb.eval=function(a,c,d,f,p){var e,g;if(null==a)return a;e=null!=(g=this.SINGLE.exec(a))?g[1]:null;return null!=e?this.evalBinding(e,c,d,f,p):this.evalString(a,c,d,f,p)};wb.evalString=function(a,c,d,f,p){return a.replace(this.TOKEN,this.replaceBinding.bind(this,c,d,f,p))};wb.replaceBinding=function(a,c,d,f,p,e,g,v){return this.evalBinding(e,a,c,d,f)};wb.evalBinding=function(a,c,
d,f,p){var e;try{e=this.exec(a,c,d,f,p)}catch(g){e="#{"+a+"}"}return e};wb.exec=function(a,c,d,f,p){return(new Function(this.EVENT,this.ELEMENT,this.PATHS,this.RETURN+a)).bind(c)(d,f,p)};var Od=function(){Od.__super__.constructor.call(this)};g(Od,puremvc.SimpleCommand);Od.prototype.execute=function(a){var c;c=this.facade.player||this.facade;a=a.getBody();a.player=c;this.facade.dispatchEvent(a)};var Fc=function(){};Fc.construct=function(){var a,c,d;d=this.deserialize(window.location.search);for(a in d)c=
d[a],Fc[a]=c;return!0};Fc.serialize=function(a,c){var d,f,p,e;p=[];for(f in a)e=a[f],null!=e&&(d=c?c+"["+f+"]":f,p.push("object"===typeof e?this.serialize(e,d):encodeURIComponent(d)+"\x3d"+encodeURIComponent(e)));return p.join("\x26")};Fc.deserialize=function(a){var c;null!=a&&(c={},a=a.replace(/^[^?]*\?/,""),a.replace(/([^?=&]+)(=([^&]*))?/g,function(a,f,p,e){c[decodeURIComponent(f)]=decodeURIComponent(e)}));return c};Fc.constructed=Fc.construct();var $a={REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",
PLUGINS_INITIALIZED:"pluginsinitialized"},L={READY:"ready",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",LOADING:"loading",WAITING:"waiting",SEEKING:"seeking",ERROR:"error"},sc=function(){sc.__super__.constructor.call(this);null==this.contextName&&(this.contextName=this.constructor.NAME)};g(sc,puremvc.Proxy);sc.prototype.contextName=null;sc.prototype.contextData=null;sc.prototype.getContextName=function(){return this.contextName};sc.prototype.getContextData=function(){return this.contextData};var Ta=
function(){Ta.__super__.constructor.call(this)};g(Ta,puremvc.Proxy);Ta.NAME="PlaybackProxy";Ta.prototype.src=null;Ta.prototype.canPlayType=function(a){return"external"===a};Ta.prototype.getSrc=function(){return this.src};Ta.prototype.setSrc=function(a){null!=a&&""!==a||this.sendNotification(e.ERROR,"The value of src is not supported: "+a);a!==this.src&&(this.src=a);return a};Ta.prototype.play=function(){window.open(this.getSrc(),"_blank")};Ta.prototype.load=function(){};Ta.prototype.setVolume=function(){};
Ta.prototype.pause=function(){};Ta.prototype.setEnabled=function(){};Ta.prototype.getCurrentTime=function(){return 0};Ta.prototype.setCurrentTime=function(a){};Ta.prototype.getDuration=function(){return 0};var T={TOGGLE_PLAY_PAUSE:"usertogglePlayPause",PLAY:"userplay",PAUSE:"userpause",SEEK:"userseek"},Xc=function(){};Xc.prototype.data=null;Xc.prototype.value=null;Xc.prototype.source=null;Xc.prototype.parse=function(a){};Xc.prototype.compile=function(a,c){};var Qc={PREFIX:"akamai-"},ca={CHECK_AUTHORIZATION:"checkAuthorization",
AUTHORIZATION_FAILED:"authorizationfailed",AUTHORIZE:"authorize",AUTHORIZED:"authorized",SET_TOKEN:"settoken",SET_KEY:"setkey"},ld=function(){ld.__super__.constructor.call(this)};g(ld,I);ld.prototype.execute=function(a){this.applicationState.setPlayState(a.getBody())};var be=function(){be.__super__.constructor.call(this)};g(be,I);be.prototype.execute=function(a){a=a.getBody();this.sendNotification(e.CHANGE_MEDIA,a);a=this.media.getData();!0===this.media.authorized&&this.sendNotification(e.MEDIA_VALIDATED,
a)};var fe=function(){fe.__super__.constructor.call(this)};g(fe,I);fe.prototype.execute=function(a){a=a.getBody();this.media.getDuration()!==a&&this.media.setDuration(a)};var nd=function(){nd.__super__.constructor.call(this)};g(nd,F);nd.prototype.execute=function(a){var c;c=this.playback.getMediaElement();m.clear(c);this.logger.error("[AMP ERROR]",a.getBody());this.sendNotification(e.CHANGE_PLAY_STATE,L.ERROR);nd.__super__.execute.call(this,a)};var ee=function(){ee.__super__.constructor.call(this)};
g(ee,F);ee.prototype.execute=function(a){var c,d;c=null!=(d=this.facade.config)?d.volume:void 0;null!=c&&this.sendNotification(e.CHANGE_VOLUME,c);this.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL);this.sendNotification(e.CHANGE_PLAY_STATE,L.READY);this.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE);this.dispatchEventAfterCommand(a)};var de=function(){de.__super__.constructor.call(this)};g(de,I);de.prototype.execute=function(a){a=a.getBody()||{};this.bindings.compile(a.contexts,a.suppressErrors)};
var ge=function(){ge.__super__.constructor.call(this)};g(ge,I);ge.prototype.execute=function(a){this.params.setData(a.getBody());this.sendNotification(e.UPDATE_DATA_BINDINGS,{suppressErrors:!0})};var md=function(){md.__super__.constructor.call(this)};g(md,F);md.prototype.execute=function(a){var c;c=a.getBody();this.playerCore.setPlaybackType(c.type);this.playback.setSrc(c.src);this.playback.setCurrentTime(c.startTime||0);md.__super__.execute.call(this,a)};var ce=function(){ce.__super__.constructor.call(this)};
g(ce,I);ce.prototype.execute=function(a){a=a.getBody();this.playback.setEnabled(!1);this.playback.pause();this.sendNotification(e.CHANGE_PLAY_STATE,L.READY);this.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE);try{this.media.setData(a)}catch(c){this.sendNotification(e.ERROR,c.message)}this.sendNotification(e.UPDATE_DATA_BINDINGS);this.sendNotification(ca.AUTHORIZE)};var Ab=function(){Ab.__super__.constructor.call(this)};g(Ab,hb);Ab.prototype.componentName="overlays";Ab.NAME="OverlayLayerMediator";
Ab.prototype.createMediatorName=function(){return Ab.NAME};Ab.prototype.listNotificationInterests=function(){return[e.ADD_OVERLAY,e.REMOVE_OVERLAY]};Ab.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case e.ADD_OVERLAY:this.viewComponent.appendChild(a);break;case e.REMOVE_OVERLAY:this.viewComponent.removeChild(a)}};var zb=function(){zb.__super__.constructor.call(this)};g(zb,hb);zb.prototype.componentName="poster";zb.prototype.poster=null;zb.prototype.clickHandler=
null;zb.prototype.onRegister=function(){this.poster=this.create("poster-content");this.poster.onclick=this.onclick.bind(this);zb.__super__.onRegister.call(this)};zb.prototype.onclick=function(a){a.stopImmediatePropagation();a.preventDefault();this.sendNotification(T.TOGGLE_PLAY_PAUSE,!0);return!1};zb.prototype.listNotificationInterests=function(){return[e.CHANGE_MEDIA]};zb.prototype.handleNotification=function(a){switch(a.getName()){case e.CHANGE_MEDIA:a=a.getBody().poster,a=null!=a&&""!==a?'\x3cimg src\x3d"'+
a+'" class\x3d"'+this.cssPrefix+'poster-image" /\x3e':"",this.poster.innerHTML=a}};var ac=function(){ac.__super__.constructor.call(this)};g(ac,hb);ac.prototype.message=null;ac.prototype.componentName="error";ac.prototype.onRegister=function(){ac.__super__.onRegister.call(this);this.message=this.create("error-message")};ac.prototype.listNotificationInterests=function(){return[e.ERROR]};ac.prototype.handleNotification=function(a){var c;switch(a.getName()){case e.ERROR:a=a.getBody();c="Error: ";switch(a.code){case MediaError.MEDIA_ERR_ABORTED:c+=
"Media was aborted.";break;case MediaError.MEDIA_ERR_DECODE:c+="Decode Error.";break;case MediaError.MEDIA_ERR_NETWORK:c+="Network Error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:c+="Source not supported.";break;default:c+=a}this.message.textContent=c}};var Lb=function(){Lb.__super__.constructor.call(this)};g(Lb,ha);Lb.prototype.componentName="title-bar";Lb.prototype.title=null;Lb.prototype.description=null;Lb.prototype.onRegister=function(){this.title=this.create("title-text");this.description=
this.create("description-text");Lb.__super__.onRegister.call(this)};Lb.prototype.listNotificationInterests=function(){return[e.CHANGE_MEDIA]};Lb.prototype.handleNotification=function(a){var c;switch(a.getName()){case e.CHANGE_MEDIA:a=a.getBody(),c=a.title,null==c||""===c||"undefined"===c?this.classList.add("hidden"):(this.title.innerHTML=c,this.description.innerHTML=a.description?a.description:"",this.classList.remove("hidden"))}};var V=function(){V.__super__.constructor.call(this)};g(V,H);V.prototype.player=
null;V.prototype.proxy=null;V.prototype.initialize=function(a,c){this.player=c;this.logger=this.player.logger;V.__super__.initialize.call(this,a,c)};V.prototype.resourcesLoaded=function(){if("function"===typeof this.oninitialized)this.oninitialized(this)};V.prototype.onRegister=function(){var a;this.createFramework();null!=(a=this.retrieveProxy(la.NAME))&&"function"===typeof a.initialize&&a.initialize();this.sendNotification($a.PLUGIN_REGISTERED,this)};V.prototype.logEvent=function(a){var c;!0!==
/(timeupdate|timeremaining)/.test(a.type)&&(c=this.player.getModuleName().toUpperCase()+" "+this.getModuleName().toUpperCase(),null!=a.dispatcher&&(c+=" "+a.dispatcher),this.logger.log("["+c+" EVENT]",a.type,a))};V.prototype.listNotificationPublications=function(){var a,c;return[e.ADD_LAYER,e.REMOVE_LAYER,e.ADD_OVERLAY,e.REMOVE_OVERLAY,e.ADD_APPLICATION_STATE,e.REMOVE_APPLICATION_STATE,e.IS_USER_ACTIVE].concat(function(){var d;d=[];for(a in $a)c=$a[a],d.push(c);return d}())};var yb=function(){this.plugins=
[];this.registered=[];yb.__super__.constructor.call(this,this.constructor.NAME,{})};g(yb,puremvc.Mediator);yb.NAME="PluginAdapter";yb.prototype.plugins=null;yb.prototype.registered=null;yb.prototype.onRegister=function(){return yb.__super__.onRegister.call(this)};yb.prototype.listNotificationInterests=function(){return[$a.REGISTER_PLUGINS,$a.PLUGIN_REGISTERED]};yb.prototype.handleNotification=function(a){var c,d,f,p,e,g,v;f=a.getName();a=a.getBody();switch(f){case $a.REGISTER_PLUGINS:g=this.facade.getPlayerType();
p=this.onplugininitialized.bind(this);v=q.plugins;for(d in v)if(c=v[d],d in a&&(f=a[d],null!=f&&!1!==f.enabled))if(c=c[g],null==c)this.facade.logger.debug("Plugin could not be found: "+d);else try{e=new c,e.oninitialized=p,this.plugins.push(e.initialize.bind(e,f,this.facade))}catch(h){this.logger.error("Plugin could not be created: "+d+". "+h)}this.plugins.forEach(function(a){return a()});break;case $a.PLUGIN_REGISTERED:this.registered.push(a),f="function"===typeof a.getModuleName?a.getModuleName():
void 0,null!=f&&(this.facade[f]=a),d="function"===typeof a.getFeatureName?a.getFeatureName():void 0,null!=d&&(this.facade[d]=a),this.facade.logger.debug("[AMP]","registered:",a.getModuleName(),"plugin"),this.registered.length===this.plugins.length&&this.sendNotification($a.PLUGINS_INITIALIZED,this.plugins)}};yb.prototype.onplugininitialized=function(a){this.facade.registerModule(a)};var Nb=function(a){this.element=a};Nb.prototype.element=null;Nb.prototype.prefix=Qc.PREFIX;Nb.prototype.contains=function(a){return this.constructor.contains(a,
this.element,this.prefix)};Nb.prototype.add=function(a){this.constructor.add(a,this.element,this.prefix)};Nb.prototype.remove=function(a){this.constructor.remove(a,this.element,this.prefix)};Nb.prototype.toggle=function(a){return this.constructor.contains(a,this.element,this.prefix)};Nb.contains=function(a,c,d){var f;null==d&&(d="");a=d+a;return null!=(null!=(f=c.classList)?f.contains:void 0)?c.classList.contains(a):-1!==c.className.indexOf(a)};Nb.add=function(a,c,d){var f;null==d&&(d="");d+=a;null!=
(null!=(f=c.classList)?f.add:void 0)?c.classList.add(d):this.contains(a,c)||(c.className=""!==c.className?c.className+(" "+d):d)};Nb.remove=function(a,c,d){var f;null==d&&(d="");d+=a;null!=(null!=(f=c.classList)?f.remove:void 0)?c.classList.remove(d):this.contains(a,c)&&(a=RegExp(" ?"+d),c.className=c.className.replace(a,""))};Nb.toggle=function(a,c,d){var f;null!=(null!=(f=c.classList)?f.toggle:void 0)?c.classList.toggle(this.prefix+a):this.contains(a,c)?this.remome(a,c):this.add(a,c)};var ta=function(){ta.__super__.constructor.call(this,
this.constructor.NAME,{});this.data={};this.contextMap={};this.configurationMap={}};g(ta,puremvc.Proxy);ta.NAME="DataBindingProxy";ta.prototype.contextMap=null;ta.prototype.configurationMap=null;ta.prototype.paramsProxy=null;ta.prototype.initialize=function(){this.paramsProxy=this.facade.retrieveProxy($b.NAME);this.registerContext(this.facade.retrieveProxy(s.NAME));this.registerContext(this.facade.retrieveProxy(ma.NAME));this.registerContext(this.facade.retrieveProxy(da.NAME));this.registerContext(this.facade.retrieveProxy(P.NAME));
this.update()};ta.prototype.registerContext=function(a){null!=a&&(this.contextMap[a.getContextName()]=a)};ta.prototype.retrieveContext=function(a){return this.contextMap[a]};ta.prototype.removeContext=function(a){var c;c=this.contextMap[a];delete this.contextMap[a];return c};ta.prototype.registerConfiguration=function(a){null!=a&&(this.configurationMap[a.getConfigurationName()]=a,a.compile(this.context,!0))};ta.prototype.retrieveConfiguration=function(a){return this.configurationMap[a]};ta.prototype.removeConfiguration=
function(a){var c;c=this.configurationMap[a];delete this.configurationMap[a];return c};ta.prototype.evaluateBinding=function(a){a=new bc(a);a.compile(this.data);return a.value};ta.prototype.update=function(a){var c,d,f,p;this.data.now=Date.now();p=this.contextMap;for(f in p)c=p[f],-1!==(null!=a?"function"===typeof a.indexOf?a.indexOf(f):void 0:void 0)&&(this.data[f]=c.getContextData());this.paramsProxy.compile(this.data);c=this.paramsProxy.value;for(d in c)a=c[d],this.data[d]=a;return this.data};
ta.prototype.compile=function(a,c){var d,f,p,e,g;null==c&&(c=!1);this.update(a);f=h.clone(this.data);e=this.paramsProxy.getConfigurationName();g=this.configurationMap;for(p in g)d=g[p],p!==e&&d.compile(f,c)};var gb=function(){};gb.create=function(a,c,d,f){var e,l,g,v,h;null==d&&(d="div");"string"===typeof d&&(d=document.createElement(d));e=new Nb(d);if(null!=a)for("string"===typeof a&&(a=[a]),v=0,h=a.length;v<h;v++)l=a[v],e.add(l);d._classList=e;null!=f&&(null!=d.innerText?d.innerText=f:d.textContent=
f);null!=c&&(null!=c.getViewComponent&&(g=c.getViewComponent()),null!=g&&(c=g),c.appendChild(d));return d};gb.bindEvents=function(a,c,d){var f,e;null==d&&(d=["onRemove","onRegister"]);for(f in c)e=c[f],0<=Me.call(d,f)||!/^on/.test(f)||null==(null!=e?e.bind:void 0)||(a[f]=e.bind(c))};gb.createUID=function(a){var c,d;null==a&&(a=16);c=Date.now();d=2*a-1;return(Math.round(Math.random()*d+a).toString(16)+c.toString(16)).toUpperCase()};var cc=function(a){null!=a&&this.parse(a)};g(cc,Xc);cc.prototype.data=
null;cc.prototype.value=null;cc.prototype.source=null;cc.prototype.parse=function(a){return a instanceof Array?new qd(a):a instanceof Object?new Ec(a):new bc(a)};var qd=function(a){qd.__super__.constructor.call(this,a)};g(qd,cc);qd.prototype.parse=function(a){var c,d,f,e;this.data=[];c=f=0;for(e=a.length;f<e;c=++f)d=a[c],this.data[c]=qd.__super__.parse.call(this,d);return this.data};qd.prototype.compile=function(a,c){var d,f,e,l,g;null==a&&(a={});null==c&&(c=!1);this.value=[];g=this.data;d=e=0;for(l=
g.length;e<l;d=++e){f=g[d];try{this.value[d]=f.compile(a,c)}catch(v){this.value[d]=null,c||ba.error(v)}}return this.value};var he=function(a){this.message=he.MESSAGE+a};g(he,Error);he.MESSAGE="Tokenization Error: Could not find token value for: ";var rd=function(a){rd.__super__.constructor.call(this,a)};g(rd,cc);rd.prototype.parse=function(a){return this.source=this.data=this.value=a};rd.prototype.compile=function(a,c){return this.value};var sd=function(a){sd.__super__.constructor.call(this,a)};g(sd,
cc);sd.prototype.exec=null;sd.prototype.parse=function(a){this.source=this.data=a;this.exec=new Function("context","var value; with(context){value \x3d "+this.data+";}return value;");return this.data};sd.prototype.compile=function(a,c){null==a&&(a={});null==c&&(c=!1);if(null==this.exec)return this.value;try{this.value=this.exec(a)}catch(d){if(this.value=null,!c)throw new he(this.data);}return this.value};var bc=function(a){this.token=RegExp(this.tokenStart.source+"([^#]*)"+this.tokenEnd.source,"g");
bc.__super__.constructor.call(this,a)};g(bc,cc);bc.prototype.exec=null;bc.prototype.tokenStart=/#{/;bc.prototype.tokenEnd=/}/;bc.prototype.token=null;bc.prototype.parse=function(a){var c,d,f,e,l,g;this.source=a;this.data=[];if(this.token.test(this.source)){e=[];d=null;a=this.source.replace(this.token,function(a,c,f,l){e.push(c);d="\x3c\x3c\x3e\x3e";0<f&&f<l.length-a.length&&(d+="\x3c\x3c\x3e\x3e");return d});c=a.split("\x3c\x3c\x3e\x3e");l=f=0;for(g=c.length;l<g;l++)a=c[l],""===a&&e[f]?(this.data.push(new sd(e[f])),
f++):""!==a&&this.data.push(new rd(a));1===this.data.length&&(this.data=this.data[0])}else this.data=new rd(a);return this.data};bc.prototype.compile=function(a,c){var d,f,e,l;null==a&&(a={});null==c&&(c=!1);if(null==this.data)return this.value;try{if(this.data instanceof Xc)this.value=this.data.compile(a,c);else for(this.value="",l=this.data,f=0,e=l.length;f<e;f++)d=l[f],this.value+=d.compile(a,c)}catch(g){if(this.value=null,!c)throw new he(this.source);}return this.value};var Ec=function(a){Ec.__super__.constructor.call(this,
a)};g(Ec,cc);Ec.prototype.parse=function(a){var c,d;this.source=a;this.data={};for(c in a)d=a[c],this.data[c]=Ec.__super__.parse.call(this,d);return this.data};Ec.prototype.compile=function(a,c){var d,f,e;null==a&&(a={});null==c&&(c=!1);this.value={};e=this.data;for(d in e){f=e[d];try{this.value[d]=f.compile(a,c)}catch(l){this.value[d]=null,ba.error(l)}}return this.value};var ma=function(a){var c,d;ma.__super__.constructor.call(this);this.data={language:navigator.language||navigator.browserLanguage,
locales:ia.prototype.data.locales};if(null!=a&&(null!=a.language&&(this.data.language=a.language),null!=a.locales))for(d in a.locales)if(null!=this.data.locales[d])for(c in a.locales[d])this.data.locales[d][c]=a.locales[d][c];else this.data.locales[d]=a.locales[d]};g(ma,sc);ma.NAME="LocalizationProxy";ma.prototype.contextName="l10n";ma.prototype.locale=null;ma.prototype.onRegister=function(){this.setLocale(this.data.language)};ma.prototype.getContextData=function(){return this.locale};ma.prototype.getLanguage=
function(){return this.data.language};ma.prototype.setLanguage=function(a){this.data.language=a;this.setLocale(a);this.sendNotification(e.LANGUAGE_CHANGE,a);return a};ma.prototype.setLocale=function(a){this.locale=this.data.locales[a];null==this.locale&&(this.locale=this.data.locales[a.substring(0,2)]);this.facade.l10n=this.locale;return a};ma.prototype.getLocales=function(){return this.data.locales};ma.prototype.setLocales=function(a){return this.data.locales=a};ma.prototype.getString=function(a){return(this.locale||
this.data.locales.en)[a]||""};ma.prototype.getLanguageString=function(a){var c;if("string"!==typeof a||null==a||""===a)return"";c="MSG_"+a.toUpperCase();c=this.getString(c);""===c&&(a=a.split("-").shift(),c="MSG_"+a.toUpperCase(),c=this.getString(c));return c};var $b=function(a){$b.__super__.constructor.call(this,a)};g($b,na);$b.NAME="ParamsProxy";$b.prototype.defaults={};$b.prototype.configurationName="params";$b.prototype.setData=function(a){var c,d;this.data=(null!=(d=this.configurationData)?d.source:
void 0)||{};for(c in a)this.data[c]=a[c];this.configurationData=new Ec(this.data);return this.data};var td=function(){td.__super__.constructor.call(this)};g(td,F);td.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);this.playback.play();td.__super__.execute.call(this,a)};var Y={NORMAL:"normal",FULL_SCREEN:"full-screen"},Hg={FLASH:"flash",HTML:"html"},Sa={ACTIVE:"active",INACTIVE:"inactive"},N=function(){N.__super__.constructor.call(this);this.device=h.getDevice()};g(N,puremvc.Proxy);
N.NAME="ApplicationStateProxy";N.prototype.displayState=null;N.prototype.playState=null;N.prototype.renderMode=null;N.prototype.activeState=null;N.prototype.seeking=!1;N.prototype.isUserActive=!1;N.prototype.device=null;N.prototype.getDisplayState=function(){return this.displayState};N.prototype.setDisplayState=function(a){var c;a!==c&&(c=this.displayState,this.displayState=a,this.sendNotification(e.DISPLAY_STATE_CHANGE,{oldState:c,newState:this.displayState}))};N.prototype.getPlayState=function(){return this.playState};
N.prototype.setPlayState=function(a){var c;if(a!==this.playState){if(!0===this.seeking)switch(a){case L.PLAYING:case L.READY:this.seeking=!1;break;default:return}c=this.playState;this.playState=a;this.sendNotification(e.PLAY_STATE_CHANGE,{oldState:c,newState:this.playState})}};N.prototype.getDevice=function(){return this.device};N.prototype.getSeeking=function(){return this.seeking};N.prototype.setSeeking=function(a){a!==this.seeking&&(this.seeking=a)};N.prototype.getIsUserActive=function(){return this.isUserActive};
N.prototype.setIsUserActive=function(a){a!==this.isUserActive&&(this.isUserActive=a)};N.prototype.getRenderMode=function(){return this.renderMode};N.prototype.setRenderMode=function(a){a!==this.renderMode&&(this.renderMode=a)};N.prototype.getMedium=function(){return this.medium};N.prototype.setMedium=function(a){var c;a!==this.medium&&(c=null!=this.medium?"medium-"+this.medium:this.medium,this.medium=a,this.sendNotification(e.MEDIUM_CHANGE,{oldState:c,newState:"medium-"+this.medium}))};N.prototype.getActiveState=
function(){return this.activeState};N.prototype.setActiveState=function(a){var c;a!==this.activeState&&(c=this.activeState,this.activeState=a,this.sendNotification(e.ACTIVE_STATE_CHANGE,{oldState:c,newState:this.activeState}))};var P=function(a){this.defaults=ia.prototype.data;P.__super__.constructor.call(this,a)};g(P,x);P.NAME=x.NAME;P.prototype.getContextName=function(){return"paths"};P.prototype.getContextData=function(){return this.getPaths()};P.prototype.setData=function(a){null!=a.rules&&h.mergeRules(a.rules);
P.__super__.setData.call(this,a);return a};P.prototype.getAutoplay=function(){return this.data.autoplay};P.prototype.setAutoplay=function(a){return this.data.autoplay=a};P.prototype.getLoop=function(){return this.data.loop};P.prototype.setLoop=function(a){return this.data.loop=a};P.prototype.getEndSlate=function(){return this.data.endslate};P.prototype.setEndSlate=function(a){return this.data.endslate=a};P.prototype.getDomain=function(){return this.data.domain};P.prototype.setDomain=function(a){return this.data.domain=
a};P.prototype.getTarget=function(){return this.data.target};P.prototype.setTarget=function(a){return this.data.target=a};P.prototype.getName=function(){return this.data.name};P.prototype.setName=function(a){return this.data.name=a};P.prototype.getPaths=function(){return this.data.paths};P.prototype.setPaths=function(a){return this.data.paths=a};P.prototype.getVersion=function(){return this.data.version};P.prototype.getControls=function(){return this.data.controls};P.prototype.setControls=function(a){return this.data.controls=
a};P.prototype.getFullscreen=function(){return this.data.fullscreen||{}};P.prototype.setFullscreen=function(a){return this.data.fullscreen=a};var m=function(a,c,d){var f;this.target=a;this.type=c;this.handler=d;this.trigger=Gg(this.trigger,this);m.instances.push(this);this.types=[];(f=this.type,0<=Me.call(m.EVENTS,f))?h.isTouchDevice()?(this.types.push(m.TOUCH_EVENTS[this.type]),this.type===m.TOUCH_EVENTS[1]&&this.types.push(m.TOUCH_EVENTS[4])):this.types.push(m.MOUSE_EVENTS[this.type]):this.type instanceof
Array?this.types=this.type:this.types.push(this.type);this.bind()};m.PRESS=0;m.RELEASE=1;m.MOVE=2;m.CLICK=3;m.CONTEXTMENU=4;m.EVENTS=[m.PRESS,m.RELEASE,m.MOVE,m.CLICK,m.CONTEXTMENU];m.MOUSE_EVENTS=["mousedown","mouseup","mousemove","click","contextmenu"];m.TOUCH_EVENTS=["touchstart","touchend","touchmove","click","touchcancel"];m.instances=[];m.create=function(a,c,d){return new m(a,c,d)};m.bind=function(a,c){var d,f,e,l;l=m.instances;d=f=0;for(e=l.length;f<e;d=++f)d=l[d],d.target===a&&(null!=c&&d.type!==
c||d.bind())};m.unbind=function(a,c){var d,f,e,l;l=m.instances;d=f=0;for(e=l.length;f<e;d=++f)d=l[d],d.target===a&&(null!=c&&d.type!==c||d.unbind())};m.clear=function(a,c){var d,f,e,l,g;g=m.instances;d=e=0;for(l=g.length;e<l;d=++e)f=g[d],(null!=f?f.target:void 0)!==a||null!=c&&f.type!==c||(f.clear(),m.instances.splice(d,1))};m.prototype.types=null;m.prototype.bind=function(){var a,c,d,f;f=this.types;c=0;for(d=f.length;c<d;c++)a=f[c],null!=this.target.addEventListener?this.target.addEventListener(a,
this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent("on"+a,this.trigger)};m.prototype.unbind=function(){var a,c,d,f;f=this.types;c=0;for(d=f.length;c<d;c++)a=f[c],null!=this.target.removeEventListener?this.target.removeEventListener(a,this.trigger):null!=this.target.attachEvent&&this.target.removeEvent("on"+a,this.trigger)};m.prototype.clear=function(){this.unbind();this.types=this.type=this.handler=this.target=null};m.prototype.trigger=function(a){this.handler(a)};var ud=function(){ud.__super__.constructor.call(this)};
g(ud,Bb);ud.prototype.onRegister=function(){var a;a=new Vc("html5","audio");this.sendNotification(e.PLAYBACK_CORE_CHANGE,a)};ud.prototype.onRemove=function(){this.facade.createMediaElement()};ud.prototype.canPlayType=function(a){return/audio/.test(a)?"maybe":""};var da=function(a){this.defaultPlaybackCore=a;da.__super__.constructor.call(this);this.playbackCoreMap={};this.activePlaybackCore=this.defaultPlaybackCore;this.registerPlaybackCore(new ud)};g(da,sc);da.NAME="PlayerProxy";da.prototype.contextName=
"player";da.prototype.playbackCoreMap=null;da.prototype.defaultPlaybackCore=null;da.prototype.activePlaybackCore=null;da.prototype.getActivePlaybackCore=function(){return this.activePlaybackCore};da.prototype.registerPlaybackCore=function(a){null!=a&&(this.playbackCoreMap[a.getPlaybackCoreName()]=a)};da.prototype.retrievePlaybackCore=function(a){return this.playbackCoreMap[a]};da.prototype.removePlaybackCore=function(a){var c;c=this.playbackCoreMap[a];delete this.playbackCoreMap[a];return c};da.prototype.setPlaybackType=
function(a){var c,d,f,e;f=this.defaultPlaybackCore;e=this.playbackCoreMap;for(d in e)if(c=e[d],""!==c.canPlayType(a)){f=c;break}c=this.facade.retrieveProxy(r.NAME);c!==f&&(this.facade.removeProxy(r.NAME),this.facade.registerProxy(f),f.setData(c.getData()));this.activePlaybackCore=f;return a};da.prototype.canPlayType=function(a){var c,d,f;f=this.playbackCoreMap;for(d in f)if(c=f[d],c=c.canPlayType(a),""!==c)return c;return c=this.defaultPlaybackCore.canPlayType(a)};da.prototype.getContextData=function(){var a,
c,d,f;a=this.facade.retrieveProxy(P.NAME);f=this.facade.retrieveProxy(r.NAME);d=this.facade.retrieveProxy(s.NAME);c=this.facade.getViewComponent();return{width:c.offsetWidth,height:c.offsetHeight,mode:"html5",autoplay:a.getAutoplay(),domain:a.getDomain(),name:a.getName(),currentTime:f.getCurrentTime(),duration:f.getDuration(),version:a.getVersion(),timecode:{duration:h.formatTimecode(d.getDuration()),currentTime:h.formatTimecode(f.getCurrentTime())}}};var s=function(){this.data={metadata:{}};s.__super__.constructor.call(this)};
g(s,sc);s.NAME="MediaProxy";s.prototype.contextName="media";s.prototype.data=null;s.prototype.authorized=!0;s.prototype.getContextData=function(){return{width:this.getWidth(),height:this.getHeight(),title:this.getTitle(),description:this.getDescription(),src:this.getSrc(),duration:this.getDuration(),guid:this.getGUID(),isLive:this.getIsLive(),metadata:this.getMetadata(),temporalType:this.getTemporalType(),poster:this.getPoster(),category:this.getCategory()}};s.prototype.setData=function(a){var c;
this.data.autoplay=a.autoplay;this.data.type=a.type;null!=a.source&&this.setSource(a.source);null!=a.src&&this.setSrc(a.src);this.data.title=a.title;null!=a.duration&&this.setDuration(a.duration);this.data.poster=a.poster;this.data.guid=a.guid;this.data.link=a.link;this.data.embed=a.embed;this.data.width=a.width;this.data.height=a.height;this.data.category=a.category;this.data.startTime=a.startTime;this.data.description=a.description;this.data.status=a.status||{};"blocked"===(null!=(c=this.data.status)?
c.state:void 0)&&(this.authorized=!1);this.data.category=a.category;this.data.metadata=a.metadata||{};null!=a.isLive&&this.setIsLive(a.isLive);null!=a.temporalType?this.setTemporalType(a.temporalType):this.setTemporalType("vod");null!=a.medium&&this.setMedium(a.medium);null!=a.pubDate&&this.setPubDate(a.pubDate);null!=a.track&&this.setTrack(a.track);return a};s.prototype.updateData=function(a){var c,d;for(c in a)d=a[c],c in this.data&&(this.data[c]=d)};s.prototype.getGUID=function(){return this.data.guid};
s.prototype.setGUID=function(a){return this.data.guid=a};s.prototype.getLink=function(){return this.data.link};s.prototype.setLint=function(a){return this.data.link=a};s.prototype.getStartTime=function(){return this.data.startTime||0};s.prototype.getEmbed=function(){return this.data.embed};s.prototype.setEmbed=function(a){return this.data.embed=a};s.prototype.getAutoplay=function(){return this.data.autoplay};s.prototype.setAutoplay=function(a){return this.data.autoplay=a};s.prototype.getPubDate=function(){return this.data.pubDate};
s.prototype.setPubDate=function(a){return this.data.pubDate=a};s.prototype.getCategory=function(){return this.data.category};s.prototype.setCategory=function(a){return this.data.category=a};s.prototype.getSrc=function(){return this.data.src};s.prototype.setSrc=function(a){this.data.src=a;if(null!=this.data.src&&null==this.data.type)return this.setType(h.getMimeType(this.data.src))};s.prototype.getType=function(){return this.data.type};s.prototype.setType=function(a){this.data.type=a;a=/audio/.test(this.data.type)?
"audio":"video";return this.setMedium(a)};s.prototype.getMedium=function(){return this.data.medium};s.prototype.setMedium=function(a){if(a!==this.data.medium)return this.data.medium=a,this.facade.retrieveProxy(N.NAME).setMedium(a)};s.prototype.getMetadata=function(){return this.data.metadata};s.prototype.setMetadata=function(a){return this.data.metadata=a};s.prototype.getSource=function(){return this.data.source};s.prototype.setSource=function(a){var c,d;if(!(null==a||1>a.length)){this.data.source=
a;d=this.facade.retrieveProxy(da.NAME)||this.facade;null!=d&&(c=h.selectSource(a,function(a){return d.canPlayType(a)}));if(null!=(null!=c?c.src:void 0)&&""!==c.src)return this.setSrc(c.src),this.setType(c.type);throw Error("No valid source could be found");}};s.prototype.getTrack=function(){return this.data.track};s.prototype.setTrack=function(a){return this.data.track=a};s.prototype.getTitle=function(){return this.data.title};s.prototype.setTitle=function(a){return this.data.title=a};s.prototype.getWidth=
function(){return this.data.width};s.prototype.setWidth=function(a){return this.data.width=a};s.prototype.getHeight=function(){return this.data.height};s.prototype.setHeight=function(a){return this.data.height=a};s.prototype.getDescription=function(){return this.data.description};s.prototype.setDescription=function(a){return this.data.description=a};s.prototype.getCategory=function(){return this.data.category};s.prototype.setCategory=function(a){return this.data.category=a};s.prototype.getDuration=
function(a){return this.data.duration};s.prototype.setDuration=function(a){var c;if(0!==a&&(c=navigator.userAgent,1!==a||!/Android/.test(c)||/Android.*Chrome/.test(c)))return a!==this.data.duration&&(this.data.duration=a,this.sendNotification(e.DURATION_CHANGE,a)),Infinity===a&&this.setTemporalType("live"),a};s.prototype.getPoster=function(a){return this.data.poster};s.prototype.setPoster=function(a){return this.data.poster=a};s.prototype.getIsLive=function(){return this.data.isLive};s.prototype.setIsLive=
function(a){if(a!==this.data.isLive)return this.data.isLive=a};s.prototype.getTemporalType=function(){return this.data.temporalType};s.prototype.setTemporalType=function(a){if(a!==this.data.temporalType)return this.data.temporalType=a,this.sendNotification(e.TEMPORAL_TYPE_CHANGE,a)};var vd=function(){vd.__super__.constructor.call(this)};g(vd,s);vd.NAME="MediaProxy";vd.prototype.setSource=function(a){if(!(null==a||1>a.length))return a=a.filter(function(a){return"external"===a.type}),vd.__super__.setSource.call(this,
a)};var Q=function(a,c,d){Q.__super__.constructor.call(this,a,c,d)};g(Q,u);Q.prototype.playerType="external";Q.prototype.createModel=function(){var a,c;this.registerProxy(new ma(this.config));this.registerProxy(new N);c=new Ta;this.registerProxy(new da(c));a=new ta;this.registerProxy(a);this.registerProxy(new P(this.config));this.registerProxy(c);this.registerProxy(new vd);this.registerProxy(new $b(this.config.params));a.initialize()};Q.prototype.createView=function(){var a,c=this;this.registerMediator(new Ka("external",
this.getViewComponent()));this.registerMediator(new yb);a=new Ab;this.registerMediator(a);m.create(a.viewComponent,m.CLICK,function(){return c.sendNotification(e.TOGGLE_ACTIVE)});this.registerMediator(new zb);this.registerMediator(new Lb);a=new ac;this.viewComponent.appendChild(a.getViewComponent());this.registerMediator(a)};Q.prototype.createController=function(){Q.__super__.createController.call(this);this.registerCommand(e.UPDATE_DATA_BINDINGS,de);this.registerCommand(T.TOGGLE_PLAY_PAUSE,td);this.registerCommand(e.PLAY,
td);this.registerCommand(e.CHANGE_PLAY_STATE,ld);this.registerCommand(e.SET_MEDIA,be);this.registerCommand(e.CHANGE_MEDIA,ce);this.registerCommand(e.MEDIA_CHANGE,md);this.registerCommand(e.MEDIA_VALIDATED,Td);this.registerCommand(e.ERROR,nd);this.registerCommand($a.PLUGINS_INITIALIZED,Pd);this.registerCommand(e.READY,ee);this.registerCommand(e.CHANGE_PARAMS,ge)};Q.prototype.evaluateBinding=function(a){var c;return null!=(c=this.retrieveProxy(ta.NAME))?c.evaluateBinding(a):void 0};Q.prototype.canPlayType=
function(a){return"maybe"};Q.prototype.play=function(){this.sendNotification(e.PLAY)};Q.prototype.setParams=function(a){this.sendNotification(e.CHANGE_PARAMS,a);return a};Q.prototype.getParams=function(){return this.retrieveProxy($b.NAME).getData()};Q.prototype.setAutoplay=function(a){return!1};Q.prototype.getAutoplay=function(){return!1};Q.prototype.setLoop=function(a){return!1};Q.prototype.getLoop=function(){return!1};Q.prototype.setMuted=function(a){return!1};Q.prototype.getMuted=function(){return!1};
Q.prototype.setMedia=function(a){this.sendNotification(e.SET_MEDIA,a);return a};Q.prototype.getMedia=function(a){var c;return null!=(c=this.retrieveProxy(s.NAME))?c.getData():void 0};Q.prototype.setCurrentTime=function(a){return 0};Q.prototype.getCurrentTime=function(a){return 0};Q.prototype.getDuration=function(a){return this.retrieveProxy(s.NAME).getDuration()};Q.prototype.setSrc=function(a){this.sendNotification(e.SET_MEDIA,{src:a});return a};Q.prototype.getSrc=function(a){return this.retrieveProxy(s.NAME).getSrc()};
Q.prototype.setSource=function(a){this.sendNotification(e.SET_MEDIA,{source:a});return a};Q.prototype.getSource=function(){return this.retrieveProxy(s.NAME).getSource()};Q.prototype.setVolume=function(a){return a};Q.prototype.getVolume=function(a){return 1};Q.prototype.getSeeking=function(){return!1};Q.prototype.getPaused=function(){return!1};Q.prototype.getEnded=function(){return!1};var dc=function(){this.item=[];this.metadata={}};dc.prototype.title=null;dc.prototype.link=null;dc.prototype.description=
null;dc.prototype.category=null;dc.prototype.pubDate=null;dc.prototype.language=null;dc.prototype.ttl=null;dc.prototype.item=null;dc.prototype.metadata=null;var Da=function(){this.metadata={}};Da.prototype.src=null;Da.prototype.source=null;Da.prototype.title=null;Da.prototype.description=null;Da.prototype.link=null;Da.prototype.guid=null;Da.prototype.pubDate=null;Da.prototype.poster=null;Da.prototype.thumbnail=null;Da.prototype.embed=null;Da.prototype.category=null;Da.prototype.type=null;Da.prototype.medium=
null;Da.prototype.duration=null;Da.prototype.track=null;Da.prototype.metadata=null;Da.prototype.scenes=null;Da.prototype.startTime=null;var Ua={AUTO:"auto",HTML:"html",FLASH:"flash",EXTERNAL:"external",NONE:"none"},Z=function(a,c){this.type=a;null!=c&&(this.detail=this.data=c)};Z.prototype.type=null;Z.prototype.target=null;Z.prototype.detail=null;var tc=function(){};tc.prototype.getFeed=function(a,c,d){return h.getJson(a,c,d)};tc.prototype.getMediaNode=function(a,c,d){var f,e,l,g;null==d&&(d=!0);
l="media-"+c;f=a["media-group"]||a;e=f["media-content"];null!=e&&null!=e[l]?g=e[l]:null!=f[l]?g=f[l]:null!=a[l]?g=a[l]:null!=a[c]&&d&&(g=a[c]);return g};tc.prototype.createEmbed=function(a){var c,d,f,e,l,g;try{c=this.getMediaNode(a,"embed");if(null==c)return d;d={};d.url=c["@attributes"].url;d.width=c["@attributes"].width;d.height=c["@attributes"].height;d.params={};c["media-param"]instanceof Array||(c["media-param"]=[c["media-param"]]);g=c["media-param"];e=0;for(l=g.length;e<l;e++)f=g[e],d.params[f["@attributes"].name]=
f["#text"]}catch(v){ba.error("[AMP Feed Parse Error] embed parse error: "+v.message,v)}return d};tc.prototype.createFeed=function(a){var c,d,f,e,l,g,v,h,k;try{if(c=a.channel,d=new dc,null!=c){d.title=c.title;d.description=c.description;d.language=c.language;d.category=c.category;d.pubDate=new Date(Date.parse(c.pubDate));d.ttl=c.ttl;e=c.item instanceof Array?c.item:[c.item];h=0;for(k=e.length;h<k;h++)f=e[h],g=this.createMedia(f),d.item.push(g);for(l in c)v=c[l],l in d||(d.metadata[l]=v)}}catch(m){ba.error("[AMP Feed Parse Error] feed parse error: "+
m.message,m)}return d};tc.prototype.createMedia=function(a){var c,d,f,e,l,g,v,h,k,m,n,q,r,s,u,t,w,x,y,z;try{v=new Da;g=this.getMediaNode(a,"content");if(g instanceof Array)for(v.source=[],q=0,u=g.length;q<u;q++)f=g[q],k={src:f["@attributes"].url,type:f["@attributes"].type},d=f["media-category"],null!=d&&(c=d["@attributes"],"http://mrss.akamai.com/user_agent_hint"===c.schema&&(l=c.label||d["#text"],null!=l&&""!==l&&(null==k.rules&&(k.rules=[]),k.rules.push(l)))),v.source.push(k),v.medium=f["@attributes"].medium,
v.duration=parseFloat(f["@attributes"].duration);else v.type=g["@attributes"].type,v.src=g["@attributes"].url,v.medium=g["@attributes"].medium,v.duration=parseFloat(g["@attributes"].duration);v.guid=a.guid;v.title=this.getMediaNode(a,"title");v.link=a.link;v.description=this.getMediaNode(a,"description");v.pubDate=new Date(Date.parse(a.pubDate));v.thumbnail=v.poster=null!=(x=this.getMediaNode(a,"thumbnail"))?null!=(y=x["@attributes"])?y.url:void 0:void 0;v.embed=this.createEmbed(a);v.scenes=null!=
(z=this.getMediaNode(a,"scenes"))?z["media-scene"]:void 0;h=this.getMediaNode(a,"status",!1);null!=h&&(v.status={state:h["@attributes"].state,reason:h["@attributes"].reason});v.category=a.category;v.category instanceof Array||(v.category=[v.category]);h=this.getMediaNode(a,"category",!1);if(null!=h)for(r=0,t=h.length;r<t;r++)d=h[r],null!=d["#text"]&&""!==d["#text"]&&v.category.push(d["#text"]);null!=v.category&&v.category.sort(function(a,c){a=a.toLowerCase();c=c.toLowerCase();return a>c?1:a<c?-1:
0});h=this.getMediaNode(a,"subTitle");if(null!=h)for(null==v.track&&(v.track=[]),h instanceof Array||(h=[h]),s=0,w=h.length;s<w;s++)m=h[s],null!=m["@attributes"]&&v.track.push({src:m["@attributes"].href,type:m["@attributes"].type,kind:"captioning",srclang:m["@attributes"].lang||"en"});d=a.category;d instanceof Array||(d=[d]);v.isLive="live"===a.temporalType||null!=d&&-1!==d.join(",").indexOf("live_stream");v.temporalType=v.isLive?"live":"ondemand";for(e in a)n=a[e],e in v||(v.metadata[e]=n)}catch(A){ba.error("[AMP Feed Parse Error] media parse error: "+
A.message,A)}return v};var ba=function(){};ba.enabled=!1;ba.enable=function(a){null==a&&(a=/debug\=true/.test(location.search.toLowerCase()));this.enabled=a;this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=function(){});return a};ba.log=function(){try{console.log.apply(console,arguments)}catch(a){}};ba.trace=function(){try{console.trace.apply(console,arguments)}catch(a){}};ba.debug=function(){try{console.log.apply(console,arguments)}catch(a){this.log.apply(this,
arguments)}};ba.info=function(){try{console.info.apply(console,arguments)}catch(a){}};ba.warn=function(){try{console.warn.apply(console,arguments)}catch(a){}};ba.error=function(){try{console.error.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}};ba.fatal=function(){try{console.fatal.apply(console,arguments)}catch(a){}};var qb=function(a,c){this.target=null!=a?a:this;this.catchErrors=null!=c?c:!0;this.listenerMap={}};qb.prototype.addEventListener=function(a,c,d){null!=c&&null!=a&&
(null==this.listenerMap[a]&&(this.listenerMap[a]=[]),-1===this.listenerMap[a].indexOf(c)&&this.listenerMap[a].push(c))};qb.prototype.dispatchEvent=function(a){var c,d,f,e;d=this.listenerMap[a.type];c=this.target["on"+a.type];a.target=this.target;null!=c&&c.apply(this.target,[a]);if(null!=d)for(f=0,e=d.length;f<e;f++)c=d[f],c.apply(this.target,[a])};qb.prototype.callListener=function(a,c){try{c.apply(this.target,[a])}catch(d){if(!0===this.catchErrors)this.processEventError(d,a,c);else throw d;}};qb.prototype.processEventError=
function(a,c,d){var f,e;f=a.fileName||a.sourceURL;e=a.lineNumber||a.line;setTimeout(function(a){throw a;},0,{message:a.message,name:"AMP Event Listener Error",file:f,fileName:f,line:e,lineNumber:e,error:a,event:c,listener:d,functionName:d.name,toString:function(){var a;a=""+this.name+":";a+="\n\t"+this.error.toString();null!=this.event&&(a+="\n\t\tevent: "+this.event.type);null!=this.listener&&(a+="\n\t\tfunction: "+this.listener.name);null!=this.file&&(a+="\n\t\tfile: "+this.file);null!=this.line&&
(a+="\n\t\tline: "+this.line);return a}})};qb.prototype.removeEventListener=function(a,c,d){if(null!=c&&null!=a&&(a=this.listenerMap[a],null!=a&&(c=null!=a?a.indexOf(c):void 0,-1!==c)))return a.splice(c,1)};var xa=function(){xa.__super__.constructor.call(this)};g(xa,qb);xa.prototype.xhr=null;xa.prototype.headers=null;xa.prototype.response=null;xa.prototype.responseXML=null;xa.prototype.responseText=null;xa.prototype.responseType=null;xa.prototype.withCredentials=!1;xa.prototype.readyState=0;xa.prototype.status=
null;xa.prototype.open=function(a,c){var d,f,e=this;try{f=new XMLHttpRequest}catch(l){f=new window.ActiveXObject("Microsoft.XMLHTTP")}if(xa.isCORS(c))if(Object.prototype.hasOwnProperty.call(f,"withCredentials"))try{f.withCredentials=this.withCredentials}catch(g){ba.warn("[AMP XHR WARNING]","withCredentials not properly supported in this browser.",g)}else"undefined"!==typeof XDomainRequest&&(d=!0,f=new XDomainRequest);if(null!=f){d&&(f.onprogress=function(){},f.ontimeout=function(){},f.onerror=function(){},
f.onload=function(a){"function"===typeof f.onreadystatechange&&(f.readyState=4,f.status=200,f.contentType.match(/\/xml/)&&(f.responseXML=new ActiveXObject("Microsoft.XMLDOM"),f.responseXML.async=!1,f.responseXML.loadXML(f.responseText)),f.onreadystatechange.call(f,a,!1))});f.onreadystatechange=function(a){var c,d;e.readyState=f.readyState;e.dispatchEvent(new Z("readystatechange",f));if(4===f.readyState)if(e.status=f.status,199<(c=e.status)&&400>c||0===e.status){null==f.responseText&&(f.responseText=
f.text);e.responseText=f.responseText;if(null!=f.responseXML&&0<(null!=(d=f.responseXML.childNodes)?d.length:void 0))e.response=e.responseXML=f.responseXML,e.responseType="document";else try{e.response=JSON.parse(f.responseText),e.responseType="json"}catch(l){e.response=f.responseText,e.responseType="text"}e.dispatchEvent(new Z("load",e))}else 0!==e.status&&e.dispatchEvent(new Z("error",e))};try{"undefined"!==typeof f.onerror&&(f.onerror=function(a){e.dispatchEvent(new Z("error",e))})}catch(v){}f.open(a,
c)}this.xhr=f};xa.prototype.send=function(a){var c,d,f,e=this;if(null!=this.headers)for(c in f=this.headers,f)d=f[c],null!=c&&null!=d&&this.xhr.setRequestHeader(c,d);setTimeout(function(){e.xhr.send(a)},0)};xa.prototype.setRequestHeader=function(a,c){null!=a&&null!=c&&(null==this.headers&&(this.headers={}),this.headers[a]=c)};xa.prototype.setRequestHeaders=function(a){return this.headers=a};xa.prototype.getResponseHeader=function(a){var c;return null!=(c=this.xhr)?"function"===typeof c.getResponseHeader?
c.getResponseHeader(a):void 0:void 0};xa.prototype.getAllResponseHeaders=function(){var a;return null!=(a=this.xhr)?"function"===typeof a.getAllResponseHeaders?a.getAllResponseHeaders():void 0:void 0};xa.isCORS=function(a){var c,d;c=document.createElement("a");c.href=a;a=""!==c.hostname?c.hostname:location.hostname;d="0"!==c.port?c.port:location.port;return location.protocol!==(":"!==c.protocol?c.protocol:location.protocol)||location.hostname!==a||location.port!==d&&!(""===location.port&&"80"===d)};
var h=function(){};h.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC";
h.mimeTypes={mp4:"video/mp4",flv:"video/x-flv",f4m:"video/f4m",smil:"application/smil",smilxml:"application/smil+xml",m3u8:"application/x-mpegURL",mp3:"audio/mpeg",json:"application/json",txt:"text/plain",xml:"application/xml",ogv:"video/ogg",webm:"video/webm",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",js:"text/javascript",css:"text/css",swf:"application/x-shockwave-flash"};h.flashTypes=[h.mimeTypes.mp4,h.mimeTypes.flv,h.mimeTypes.f4m,h.mimeTypes.smil,h.mimeTypes.smilxml];h.rules=
{flashTablets:{label:"Android 2 \x26 3 or Kindle Fire 1",regexp:"Android [23]|Silk/1"},html5Phones:{label:"iPhone",regexp:"iPhone"},html5Tablets:{label:"HTML5 Tablets",regexp:"iPad|Android [4-9]|Silk/2"},desktop:{label:"Desktop",regexp:"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"}};h.getPlaybackMode=function(a){var c,d,f;null==a&&(a=(null!=(d=Fc["amp-mode"])?d.toLowerCase():void 0)||Ua.AUTO);d=!1;this.ieFallback();for(c in Ua)if(f=Ua[c],f===a){d=!0;break}d||(a=Ua.AUTO);if(a!==Ua.AUTO)return a!==
Ua.FLASH||this.hasFlash()||(a=Ua.NONE),a;this.hasFlash()||(a=this.supportsHTML5Video()?Ua.HTML:Ua.NONE);a===Ua.AUTO&&(a=this.isHTML5()?Ua.HTML:Ua.FLASH);return a};h.mergeRules=function(a){var c,d,f;f=[];for(c in a)d=a[c],f.push(h.rules[c]=d);return f};h.checkRules=function(a){var c,d,f;if(null!=a&&0<a.length)for(d=0,f=a.length;d<f;d++)if(c=a[d],c=h.rules[c])if(c=RegExp(c.regexp),c.test(navigator.userAgent))return!0;return!1};h.selectSource=function(a,c){var d,f,e;f=0;for(e=a.length;f<e;f++)if(d=a[f],
h.checkRules(d.rules))return d;f=0;for(e=a.length;f<e;f++)if(d=a[f],""!==c(d.type||h.getMimeType(d.src)))return d;return null};h.getMimeType=function(a){return this.mimeTypes[h.getFileExtension(a)]};h.selectTrack=function(a,c){var d,f,e,l;e=0;for(l=a.length;e<l;e++)if(d=a[e],d.kind===c){f=d;break}return f};h.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)};h.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)};h.isAndroid=
function(){return/Android [4-9]/.test(navigator.userAgent)};h.isKindleFireHD=function(){return/Silk\/2/.test(navigator.userAgent)};h.isKindleFire=function(){return/Silk\/1/.test(navigator.userAgent)};h.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)};h.isFirefoxOS=function(){return/\(Mobile;.*Firefox\//.test(navigator.userAgent)};h.supportsHTML5Video=function(){return null!=document.createElement("video").canPlayType};h.isHTML5=function(){return this.isIOS()||this.isAndroid()||
this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()};h.isIOS=function(){var a;a=/iPad|iPhone|iPod/i;return a.test(navigator.platform)||a.test(navigator.userAgent)};h.getIOSversion=function(){var a;if(/iP(hone|od|ad)/.test(navigator.platform))return a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]};h.hasFlash=function(){return swfobject.hasFlashPlayerVersion("1")};h.isFullscreenDevice=function(){return this.isKindleFireHD()||
this.isIPhone()};h.getDevice=function(){var a;a=null;this.isIPhone()?a="iphone":this.isIPad()?a="ipad":/Android/.test(navigator.userAgent)?a="android":this.isKindleFireHD()?a="kindlefirehd":this.isKindleFire()?a="kindlefire":/Mac|Win32/.test(navigator.platform)&&(a="desktop");return a};h.xmlToJson=function(a){var c,d,f,e,l;f={};9===a.nodeType&&(a=a.firstChild);if(1===a.nodeType){if(0<a.attributes.length)for(f["@attributes"]={},d=a.attributes,c=e=0,l=d.length;e<l;c=++e)c=d[c],f["@attributes"][c.nodeName]=
c.nodeValue}else if(3===a.nodeType||4===a.nodeType)f=a.nodeValue;if(a.hasChildNodes())for(l=a.childNodes,c=a=0,e=l.length;a<e;c=++a)if(d=l[c],3!==d.nodeType||/\S/.test(d.nodeValue))c=d.nodeName.replace(/:/,"-"),d=this.xmlToJson(d),null==d["@attributes"]&&null!=d["#text"]&&(d=d["#text"]),null==f[c]?f[c]=d:(f[c]instanceof Array||(f[c]=[f[c]]),f[c].push(d));return f};h.getXHR=function(){return new xa};h.get=function(a,c,d){var f;null==c&&(c={});null==d&&(d=null);f=h.getXHR();null!=c&&(null!=c.withCredentials&&
(f.withCredentials=c.withCredentials),null!=c.onload&&(f.onload=c.onload),null!=c.onerror&&(f.onerror=c.onerror));f.open("GET",a);null!=d&&f.setRequestHeaders(d);f.send();return f};h.send=function(a,c,d,f){var e;null==d&&(d={});null==f&&(f={"Content-Type":"String"});e=h.getXHR();null!=d.onload&&(e.onload=d.onload);null!=d.onerror&&(e.onerror=d.onerror);e.open("POST",a);null!=f&&e.setRequestHeaders(f);e.send(c);return e};h.loadScript=function(a,c,d){var f;d=d||document.getElementsByTagName("head")[0];
f=document.createElement("script");f.type="text/javascript";null!=c&&(f.addEventListener?f.onload=function(a){c()}:f.readyState&&(f.onreadystatechange=function(a){if("loaded"===this.readyState||"complete"===this.readyState)this.onreadystatechange=null,c()}));f.src=a;d.appendChild(f);return f};h.loadStyleSheet=function(a){var c,d;c=document.getElementsByTagName("head")[0];d=document.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=a;return c.appendChild(d)};h.read=function(a,c,d,f){var e,
l;null==c&&(c={});null==d&&(d="");null==f&&(f=[]);try{return l=this.get(a,c,f),e=l.responseText||l.text,d===h.mimeTypes.json?JSON.parse(e):d===h.mimeTypes.xml&&null!=l.responseXML?l.responseXML:e}catch(g){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error("Read Error: ",g),null}};h.getFileExtension=function(a){return a.split(".").pop().replace(/\?.*/,"")};h.getResponseHeader=function(a,c,d){var f;null==d&&(d={});f=h.getXHR();null!=d.onerror&&(f.onerror=
d.onerror);f.open("HEAD",a,!1);f.send();return f.getResponseHeader(c)};h.getResponseHeaders=function(a,c,d){var f,e,l;null==d&&(d={});f=h.getXHR();null!=d.onerror&&(f.onerror=d.onerror);f.open("HEAD",a,!1);f.send();d={};if(null==c)return f.getAllResponseHeaders();e=0;for(l=c.length;e<l;e++)a=c[e],d[a]=f.getResponseHeader(a);return d};h.isTouch=null;h.isTouchDevice=function(){if(null==this.isTouch)try{document.createEvent("TouchEvent"),this.isTouch=!0}catch(a){this.isTouch=!1}return this.isTouch};
h.clamp=function(a,c,d){a<c&&(a=c);a>d&&(a=d);return a};h.beacon=function(a){var c;c=document.getElementById("beaconId");null==c&&(c=document.createElement("img"),c.setAttribute("id","beaconId"),c.setAttribute("height",0),c.setAttribute("width",0),document.body.appendChild(c),c.style.display="none");c.setAttribute("src",a);return c};h.getElementOffset=function(a){var c;c={left:0,top:0};if(a.offsetParent)for(c.left=a.offsetLeft,c.top=a.offsetTop;a=a.offsetParent;)c.left+=a.offsetLeft,c.top+=a.offsetTop;
return c};h.override=function(a,c,d){var f;null==d&&(d=!0);if(null==a)return c;if(null==c)return a;!0===d&&(a=h.clone(a),c=h.clone(c));for(f in c)d=c[f],"object"===typeof d?(null==a[f]&&(a[f]=d instanceof Array?[]:{}),a[f]=h.override(a[f],d,!1)):a[f]=d;return a};h.clone=function(a,c){var d,f,e,l,g,v,h;null==c&&(c=!0);if("object"!==typeof a)d=a;else for(l in d=a instanceof Array?[]:{},a)if(g=a[l],"object"===typeof g&&!0===c)if(g instanceof Array)for(d[l]=[],v=0,h=g.length;v<h;v++)f=g[v],d[l].push(this.clone(f));
else for(e in d[l]={},g)f=g[e],d[l][e]=this.clone(f);else d[l]=g;return d};h.formatTimecode=function(a,c){var d;a=parseInt(a);if(isNaN(a))return"00:00";d=h.formatZeroFill(a%60);a=parseInt(a/60);d=h.formatZeroFill(a%60)+":"+d;a=parseInt(a/60);0<a&&(d=h.formatZeroFill(a)+":"+d);3600<=c&&5===d.length&&(d="00:"+d);return d};h.formatZeroFill=function(a){var c;c=a.toString();10>a&&(c="0"+c);return c};h.flattenTimecode=function(a,c){var d,f,e;null==c&&(c=30);if(null==a||""===a)return NaN;e=a.split(":");
d=0;4===e.length?d=parseInt(e.pop())/c:3===e.length&&(e[2]=e[2].replace(",","."),-1!==e[2].indexOf(".")&&(f=e[2].split(".")),1<(null!=f?f.length:void 0)&&(e[2]=f[0],d=parseInt(f[1])/1E3));for(f=parseInt(e.pop());0<e.length;)f+=Math.pow(60,e.length)*parseInt(e.shift());return f+d};h.cacheBust=function(a,c,d){var f;null==c&&(c="cacheBust");null==d&&(d=Date.now());f=-1===a.indexOf("?")?"?":"\x26";return a+f+c+"\x3d"+d};h.formatStyleName=function(a){return a.replace(/([A-Z])/,"-$1").toLowerCase()};h.trim=
function(a){return a.replace(/^\s*(.*)/,"$1").replace(/(.*)\s*$/,"$1")};h.getJson=function(a,c,d){var f;f=h.getXHR();f.open("GET",a);f.onload=function(a){a="document"===f.responseType?h.xmlToJson(f.responseXML):f.response;"function"===typeof c&&c(a)};f.onerror=function(a){"function"===typeof d&&d(a)};f.send();return f};h.getSource=function(a,c,d){var f;f=h.getPlaybackMode();h.getJson(a,function(a){var d,e;a=(new tc).createFeed(a);0<(null!=a?null!=(e=a.item)?e.length:void 0:void 0)&&(d=function(a){return"flash"===
f&&-1!==h.flashTypes.indexOf(a)||"html"===f&&-1===h.flashTypes.indexOf(a)?"maybe":""},d=h.selectSource(a.item[0].source,d));"function"===typeof c&&c(d)},d)};h.trackMouse=function(){try{null!=document.addEventListener?document.addEventListener("mousemove",this.mouseTracker):null!=document.attachEvent&&document.attachEvent("mousemove",this.mouseTracker)}catch(a){}};h.clientX=0;h.clientY=0;h.pageX=0;h.pageY=0;h.mouseTracker=function(a){h.clientX=a.clientX;h.clientY=a.clientY;h.pageX=a.pageX;h.pageY=
a.pageY};h.isMouseOverElement=function(a){var c;c=!1;if(null==a)return c;try{c=a.contains(document.elementFromPoint(h.clientX,h.clientY))}catch(d){c=!1}return c};h.trackMouse();h.getActualSize=function(a,c){var d,f,e;null==c&&(c=!0);e=a.offsetWidth;d=a.offsetHeight;!0===c&&(f=getComputedStyle(a),e+=parseInt(f.marginLeft)+parseInt(f.marginRight),d+=parseInt(f.marginTop)+parseInt(f.marginBottom));return{width:e,height:d}};h.ieFallback=function(){if(!Array.prototype.filter)return Array.prototype.filter=
function(a,c){var d,f,e,l,g,v;if("undefined"===typeof this||null===this)throw new TypeError;l=Object(this);f=l.length>>>0;if("function"!==typeof a)throw new TypeError;e=[];d=g=0;for(v=f.length;g<v;d=++g)d in b&&(f=l[d],a.call(c,f,d,l)&&e.push(f));return e}};var ia=function(){ia.__super__.constructor.call(this,this,!1)};g(ia,qb);ia.UNINITIALIZED=0;ia.LOADING=1;ia.LOADED=2;ia.parseModule=function(a){var c,d,f,e;d={};a=a.childNodes;f=0;for(e=a.length;f<e;f++)c=a[f],1===(null!=c?c.nodeType:void 0)&&(d[c.nodeName]=
this.parseItem(c));return d};ia.parseItem=function(a){var c,d,f,e;c=(""+a.getAttribute("type")).toLowerCase();d=a.textContent||a.text||a.innerText;if("object"!==c&&"array"!==c&&/#\{.*\}/.test(d))return d;switch(c){case "object":d=this.parseModule(a);break;case "array":d=[];c=a.childNodes;f=0;for(e=c.length;f<e;f++)a=c[f],1===a.nodeType&&d.push(this.parseItem(a));break;case "boolean":d="true"===d.toLowerCase();break;case "number":d=parseFloat(d)}return d};ia.prototype.url=null;ia.prototype.data={paths:{player:"../amp.premier/",
resources:"../resources/"},resources:[{src:"#{paths.player}amp.premier.css",type:"text/css"}],rules:{android_4_gets_m3u8:{regexp:"Android 4"}},autoplay:!0,loop:!1,target:"_blank",domain:"akamai.com",fullscreen:{},controls:{},volumepanel:{direction:"vertical"},captioning:{},playoverlay:{},flash:{swf:"#{paths.player}AkamaiPremierPlayer.swf",debug:"#{paths.player}AkamaiPremierPlayer-debug.swf",expressInstallSWF:"#{paths.player}playerProductInstall.swf","static":{enabled:!1,swf:"#{paths.player}AkamaiPremierPlayer-static.swf",
debug:"#{paths.player}AkamaiPremierPlayer-debug.swf"},view:{attributes:{skin:"#{paths.player}premier.assets.swf"},elements:{infoOverlay:{attributes:{style:"top: 0px;"}},recommendationSlate:{attributes:{viewMode:"grid",items:"5"}},adOptions:{attributes:{style:"backgroundColor: 'rgba(0, 0, 0, 1)'"},elements:{adChoices:{attributes:{target:"http://www.akamai.com/"}},adCountdown:{},adCount:{}}},captionDisplay:{attributes:{initState:"cookie",position:"relative",style:"bottom: 0px; windowColor:0x000000; windowOpacity:0; font:Arial; fontColor:0xffffff; fontOpacity:1; fontBGColor:0x000000; fontBGOpacity:0; edgeType:none; edgeColor:0x000000; edgeOpacity:1; scroll:popOut; fontSize:12;",
settingsEnabled:"true"}},logoOverlay:{attributes:{style:"width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; background-image: url('../resources/images/sola.png');"}},controls:{attributes:{height:"28",scrubPosition:"inline",itemMargin:"5"},elements:{replayBtn:{},playPauseBtn:{},streamTimeIndicator:{attributes:{exclude:"live"},elements:{streamTime:{},streamDuration:{}}},rewindBtn:{},scrubBar:{attributes:{style:"height: 18px;"}},progressBar:{attributes:{style:"background: linear-gradient(90deg, #FF0000, #1B1B1B);"}},
loadedBar:{attributes:{style:"background: linear-gradient(90deg, #00FF00, #1B1B1B);"}},liveIndicator:{},timeLocationIndicator:{},goLiveBtn:{},shareBtn:{},captionBtn:{},statsBtn:{},hdClientBtn:{},chromecastBtn:{},volumeBar:{attributes:{color:"#CA2127"}},volumeBtn:{},fullscreenBtn:{}}},endSlate:{attributes:{enabled:"true",hideElements:"brandingLogo|viewAll"}},replayView:{},bufferingView:{}}},xml:'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\x3capplication\x3e\x3cplayer ad_control_enabled\x3d"true" ad_server_timeout\x3d"20" auto_play\x3d"true" auto_play_list\x3d"false" branding_preload\x3d"primary" core_ads_enabled\x3d"false" core_player_name\x3d"fullpage" data_feed_url\x3d"resources/feeds/mrss.json" domain\x3d"aep.com" email_send_url\x3d"" embed_domain\x3d"aep.com" eventmanagementstates_enabled\x3d"true" eventmanagementstates_status_interval\x3d"5" eventmanagementstates_status_url\x3d"resources/status/playerstate.txt" external_target\x3d"_blank" hds_bootstrap_max_retries\x3d"5" hds_fragment_retry_attempts\x3d"60" hds_fragment_retry_data_gap_threshold\x3d"20" hds_live_low_latency\x3d"true" js_callback\x3d"AEP.jsCallbackHandler" live_stream_flag\x3d"/v/feed/live/" live_timestamp_mode\x3d"1" live_timestamp_source\x3d"stream" live_timestamp_timezone_offset\x3d"-5" live_timestamp_timezone_string\x3d"ET" locale_setting\x3d"en" mbr_start_index\x3d"2" netsession_install_prompt_frequency_secs\x3d"-1" next_video_timer\x3d"15" recommendations_partner\x3d"mrss" rewind_interval\x3d"15" scale_view_to_fit\x3d"true" show_autoplay_overlay\x3d"false" show_email_overlay\x3d"false" show_sharing_overlay\x3d"false" subply_time_method\x3d"encoder" tve_app_vcs\x3d"/vcs" tve_beacon_domain\x3d"http://idp.securetve.com" tve_beacon_interval\x3d"30" tve_beacon_path\x3d"/rest/1.0" tve_enabled\x3d"false" tve_provider_id\x3d"urn:aep:com:sp:site:2" use_last_known_bitrate\x3d"false" use_netsession_client\x3d"true" valid_embed_params\x3d"guid,embedWidth,embedHeight" video_id\x3d"4168856" volume\x3d".5"\x3e\x3c/player\x3e\x3cview skin\x3d"../resources/webmd/webmd.assets.swf"\x3e\x3celement id\x3d"infoOverlay" style\x3d"bottom: 0px;"\x3e\x3c/element\x3e\x3celement id\x3d"captionDisplay" initState\x3d"cookie" position\x3d"relative" settingsEnabled\x3d"true" style\x3d"bottom:26%; height:13%; windowColor:0xffffff; windowOpacity:1; font:Arial; fontColor:0xff0000; fontOpacity:1; fontBGColor:0xffffff; fontBGOpacity:1; edgeType:right_drop_shadow; edgeColor:0x00ff00; edgeOpacity:1; scroll:popOut; fontSize:12;"\x3e\x3c/element\x3e\x3celement id\x3d"logoOverlay" style\x3d"width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; background-image: url(\'resources/images/sola.png\');"\x3e\x3c/element\x3e\x3celement id\x3d"adOptions" style\x3d"backgroundColor: rgba(0, 255, 0, 1)"\x3e\x3celement id\x3d"adChoices" target\x3d"http://www.akamai.com/"\x3e\x3c/element\x3e\x3celement id\x3d"adCountdown" style\x3d"fontFamily:Helvetica;fontWeight:bold;color:#ffffff;backgroundColor:#ff00ff;"\x3e\x3c/element\x3e\x3celement id\x3d"adCount" style\x3d"fontFamily:Verdana;fontWeight:normal;color:#ffffff;backgroundColor:#00ffff;"\x3e\x3c/element\x3e\x3c/element\x3e\x3celement autoHideDelay\x3d"2" backgroundAlpha\x3d"1" height\x3d"31" id\x3d"controls" itemMargin\x3d"0" scrubPosition\x3d"top" transitionTime\x3d".50"\x3e\x3celement id\x3d"replayBtn"\x3e\x3c/element\x3e\x3celement exclude\x3d"vod" id\x3d"rewindBtn"\x3e\x3c/element\x3e\x3celement id\x3d"playPauseBtn"\x3e\x3c/element\x3e\x3celement color\x3d"#FFFFFF" id\x3d"timeLocationIndicator" type\x3d"line"\x3e\x3c/element\x3e\x3celement collapsedHeight\x3d"3" id\x3d"scrubBar" style\x3d"height: 3px; background: linear-gradient(90deg, #333333 #333333);"\x3e\x3c/element\x3e\x3celement id\x3d"progressBar" style\x3d"background: linear-gradient(90deg, #0f4881 #0f4881);"\x3e\x3c/element\x3e\x3celement id\x3d"loadedBar" style\x3d"background: linear-gradient(90deg, #848484 #848484);"\x3e\x3c/element\x3e\x3celement exclude\x3d"live" id\x3d"streamTimeIndicator" position\x3d"left"\x3e\x3celement color\x3d"#7a7272" fontSize\x3d"38" id\x3d"streamTime"\x3e\x3c/element\x3e\x3celement fontSize\x3d"38" id\x3d"streamDuration"\x3e\x3c/element\x3e\x3c/element\x3e\x3celement id\x3d"liveIndicator" position\x3d"left" style\x3d"color: #ffffff; fontWeight: bold; fontSize: 12"\x3e\x3c/element\x3e\x3celement id\x3d"goLiveBtn" style\x3d"color: #666666; fontWeight: bold; backgroundColor:#000000; fontSize: 12"\x3e\x3c/element\x3e\x3celement autoHideDelay\x3d".3" backgroundColor\x3d"rgba(251,251,251,1)" color\x3d"#174170" id\x3d"volumeBar" position\x3d"top" trackColor\x3d"#616262" trackWidth\x3d"8" width\x3d"28"\x3e\x3c/element\x3e\x3celement id\x3d"volumeBtn"\x3e\x3c/element\x3e\x3celement id\x3d"captionBtn"\x3e\x3c/element\x3e\x3celement id\x3d"fullscreenBtn"\x3e\x3c/element\x3e\x3cstate enabled\x3d"favoriteBtn,replayBtn,streamTime,streamDuration,shareBtn,settingsBtn,volumeBtn,fullscreenBtn" id\x3d"postPlayback"\x3e\x3c/state\x3e\x3c/element\x3e\x3celement id\x3d"bufferingView" mode\x3d"loader" tether\x3d"false"\x3e\x3c/element\x3e\x3celement id\x3d"loadingView" increments\x3d"12" radius\x3d"20"\x3e\x3c/element\x3e\x3celement enabled\x3d"false" hideElements\x3d"brandingLogo|viewAll" id\x3d"endSlate"\x3e\x3c/element\x3e\x3celement enabled\x3d"false" id\x3d"replayView"\x3e\x3c/element\x3e\x3c/view\x3e\x3c/application\x3e'},
branding:{logo:"#{paths.resources}images/akamai_logo1.png"},dash:{resources:[{type:"text/javascript",src:"//dashif.org/reference/players/javascript/1.4.0/dist/dash.all.js"}],buffer:1},locales:{en:{MSG_TIME_SEPARATOR:" / ",MSG_EMAIL_TO:"To",MSG_EMAIL_FROM:"From",MSG_EMAIL_VIDEO:"Email this video",MSG_EMAIL_MESSAGE_DEFAULT:"Check out this video from xxx",MSG_EMAIL_MESSAGE:"Message",MSG_EMAIL_ADDRESS_INVALID:"Invalid Email Address",MSG_EMAIL_MESSAGE_INVALID:"Please limit your message to 500 characters or less.",
MSG_EMAIL_CHARACTERS_REMAINING_TEXT:" characters left",MSG_EMAIL_SEND_FAILURE:"Message could not be sent.",MSG_EMAIL_SEND_SUCCESS_MESSAGE:"Your email has been sent!",MSG_SHARE_VIDEO_TEXT:"Share this video...",MSG_POST_TEXT:"Post",MSG_EMBED_TEXT:"Embed",MSG_LINK_TEXT:"Link",MSG_SHARE_CONNECT_FAILURE:"Unable to connect. Please try again.",MSG_SHARE_CONTENT_DISABLED:"Share and embed are disabled.",MSG_VERSION_TEXT:"Version",MSG_BUFFERING_TEXT:"buffering",MSG_CUSTOMIZE_CLIP_POINTS:"Customize the start and end point of the video.",
MSG_PAUSE:"Pause",MSG_PREVIEW:"Preview",MSG_CURRENT:"Currrent",MSG_SEEK_TO:"Seek to",MSG_LIVE:"LIVE",MSG_DEFAULT_ERROR_MESSAGE:"Sorry, we were unable to play the media you selected. Please try again, or select alternate media.",MSG_ERROR_PREFIX:"Error encountered:",MSG_STREAM_NOT_FOUND:"Stream not found",MSG_CURRENT_WORKING_BANDWIDTH:"Current working bandwidth",MSG_CURRENT_BITRATE_PLAYING:"Current bitrate playing",MSG_MAX_BITRATE_AVAILABLE:"Max bitrate available",MSG_NOT_AVAILABLE:"Not Available",
MSG_GO_LIVE:"GO LIVE",MSG_REPLAY:"Replay",MSG_NEXT_VIDEO:"Video starts in: ",MSG_RECOMMENDED:"Recommended",MSG_VIEW_ALL:"View all ",MSG_VIDEO:" videos",MSG_CC:"CC",MSG_CC_TITLE:"Caption",MSG_CC_LANGUAGE:"Track :",MSG_CC_PRESETS:"Presets :",MSG_CC_FONT:"Font :",MSG_CC_EDGE:"Edge :",MSG_CC_SIZE:"Size :",MSG_CC_SCROLL:"Scroll :",MSG_CC_COLOR:"Color :",MSG_CC_BACKGROUND:"Background :",MSG_CC_WINDOW:"Window :",MSG_CC_OPACITY:"Opacity :",MSG_CC_SHOW_ADVANCED:"Show Advanced Settings",MSG_CC_HIDE_ADVANCED:"Hide Advanced Settings",
MSG_NEXT_AD:"Next ad starts in: ",MSG_CC_RESET:"Default",MSG_CC_CANCEL:"Cancel",MSG_CC_APPLY:"Apply",MSG_EN:"English",MSG_ES:"Spanish",MSG_DE:"German",MSG_FR:"French",MSG_IT:"Italian",MSG_RU:"Russian",MSG_ZH:"Chinese",MSG_CHROMECAST_MESSAGE:"Video playing on another screen",MSG_RETRY_MESSAGE:"Content not yet available, retrying in",MSG_SECONDS:"seconds",MSG_RETRY_FAILED:"Retry failed",MSG_RECOMMENDATIONS_TITLE:"Recommended"},es:{MSG_TIME_SEPARATOR:" / ",MSG_EMAIL_TO:"a",MSG_EMAIL_FROM:"de",MSG_EMAIL_VIDEO:"Enviar este v\u00eddeo",
MSG_EMAIL_MESSAGE_DEFAULT:"Echa un vistazo a este video de xxx",MSG_EMAIL_MESSAGE:"mensaje",MSG_EMAIL_ADDRESS_INVALID:"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida",MSG_EMAIL_MESSAGE_INVALID:"Por favor limite su mensaje a 500 caracteres o menos.",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:"personajes de la izquierda",MSG_EMAIL_SEND_FAILURE:"El mensaje no pudo ser enviado.",MSG_EMAIL_SEND_SUCCESS_MESSAGE:"Tu email ha sido enviado!",MSG_SHARE_VIDEO_TEXT:"Comparte este v\u00eddeo...",MSG_POST_TEXT:"enviar",
MSG_EMBED_TEXT:"incrustar",MSG_LINK_TEXT:"enlace",MSG_SHARE_CONNECT_FAILURE:"No se puede conectar. Por favor, int\u00e9ntelo de nuevo.",MSG_SHARE_CONTENT_DISABLED:"Compartir e incrustar est\u00e1n desactivados.",MSG_VERSION_TEXT:"versi\u00f3n",MSG_BUFFERING_TEXT:"el almacenamiento en b\u00fafer",MSG_CUSTOMIZE_CLIP_POINTS:"Personalizar el inicio y el punto final del video.",MSG_PAUSE:"romper",MSG_PREVIEW:"vista previa",MSG_CURRENT:"corriente",MSG_SEEK_TO:"Tratar de",MSG_LIVE:"EN VIVO",MSG_DEFAULT_ERROR_MESSAGE:"Lo sentimos, no hemos podido jugar los medios de comunicaci\u00f3n seleccionados. Por favor, int\u00e9ntelo de nuevo, o seleccionar los medios de comunicaci\u00f3n alternativos.",
MSG_ERROR_PREFIX:"Se produjo un error:",MSG_STREAM_NOT_FOUND:"Stream que no se encuentra",MSG_CURRENT_WORKING_BANDWIDTH:"Ancho de banda actual de trabajo",MSG_CURRENT_BITRATE_PLAYING:"Tasa de bits de reproducci\u00f3n actual",MSG_MAX_BITRATE_AVAILABLE:"Tasa de bits m\u00e1xima disponible",MSG_NOT_AVAILABLE:"No est\u00e1 disponible",MSG_GO_LIVE:"IR A VIVIR",MSG_REPLAY:"Repetir",MSG_NEXT_VIDEO:"El pr\u00f3ximo video comienza en: ",MSG_RECOMMENDED:"Recomendado",MSG_CC:"CC",MSG_VIEW_ALL:"ver todo ",MSG_VIDEO:" v\u00eddeos.",
MSG_EN:"Ingl\u00e9s",MSG_ES:"Espa\u00f1ol",MSG_DE:"Alem\u00e1n",MSG_FR:"Franc\u00e9s",MSG_IT:"Italiano",MSG_RU:"Ruso",MSG_ZH:"Chino",MSG_RETRY_MESSAGE:"Content not yet available, retrying in",MSG_SECONDS:"seconds",MSG_RETRY_FAILED:"Retry failed",MSG_RECOMMENDATIONS_TITLE:"Recomendado"}}};ia.prototype.xml=null;ia.prototype.readyState=ia.UNINITIALIZED;ia.prototype.loaded=!1;ia.prototype.flash={AkamaiAdvancedStreamingPlugin:{src:"http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.6/osmf2.0/AkamaiAdvancedStreamingPlugin.swf",
absolute:!0,host:"osmf",main:"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo"},OSMFCSMALoader:{host:"osmf",main:"com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo"},CaptioningPlugin:{src:"#{paths.resources}plugins/CaptioningPlugin.swf",blocking:!1,host:"osmf",main:"org.osmf.captioning.CaptioningPluginInfo"},OSMFCCDecoderPlugin:{src:"#{paths.resources}plugins/onCaptionInfoPlugin.swf",host:"osmf",main:"com.akamai.osmf.plugins.ccDecoder.OSMFCCDecoderPluginInfo"},AMPCaptionPlugin:{src:"#{paths.resources}plugins/AMPCaptionPlugin.swf",
blocking:!1,host:"akamai",main:"AMPCaptionPlugin"},CaptionSettingsPlugin:{src:"#{paths.resources}plugins/CaptionSettingsPlugin.swf",blocking:!1,host:"akamai",main:"CaptionSettingsPlugin"},GoogleIMAPlugin:{src:"#{paths.resources}plugins/GoogleIMAPlugin.swf",blocking:!1,host:"akamai",main:"GoogleIMAPlugin"},IMAOverlayAdPlugin:{src:"#{paths.resources}plugins/IMAOverlayAdPlugin.swf",blocking:!1,host:"akamai",main:"IMAOverlayAdPlugin"},FreewheelPlugin:{src:"#{paths.resources}plugins/FreewheelPlugin.swf",
blocking:!1,host:"akamai",main:"FreewheelPlugin"},VideoMetricsViewPlugin:{src:"#{paths.resources}plugins/VideoMetricsViewPlugin.swf",blocking:!1,host:"akamai",main:"VideoMetricsViewPlugin"},VideoStatsInfoOverlayPlugin:{src:"#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf",blocking:!1,host:"akamai",main:"VideoStatsInfoOverlayPlugin"},ComscorePlugin:{src:"#{paths.resources}plugins/ComscorePlugin.swf",blocking:!1,host:"akamai",main:"ComscorePlugin"},ComscoreStreamSensePlugin:{src:"#{paths.resources}plugins/ComscoreStreamSensePlugin.swf",
blocking:!1,host:"akamai",main:"ComscoreStreamSensePlugin"},NielsenPlugin:{src:"#{paths.resources}plugins/NielsenPlugin.swf",blocking:!1,host:"akamai",main:"NielsenPlugin"},NielsenSDKPlugin:{src:"#{paths.resources}plugins/NielsenSDKPlugin.swf",blocking:!1,host:"akamai",main:"NielsenSDKPlugin"},OmniturePlugin:{src:"#{paths.resources}plugins/OmniturePlugin.swf",blocking:!1,host:"akamai",main:"OmniturePlugin"},RecommendationsPlugin:{src:"#{paths.resources}plugins/RecommendationsPlugin.swf",blocking:!1,
host:"akamai",main:"RecommendationsPlugin"},ErrorMessagingPlugin:{src:"#{paths.resources}plugins/ErrorMessagingPlugin.swf",blocking:!1,host:"akamai",main:"ErrorMessagingPlugin"}};ia.prototype.loadURL=function(a,c){var d=this;null==c&&(c=!1);this.url=a;this.setReadyState(ia.LOADING);h.get(a,{withCredentials:c,onload:function(a){a=a.detail;"document"===a.responseType?(d.xml=a.responseXML,a=7!==d.xml.firstChild.nodeType?d.xml.firstChild:d.xml.childNodes[1],a=ia.parseModule(a)):(a=a.response,"string"===
typeof a&&(a=JSON.parse(a)));d.loadData(a)},onerror:function(a){d.dispatchEvent(new Z("error",a));ba.error(a)}})};ia.prototype.loadData=function(a){this.data=a;this.setReadyState(ia.LOADED)};ia.prototype.load=function(a,c){null==c&&(c=!1);switch(typeof a){case "object":this.loadData(a);break;case "string":this.loadURL(a,c);break;default:throw Error("[AMP ERROR] Invalid default configuration resource");}};ia.prototype.setReadyState=function(a){this.readyState=a;this.dispatchEvent(new Z("readystatechange",
a));a!==ia.LOADED||this.loaded||(this.loaded=!0,this.dispatchEvent(new Z("load",this.data)))};var ib=function(a,c,d,f,e){this.onclick=null!=e?e:this.onclick;ib.__super__.constructor.call(this,f,null,c,d);this.icon=this.create("icon");null!=a&&(this.label=this.createText("label",a))};g(ib,S);ib.prototype.componentType="button";ib.prototype.icon=null;ib.prototype.label=null;ib.prototype.onclick=null;var ab=function(a,c){this.element=a;this.timeout=c;ab.__super__.constructor.call(this);this.resetHandler=
this.reset.bind(this)};g(ab,qb);ab.prototype.events="mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove".split(" ");ab.prototype.resetHandler=null;ab.prototype.element=null;ab.prototype.timeout=null;ab.prototype.active=!0;ab.prototype.timeoutId=null;ab.prototype.applyListeners=function(a){var c,d,f,e;null==a&&(a="add");e=this.events;d=0;for(f=e.length;d<f;d++)c=e[d],this.element[""+a+"EventListener"](c,this.resetHandler)};ab.prototype.start=function(a){null!=a&&(this.timeout=
a);this.stop();this.applyListeners("add");this.timeoutId=setTimeout(this.setActive.bind(this,!1),this.timeout)};ab.prototype.stop=function(){this.applyListeners("remove");clearTimeout(this.timeoutId)};ab.prototype.reset=function(){this.setActive(!0);this.start()};ab.prototype.setActive=function(a){if(a!==this.active)return this.active=a,this.dispatchEvent(new Z("activechange",{active:this.active})),a};ab.prototype.getActive=function(){return this.active};var Gc=function(a){Gc.__super__.constructor.call(this,
null,null,a)};g(Gc,S);Gc.prototype.componentName="logo";Gc.prototype.url=null;Gc.prototype.onRegister=function(){Gc.__super__.onRegister.call(this);this.sendNotification(e.ADD_CONTROL_STATE,this.componentName+"-enabled")};Gc.prototype.onclick=function(a){a.stopImmediatePropagation();this.sendNotification(e.DISPATCH_EVENT,new Z("controlsLogoClicked"));return!1};var G=function(a,c){this.player=a;this.config=c;G.__super__.constructor.call(this);this.dispatcher=new qb(this);this.createDefaults()};g(G,
puremvc.Mediator);G.NAME="PluginWrapper";G.prototype.player=null;G.prototype.config=null;G.prototype.dispatcher=null;G.prototype.flashPluginIds=null;G.prototype.createFlashVars=null;G.prototype.createXML=null;G.prototype.createDefaults=function(){this.player.createDefaults.call(this)};G.prototype.addEventListener=function(a,c){this.dispatcher.addEventListener(a,c)};G.prototype.logEvent=function(a){};G.prototype.dispatchEvent=function(a){"timeupdate"!==a.type&&"timeremaining"!==a.type&&this.player.logger.log("[AMP "+
this.constructor.NAME.replace("Wrapper","").toUpperCase()+" EVENT]",a.type,a.detail,a);a.player=this.player;this.dispatcher.dispatchEvent(a)};G.prototype.removeEventListener=function(a,c){this.dispatcher.removeEventListener(a,c)};G.prototype.createElement=function(a,c,d){var f;f=a.createElement("element");f.setAttribute("id",c);null==d&&(d=this.getControls(a).controls);null!=d&&d.appendChild(f);return f};G.prototype.createProperty=function(a,c,d,f){var e;e=a.createElement("property");e.setAttribute("key",
c);null!=f&&f.appendChild(e);if(null!=d)if("object"!==typeof d||d instanceof Array)a=R.createTextContent(a,d.toString()),e.appendChild(a);else for(c in d)f=d[c],this.createProperty(a,c,f,e);return e};G.prototype.getControls=function(a){var c,d,f,e,l;d=a.getElementsByTagName("element");if(1>(null!=d?d.length:void 0))return null;a={};e=0;for(l=d.length;e<l;e++)c=d[e],f=c.getAttribute("id"),a[f]=c;return a};G.prototype.hasControls=function(a){var c;return null!=(null!=(c=this.getControls(a))?c.controls:
void 0)};G.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};G.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case "createFlashVars":"function"===typeof this.createFlashVars&&this.createFlashVars(a.flashvars);break;case "createXML":"function"===typeof this.createXML&&this.createXML(a.xml)}};var hf=function(){hf.__super__.constructor.call(this)};g(hf,puremvc.SimpleCommand);hf.prototype.execute=function(a){this.facade.retrieveProxy(fa.NAME).start()};
var jf=function(){jf.__super__.constructor.call(this)};g(jf,puremvc.SimpleCommand);jf.prototype.execute=function(a){this.facade.retrieveProxy(fa.NAME).stop()};var kf=function(){kf.__super__.constructor.call(this)};g(kf,puremvc.SimpleCommand);kf.prototype.execute=function(a){var c,d;d=this.facade.retrieveProxy(fa.NAME);c=this.facade.player.retrieveProxy(N.NAME);a.getBody().newState===Sa.ACTIVE&&c.getPlayState()!==L.READY&&"desktop"!==h.getDevice()&&d.start()};var lf=function(){lf.__super__.constructor.call(this)};
g(lf,puremvc.SimpleCommand);lf.prototype.execute=function(a){this.facade.player.getMediaElement().controls=!1};var mf=function(){mf.__super__.constructor.call(this)};g(mf,puremvc.SimpleCommand);mf.prototype.execute=function(a){this.facade.player.getMediaElement().controls=!0};var nf=function(){nf.__super__.constructor.call(this)};g(nf,puremvc.SimpleCommand);nf.prototype.execute=function(a){var c,d;c=a.getBody();d=c.poster;a=this.facade.player.getMediaElement();null!=d&&""!==d&&(a.poster=d);a.src=
c.src;!0!==this.facade.player.getAutoplay()&&this.facade.applyClickHandler()};var of=function(){of.__super__.constructor.call(this)};g(of,puremvc.SimpleCommand);of.prototype.execute=function(a){this.facade.applyClickHandler(!1)};var pf=function(){pf.__super__.constructor.call(this)};g(pf,puremvc.SimpleCommand);pf.prototype.execute=function(a){this.facade.retrieveProxy(fa.NAME).start()};var bb=function(a,c){bb.__super__.constructor.call(this,a,c)};g(bb,G);bb.NAME="ControlsWrapper";bb.prototype.mode=
"auto";bb.prototype.autoHide=5;bb.prototype.listNotificationInterests=function(){return bb.__super__.listNotificationInterests.apply(this,arguments).concat([e.MEDIUM_CHANGE])};bb.prototype.handleNotification=function(a){var c;bb.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case e.MEDIUM_CHANGE:c=/audio/.test(a)?"persistent":this.mode,this.setMode(c)}};bb.prototype.createFlashVars=function(a){null!=this.config.mode&&(this.mode=a.controls_mode=this.config.mode);return a};
bb.prototype.createXML=function(a){var c,d,f,e,l,g;e=a.getElementsByTagName("view")[0];f=a.getElementsByTagName("element");c=null;l=0;for(g=f.length;l<g;l++)if(d=f[l],"controls"===d.getAttribute("id")){c=d;break}null==c&&(c=a.createElement("element"),c.setAttribute("id","controls"),e.appendChild(c));null!=c.attributes.autoHideDelay?this.autoHide=c.getAttribute("autoHideDelay"):null!=this.config.autoHide&&(this.autoHide=this.config.autoHide,c.setAttribute("autoHideDelay",this.config.autoHide));return a};
bb.prototype.getMode=function(){return this.mode};bb.prototype.setMode=function(a){if(a!==this.mode){try{this.mode=a,this.player.mediaElement.setPlayerProperty("controlsMode",a)}catch(c){this.facade.logger.error("[AMP CONTROLS ERROR]",c)}return a}};bb.prototype.getAutoHide=function(){return this.autoHide};var fa=function(a){fa.__super__.constructor.call(this,a)};g(fa,x);fa.NAME=x.NAME;fa.prototype.defaults={mode:"auto",autoHide:3};fa.prototype.timeout=null;fa.prototype.appState=null;fa.prototype.controls=
null;fa.prototype.interactiveElement=null;fa.prototype.idleUtil=null;fa.prototype.initializeNotifier=function(a){fa.__super__.initializeNotifier.call(this,a);this.appState=this.facade.player.retrieveProxy(N.NAME);this.controls=this.facade.retrieveMediator(N.NAME)};fa.prototype.onRegister=function(){var a=this;fa.__super__.onRegister.call(this);null!=this.config.mode&&this.changeMode(this.config.mode);this.interactiveElement=this.facade.player.retrieveMediator(Ab.NAME).getViewComponent();"desktop"===
h.getDevice()?(m.create(this.interactiveElement,"mouseenter",function(){a.stop();a.appState.activeState!==Sa.ACTIVE&&a.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE)}),m.create(this.interactiveElement,"mouseleave",function(){a.start()}),this.idleUtil=new ab(this.facade.player.getViewComponent(),1E3*this.data.autoHide),this.idleUtil.addEventListener("activechange",function(c){a.sendNotification(e.CHANGE_ACTIVE_STATE,!0!==c.detail.active?Sa.INACTIVE:Sa.ACTIVE)}),this.idleUtil.start()):m.create(this.interactiveElement,
m.CLICK,function(){a.sendNotification(e.TOGGLE_ACTIVE)})};fa.prototype.setMode=function(a){if(this.data.mode===a)return a;this.changeMode(a);return a};fa.prototype.changeMode=function(a){"auto"===this.data.mode&&this.stop();this.facade.sendNotification(e.REMOVE_APPLICATION_STATE,"controls-"+this.data.mode);this.data.mode=a;this.facade.sendNotification(e.ADD_APPLICATION_STATE,"controls-"+this.data.mode)};fa.prototype.getMode=function(){return this.data.mode};fa.prototype.setAutoHide=function(a){return this.data.autoHide=
a};fa.prototype.getAutoHide=function(){return this.data.autoHide};fa.prototype.start=function(){this.stop();"auto"===this.data.mode&&(this.timeout=setTimeout(this.hide.bind(this),1E3*this.data.autoHide))};fa.prototype.stop=function(){clearTimeout(this.timeout);this.timeout=null};fa.prototype.hide=function(){"auto"===this.data.mode&&(!0!==this.appState.getIsUserActive()&&!h.isMouseOverElement(this.facade.viewComponent)||this.appState.getDisplayState()===Y.FULL_SCREEN?this.facade.sendNotification(e.CHANGE_ACTIVE_STATE,
Sa.INACTIVE):this.start())};var ec=function(a){ec.__super__.constructor.call(this,null,a)};g(ec,ib);ec.prototype.componentName="full-screen";ec.prototype.onRegister=function(){ec.__super__.onRegister.call(this);this.sendNotification(e.ADD_CONTROL_STATE,this.componentName+"-enabled")};ec.prototype.onclick=function(a){a.stopImmediatePropagation();this.sendNotification(e.TOGGLE_FULL_SCREEN);return!1};ec.prototype.listNotificationInterests=function(){return[e.DISABLE_FULL_SCREEN,e.ENABLE_FULL_SCREEN]};
ec.prototype.handleNotification=function(a){var c;c=a.getName();a.getBody();switch(c){case e.DISABLE_FULL_SCREEN:this.setDisabled(!0);break;case e.ENABLE_FULL_SCREEN:this.setDisabled(!1)}};var M=function(a,c){this.direction=null!=c?c:this.direction;M.__super__.constructor.call(this,null,null,a)};g(M,S);M.prototype.componentType="slider";M.prototype.trackView=null;M.prototype.handleView=null;M.prototype.valueView=null;M.prototype.startCapView=null;M.prototype.endCapView=null;M.prototype.min=0;M.prototype.max=
1;M.prototype.value=0;M.prototype.dragging=!1;M.prototype.draggingInterval=null;M.prototype.draggingDelay=250;M.prototype.direction="vertical";M.prototype.pressHandler=null;M.prototype.releaseHandler=null;M.prototype.moveHandler=null;M.prototype.clickHandler=null;M.prototype.onRegister=function(){M.__super__.onRegister.call(this);this.startCapView=this.create("start-cap");this.endCapView=this.create("end-cap");this.trackView=this.create("track");this.valueView=this.create("value",this.trackView);
this.handleView=this.create("handle",this.trackView);this.pressHandler=m.create(this.handleView,m.PRESS,this.handlePressHandler.bind(this));this.releaseHandler=m.create(window,m.RELEASE,this.handleReleaseHandler.bind(this));this.releaseHandler.unbind();this.moveHandler=m.create(window,m.MOVE,this.updateHandler.bind(this,!1));this.moveHandler.unbind();this.clickHandler=m.create(this.trackView,m.CLICK,this.updateHandler.bind(this,!0))};M.prototype.setDirection=function(a){return this.direction=a};M.prototype.getDirection=
function(){return this.direction};M.prototype.setValue=function(a){this.updateValue(a);this.valueChanged(a);return a};M.prototype.getValue=function(){return this.value};M.prototype.setDragging=function(a){if(a!==this.dragging)return this.dragging=a,this.sendNotification(e.IS_USER_ACTIVE,this.dragging),!0===this.dragging?this.draggingInterval=setInterval(this.dragUpdateHandler.bind(this),this.draggingDelay):(clearInterval(this.draggingInterval),this.dragUpdateHandler()),this.dragging};M.prototype.getDragging=
function(){return this.dragging};M.prototype.updateValue=function(a){var c;this.value=h.clamp(a,this.min,this.max);"vertical"===this.direction?(a="height",c="bottom"):(a="width",c="left");this.valueView.style[a]=this.handleView.style[c]=""+100*this.value+"%"};M.prototype.calculateValue=function(a){var c,d;c=this.facade.player.retrieveProxy(N.NAME).getDisplayState()!==Y.FULL_SCREEN;"vertical"===this.getDirection()?(d=this.viewComponent.offsetHeight,c=c?h.getElementOffset(this.viewComponent).top:this.viewComponent.offsetTop,
a=-(a.y-(c+d))-window.scrollY):(d=this.viewComponent.offsetWidth,c=c?h.getElementOffset(this.viewComponent).left:this.viewComponent.offsetLeft,a=a.x-c+window.scrollX);return h.clamp(a/d,0,1)};M.prototype.handlePressHandler=function(a){this.moveHandler.bind();this.releaseHandler.bind();this.clickHandler.unbind();this.setDragging(!0);a.stopImmediatePropagation();return!1};M.prototype.handleReleaseHandler=function(a){this.moveHandler.unbind();this.releaseHandler.unbind();this.clickHandler.bind();this.setDragging(!1);
a.stopImmediatePropagation();return!1};M.prototype.updateHandler=function(a,c){var d;c.stopImmediatePropagation();d=this.calculateValue({x:c.clientX||c.targetTouches[0].clientX,y:c.clientY||c.targetTouches[0].clientY});!0===a?this.setValue(d):this.updateValue(d);return!1};M.prototype.dragUpdateHandler=function(){this.setValue(this.value)};M.prototype.valueChanged=function(){};var La={ADD_PANEL:"addPanel",REMOVE_PANEL:"removePanel",OPEN_PANEL:"openPanel",CLOSE_PANEL:"closePanel",TOGGLE_PANEL:"togglePanel",
CLOSE_ALL_PANELS:"closeAllPanels"},cb=function(a){cb.__super__.constructor.call(this,null,null,a)};g(cb,S);cb.prototype.componentName="time-display";cb.prototype.duration=null;cb.prototype.currentTimeDisplay=null;cb.prototype.separatorDisplay=null;cb.prototype.durationDisplay=null;cb.prototype.liveDisplay=null;cb.prototype.onRegister=function(){cb.__super__.onRegister.call(this);this.liveDisplay=this.createText("live-display",this.localizationManager.getString(w.MSG_LIVE));this.currentTimeDisplay=
this.createText("current-time-display","00:00",this,"span");this.separatorDisplay=this.createText("separator-display",this.localizationManager.getString(w.MSG_TIME_SEPARATOR),this,"span");this.durationDisplay=this.createText("duration-display","00:00",this,"span")};cb.prototype.listNotificationInterests=function(){return[e.PLAY,e.DURATION_CHANGE,e.ENDED,e.DISPLAY_TIME]};cb.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case e.PLAY:this.updateDuration();break;
case e.DURATION_CHANGE:this.duration=a;this.updateCurrentTime();this.updateDuration();break;case e.ENDED:this.updateCurrentTime(this.duration);this.updateDuration();break;case e.DISPLAY_TIME:this.updateCurrentTime(a.currentTime,a.duration),this.updateDuration(a.duration)}};cb.prototype.updateCurrentTime=function(a,c){null==a&&(a=this.currentTime);null==c&&(c=this.duration);this.currentTimeDisplay.textContent=h.formatTimecode(a,c)};cb.prototype.updateDuration=function(a){null==a&&(a=this.duration);
this.durationDisplay.textContent=h.formatTimecode(a)};var Va=function(a){this.panels=[];this.closeHandler=this.mouseupHandler.bind(this);Va.__super__.constructor.call(this,null,null,a)};g(Va,S);Va.prototype.componentName="panels";Va.prototype.activePanel=null;Va.prototype.panels=null;Va.prototype.closeHandler=null;Va.prototype.listNotificationInterests=function(){var a,c,d;d=[];for(a in La)c=La[a],d.push(c);return d.concat([])};Va.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();
switch(c){case La.ADD_PANEL:this.addPanel(a);break;case La.REMOVE_PANEL:this.removePanel(a);break;case La.OPEN_PANEL:this.openPanel(a);break;case La.CLOSE_PANEL:this.closePanel(a);break;case La.CLOSE_ALL_PANELS:this.closeAllPanels(a);break;case La.TOGGLE_PANEL:this.togglePanel(a)}};Va.prototype.addPanel=function(a){this.panels.push(a);this.viewComponent.appendChild(a.getViewComponent())};Va.prototype.removePanel=function(a){this.panels.splice(this.panels.indexOf(a),1);this.viewComponent.removeChild(a.getViewComponent())};
Va.prototype.openPanel=function(a){a!==this.activePanel&&null!=a&&(this.closeAllPanels(),this.activePanel=a,this.activePanel.classList.add("active"),"desktop"!==h.getDevice()&&this.sendNotification(e.IS_USER_ACTIVE,!0),document.addEventListener("mouseup",this.closeHandler))};Va.prototype.closePanel=function(a){a.classList.remove("active");null!=this.activePanel&&(this.activePanel=null,"desktop"!==h.getDevice()&&this.sendNotification(e.IS_USER_ACTIVE,!1),document.removeEventListener("mouseup",this.closeHandler))};
Va.prototype.togglePanel=function(a){a===this.activePanel?this.closePanel(a):this.openPanel(a)};Va.prototype.closeAllPanels=function(){var a,c,d,f;f=this.panels;c=0;for(d=f.length;c<d;c++)a=f[c],this.closePanel(a)};Va.prototype.mouseupHandler=function(a){var c,d;c=document.elementFromPoint(a.clientX,a.clientY);d=this.activePanel.getViewComponent();a=this.activePanel.control.getViewComponent();c!==d&&!1===d.contains(c)&&c!==a&&!1===a.contains(c)&&this.closeAllPanels()};var ga=function(a){ga.__super__.constructor.call(this,
a,"horizontal")};g(ga,M);ga.prototype.componentName="progress";ga.prototype.bufferValue=null;ga.prototype.scrubTime=null;ga.prototype.scrubTimeSeparator=null;ga.prototype.cuePoints=null;ga.prototype.cues=null;ga.prototype.duration=0;ga.prototype.isLive=!1;ga.prototype.previewData={src:null,previewWidth:null,previewHeight:null,imgWidth:null,imgHeight:null,count:null};ga.prototype.onRegister=function(){ga.__super__.onRegister.call(this);this.bufferValue=this.create("buffer-value",!1);this.trackView.insertBefore(this.bufferValue,
this.trackView.lastChild);this.cuePoints=this.create("cue-points",this.trackView);this.scrubTimeSeparator=this.create("scrub-time-separator",this.trackView);this.scrubTime=this.create("scrub-time",this.trackView);this.thumbPreview=this.create("thumb-preview")};ga.prototype.listNotificationInterests=function(){return[e.ENDED,e.MEDIA_CHANGE,e.DURATION_CHANGE,e.PROGRESS,e.ADD_CUE_POINTS,e.REMOVE_CUE_POINTS,e.DISPLAY_TIME]};ga.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();
switch(c){case e.MEDIA_CHANGE:this.isLive="live"===a.temporalType;this.updateValue(0);this.bufferValue.style.width="0%";this.updatePreview(a.metadata);break;case e.PROGRESS:c=h.clamp(100*(a/this.duration),0,100);this.bufferValue.style.width=c+"%";break;case e.DURATION_CHANGE:this.duration=a;this.updateCuePoints();break;case e.ENDED:this.updateValue(1);break;case e.ADD_CUE_POINTS:this.cues=a;this.updateCuePoints();break;case e.REMOVE_CUE_POINTS:this.removeCuePoints();break;case e.DISPLAY_TIME:!1===
this.dragging&&this.updateValue(a.currentTime/a.duration,a.duration)}};ga.prototype.updateCuePoints=function(){var a,c,d,f,e;if(null!=this.cues&&0!==this.cues.length&&(null==(null!=(a=this.facade.player.config)?null!=(c=a.controls)?c.displaySceneMarkers:void 0:void 0)||!1!==this.facade.player.config.controls.displaySceneMarkers))for(this.removeCuePoints(),e=this.cues,d=0,f=e.length;d<f;d++)a=e[d],0!==a&&-1!==a&&(c=this.create("cue-point",this.cuePoints),c.style.left=100*(a/this.duration)+"%")};ga.prototype.updatePreview=
function(a){var c=this;this.previewData.src=a.previewThumbnailSrc;this.previewData.previewHeight=a.previewThumbnailHeight;this.previewData.previewWidth=a.previewThumbnailWidth;this.previewData.count=a.previewThumbnailCount;a=new Image;this.previewData.src&&(a.src=this.previewData.src);m.create(a,"load",function(a){a.stopImmediatePropagation();c.previewData.imgWidth=a.target.width;c.previewData.imgHeight=a.target.height;return!1});this.previewData.src&&(this.thumbPreview.style.backgroundImage="url("+
this.previewData.src+")");this.thumbPreview.style.width=this.previewData.previewWidth+"px";this.thumbPreview.style.height=this.previewData.previewHeight+"px"};ga.prototype.removeCuePoints=function(){null!=this.cuePoints&&(this.cuePoints.innerHTML="")};ga.prototype.valueChanged=function(){this.sendNotification(T.SEEK,this.value*this.facade.player.retrieveProxy(s.NAME).getDuration())};ga.prototype.updateValue=function(a,c){null==c&&(c=this.duration);!0===this.isLive&&(a=1);!0===isNaN(a)&&(a=0);ga.__super__.updateValue.call(this,
a);!0===this.getDragging()&&(this.scrubTime.textContent=h.formatTimecode(this.value*c));this.scrubTime.style.left=this.scrubTimeSeparator.style.left=""+(100*this.value).toFixed(2)+"%";this.previewInterval=this.duration/this.previewData.count;this.previewImgIndex=Math.floor(this.value*c/this.previewInterval);this.previewRow=Math.floor(this.previewImgIndex*this.previewData.previewWidth/this.previewData.imgWidth);this.xpos="-"+this.previewData.previewWidth*this.previewImgIndex+"px ";this.ypos="-"+this.previewData.previewHeight*
this.previewRow.toFixed(0)+"px ";this.thumbPreview.style.backgroundPosition=this.xpos+this.ypos;this.thumbPreview.style.left=""+(100*this.value-18).toFixed(2)+"%"};ga.prototype.handlePressHandler=function(a){ga.__super__.handlePressHandler.call(this,a);this.classList.add("scrubbing")};ga.prototype.handleReleaseHandler=function(a){ga.__super__.handleReleaseHandler.call(this,a);this.classList.remove("scrubbing")};var ie=function(a){ie.__super__.constructor.call(this,null,a)};g(ie,ib);ie.prototype.componentName=
"play-pause";ie.prototype.onclick=function(a){a.stopImmediatePropagation();a.preventDefault();this.sendNotification(T.TOGGLE_PLAY_PAUSE);return!1};var k={BREAK_START:"adsbreakstart",BREAK_END:"adsbreakend",AD_CONTAINER_CREATED:"adscontainercreated",AD_LOADED:"adsloaded",AD_MANAGER_LOADED:"adsmanagerloaded",AD_STARTED:"adsstarted",AD_TIME_UPDATE:"adstimeupdate",AD_TIME_REMAINING:"adstimeremaining",AD_DURATION_CHANGE:"adsdurationchange",AD_ENDED:"adsended",AD_ERROR:"adserror",AD_PLAY:"adsplay",AD_PAUSE:"adspause",
AD_PAUSED:"adspaused",AD_RESUME:"adsresume",AD_CLICKED:"adclicked",AD_COMPANION:"adscompanion",FIRST_QUARTILE:"adsfirstquartile",MIDPOINT:"adsmidpoint",THIRD_QUARTILE:"adsthirdquartile",LOG:"adslog",REQUEST:"adsrequest",SKIPPED:"adsskipped",IMPRESSION:"adsimpression"},Cb=function(){Cb.__super__.constructor.call(this)};g(Cb,hb);Cb.prototype.componentName="controls";Cb.prototype.activeControlPanel=null;Cb.prototype.controlBar=null;Cb.prototype.panels=null;Cb.prototype.onRegister=function(){Cb.__super__.onRegister.call(this);
this.facade.viewComponent=this.viewComponent;this.controlBar=this.create("control-bar");this.facade.registerMediator(new Va(this.viewComponent));this.facade.registerMediator(new ie(this.controlBar));this.facade.registerMediator(new cb(this.controlBar));this.facade.registerMediator(new ga(this.controlBar));null!=this.facade.config.logo&&this.facade.registerMediator(new Gc(this.controlBar));this.create("separator",this.controlBar)};Cb.prototype.listNotificationInterests=function(){return[e.READY,e.ADD_CONTROL,
e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE]};Cb.prototype.handleNotification=function(a){var c,d;c=a.getName();a=a.getBody();switch(c){case e.READY:!1!==(null!=(d=a.fullscreen)?d.enabled:void 0)&&this.facade.registerMediator(new ec(this.controlBar));break;case e.ADD_CONTROL_STATE:this.classList.add(a);break;case e.REMOVE_CONTROL_STATE:this.classList.remove(a);break;case e.ADD_CONTROL:this.controlBar.appendChild(a);break;case e.REMOVE_CONTROL:this.controlBar.contains(a)&&this.controlBar.removeChild(a)}};
var q=function(){};q.create=function(a,c,d){var f,e;"string"===typeof a&&(a=document.getElementById(a));if(null==a)throw Error("[AMP ERROR] Invalid container. Could not find DOM element with id: "+a);null==c&&(c={});null!=q.defaults.data&&(c=h.override(q.defaults.data,c));!0===/amp\-debug\=true/.test(location.search.toLowerCase())&&(c.debug=!0);ba.enable(c.debug);e=this.getVersion();c.mode=h.getPlaybackMode(c.mode);null==c.version&&(c.version=e);null==a.dataset&&(a.dataset={});a.dataset["amp.version"]=
e;ba.log("[AMP]",e);switch(c.mode){case Ua.HTML:f=new z(a);break;case Ua.FLASH:f=new n(a);break;case Ua.EXTERNAL:f=new Q(a);break;case Ua.NONE:f=new Cg(a)}f.onready=d;f.initialize(c);return a.amp=f};q.getVersion=function(){return this.VERSION};q.VERSION="AMP - Premier : WebMD v0.30.0.0002";q.defaults=new ia;q.plugins=[];q.loadDefaults=function(a,c,d,f){null==f&&(f=!1);null!=c&&this.defaults.addEventListener("load",c);null!=d&&this.defaults.addEventListener("error",d);this.defaults.load(a,f)};
q.getPlaybackMode=function(){return h.getPlaybackMode()};q.registerPlugin=function(a,c,d){var f;null==(f=this.plugins)[a]&&(f[a]={});this.plugins[a][c]=d};q.resourceManager=null;q.getResourceManager=function(){null==this.resourceManager&&(this.resourceManager=new kd);return this.resourceManager};q.addResource=function(a,c){return this.getResourceManager().add(a,c)};q.addResources=function(a,c){return this.getResourceManager().addResources(a,c)};q.getResource=function(a){return this.getResourceManager().item(a)};
q.removeResource=function(a){return this.getResourceManager().remove(a)};var je=function(){return je.__super__.constructor.apply(this,arguments)};g(je,G);je.NAME="PlayOverlayWrapper";je.prototype.createFlashVars=function(a){a.show_play_button_overlay=null!=this.config.enabled?this.config.enabled:!0;return a};q.registerPlugin("playoverlay","flash",je);var ke=function(){ke.__super__.constructor.call(this)};g(ke,ha);ke.prototype.componentName="play";ke.prototype.onclick=function(a){a.stopImmediatePropagation();
a.preventDefault();this.sendNotification(T.TOGGLE_PLAY_PAUSE);return!1};var ya=function(){ya.__super__.constructor.call(this)};g(ya,V);ya.prototype.moduleName="controls";ya.prototype.createFramework=function(){!0===this.config["native"]?(this.player.getMediaElement().controls=!0,this.player.sendNotification(e.ADD_APPLICATION_STATE,"controls-native"),this.registerCommand(e.MEDIA_VALIDATED,nf),this.registerCommand(k.BREAK_START,lf),this.registerCommand(k.BREAK_END,mf),this.registerCommand(e.STARTED,
of),this.createView=function(){}):ya.__super__.createFramework.call(this)};ya.prototype.applyClickHandler=function(a){null==a&&(a=!0);this.player.getMediaElement().onclick=a?this.clickHandler.bind(this):null;this.player.getMediaElement().onplay=a?this.clickHandler.bind(this):null};ya.prototype.clickHandler=function(a){this.sendNotification(T.TOGGLE_PLAY_PAUSE,!0)};ya.prototype.createController=function(){ya.__super__.createController.call(this);this.registerCommand(e.START,pf);this.registerCommand(e.PLAY,
hf);this.registerCommand(e.PAUSE,jf);this.registerCommand(e.ACTIVE_STATE_CHANGE,kf)};ya.prototype.createModel=function(){this.proxy=new fa(this.config);this.registerProxy(this.proxy)};ya.prototype.createView=function(){this.registerMediator(new Cb)};ya.prototype.listNotificationInterests=function(){var a,c,d;d=[];for(a in La)c=La[a],d.push(c);return d.concat([e.MEDIA_CHANGE,e.TIME_UPDATE,e.DURATION_CHANGE,e.PROGRESS,e.ENDED,e.ADD_CUE_POINTS,e.REMOVE_CUE_POINTS,e.DISABLE_FULL_SCREEN,e.ENABLE_FULL_SCREEN,
e.READY,e.ADD_CONTROL,e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE,e.ACTIVE_STATE_CHANGE,e.START,e.PLAY,e.PAUSE,k.BREAK_START,k.BREAK_END,e.CHANGE_MEDIA,e.DISPLAY_TIME,e.MEDIA_VALIDATED,e.STARTED])};ya.prototype.listNotificationPublications=function(){return ya.__super__.listNotificationPublications.call(this).concat([e.CHANGE_ACTIVE_STATE,e.TOGGLE_FULL_SCREEN,T.SEEK,e.TOGGLE_ACTIVE,T.TOGGLE_PLAY_PAUSE])};ya.prototype.setMode=function(a){this.proxy.setMode(a);return a};ya.prototype.getMode=
function(){return this.proxy.getMode()};ya.prototype.setAutoHide=function(a){this.proxy.setAutoHide(a);return a};ya.prototype.getAutoHide=function(){return this.proxy.getAutoHide()};q.registerPlugin("controls","html",ya);q.registerPlugin("controls","flash",bb);q.registerPlugin("controls","external",ya);var qf=function(){qf.__super__.constructor.call(this)};g(qf,A);qf.prototype.execute=function(a){this.proxy.contentStarted()};var rf=function(){rf.__super__.constructor.call(this)};g(rf,A);rf.prototype.execute=
function(a){this.proxy.contentEnded()};var y=function(){y.__super__.constructor.call(this)};g(y,A);y.prototype.dispatchEvent=function(a,c){var d,f;"string"!==typeof a&&(c=a.getBody()||{},a=a.getName());d="function"===typeof(f=this.plugin).getFeatureName?f.getFeatureName():void 0;null!=d&&(a=a.replace(RegExp("^("+d+")"),""));d=this.plugin.getModuleName();a=a.replace(RegExp("^("+d+")"),"");d=new Z(a,c);this.sendNotification(e.DISPATCH_EVENT,d)};y.prototype.dispatchEventAfterCommand=function(a,c){setTimeout(this.dispatchEvent.bind(this,
a,c),0)};y.prototype.execute=function(a){this.dispatchEvent(a)};var sf=function(){sf.__super__.constructor.call(this)};g(sf,A);sf.prototype.execute=function(a){this.proxy.setMedia(a.getBody())};var tf=function(){tf.__super__.constructor.call(this)};g(tf,puremvc.SimpleCommand);tf.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!0};var uf=function(){uf.__super__.constructor.call(this)};g(uf,puremvc.SimpleCommand);uf.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=
!1};var vf=function(){vf.__super__.constructor.call(this)};g(vf,puremvc.SimpleCommand);vf.prototype.execute=function(a){var c,d;try{d=a.getBody(),c={adDuration:d.duration,adPartnerId:d.partner,adTitle:d.title,adId:d.id},"function"===typeof akamaiHandleAdLoaded&&akamaiHandleAdLoaded(c)}catch(f){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",f)}};var wf=function(){wf.__super__.constructor.call(this)};g(wf,A);wf.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdStarted&&akamaiHandleAdStarted()}catch(c){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",
c)}};var xf=function(){xf.__super__.constructor.call(this)};g(xf,A);xf.prototype.execute=function(a){a=a.getBody();a=Math.round(100*(a.currentTime/a.duration));try{25<=a&&25>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: First Quartile"),"function"===typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):50<=a&&50>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: Second Quartile"),"function"===typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):75<=a&&75>
this.proxy.percent&&(this.facade.logger.debug("MediaAnalytics: Third Quartile"),"function"===typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(c){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",c)}this.proxy.percent=a};var yf=function(){yf.__super__.constructor.call(this)};g(yf,puremvc.SimpleCommand);yf.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(c){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",
c)}this.facade.player.getMediaElement().dataset.isad=!0};var zf=function(){zf.__super__.constructor.call(this)};g(zf,A);zf.prototype.execute=function(a){a=a.getBody();this.proxy.setDimensions(a)};var Af=function(){Af.__super__.constructor.call(this)};g(Af,A);Af.prototype.execute=function(a){this.proxy.updatedMedia(a.getBody())};var le=function(){le.__super__.constructor.call(this)};g(le,A);le.prototype.execute=function(a){!1===this.proxy.getStarted()?this.sendNotification(e.START,!0):(this.proxy.play(),
this.facade.player.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING))};var me=function(){me.__super__.constructor.call(this)};g(me,A);me.prototype.execute=function(a){this.proxy.pause();this.player.sendNotification(e.CHANGE_PLAY_STATE,L.PAUSED)};var Bf=function(){Bf.__super__.constructor.call(this)};g(Bf,y);Bf.prototype.execute=function(a){a=this.proxy.getPaused()||!1===this.proxy.getStarted()?e.PLAY:e.PAUSE;this.sendNotification(a,!0)};var ne=function(){ne.__super__.constructor.call(this)};g(ne,y);
ne.prototype.execute=function(a){this.proxy.setVolume(a.getBody());ne.__super__.execute.call(this,a)};var oe=function(){oe.__super__.constructor.call(this)};g(oe,y);oe.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);!1===this.playback.initialized&&this.player.sendNotification(e.INITIALIZED);this.proxy.start();this.player.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING);oe.__super__.execute.call(this,a)};var Db=function(a,c){Db.__super__.constructor.call(this,a,c)};g(Db,G);Db.NAME=
"MediaAnalyticsWrapper";Db.prototype.flashPluginIds=["OSMFCSMALoader"];Db.prototype.listNotificationInterests=function(){return Db.__super__.listNotificationInterests.call(this).concat([e.MEDIA_CHANGE,"mediaanalytics:setDimensions"])};Db.prototype.createFlashVars=function(a){var c,d,f,e;c=null!=(f=this.player.config)?null!=(e=f.media)?e.mediaanalytics:void 0:void 0;if(null!=c)for(d in c)f=c[d],a["report_"+d]=f;return a};Db.prototype.createXML=function(a){var c,d,f,e,l;c=a.firstChild;f=a.getElementsByTagName("metrics")[0];
null==f&&(f=a.createElement("metrics"),c.appendChild(f));c=a.createElement("vendor");c.setAttribute("id","akamai");f.appendChild(c);null!=this.config.config&&(f=a.createElement("property"),f.setAttribute("key","MEDIA_ANALYTICS_BEACON"),f.appendChild(R.createTextContent(a,this.config.config)),c.appendChild(f),l=(null!=(d=this.config.plugin)?d.swf:void 0)||"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",f=a.createElement("property"),f.setAttribute("key","MEDIA_ANALYTICS_PLUGIN_PATH"),f.appendChild(R.createTextContent(a,
l)),c.appendChild(f));if(null!=this.config.dimensions)for(e in d=a.createElement("property"),d.setAttribute("key","dimensions"),c.appendChild(d),l=this.config.dimensions,l)c=l[e],f=a.createElement("property"),f.setAttribute("key",e),f.appendChild(R.createTextContent(a,c)),d.appendChild(f);return a};Db.prototype.handleNotification=function(a){var c,d,f;Db.__super__.handleNotification.call(this,a);d=a.getName();a=a.getBody();switch(d){case e.MEDIA_CHANGE:if(null!=(null!=(f=a.mediaanalytics)?f.dimensions:
void 0))for(c in a.dimensions=[],f=a.mediaanalytics.dimensions,f)d=f[c],a.dimensions.push({key:c,value:d});break;case "mediaanalytics:setDimensions":this.setDimensions(a)}};Db.prototype.setDimensions=function(a){this.player.mediaElement.setPlayerProperty("maDimensions",a);return a};var Wa=function(a,c,d,f,e,l,g,v,h,k,m){this.id=a;this.title=c;this.duration=d;this.position=f;this.type=e;this.partner=l;this.advertiser=g;this.companions=v;this.request=h;this.metadata=k;this.totalAds=m};Wa.prototype.id=
null;Wa.prototype.title=null;Wa.prototype.duration=NaN;Wa.prototype.position=NaN;Wa.prototype.totalAds=NaN;Wa.prototype.type=null;Wa.prototype.partner=null;Wa.prototype.advertiser=null;Wa.prototype.companions=null;Wa.prototype.metadata=null;Wa.prototype.request=null;Wa.prototype.error=null;var Ma=function(a){Ma.__super__.constructor.call(this,a)};g(Ma,na);Ma.prototype.configurationName="imaoverlay";Ma.NAME="IMAOveralyProxy";Ma.prototype.defaults={adTagUrl:null,duration:15,interval:30,delay:30};Ma.prototype.durationTimer=
null;Ma.prototype.intervalTimer=null;Ma.prototype.delayTimer=null;Ma.prototype.stop=function(){clearTimeout(this.durationTimer);clearTimeout(this.delayTimer);clearTimeout(this.intervalTimer)};Ma.prototype.play=function(){var a=this;this.stop();this.delayTimer=setTimeout(function(){return a.requestAd()},1E3*this.value.delay)};Ma.prototype.requestAd=function(){var a;a=this.getValue("adTagUrl");null!=a&&(a=a.replace("[timestamp]",(new Date).getTime()),a=a.replace("__random-number__",(new Date).getTime()));
h.get(a,{withCredentials:!0,onload:this.vastLoadHandler.bind(this),onerror:this.error.bind(this)},!1)};Ma.prototype.vastLoadHandler=function(a){var c,d,f,e,l;a=a.target.responseXML;if(null!=a)try{c=a.querySelector("NonLinear"),null!=c?(l=null!=a.querySelector("Impression")?a.querySelector("Impression").textContent:"",f=null!=a.querySelector("Tracking[event\x3dcreativeView]")?a.querySelector("Tracking[event\x3dcreativeView]").textContent:"",d=null!=c.querySelector("NonLinearClickThrough")?c.querySelector("NonLinearClickThrough").textContent:
"",e={src:c.querySelector("StaticResource").textContent,width:c.getAttribute("width"),height:c.getAttribute("height"),tracking:[l,f],href:d},this.displayAd(e)):this.error("No overlay was returned")}catch(g){this.error(g)}};Ma.prototype.error=function(a){this.facade.logger.error("[AMP IMA OVERLAY ERROR]",a);this.stop()};Ma.prototype.displayAd=function(a){var c=this;this.sendNotification("ima/addOverlay",a);this.durationTimer=setTimeout(function(){c.sendNotification("ima/removeOverlay");return c.intervalTimer=
setTimeout(function(){return c.requestAd()},1E3*c.value.interval)},1E3*this.value.duration)};var E=function(a){E.__super__.constructor.call(this,a)};g(E,la);E.NAME=la.NAME;E.prototype.inprogress=!1;E.prototype.paused=!1;E.prototype.started=!1;E.prototype.adVO=null;E.prototype.contextName="ad";E.prototype.getContextData=function(){return this.adVO||{}};E.prototype.setCompanions=function(a){this.adVO.companions=a;this.sendNotification(k.AD_COMPANION,this.adVO);return a};E.prototype.getCompanions=function(){var a;
return null!=(a=this.adVO)?a.companions:void 0};E.prototype.getInProgress=function(){return this.inprogress};E.prototype.setInProgress=function(a){return this.inprogress=a};E.prototype.getStarted=function(){return this.started};E.prototype.setStarted=function(a){return this.started=a};E.prototype.getPaused=function(){return this.paused};E.prototype.setPaused=function(a){return this.paused=a};E.prototype.play=function(){this.setPaused(!1);this.sendNotification(k.AD_PLAY,this.adVO)};E.prototype.pause=
function(){this.setPaused(!0);this.sendNotification(k.AD_PAUSE,this.adVO)};E.prototype.breakStart=function(){};E.prototype.breakEnd=function(){this.setInProgress(!1);this.reset()};E.prototype.error=function(a,c){var d;null==c&&(c=!0);d=("function"===typeof a.getMessage?a.getMessage():void 0)||a.message;this.facade.logger.error("[AMP AD ERROR]",""+d+" Skipping ad content.",a);null==this.adVO&&(this.adVO={});this.adVO.error=a;this.sendNotification(k.AD_ERROR,this.adVO);!0===c&&this.endBreak()};E.prototype.engage=
function(a){!1!==this.getEnabled()&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.player.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode")),this.engageAds())};E.prototype.engageAds=function(){this.facade.player.removeCommand(e.START);this.facade.player.removeCommand(e.PLAY);this.facade.player.removeCommand(e.PAUSE);this.facade.player.removeCommand(e.ENDED);this.facade.player.removeCommand(T.PLAY);this.facade.player.removeCommand(T.PAUSE);this.facade.player.removeCommand(T.TOGGLE_PLAY_PAUSE);
this.facade.isFullscreenDevice()&&this.facade.player.removeCommand(e.CHANGE_DURATION);this.facade.removeCommand(e.STARTED);this.facade.removeCommand(e.ENDED);this.facade.registerCommand(e.START,oe);this.facade.registerCommand(e.PLAY,le);this.facade.registerCommand(e.PAUSE,me);this.facade.registerCommand(T.PLAY,le);this.facade.registerCommand(T.PAUSE,me);this.facade.registerCommand(T.TOGGLE_PLAY_PAUSE,Bf);this.facade.registerCommand(e.VOLUME_CHANGE,ne)};E.prototype.reset=function(){this.facade.removeCommand(e.START);
this.facade.removeCommand(e.PLAY);this.facade.removeCommand(e.PAUSE);this.facade.removeCommand(T.PLAY);this.facade.removeCommand(T.PAUSE);this.facade.removeCommand(T.TOGGLE_PLAY_PAUSE);this.facade.removeCommand(e.VOLUME_CHANGE);this.facade.player.registerCommand(e.START,Wd);this.facade.player.registerCommand(e.PLAY,Uc);this.facade.player.registerCommand(e.PAUSE,Rc);this.facade.player.registerCommand(e.ENDED,Sc);this.facade.player.registerCommand(T.PLAY,Uc);this.facade.player.registerCommand(T.PAUSE,
Rc);this.facade.player.registerCommand(T.TOGGLE_PLAY_PAUSE,Rd);this.facade.isFullscreenDevice()&&this.facade.player.registerCommand(e.CHANGE_DURATION,fe);this.facade.registerCommand(e.STARTED,qf);this.facade.registerCommand(e.ENDED,rf)};E.prototype.startBreak=function(){this.setStarted(!0);this.sendNotification(k.BREAK_START,this.adVO);return!1===this.getEnabled()?(this.endBreak(),!1):!0};E.prototype.endBreak=function(){this.sendNotification(k.BREAK_END,this.adVO)};E.prototype.start=function(){this.startBreak()};
E.prototype.contentPlay=function(){this.facade.player.sendNotification(e.PLAY,!0)};E.prototype.contentPause=function(){this.facade.player.mediaElement.pause()};E.prototype.contentStarted=function(){};E.prototype.contentSeek=function(a){};E.prototype.contentEnded=function(){};E.prototype.setVolume=function(a){};E.prototype.getVolume=function(){};E.prototype.terminateAd=function(){};E.prototype.terminateAllAds=function(){};var t=function(a){t.__super__.constructor.call(this,a);this.intervals=[];this.loadedmetadata=
this.onLoadedMetadata.bind(this)};g(t,E);t.NAME=E.NAME;t.prototype.defaults={adTagUrl:null,overlay:null,width:null,height:null,maxBitrate:-1,ppid:null,companions:null};t.prototype.key="ima";t.prototype.intervals=null;t.prototype.adDisplayContainer=null;t.prototype.adDisplayContainerInitialized=!1;t.prototype.adsLoader=null;t.prototype.adsRenderingSettings=null;t.prototype.adsManagerLoaded=!1;t.prototype.adsManager=null;t.prototype.cuepoints=null;t.prototype.adLoaded=!1;t.prototype.playWhenLoaded=
!1;t.prototype.contentHasEnded=!1;t.prototype.adTagUrl=null;t.prototype.viewMode=null;t.prototype.playbackCore=null;t.prototype.loadedmetadata=null;t.prototype.setEnabled=function(a){var c;t.__super__.setEnabled.call(this,a);!1===a&&(null!=(c=this.adsManager)&&"function"===typeof c.destroy&&c.destroy(),this.getInProgress()&&this.contentPlay());return a};t.prototype.onLoadedMetadata=function(a){a.target.removeEventListener("loadedmetadata",this.loadedmetadata);this.canPlay()&&!0===this.playWhenLoaded&&
this.startAd()};t.prototype.initialize=function(){};t.prototype.ready=function(){var a;this.viewMode=google.ima.ViewMode.NORMAL;window.addEventListener("resize",this.resize.bind(this));null!=this.config.vpaidAllowed&&google.ima.settings.setVpaidAllowed(this.config.vpaidAllowed);null!=this.config.vpaidMode&&null!=(a=google.ima.ImaSdkSettings.VpaidMode[this.config.vpaidMode.toUpperCase()])&&google.ima.settings.setVpaidMode(a);this.adDisplayContainer=this.createPlugin();this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);
this.adsRenderingSettings=new google.ima.AdsRenderingSettings;this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)};t.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container)};t.prototype.engage=function(a){var c;!1!==this.getEnabled()&&(t.__super__.engage.call(this),
!0===this.adsManagerLoaded&&!1===this.contentHasEnded&&null!=(c=this.adsManager)&&"function"===typeof c.destroy&&c.destroy(),this.playWhenLoaded=this.adsManagerLoaded=this.contentHasEnded=this.adsManagerLoaded=!1)};t.prototype.setVolume=function(a){var c;null!=(c=this.adsManager)&&c.setVolume(a);return a};t.prototype.getVolume=function(){var a;return null!=(a=this.adsManager)?a.getVolume():void 0};t.prototype.requestAd=function(){var a,c,d,f,e,l;this.sendNotification(k.REQUEST,this.adVO);f=this.facade.player.getViewComponent().clientWidth;
d=this.facade.player.getViewComponent().clientHeight;a=new google.ima.AdsRequest;this.adTagUrl=this.getValue("adTagUrl");c=this.getValue("adsResponse");null!=c&&""!==c?a.adsResponse=h.read(c,null,h.mimeTypes.txt):a.adTagUrl=this.adTagUrl;if(null==a.adsResponse&&null==a.adTagUrl)this.onAdError("No valid adTagUrl or adsResponse provided.");else a.linearAdSlotWidth=f,a.linearAdSlotHeight=d,a.nonLinearAdSlotWidth=(null!=(e=this.value.overlay)?e.width:void 0)||f,a.nonLinearAdSlotHeight=(null!=(l=this.value.overlay)?
l.height:void 0)||d,c=this.adsLoader.getSettings(),null!=this.config.ppid&&c.setPpid(this.getValue("ppid")),this.adsLoader.requestAds(a)};t.prototype.requestOverlay=function(){var a,c;c=this.value.overlay;null!=c&&(a=new google.ima.AdsRequest,a.adTagUrl=c.adTagUrl,a.nonLinearAdSlotWidth=c.width||300,a.nonLinearAdSlotHeight=c.height||50,this.adsLoader.requestAds(a))};t.prototype.start=function(){var a;this.playbackCore=this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore();a=this.facade.player.getMediaElement();
this.playbackCore.setEnabled(!1);a.src=this.playbackCore.getSrc();a.addEventListener("loadedmetadata",this.loadedmetadata);a.load();if(!1===t.__super__.start.call(this))return!1;!0!==this.adDisplayContainerInitialized&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0);!0===this.canPlay()?this.startAd():(this.playWhenLoaded=!0,this.requestAd())};t.prototype.canPlay=function(){return!0===this.adsManagerLoaded};t.prototype.startAd=function(){var a;this.playWhenLoaded=!1;try{a=
this.facade.player.retrieveProxy(r.NAME).getVolume(),this.setVolume(a),null==this.viewMode&&(this.viewMode=google.ima.ViewMode.NORMAL),this.adsManager.init(this.facade.player.getViewComponent().clientWidth,this.facade.player.getViewComponent().clientHeight,this.viewMode),this.adsManager.start(),this.setInProgress(!0)}catch(c){this.error(c)}};t.prototype.resize=function(a){var c;null!=a&&(this.viewMode=a===Y.FULL_SCREEN?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL);null!=(c=this.adsManager)&&
c.resize(this.facade.player.getViewComponent().clientWidth,this.facade.player.getViewComponent().clientHeight,this.viewMode)};t.prototype.onAdsManagerLoaded=function(a){var c;this.adsRenderingSettings.bitrate=this.getValue("maxBitrate");this.adsRenderingSettings.autoAlign=!0;this.adsRenderingSettings.useStyledNonLinearAds=!0;null!=(c=this.adsManager)&&"function"===typeof c.destroy&&c.destroy();this.adsManager=a.getAdsManager(this.facade.player.mediaElement,this.adsRenderingSettings);this.facade.player.sendNotification(k.AD_MANAGER_LOADED,
{adManager:this.adsManager,viewMode:google.ima.ViewMode.NORMAL,adContainer:this.facade.getViewComponent()});this.adsManagerLoaded=!0;this.cuePoints=this.adsManager.getCuePoints();this.facade.player.sendNotification(e.ADD_CUE_POINTS,this.cuePoints);a=this.onAdEvent.bind(this);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPause.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,
this.contentPlay.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUME,this.onAdResumed.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,
this.onAdClick.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,a);this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,a);!0===this.facade.player.getConfig().debug&&this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,a);this.canPlay()&&
!0===this.playWhenLoaded&&this.startAd()};t.prototype.onAdClick=function(a){!1===(null!=a?a.getAd().isLinear():void 0)?this.facade.player.sendNotification(e.PAUSE):this.getPaused()||this.pause()};t.prototype.onAdPaused=function(a){this.setPaused(!0);this.facade.player.sendNotification(e.CHANGE_PLAY_STATE,L.PAUSED);this.facade.player.sendNotification(e.CHANGE_ACTIVE_STATE,Sa.ACTIVE);this.facade.player.sendNotification(k.AD_PAUSED,this.adVO)};t.prototype.onAdResumed=function(a){this.setPaused(!1);this.facade.player.sendNotification(e.CHANGE_PLAY_STATE,
L.PLAYING)};t.prototype.onAdEvent=function(a){var c,d,f,p,l,g,v;c=a.getAd();null!=this.adVO&&(null!=c&&(c.wrapperAdIds="function"===typeof c.getWrapperAdIds?c.getWrapperAdIds():void 0,c.wrapperAdSystems="function"===typeof c.getWrapperAdSystems?c.getWrapperAdSystems():void 0),this.adVO.metadata=c);switch(a.type){case google.ima.AdEvent.Type.IMPRESSION:this.sendNotification(k.IMPRESSION,this.adVO);break;case google.ima.AdEvent.Type.LOADED:if(c.isLinear()){a=c.getAdPodInfo().getPodIndex();d=0===a?"preroll":
-1===a?"postroll":"midroll";this.adVO=new Wa(c.getAdId(),c.getAdId(),c.getDuration(),a,d,"ima",null,null,this.adTagUrl,c,c.getAdPodInfo().getTotalAds());if("midroll"===d||"postroll"===d)this.startBreak(),this.engageAds();this.sendNotification(k.AD_LOADED,this.adVO);this.sendNotification(k.AD_DURATION_CHANGE,this.adVO)}else this.facade.player.sendNotification(e.ADD_APPLICATION_STATE,"ad-overlaymode"),this.contentPlay();break;case google.ima.AdEvent.Type.STARTED:c.isLinear()&&(this.adVO.position=c.getAdPodInfo().getAdPosition(),
this.sendNotification(k.AD_STARTED,this.adVO),this.intervals.push(setInterval(this.onAdTimeUpdate.bind(this),300)),this.facade.player.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING),this.sendNotification(k.AD_PLAY,this.adVO));try{f=[];p=("function"===typeof this.getConfigurationData?null!=(v=this.getConfigurationData())?v.companions:void 0:void 0)||[];l=0;for(g=p.length;l<g;l++)d=p[l],f=f.concat(c.getCompanionAds(d.width,d.height));0<(null!=f?f.length:void 0)&&this.setCompanions(f)}catch(h){this.facade.logger.error("[AMP IMA ERROR]",
"Could not retrieve companion ads:",h)}break;case google.ima.AdEvent.Type.COMPLETE:c.isLinear()&&this.sendNotification(k.AD_ENDED,this.adVO);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.sendNotification(k.FIRST_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.MIDPOINT:this.sendNotification(k.MIDPOINT,this.adVO);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.sendNotification(k.THIRD_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.LOG:this.sendNotification(k.LOG,this.adVO);
break;case google.ima.AdEvent.Type.SKIPPED:this.sendNotification(k.SKIPPED,this.adVO);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:!0===this.getInProgress()&&this.endBreak()}};t.prototype.onAdTimeUpdate=function(a){a=this.adsManager.getRemainingTime();this.sendNotification(k.AD_TIME_UPDATE,this.adVO.duration-a);this.sendNotification(k.AD_TIME_REMAINING,a)};t.prototype.onAdError=function(a){a=(null!=a?a.getError():void 0)||a;this.error(a);this.contentPlay(!1)};t.prototype.play=function(){var a;
t.__super__.play.call(this);try{null!=(a=this.adsManager)&&a.resume(),this.sendNotification(k.AD_RESUME)}catch(c){this.facade.logger.error("[AMP IMA ERROR]","resume",c)}};t.prototype.pause=function(){t.__super__.pause.call(this);try{this.adsManager.pause()}catch(a){this.facade.logger.error("[AMP IMA ERROR]","pause",a)}};t.prototype.breakEnd=function(){var a,c;c=this.intervals;a=0;for(c=c.length;a<c;a++)clearInterval(this.intervals.pop());t.__super__.breakEnd.call(this);a=this.facade.retrieveProxy(Ma.NAME);
null!=a&&a.play()};t.prototype.setCompanions=function(a){var c,d,f,e,l;d=[];f=0;for(e=a.length;f<e;f++)c=a[f],d.push({data:c.getContent(),type:null!=(l=c.getContentType())?l.toLowerCase():void 0,width:c.getWidth(),height:c.getHeight(),metadata:c});t.__super__.setCompanions.call(this,d);return a};t.prototype.contentPause=function(){this.sendNotification(e.DISABLE_VIDEO_EVENTS,["paused","ended","durationchange","error"]);t.__super__.contentPause.call(this)};t.prototype.contentPlay=function(){var a,
c;!0===this.getInProgress()&&this.endBreak();this.sendNotification(e.ENABLE_VIDEO_EVENTS,["paused","ended","durationchange","error"]);"postroll"===(null!=(a=this.adVO)?a.type:void 0)?this.facade.player.sendNotification(e.ENDED):(t.__super__.contentPlay.call(this),"midroll"===(null!=(c=this.adVO)?c.type:void 0)&&"desktop"===h.getDevice()&&this.facade.player.setCurrentTime(Math.floor(this.facade.player.getCurrentTime())))};t.prototype.contentEnded=function(){var a;this.contentHasEnded=!0;try{null!=
(a=this.adsLoader)&&"function"===typeof a.contentComplete&&a.contentComplete()}catch(c){this.facade.logger.error("[AMP IMA ERROR]","contentComplete",c)}};t.prototype.terminateAd=function(){var a;try{null!=(a=this.adsManager)&&a.stop()}catch(c){this.facade.logger.error("[AMP IMA ERROR]","terminateAd",c)}this.endBreak();this.contentPlay()};t.prototype.terminateAllAds=function(){var a;try{null!=(a=this.adsManager)&&a.destroy()}catch(c){this.facade.logger.error("[AMP IMA ERROR]","terminateAllAds",c)}this.endBreak();
this.contentPlay()};var Eb=function(a){Eb.__super__.constructor.call(this,a)};g(Eb,la);Eb.NAME=x.NAME;Eb.prototype.defaults={config:null,dimensions:null};Eb.prototype.ready=function(){try{window.akamaiSetVideoObject(this.facade.player.getMediaElement())}catch(a){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]","Could not set video tag",a)}};Eb.prototype.setDimensions=function(a){var c,d,f;c=this.configurationData.source.dimensions;for(d in a)f=a[d],null!=f&&(c[d]=f);this.configurationData.parse(this.configurationData.source);
this.applyDimensions(c);return a};Eb.prototype.applyDimensions=function(a){var c,d;if(null!=window.setAkamaiMediaAnalyticsData)try{for(c in a)d=a[c],setAkamaiMediaAnalyticsData(c,d)}catch(f){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]","Could not set dimensions:",f)}};Eb.prototype.setMedia=function(a){var c,d;c=null!=(null!=(d=a.mediaanalytics)?d.dimensions:void 0)?h.override(this.value.dimensions,a.mediaanalytics.dimensions):this.value.dimensions;this.applyDimensions(c);return a};Eb.prototype.udpateMedia=
function(a){"function"===typeof akamaiHandleTitleSwitch&&akamaiHandleTitleSwitch(a);return a};var Cf=function(){Cf.__super__.constructor.call(this)};g(Cf,puremvc.SimpleCommand);Cf.prototype.execute=function(a){this.facade.retrieveProxy(Eb.NAME).ready()};var uc=function(){uc.__super__.constructor.call(this)};g(uc,V);uc.prototype.moduleName="playoverlay";uc.prototype.createModel=function(){};uc.prototype.createView=function(){this.registerMediator(new ke)};uc.prototype.listNotificationPublications=
function(){return uc.__super__.listNotificationPublications.call(this).concat([T.TOGGLE_PLAY_PAUSE])};q.registerPlugin("playoverlay","html",uc);q.registerPlugin("playoverlay","external",uc);var pa=function(a,c,d,f){this.url=a;this.interval=null!=c?c:1E4;this.type=null!=d?d:null;this.headers=null!=f?f:null;pa.__super__.constructor.call(this)};g(pa,qb);pa.prototype.timeout=null;pa.prototype.interval=null;pa.prototype.url=null;pa.prototype.lastModified=null;pa.prototype.contentLenght=null;pa.prototype.data=
null;pa.prototype.text=null;pa.prototype.type=null;pa.prototype.headers=null;pa.prototype.useHeadRequest=!0;pa.prototype.xhr=null;pa.prototype.start=function(){null!=this.url&&""!==this.url&&this.poll()};pa.prototype.poll=function(){var a,c=this;a=h.getXHR();this.useHeadRequest?(a.onload=function(d){var f;304===a.status?c.invoke():(f=a.getResponseHeader("Last-Modified"),d=a.getResponseHeader("Content-Length"),null==f&&null==d||null!=f&&f!==c.lastModified||null!=d&&d!==c.contentLength?(c.lastModified=
f,c.contentLength=d,c.updateData()):c.invoke())},a.onerror=function(a){c.error(a)},a.open("HEAD",h.cacheBust(this.url),!1),this.applyHeaders(),null!=this.lastModified&&a.setRequestHeader("If-Modified-Since",this.lastModified),a.send()):this.updateData()};pa.prototype.applyHeaders=function(){null!=this.headers&&this.xhr.setRequestHeaders(this.headers)};pa.prototype.updateData=function(){var a,c=this;a=h.getXHR();a.open("GET",h.cacheBust(this.url),!0);a.onload=function(d){c.setText(a.responseText);
c.invoke()};a.onerror=function(a){c.error(a)};this.applyHeaders();return a.send()};pa.prototype.setText=function(a){var c;if(a!==this.text){c=this.text=a;if(this.type===h.mimeTypes.json)try{c=this.xhr.response}catch(d){c=this.text}this.setData(c)}return a};pa.prototype.setData=function(a){a!==this.data&&(this.data=a,this.dispatchEvent(new Z("datachanged",this.data)));return a};pa.prototype.error=function(a){ba.error(event);this.stop()};pa.prototype.invoke=function(){var a=this;this.stop();this.timeout=
setTimeout(function(){a.poll()},this.interval)};pa.prototype.stop=function(){clearTimeout(this.timeout)};var wd=function(){return wd.__super__.constructor.apply(this,arguments)};g(wd,G);wd.NAME="EventManagementWrapper";wd.prototype.createFlashVars=function(a){null!=this.config.enabled&&(a.eventmanagementstates_enabled=this.config.enabled);null!=this.config.url&&(a.eventmanagementstates_status_url=this.config.url);null!=this.config.interval&&(a.eventmanagementstates_status_interval=this.config.interval);
return a};wd.prototype.createXML=function(a){var c,d,f,e,l,g,h;c=a.firstChild;d=a.getElementsByTagName("eventmanagementstates");null==d||0===d.length?(d=a.createElement("eventmanagementstates"),c.appendChild(d)):d=d[0];c=a.createElement("states");d.appendChild(c);h=this.config.states;l=0;for(g=h.length;l<g;l++)e=h[l],d=a.createElement("state"),c.appendChild(d),f=a.createElement("property"),f.setAttribute("key","ID"),f.appendChild(R.createTextContent(a,e.id)),d.appendChild(f),f=a.createElement("property"),
f.setAttribute("key","POSTER_SRC"),f.appendChild(R.createTextContent(a,e.poster)),d.appendChild(f),null!=e.url&&(f=a.createElement("property"),f.setAttribute("key","URL"),f.appendChild(R.createTextContent(a,e.url)),d.appendChild(f));return a};var vc=function(){vc.__super__.constructor.call(this)};g(vc,ha);vc.prototype.componentName="event-management";vc.prototype.poster=null;vc.prototype.onRegister=function(){this.classList.add("hidden");this.poster=this.create("event-poster",!1,"img");vc.__super__.onRegister.call(this)};
vc.prototype.listNotificationInterests=function(){return["eventStateChanged"]};vc.prototype.handleNotification=function(a){switch(a.getName()){case "eventStateChanged":a=a.getBody(),"on"!==a.id?(null!=a.poster&&(this.poster.src=a.poster,this.viewComponent.appendChild(this.poster)),this.classList.remove("hidden"),this.sendNotification(e.PAUSE),this.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL)):(this.viewComponent.contains(this.poster)&&this.viewComponent.removeChild(this.poster),this.classList.add("hidden"))}};
var Df=function(){Df.__super__.constructor.call(this)};g(Df,A);Df.prototype.execute=function(a){var c;(null!=(c=this.proxy.getState())?c.id:void 0)!==Na.ON.id&&this.sendNotification(e.PAUSE)};var Na=function(a){var c=this;Na.__super__.constructor.call(this,a);this.poller=new pa;this.poller.ondatachanged=function(a){var f,e,l,g;a=a.detail;if("on"===a)f=Na.ON;else for(g=c.data.states,e=0,l=g.length;e<l&&(f=g[e],f.id!==a);e++);if(null!=f)return c.setState(f)}};g(Na,x);Na.NAME=x.NAME;Na.ON={id:"on"};
Na.prototype.defaults={url:null,interval:null,states:null,enabled:!1};Na.prototype.poller=null;Na.prototype.state=null;Na.prototype.initialize=function(){!0===this.data.enabled&&(this.setURL(this.data.url),this.setInterval(this.data.interval),this.poller.start())};Na.prototype.setURL=function(a){return this.data.url=this.poller.url=a};Na.prototype.getURL=function(){return this.data.url};Na.prototype.getInterval=function(){return this.data.interval};Na.prototype.setInterval=function(a){this.data.interval=
this.poller.interval=1E3*a;return a};Na.prototype.setState=function(a){this.state=a;this.sendNotification("eventStateChanged",a);return a};Na.prototype.getState=function(){return this.state};var Ob=function(){Ob.__super__.constructor.call(this)};g(Ob,V);Ob.prototype.moduleName="mediaanalytics";Ob.prototype.initialize=function(a,c){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=a.config;Ob.__super__.initialize.call(this,a,c)};Ob.prototype.createModel=function(){this.proxy=new Eb(this.config);this.registerProxy(this.proxy)};
Ob.prototype.createController=function(){Ob.__super__.createController.call(this);this.registerCommand(e.READY,Cf);this.registerCommand(e.MEDIA_CHANGE,sf);this.registerCommand(k.BREAK_START,tf);this.registerCommand(k.BREAK_END,uf);this.registerCommand(k.AD_LOADED,vf);this.registerCommand(k.AD_STARTED,wf);this.registerCommand(k.AD_TIME_UPDATE,xf);this.registerCommand(k.AD_ENDED,yf);this.registerCommand("mediaanalytics:setDimensions",zf);this.registerCommand(e.CONTENT_CHANGED,Af)};Ob.prototype.listNotificationInterests=
function(){return[e.READY,e.MEDIA_CHANGE,k.BREAK_START,k.BREAK_END,k.AD_LOADED,k.AD_STARTED,k.AD_TIME_UPDATE,k.AD_ENDED,"mediaanalytics:setDimensions",e.CONTENT_CHANGED]};Ob.prototype.setDimensions=function(a){this.retrieveProxy(Eb.NAME).setDimensions(a);return a};q.registerPlugin("mediaanalytics","html",Ob);q.registerPlugin("mediaanalytics","flash",Db);var xd=function(){return xd.__super__.constructor.apply(this,arguments)};g(xd,G);xd.NAME="BrandingWrapper";xd.prototype.createFlashVars=function(a){null!=
this.config.id&&(a.branding=this.config.id);return a};xd.prototype.createXML=function(a){var c,d,f,e,l,g,h,k;if(null!=(null!=(c=this.config)?c.logo:void 0)){c="background-image: url('"+this.config.logo+"');";e=a.getElementsByTagName("element");h=0;for(k=e.length;h<k;h++)f=e[h],l=f.getAttribute("id"),"logoOverlay"===l?g=f:"controls"===l&&(d=f);null==g?(g=a.createElement("element"),g.setAttribute("id","logoOverlay"),g.setAttribute("style","width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; "+
c),d.appendChild(g)):(d=g.getAttribute("style"),d=-1!==d.indexOf("background-image:")?d.replace(/background-image: [A-Za-z0-9_\-\.\/\\;\(\)"']+/,c):c+d,g.setAttribute("style",d))}return a};var Pb=function(){Pb.__super__.constructor.call(this)};g(Pb,ha);Pb.prototype.componentName="branding";Pb.prototype.logo=null;Pb.prototype.text=null;Pb.prototype.container=null;Pb.prototype.onRegister=function(){this.container=this.create("branding-container");this.logo=this.create(["branding-image","hidden"],this.container,
"img");this.text=this.create("branding-text",this.container);Pb.__super__.onRegister.call(this)};Pb.prototype.listNotificationInterests=function(){return[e.READY]};Pb.prototype.handleNotification=function(a){switch(a.getName()){case e.READY:a=a.getBody().branding;if(null==a)break;null!=a.logo?(this.logo.src=this.facade.evaluatePaths(a.logo),this.classList.remove("hidden",this.logo)):this.classList.add("hidden",this.logo);a=this.config.getDomain();null!=a&&0!==a.indexOf("http")&&(a=location.protocol+
"//"+a,this.text.innerHTML="\x3cspan\x3e"+this.localizationManager.getString(w.MSG_VIEW_ALL)+'\x3ca href\x3d"'+a+'" target\x3d"'+this.config.getTarget()+'"\x3e'+this.config.getDomain()+"\x3c/a\x3e "+this.localizationManager.getString(w.MSG_VIDEO)+".")}};var db=function(a){db.__super__.constructor.call(this,a)};g(db,x);db.NAME=x.NAME;db.prototype.defaults={id:null,title:null,link:null,logo:null,target:null};db.prototype.getID=function(){return this.data.id};db.prototype.setID=function(a){return this.data.id=
a};db.prototype.getTarget=function(){return this.data.target};db.prototype.setTarget=function(a){return this.data.target=a};db.prototype.getTitle=function(){return this.data.title};db.prototype.setTitle=function(a){return this.data.title=a};db.prototype.getLink=function(){return this.data.link};db.prototype.setLink=function(a){return this.data.link=a};db.prototype.getLogo=function(){return this.data.logo};db.prototype.setLogo=function(a){return this.data.logo=a};var za={LOAD_FEED:"loadfeed",FEED_CHANGED:"feedchanged",
FEED_LOADED:"feedloaded",FEED_ERROR:"feederror"},Qb=function(){Qb.__super__.constructor.call(this)};g(Qb,V);Qb.prototype.moduleName="eventmanagement";Qb.prototype.createModel=function(){this.registerProxy(new Na(this.config))};Qb.prototype.createController=function(){Qb.__super__.createController.call(this);this.registerCommand(e.PLAY,Df);this.registerCommand("eventStateChanged",y)};Qb.prototype.createView=function(){this.registerMediator(new vc)};Qb.prototype.listNotificationInterests=function(){return[e.PLAY]};
Qb.prototype.listNotificationPublications=function(){return Qb.__super__.listNotificationPublications.call(this).concat([e.CHANGE_DISPLAY_STATE,e.PAUSE,"eventStateChanged"])};q.registerPlugin("eventmanagement","html",Qb);q.registerPlugin("eventmanagement","flash",wd);var eb=function(a){eb.__super__.constructor.call(this,a);this.helper=new tc};g(eb,x);eb.NAME=x.NAME;eb.prototype.defaults={url:null,data:null};eb.prototype.feed=null;eb.prototype.helper=null;eb.prototype.setURL=function(a){var c=this;
this.data.url=this.facade.evaluatePaths(a);this.helper.getFeed(this.data.url,function(a){c.sendNotification(za.FEED_LOADED,a);c.sendNotification(za.CHANGE_FEED,a)},function(d){c.sendNotification(za.FEED_ERROR,{error:d,url:a});ba.error("[AMP Feed Load Error]",c.data.url,d)});return a};eb.prototype.getURL=function(){return this.data.url};eb.prototype.setFeedData=function(a){this.data.data=a;this.feed=this.helper.createFeed(a);this.sendNotification(za.FEED_CHANGED,this.feed);return a};eb.prototype.getFeedData=
function(){return this.data.data};eb.prototype.invoke=function(){null!=this.data.url&&""!==this.data.url?this.sendNotification(za.LOAD_FEED,this.data.url):null!=this.data.data&&setTimeout(this.sendNotification.bind(this,za.CHANGE_FEED,this.data.data),1)};var Ef=function(){Ef.__super__.constructor.call(this)};g(Ef,puremvc.SimpleCommand);Ef.prototype.execute=function(a){this.facade.retrieveProxy(eb.NAME).setURL(a.getBody())};var Ff=function(){Ff.__super__.constructor.call(this)};g(Ff,puremvc.SimpleCommand);
Ff.prototype.execute=function(a){this.facade.retrieveProxy(eb.NAME).setFeedData(a.getBody())};var pe=function(){pe.__super__.constructor.call(this)};g(pe,y);pe.prototype.execute=function(a){pe.__super__.execute.call(this,a);this.player.sendNotification(e.CHANGE_PLAY_STATE,L.READY);a=a.getBody().item[0];this.player.sendNotification(e.SET_MEDIA,a)};var Gf=function(){Gf.__super__.constructor.call(this)};g(Gf,puremvc.SimpleCommand);Gf.prototype.execute=function(a){this.facade.retrieveProxy(eb.NAME).invoke()};
var Xa=function(a,c){null==c&&(c={});Xa.__super__.constructor.call(this,a,c);null!=c.url&&(this.url=c.url);null!=c.data&&(this.data=c.data);this.player.load=function(){}};g(Xa,G);Xa.NAME="FeedWrapper";Xa.prototype.url=null;Xa.prototype.data=null;Xa.prototype.updateData=!0;Xa.prototype.createFlashVars=function(a){null!=this.url&&""!==this.url&&(a.data_feed_url=escape(this.facade.evaluatePaths(this.url)))};Xa.prototype.listNotificationInterests=function(){return Xa.__super__.listNotificationInterests.apply(this,
arguments).concat(["jsApiReady","mediaPlayerFeedLoaded"])};Xa.prototype.handleNotification=function(a){var c,d,f,e,l=this;Xa.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case "mediaPlayerFeedLoaded":!1===this.updateData?this.updateData=!0:this.data=JSON.parse(a);d="loaded";a=this.data;c=new tc;c=null!=(f=c.createFeed(this.data))?null!=(e=f.item)?e[0]:void 0:void 0;null!=c&&this.player.media.setData(c);this.sendNotification(za.FEED_CHANGED,this.data);break;case "jsApiReady":null!=
this.data?setTimeout(function(){l.setData(l.data)},25):null!=this.url&&""!==this.url&&this.sendNotification(za.LOAD_FEED,this.url)}null!=d&&this.dispatchEvent(new Z(d,a))};Xa.prototype.setURL=function(a){null!=a&&""!==a&&(this.url=a,this.player.mediaElement.playFile(this.url,this.player.getAutoplay()),this.sendNotification(za.LOAD_FEED,this.url));return a};Xa.prototype.getURL=function(){return this.url};Xa.prototype.setData=function(a){this.data=a;this.updateData=!1;this.player.mediaElement.playFile(this.data,
this.player.getAutoplay());return a};Xa.prototype.getData=function(){return this.data};var Rb=function(){Rb.__super__.constructor.call(this)};g(Rb,V);Rb.NAME="BrandingPlugin";Rb.prototype.moduleName="branding";Rb.prototype.createModel=function(){this.registerProxy(new db(this.config))};Rb.prototype.createView=function(){this.registerMediator(new Pb)};Rb.prototype.onRegister=function(){null!=this.config.id&&this.sendNotification(e.ADD_APPLICATION_STATE,"branding-"+this.config.id);Rb.__super__.onRegister.call(this)};
Rb.prototype.listNotificationInterests=function(){return[e.READY]};q.registerPlugin("branding","html",Rb);q.registerPlugin("branding","flash",xd);q.registerPlugin("branding","external",Rb);var jb=function(){jb.__super__.constructor.call(this)};g(jb,V);jb.NAME="Feature";jb.prototype.featureName=null;jb.prototype.getFeatureName=function(){return this.featureName};jb.prototype.registerFeature=function(){null!=this.getFeatureName()&&this.player.sendNotification("registerfeature",this)};jb.prototype.onRegister=
function(){this.registerFeature();jb.__super__.onRegister.call(this)};jb.prototype.listNotificationPublications=function(){return jb.__super__.listNotificationPublications.call(this).concat(["registerfeature"])};var fb=function(){fb.__super__.constructor.call(this)};g(fb,V);fb.prototype.moduleName="feed";fb.prototype.createModel=function(){this.proxy=new eb(this.config);this.registerProxy(this.proxy)};fb.prototype.createController=function(){fb.__super__.createController.call(this);this.registerCommand(e.READY,
Gf);this.registerCommand(za.LOAD_FEED,Ef);this.registerCommand(za.CHANGE_FEED,Ff);this.registerCommand(za.FEED_CHANGED,pe);this.registerCommand(za.FEED_LOADED,y);this.registerCommand(za.FEED_ERROR,y)};fb.prototype.listNotificationInterests=function(){return fb.__super__.listNotificationInterests.call(this).concat([e.READY])};fb.prototype.listNotificationPublications=function(){var a,c;return fb.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in za)c=za[a],d.push(c);
return d}())};fb.prototype.setURL=function(a){this.sendNotification(za.LOAD_FEED,a);return a};fb.prototype.getURL=function(){return this.proxy.getURL()};fb.prototype.setData=function(a){this.sendNotification(za.CHANGE_FEED,a);return a};fb.prototype.getData=function(){return this.proxy.getFeedData()};q.registerPlugin("feed","html",fb);q.registerPlugin("feed","flash",Xa);var Ha=function(){Ha.__super__.constructor.call(this)};g(Ha,ha);Ha.prototype.duration=null;Ha.prototype.currentTime=null;Ha.prototype.container=
null;Ha.prototype.banner=null;Ha.prototype.text=null;Ha.prototype.adText=null;Ha.prototype.bg=null;Ha.prototype.totalAds=null;Ha.prototype.adPosition=null;Ha.prototype.adContainerRequired=!0;Ha.prototype.componentName="ads";Ha.prototype.onRegister=function(){this.adContainerRequired&&(this.container=this.create("ad-container"));this.banner=this.create("ad-banner");this.bg=this.create("ad-text-bg",this.banner);this.adText=this.create("ad-text-title",this.banner);this.text=this.create("ad-text",this.banner);
this.adContainerRequired&&(this.viewComponent.container=this.container);Ha.__super__.onRegister.call(this);this.sendNotification(k.AD_CONTAINER_CREATED,this.viewComponent);this.facade.setViewComponent(this.viewComponent)};Ha.prototype.listNotificationInterests=function(){return[k.BREAK_START,k.BREAK_END,k.AD_TIME_REMAINING,k.AD_STARTED]};Ha.prototype.handleNotification=function(a){var c;switch(a.getName()){case k.BREAK_END:this.text.textContent="";this.adText.textContent="";break;case k.AD_TIME_REMAINING:a=
a.getBody();c=null!=this.totalAds&&0<this.totalAds&&null!=this.adPosition&&this.adPosition!==this.totalAds?0<a?""+this.localizationManager.getString(w.MSG_NEXT_AD)+h.formatTimecode(a):"":0<a?""+this.localizationManager.getString(w.MSG_NEXT_VIDEO)+h.formatTimecode(a):"";this.text.textContent=c;this.facade.retrieveProxy(x.NAME);break;case k.AD_STARTED:a=a.getBody(),this.totalAds=a.totalAds,this.adPosition=a.position,c="Ad "+a.position+" of "+a.totalAds,null!=a.position&&null!=a.totalAds&&0!==a.position&&
(this.adText.textContent=c)}};var Hf=function(){Hf.__super__.constructor.call(this)};g(Hf,A);Hf.prototype.execute=function(a){!1!==this.proxy.getEnabled()&&this.proxy.engage(a.getBody())};var qe=function(){qe.__super__.constructor.call(this)};g(qe,y);qe.prototype.execute=function(a){this.sendNotification(e.UPDATE_DATA_BINDINGS,{contexts:[this.proxy.getContextName()]});qe.__super__.execute.call(this,a)};var re=function(){re.__super__.constructor.call(this)};g(re,y);re.prototype.execute=function(a){this.player.sendNotification(e.ADD_APPLICATION_STATE,
"ad-mode");"desktop"!==this.applicationState.getDevice()&&this.player.sendNotification(e.DISABLE_FULL_SCREEN);re.__super__.execute.call(this,a);this.proxy.breakStart()};var se=function(){se.__super__.constructor.call(this)};g(se,y);se.prototype.execute=function(a){se.__super__.execute.call(this,a);this.proxy.breakEnd();this.player.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode");"desktop"!==this.applicationState.getDevice()&&this.player.sendNotification(e.ENABLE_FULL_SCREEN)};var qa={BREAK_START:"adComponentBreakInitiated",
BREAK_END:"adComponentBreakComplete",AD_LOADED:"adComponentLoaded",AD_STARTED:"adComponentAdBegin",AD_TIME_UPDATE:"adComponentPlaybackProgress",AD_TIME_REMAINING:"adComponentTimeElapsed",AD_DURATION_CHANGE:"addurationchange",AD_ENDED:"adComponentAdComplete",AD_ERROR:"adComponentInitFailed",AD_PLAY:"adComponentPlaybackResumed",AD_PAUSE:"adComponentPlaybackPaused",AD_LOG:"adComponentLog",AD_COMPANION:"adComponentCompanion",AD_PLAYBACK_FAILED:"adComponentPlaybackFailed",AD_PLAYBACK_TERMINATED:"adComponentPlaybackTerminated",
AD_MEDIA_LOADED:"adComponentMediaLoaded",AD_CLICKED:"adComponentClicked",AD_FIRST_QUARTILE:"adComponentFirstQuartile",AD_MIDPOINT:"adComponentMidpoint",AD_THIRD_QUARTILE:"adComponentThirdQuartile",AD_REQUEST:"adComponentAdsRequest",AD_SKIPPED:"adComponentAdSkipped",AD_IMPRESSION:"adComponentImpression"},te=function(){te.__super__.constructor.call(this)};g(te,A);te.prototype.execute=function(a){this.proxy.contentSeek(a.getBody())};var ra=function(a){ra.__super__.constructor.call(this,a)};g(ra,E);ra.NAME=
E.NAME;ra.prototype.defaults={videoId:null,defaultId:null,domain:null,zoneId:null,companion:null,userData:null,params:null};ra.prototype.key="auditude";ra.prototype.session=null;ra.prototype.options=null;ra.prototype.initialize=function(){var a=this;this.options={controls:!1,auditudeHandlesChapterBreaks:!1,style:{backgroundColor:"#000",width:this.facade.player.mediaElement.clientWidth,height:this.facade.player.mediaElement.clientHeight},handlers:{play:function(){a.facade.logger.debug("ad play")},
timeupdate:function(c,f,e){a.facade.sendNotification(k.AD_TIME_REMAINING,e.duration-e.currentTime)},error:function(c){a.facade.logger.debug("ad error:",c);a.error()},pause:function(){a.facade.logger.debug("ad pause")},loadedmetadata:function(c,f,e){a.facade.logger.debug("ad loadedmetadata")},end:function(){a.facade.logger.debug("ad end")}}};try{this.plugin=this.createPlugin(),this.plugin.subscribe(aud.events.init_complete,function(c,f){a.facade.logger.debug("init_complete:",c,f);try{a.plugin.publish(aud.notifications.break_begin)}catch(e){a.error(e)}}),
this.plugin.subscribe(aud.events.init_failed,function(c,f){a.error(c)}),this.plugin.subscribe(aud.events.break_begin,function(c,f){a.facade.logger.debug("break_begin:",c,f)}),this.plugin.subscribe(aud.events.pause_playback,function(c,f){a.facade.logger.debug("pause_playback: "+c+", "+f);a.contentPause(c,f)}),this.plugin.subscribe(aud.events.resume_playback,function(c,f){a.facade.logger.debug("resume_playback: ",c,f);a.contentPlay(c,f)}),this.plugin.subscribe(aud.events.linear_ad_begin,function(c,
f,p){var l,g;a.facade.logger.debug("linear ad begin:",c,f,p);c=f._xmlDoc.querySelector("ad[id]");null!=c&&(l=c.getAttribute("id"));c=f._xmlDoc.querySelector("inLine[adTitle]");null!=c&&(g=c.getAttribute("adTitle"));a.adVO=new Wa(l,g,p.asset.duration,1,"preroll","auditude",null,p.banners,null,p);a.sendNotification(k.AD_LOADED,a.adVO);a.sendNotification(k.AD_DURATION_CHANGE,a.adVO);a.facade.player.sendNotification(e.CHANGE_PLAY_STATE,L.PLAYING);a.sendNotification(k.AD_PLAY);a.setInProgress(!0);a.setCompanions(p.banners);
a.session=p.session;a.sendNotification(k.AD_STARTED)}),this.plugin.subscribe(aud.events.linear_ad_end,function(c,f,e){a.facade.logger.debug("linear ad end:",c,f,e);a.sendNotification(k.AD_ENDED)}),this.plugin.subscribe(aud.events.break_end,function(c,f){a.facade.logger.debug("break_end:",c,f);a.end()}),this.plugin.subscribe(aud.events.non_linear_ad_begin,function(c,f,e){a.facade.logger.debug("non linear ad begin");a.setCompanions(e.banners)}),this.plugin.subscribe(aud.events.non_linear_ad_end,function(c,
f,e){a.facade.logger.debug("non linear ad end")})}catch(c){this.error(c)}};ra.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.container.container,null,this.value.domain,this.value.zoneId,this.options)};ra.prototype.start=function(){var a,c,d,f,e,l,g;if(!1===ra.__super__.start.call(this))return!1;try{f=this.value.params||{};e="";if(null!=this.value.userData)for(d in g=this.value.userData,g)l=g[d],e+=""+d+"\x3d"+l+";";null!=f.userData&&(e+=f.userData);""!==e&&(f.userData=e);
c=this.value.videoId+"";null!=this.value.defaultId&&(a=this.value.defaultId+"",c=null!=c?[c,a]:a);this.facade.logger.log("Auditude init: ",c,f);this.plugin.init(c,f)}catch(h){this.error(h)}};ra.prototype.play=function(){ra.__super__.play.call(this);this.session.notifyResume()};ra.prototype.pause=function(){ra.__super__.pause.call(this);this.session.notifyPause()};ra.prototype.breakStart=function(){};ra.prototype.setCompanions=function(a){var c,d,f,e,l;if(!(null==a||1>a.length)){d=[];f=0;for(e=a.length;f<
e;f++)c=a[f],d.push({data:c.data,type:c.resourceType,width:parseInt(c.width),height:parseInt(c.height),metadata:c});ra.__super__.setCompanions.call(this,d);if(null!=this.value.companion&&(d=this.value.companion,f=document.getElementById(d.id),null!=f))for(e=0,l=a.length;e<l;e++)if(c=a[e],d.width===parseInt(c.width)&&d.height===parseInt(c.height)){f.innerHTML=c.data;break}}};ra.prototype.contentStarted=function(){this.plugin.publish(aud.notifications.video_playback_started)};ra.prototype.contentEnded=
function(){this.plugin.publish(aud.notifications.video_playback_complete)};var kb=function(a){kb.__super__.constructor.call(this,a)};g(kb,ra);kb.NAME=ra.NAME;kb.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.player.mediaElement,null,this.value.domain,this.value.zoneId,this.options)};kb.prototype.engage=function(a){kb.__super__.engage.call(this,a);this.sendNotification(e.DISABLE_VIDEO_EVENTS,["ended"])};kb.prototype.reset=function(a){kb.__super__.reset.call(this,a);this.sendNotification(e.ENABLE_VIDEO_EVENTS,
["ended"])};kb.prototype.play=function(){kb.__super__.play.call(this);this.facade.player.mediaElement.play()};kb.prototype.pause=function(){kb.__super__.pause.call(this);this.facade.player.mediaElement.pause()};kb.prototype.contentPause=function(){this.facade.player.mediaElement.pause()};var ea=function(a,c){ea.__super__.constructor.call(this,a,c)};g(ea,G);ea.NAME="AdWrapper";ea.prototype.enabled=!0;ea.prototype.paused=!1;ea.prototype.started=!1;ea.prototype.adVO=null;ea.prototype.getFeatureName=
function(){return"ads"};ea.prototype.getInProgress=function(){return this.player.mediaElement.getPlayerProperty("adInProgress")};ea.prototype.getStarted=function(){return this.started};ea.prototype.getPaused=function(){return this.paused};ea.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0};ea.prototype.setEnabled=function(a){this.enabled=a;this.player.mediaElement.setPlayerProperty("adsEnabled",a);return a};ea.prototype.getEnabled=function(){return this.enabled};
ea.prototype.enable=function(){this.setEnabled(!0)};ea.prototype.disable=function(){this.setEnabled(!1)};ea.prototype.createFlashVars=function(a){a.core_ads_enabled=!0;return a};ea.prototype.listNotificationInterests=function(){var a,c;return ea.__super__.listNotificationInterests.call(this).concat(function(){var d;d=[];for(a in qa)c=qa[a],d.push(c);return d}())};ea.prototype.handleNotification=function(a){var c,d,f;ea.__super__.handleNotification.call(this,a);d=a.getName();c=a.getBody();this.adVO=
this.createAdVO(c);a=this;switch(d){case qa.BREAK_START:f=k.BREAK_START;break;case qa.BREAK_END:f=k.BREAK_END;break;case qa.AD_MEDIA_LOADED:f=k.AD_LOADED;this.start=!1;break;case qa.AD_STARTED:f=k.AD_STARTED;this.started=!0;this.sendNotification(e.ADD_APPLICATION_STATE,"ad-mode");break;case qa.AD_TIME_UPDATE:f=k.AD_TIME_UPDATE;break;case qa.AD_TIME_REMAINING:f=k.AD_TIME_REMAINING;break;case qa.AD_ERROR:case qa.AD_PLAYBACK_FAILED:f=k.AD_ERROR;this.start=!1;this.sendNotification(e.REMOVE_APPLICATION_STATE,
"ad-mode");break;case qa.AD_ENDED:case qa.AD_PLAYBACK_TERMINATED:f=k.AD_ENDED;this.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode");break;case qa.AD_CLICKED:f=k.AD_CLICKED;break;case qa.AD_COMPANION:f=k.AD_COMPANION;null!=this.adVO&&null!=c&&(this.adVO.companions=c);break;case qa.AD_PAUSE:f=k.AD_PAUSE;a=this.player;this.paused=!0;this.player.setPlayState("paused");break;case qa.AD_PLAY:f=k.AD_PLAY;a=this.player;this.paused=!0;this.player.setPlayState("playing");d=new Z("play",c);d.player=this.player;
a.dispatchEvent(d);break;case qa.AD_LOG:f=k.AD_LOG;break;case qa.AD_FIRST_QUARTILE:f=k.FIRST_QUARTILE;break;case qa.AD_MIDPOINT:f=k.MIDPOINT;break;case qa.AD_THIRD_QUARTILE:f=k.THIRD_QUARTILE;break;case qa.AD_REQUEST:f=k.REQUEST;break;case qa.AD_SKIPPED:f=k.SKIPPED;break;case qa.AD_IMPRESSION:f=k.IMPRESSION}null!=f&&(this.sendNotification(f,this.adVO),d=new Z(f.replace(/^ads/,""),this.adVO),d.player=this.player,a.dispatchEvent(d))};ea.prototype.createAdVO=function(a){return null==a?null:new Wa(a.id,
a.title,a.duration,a.podIndex,a.podPosition,a.adPlatform,null,null,a.requestURL,a)};ea.prototype.terminateAd=function(){this.player.mediaElement.terminateAd()};ea.prototype.terminateAllAds=function(){this.player.mediaElement.terminateAllAds()};var yd=function(){return yd.__super__.constructor.apply(this,arguments)};g(yd,ea);yd.NAME="AuditudeWrapper";yd.prototype.createFlashVars=function(a){null!=this.config.companion&&(a.ad_partner_companion_size=""+this.config.companion.width+"x"+this.config.companion.height);
return a};yd.prototype.createXML=function(a){var c,d,f,e,l,g,h;d=a.firstChild;c=a.getElementsByTagName("admedia")[0];null==c&&(c=a.createElement("admedia"),d.appendChild(c));d=a.createElement("vendor");d.setAttribute("id","auditude");c.appendChild(d);f=[{value:this.config.domain,key:"AUDITUDE_DOMAIN"},{value:this.config.videoId,key:"AUDITUDE_MEDIA_ID"},{value:this.config.defaultId,key:"AUDITUDE_DEFAULT_MEDIA_ID"},{value:this.config.zoneId,key:"AUDITUDE_ZONE_ID"},{value:this.config.prerollId,key:"AUDITUDE_PREROLL_MEDIA_ID"},
{value:this.config.midrollId,key:"AUDITUDE_MIDROLL_MEDIA_ID"},{value:this.config.audienceManagerURL,key:"AUDITUDE_AUDIENCE_MGR_URL"},{value:this.config.version,key:"AUDITUDE_VERSION"}];e=0;for(l=f.length;e<l;e++)c=f[e],null!=c.value&&this.createProperty(a,c.key,c.value,d);null!=this.config.position&&d.setAttribute("position",this.config.position);if(null!=this.config.companions){f=[];e=[];h=this.config.companions;l=0;for(g=h.length;l<g;l++)c=h[l],f.push(c.width+"x"+c.height),e.push(c.id);this.createProperty(a,
"AUDITUDE_COMPANION_SIZE",f.join(","),d);this.createProperty(a,"AUDITUDE_COMPANION_ID",f.join(","),d)}null!=this.config.params&&this.createProperty(a,"AUDITUDE_PARAMS",this.config.params,d);null!=this.config.userData&&this.createProperty(a,"AUDITUDE_USER_DATA",this.config.userData,d);return a};var $=function(){$.__super__.constructor.call(this)};g($,jb);$.NAME="AdPlugin";$.prototype.container=null;$.prototype.featureName="ads";$.prototype.createModel=function(){this.proxy=this.isFullscreenDevice()?
this.createFullscreenProxy():this.createProxy();this.registerProxy(this.proxy)};$.prototype.createController=function(){$.__super__.createController.call(this);this.registerCommand(e.CHANGE_MEDIA,Hf);this.registerCommand(k.BREAK_START,re);this.registerCommand(k.AD_LOADED,qe);this.registerCommand(k.BREAK_END,se);this.registerCommand(e.SEEK,te);this.registerCommand(T.SEEK,te);this.registerCommand(k.AD_STARTED,y);this.registerCommand(k.SKIPPED,y);this.registerCommand(k.AD_CONTAINER_CREATED,y);this.registerCommand(k.AD_LOADED,
y);this.registerCommand(k.AD_MANAGER_LOADED,y);this.registerCommand(k.AD_TIME_UPDATE,y);this.registerCommand(k.AD_TIME_REMAINING,y);this.registerCommand(k.AD_DURATION_CHANGE,y);this.registerCommand(k.AD_ENDED,y);this.registerCommand(k.AD_ERROR,y);this.registerCommand(k.AD_COMPANION,y);this.registerCommand(k.FIRST_QUARTILE,y);this.registerCommand(k.MIDPOINT,y);this.registerCommand(k.THIRD_QUARTILE,y);this.registerCommand(k.LOG,y);this.registerCommand(k.REQUEST,y);this.registerCommand(k.AD_RESUME,y);
this.registerCommand(k.AD_PLAY,y);this.registerCommand(k.AD_PAUSE,y);this.registerCommand(k.AD_PAUSED,y);this.registerCommand(k.IMPRESSION,y)};$.prototype.createView=function(){return this.registerMediator(new Ha)};$.prototype.isFullscreenDevice=function(){return h.isFullscreenDevice()};$.prototype.createProxy=function(){};$.prototype.createFullscreenProxy=function(){};$.prototype.registered=function(){$.__super__.registered.call(this);this.player.retrieveProxy(ta.NAME).registerContext(this.retrieveProxy(E.NAME))};
$.prototype.listNotificationInterests=function(){return[e.CHANGE_MEDIA,e.PLAY,e.PAUSE,e.START,e.STARTED,e.ENDED,e.READY,e.SEEK,e.VOLUME_CHANGE,e.FULL_SCREEN_CHANGE,T.PLAY,T.PAUSE,T.SEEK,T.TOGGLE_PLAY_PAUSE]};$.prototype.listNotificationPublications=function(){var a,c;return $.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in k)c=k[a],d.push(c);return d}()).concat([e.PLAY_REQUEST,e.UPDATE_DATA_BINDINGS,e.DISPLAY_TIME,e.ADD_CUE_POINTS,e.DISABLE_FULL_SCREEN])};$.prototype.setEnabled=
function(a){this.proxy.setEnabled(a)};$.prototype.getEnabled=function(){return this.proxy.getEnabled()};$.prototype.getInProgress=function(){return this.proxy.getInProgress()};$.prototype.getStarted=function(){return this.proxy.getStarted()};$.prototype.getPaused=function(){return this.proxy.getPaused()};$.prototype.getCompanions=function(){return this.proxy.getCompanions()};$.prototype.terminateAd=function(){this.proxy.terminateAd()};$.prototype.terminateAllAds=function(){this.proxy.terminateAllAds()};
var fc={TIME_UPDATE:"autoadvancetimeupdate",START:"autoadvancestart",STOP:"autoadvancestop",ADVANCE:"autoadvanceadvance"},Fb=function(a,c){null==c&&(c={});Fb.__super__.constructor.call(this,a,c);null!=c.interval&&(this.interval=c.interval);null!=c.handler&&(this.handler=c.handler)};g(Fb,G);Fb.NAME="AutoAdvanceWrapper";Fb.prototype.interval=null;Fb.prototype.handler=null;Fb.prototype.getInterval=function(){return this.interval};Fb.prototype.setInterval=function(a){return this.interval=a};Fb.prototype.getHandler=
function(){return this.handler};Fb.prototype.setHandler=function(a){return this.handler=a};Fb.prototype.listNotificationInterests=function(){return["createFlashVars","mediaPlayerAutoAdvance"]};Fb.prototype.handleNotification=function(a){var c,d,f;c=a.getName();a=a.getBody();switch(c){case "createFlashVars":c=a.flashvars;null!=this.interval&&(c.next_video_timer=this.interval,c.auto_play_list=!0);break;case "mediaPlayerAutoAdvance":"function"===typeof(f=this.config).handler&&f.handler(),d="advance"}null!=
d&&this.dispatchEvent(new Z(d))};var gc=function(a){gc.__super__.constructor.call(this,a)};g(gc,x);gc.NAME=x.NAME;gc.prototype.defaults={interval:15,handler:null};gc.prototype.currentTime=0;gc.prototype.timeout=null;gc.prototype.start=function(){var a=this;this.currentTime=this.data.interval;this.timeout=setInterval(function(){a.updateTime()},1E3);this.sendNotification(fc.TIME_UPDATE,this.currentTime)};gc.prototype.stop=function(){clearInterval(this.timeout)};gc.prototype.updateTime=function(){this.currentTime--;
this.sendNotification(fc.TIME_UPDATE,this.currentTime);0>=this.currentTime&&(this.stop(),this.sendNotification(fc.ADVANCE,this.data.handler))};var ue=function(){ue.__super__.constructor.call(this)};g(ue,y);ue.prototype.execute=function(a){this.sendNotification(e.ADD_APPLICATION_STATE,"autoadvance-mode");this.proxy.start();ue.__super__.execute.call(this,notifications)};var ve=function(){ve.__super__.constructor.call(this)};g(ve,y);ve.prototype.execute=function(a){var c;c=a.getBody();null!=c&&("string"===
typeof c?eval(""+c+"()"):"function"===typeof c&&c());this.sendNotification(e.REMOVE_APPLICATION_STATE,"autoadvance-mode");ve.__super__.execute.call(this,a)};var If=function(){If.__super__.constructor.call(this)};g(If,A);If.prototype.execute=function(a){null!=this.proxy.getData().interval&&this.sendNotification(fc.START)};var Yc=function(){Yc.__super__.constructor.call(this)};g(Yc,A);Yc.prototype.execute=function(a){this.proxy.stop()};var wc=function(){wc.__super__.constructor.call(this)};g(wc,ha);
wc.prototype.componentName="autoadvance";wc.prototype.text=null;wc.prototype.onRegister=function(){this.text=this.create("autoadvance-text");wc.__super__.onRegister.call(this)};wc.prototype.listNotificationInterests=function(){return[fc.TIME_UPDATE]};wc.prototype.handleNotification=function(a){switch(a.getName()){case fc.TIME_UPDATE:a=a.getBody(),this.text.textContent=""+this.localizationManager.getString("MSG_NEXT_VIDEO")+" "+a+" "+this.localizationManager.getString("MSG_SECONDS")}};var xc=function(){xc.__super__.constructor.call(this)};
g(xc,$);xc.NAME="AuditudePlugin";xc.prototype.moduleName="auditude";xc.prototype.featureName="ads";xc.prototype.createFullscreenProxy=function(){return new kb(this.config)};xc.prototype.createProxy=function(){return new ra(this.config)};xc.prototype.isFullscreenDevice=function(){return!0};q.registerPlugin("auditude","html",xc);q.registerPlugin("auditude","flash",yd);var Sb={RECOMMENDATIONS_LOADED:"recommendationsloaded",RECOMMENDATION_SELECTED:"recommendationsselected"},Tb=function(a,c,d,f,e,l,g,
h,k){this.guid=a;this.link=c;this.title=d;this.description=f;this.thumbnail=e;this.duration=l;this.pubDate=g;this.target=h;this.metadata=null!=k?k:{}};Tb.prototype.guid=null;Tb.prototype.link=null;Tb.prototype.title=null;Tb.prototype.description=null;Tb.prototype.thumbnail=null;Tb.prototype.duration=null;Tb.prototype.pubDate=null;Tb.prototype.target=null;Tb.prototype.metadata=null;var ua=function(a,c){null==c&&(c={});ua.__super__.constructor.call(this,a,c);null!=c.url&&(this.url=c.url);null!=c.target&&
(this.target=c.target)};g(ua,G);ua.NAME="RecommendationsWrapper";ua.prototype.flashPluginIds=["RecommendationsPlugin"];ua.prototype.url=null;ua.prototype.target=null;ua.prototype.recommendations=null;ua.prototype.getFeatureName=function(){return"recommendations"};ua.prototype.getData=function(){return this.recommendations};ua.prototype.setData=function(a){return this.recommendations=a};ua.prototype.getTarget=function(){var a,c;return this.target||(null!=(a=this.player)?null!=(c=a.config)?c.target:
void 0:void 0)};ua.prototype.getURL=function(){return this.url};ua.prototype.createFlashVars=function(a){a.recommendations_partner="mrss";null!=this.config.target&&(a.external_target=this.config.target)};ua.prototype.createXML=function(a){var c,d;c=a.firstChild;d=a.getElementsByTagName("recommendations")[0];null==d&&(d=a.createElement("recommendations"),c.appendChild(d));c=a.createElement("vendor");c.setAttribute("id","mrss");d.appendChild(c);this.createProperty(a,"RECOMMENDATIONS_MRSS_URL",this.url,
c)};ua.prototype.listNotificationInterests=function(){return ua.__super__.listNotificationInterests.apply(this,arguments).concat(["mediaPlayerRecommendationSelected","mediaPlayerRecommendationsLoaded"])};ua.prototype.handleNotification=function(a){var c,d;ua.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case "mediaPlayerRecommendationsLoaded":d="loaded";this.recommendations=a;break;case "mediaPlayerRecommendationSelected":d="selected"}null!=d&&this.dispatchEvent(new Z(d,
a))};var we=function(){we.__super__.constructor.call(this)};g(we,y);we.prototype.execute=function(a){we.__super__.execute.call(this,notifications);a=a.getBody();"none"!==a.target&&"player"!==a.target&&window.open(a.link,a.target)};var Jf=function(){Jf.__super__.constructor.call(this)};g(Jf,A);Jf.prototype.execute=function(a){this.proxy.invoke()};var Kf=function(){Kf.__super__.constructor.call(this)};g(Kf,A);Kf.prototype.execute=function(a){var c;c=this.proxy.getRecommendations();a=a.getBody();a.newState===
L.ENDED?0<(null!=c?c.length:void 0)&&this.sendNotification(e.ADD_APPLICATION_STATE,"recommendations-mode"):a.oldState===L.ENDED&&0<(null!=c?c.length:void 0)&&this.sendNotification(e.REMOVE_APPLICATION_STATE,"recommendations-mode")};var Ea=function(a){Ea.__super__.constructor.call(this,a);this.helper=new tc};g(Ea,la);Ea.NAME=x.NAME;Ea.prototype.defaults={url:null,target:"_blank"};Ea.prototype.loaded=!0;Ea.prototype.recommendations=null;Ea.prototype.helper=null;Ea.prototype.getRecommendations=function(){return this.recommendations};
Ea.prototype.setRecommendations=function(a){this.recommendations=a;this.sendNotification(Sb.RECOMMENDATIONS_LOADED,this.recommendations);return a};Ea.prototype.getURL=function(){return this.getConfigurationData().url};Ea.prototype.setURL=function(a){this.data.url=a;this.invoke();return a};Ea.prototype.getTarget=function(){return this.getConfigurationData().target||this.facade.player.retrieveProxy(P.NAME).getTarget()};Ea.prototype.setTarget=function(a){return this.data.target=a};Ea.prototype.invoke=
function(){var a;a=this.getURL();null==a||""===a?this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]","Load Error: No url provided"):h.getJson(a,this.onload.bind(this),this.onerror.bind(this))};Ea.prototype.onload=function(a){a=this.createRecommendations(a);this.setRecommendations(a)};Ea.prototype.onerror=function(a){this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]","Load Error:",a)};Ea.prototype.createRecommendations=function(a){var c,d,f,e;a=this.helper.createFeed(a);d=[];e=a.item;a=0;for(f=
e.length;a<f;a++)c=e[a],c=new Tb(c.guid,c.link,c.title,c.description,c.thumbnail,c.duration,c.pubDate,this.getTarget(),c),d.push(c);return d};var hc=function(){hc.__super__.constructor.call(this)};g(hc,ha);hc.prototype.componentName="recommendations";hc.prototype.listArea=null;hc.prototype.onRegister=function(){this.createText("recommendations-label","Recommended");this.listArea=this.create("recommendations-list-area");hc.__super__.onRegister.call(this)};hc.prototype.listNotificationInterests=function(){return[Sb.RECOMMENDATIONS_LOADED]};
hc.prototype.handleNotification=function(a){var c,d,f;switch(a.getName()){case Sb.RECOMMENDATIONS_LOADED:if(this.listArea.innerHTML="",c=a.getBody(),null!=c&&0<c.length)for(d=0,f=c.length;d<f;d++)a=c[d],this.addElement(a)}};hc.prototype.addElement=function(a){var c,d=this;c=this.create("recommendation",this.listArea);null==c.dataset&&(c.dataset={});c.dataset.link=a.link;c.dataset.target=a.target;c.innerHTML="\x3cimg src\x3d'"+a.thumbnail+"' class\x3d'"+this.cssPrefix+"recommendation-thumbnail' /\x3e \x3cspan class\x3d'"+
this.cssPrefix+"recommendation-text'\x3e"+a.description+"\x3c/span\x3e";c.onclick=function(a){a.stopImmediatePropagation();d.sendNotification(Sb.RECOMMENDATION_SELECTED,a.currentTarget.dataset);return!1}};var Gb=function(){Gb.__super__.constructor.call(this)};g(Gb,V);Gb.NAME="AutoAdvancePlugin";Gb.prototype.moduleName="autoadvance";Gb.prototype.createController=function(){Gb.__super__.createController.call(this);this.registerCommand(fc.START,ue);this.registerCommand(fc.ADVANCE,ve);this.registerCommand(e.ENDED,
If);this.registerCommand(e.CHANGE_MEDIA,Yc);this.registerCommand(e.PLAY,Yc);this.registerCommand(e.PLAYING,Yc);this.registerCommand(e.REPLAY,Yc);this.registerCommand(e.TIME_UPDATE,y);this.registerCommand(e.STOP,y)};Gb.prototype.createModel=function(){this.registerProxy(new gc(this.config))};Gb.prototype.createView=function(){this.registerMediator(new wc)};Gb.prototype.listNotificationInterests=function(){return[e.ENDED,e.CHANGE_MEDIA,e.PLAY,e.PLAYING,e.REPLAY]};Gb.prototype.listNotificationPublications=
function(){var a,c;return Gb.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in fc)c=fc[a],d.push(c);return d}())};q.registerPlugin("autoadvance","html",Gb);q.registerPlugin("autoadvance","flash",Fb);var ic=function(){ic.__super__.constructor.call(this)};g(ic,ha);ic.prototype.componentName="recommendations-grid";ic.prototype.grid=null;ic.prototype.onRegister=function(){this.createText("recommendations-grid-label",this.localizationManager.getString(w.MSG_RECOMMENDATIONS_TITLE));
this.grid=this.create("recommendations-grid-table-grid",this,"table");ic.__super__.onRegister.call(this)};ic.prototype.listNotificationInterests=function(){return[Sb.RECOMMENDATIONS_LOADED]};ic.prototype.handleNotification=function(a){var c,d,f;switch(a.getName()){case Sb.RECOMMENDATIONS_LOADED:if(this.grid.innerHTML="",this.create("recommendations-grid-row",this.grid,"tr"),this.create("recommendations-grid-row",this.grid,"tr"),c=a.getBody(),null!=c&&0<c.length)for(d=0,f=c.length;d<f;d++)a=c[d],this.addElement(a,
d)}};ic.prototype.addElement=function(a,c){var d,f=this;d=this.create("recommendations-grid-item",this.grid.childNodes[2>c%4?0:1],"td");null==d.dataset&&(d.dataset={});d.dataset.link=a.link;d.dataset.target=this.config.getTarget();d.innerHTML="\x3cimg src\x3d'"+a.thumbnail+"' class\x3d'"+this.cssPrefix+"recommendations-grid-thumbnail' /\x3e \x3cspan class\x3d'"+this.cssPrefix+"recommendations-grid-text'\x3e"+a.description+"\x3c/span\x3e";d.onclick=function(a){a.stopImmediatePropagation();f.sendNotification(Sb.RECOMMENDATION_SELECTED,
a.currentTarget.dataset);return!1}};var Fa=function(){Fa.__super__.constructor.call(this)};g(Fa,jb);Fa.prototype.featureName="recommendations";Fa.prototype.moduleName="recommendations";Fa.prototype.createController=function(){this.registerCommand(Sb.RECOMMENDATION_SELECTED,we);this.registerCommand(e.START,Jf);this.registerCommand(e.PLAY_STATE_CHANGE,Kf);this.registerCommand(Sb.RECOMMENDATIONS_LOADED,y)};Fa.prototype.createModel=function(){this.proxy=new Ea(this.config);this.registerProxy(this.proxy)};
Fa.prototype.createView=function(){this.registerMediator(new hc)};Fa.prototype.listNotificationInterests=function(){return[e.START,e.PLAY_STATE_CHANGE]};Fa.prototype.listNotificationPublications=function(){var a,c;return Fa.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in Sb)c=Sb[a],d.push(c);return d}())};Fa.prototype.setURL=function(a){this.proxy.set(a)};Fa.prototype.getURL=function(){return this.proxy.getURL()};Fa.prototype.getData=function(){return this.proxy.getData()};
Fa.prototype.setData=function(a){this.proxy.setData(a)};Fa.prototype.getTarget=function(){return this.proxy.getTarget()};Fa.prototype.setTarget=function(a){this.proxy.setTarget(a)};q.registerPlugin("recommendations","html",Fa);q.registerPlugin("recommendations","flash",ua);var Oa=function(a){Oa.__super__.constructor.call(this,a)};g(Oa,na);Oa.prototype.configurationName="nielsen";Oa.NAME=x.NAME;Oa.cg="OnDemand";Oa.url="http://secure-us.imrworldwide.com/cgi-bin/m";Oa.prototype.defaults={url:null,data:{ci:null,
c6:null,cg:null,tl:null},events:null};Oa.prototype.getTitle=function(){return this.title};Oa.prototype.setTitle=function(a){return this.title=a};Oa.prototype.start=function(){var a;a=this.constructURL("video","started");h.beacon(a)};Oa.prototype.end=function(){var a;a=this.constructURL("video","ended");h.beacon(a)};Oa.prototype.constructURL=function(a,c){var d,f,e,l,g,h,k,m,n,q;h=this.url||Oa.url;e=null!=(g=this.value.events)?g[a]:void 0;if(null!=e)for(k=0,m=e.length;k<m;k++)g=e[k],g.type===c&&(l=
g);e=(null!=l?null!=(d=l.data)?d.ci:void 0:void 0)||this.value.data.ci;d=(null!=l?null!=(f=l.data)?f.c6:void 0:void 0)||this.value.data.c6;f=(null!=l?null!=(n=l.data)?n.cg:void 0:void 0)||this.value.data.cg||Oa.cg;l=(null!=l?null!=(q=l.data)?q.tl:void 0:void 0)||this.value.data.tl;return""+h+"?ci\x3d"+e+"\x26c6\x3d"+d+"\x26cc\x3d1\x26tl\x3d"+l+"\x26cg\x3d"+f+"\x26rnd\x3d"+Date.now()};var zd=function(){return zd.__super__.constructor.apply(this,arguments)};g(zd,G);zd.NAME="NielsenWrapper";zd.prototype.flashPluginIds=
["NielsenPlugin"];zd.prototype.createXML=function(a){var c,d,f,e,l,g,h,k,m,n,q,r,s,u,t,w,x;if(null!=(null!=(n=this.config)?n.events:void 0)){e=a.getElementsByTagName("metrics")[0];n=a.createElement("vendor");n.setAttribute("id","nielsen");e.appendChild(n);e={ads:{started:"adStart",ended:"adComplete"},video:{started:"videoStart",ended:"videoComplete"}};h=[{value:"ci",key:"NIELSEN_CI"},{value:"cg",key:"NIELSEN_CG"},{value:"tl",key:"NIELSEN_TL"},{value:"c6",key:"NIELSEN_C6"}];null!=this.config.url&&
(d=a.createElement("property"),d.setAttribute("key","serviceURL"),c=R.createTextContent(a,this.config.url.toString()),d.appendChild(c),n.appendChild(d));t=this.config.events;for(m in t)if(f=t[m],null!=f&&0<f.length)for(q=0,s=f.length;q<s;q++)for(d=f[q],l=a.createElement("property"),l.setAttribute("key",e[m][d.type]),n.appendChild(l),r=0,u=h.length;r<u;r++)g=h[r],k=(null!=(w=d.data)?w[g.value]:void 0)||(null!=(x=this.config.data)?x[g.value]:void 0),null!=k&&""!==k&&(c=a.createElement("property"),c.setAttribute("key",
g.key),k=R.createTextContent(a,k),c.appendChild(k),l.appendChild(c));return a}};var xe=function(){xe.__super__.constructor.call(this)};g(xe,puremvc.SimpleCommand);xe.prototype.execute=function(a){this.facade.retrieveProxy(Oa.NAME).end()};var ye=function(){ye.__super__.constructor.call(this)};g(ye,puremvc.SimpleCommand);ye.prototype.execute=function(a){this.facade.retrieveProxy(Oa.NAME).start()};var ze=function(){ze.__super__.constructor.call(this)};g(ze,Fa);ze.prototype.moduleName="recommendationsgrid";
ze.prototype.createView=function(){this.registerMediator(new ic)};q.registerPlugin("recommendationsgrid","html",ze);q.registerPlugin("recommendationsgrid","flash",ua);var Ad=function(){return Ad.__super__.constructor.apply(this,arguments)};g(Ad,G);Ad.NAME="NielsensdkWrapper";Ad.prototype.flashPluginIds=["NielsenSDKPlugin"];Ad.prototype.createXML=function(a){var c,d,f,e,l,g,h,k,m,n,q,r,s,t,u,w,x;if(null!=(null!=(c=this.config)?c.events:void 0)){c=a.firstChild;l=a.getElementsByTagName("metrics")[0];
null==l&&(l=a.createElement("metrics"),c.appendChild(l));c=a.createElement("vendor");c.setAttribute("id","nielsenSDK");l.appendChild(c);l={ads:{started:"adStart",ended:"adComplete"},video:{started:"videoStart",resume:"videoResume",ended:"videoComplete"}};k=[{value:"censusCategory",key:"NIELSEN_CENSUS_CATEGORY"},{value:"category",key:"NIELSEN_CATEGORY"},{value:"episodeTitle",key:"NIELSEN_EPISODE_TITLE"},{value:"videoType",key:"NIELSEN_VIDEO_TYPE"},{value:"length",key:"NIELSEN_LENGTH"},{value:"assetId",
key:"NIELSEN_ASSET_ID"},{value:"dprFlag",key:"NIELSEN_DPR_FLAG"}];f=[{value:"apid",key:"NIELSEN_APID"},{value:"sfcode",key:"NIELSEN_SF_CODE"},{value:"apn",key:"NIELSEN_APN"},{value:"fbTag",key:"NIELSEN_FBTAG"}];e=0;for(g=f.length;e<g;e++)d=f[e],null!=this.config.data[d.value]&&this.createProperty(a,d.key,this.config.data[d.value],c);u=this.config.events;for(n in u)if(e=u[n],null!=e&&0<e.length)for(q=0,s=e.length;q<s;q++)for(f=e[q],g=a.createElement("property"),g.setAttribute("key",l[n][f.type]),c.appendChild(g),
r=0,t=k.length;r<t;r++)h=k[r],m=(null!=(w=f.data)?w[h.value]:void 0)||(null!=(x=this.config.data)?x[h.value]:void 0),null!=m&&""!==m&&(d=a.createElement("property"),d.setAttribute("key",h.key),m=R.createTextContent(a,m),d.appendChild(m),g.appendChild(d));return a}};var ja=function(a){ja.__super__.constructor.call(this,a)};g(ja,la);ja.NAME=x.NAME;ja.prototype.defaults={data:null,events:null,plugin:{js:"http://secure-us.imrworldwide.com/novms/js/2/ggcmb400.js"}};ja.prototype.nielsensdkSDK=null;ja.prototype.cur_position=
0;ja.prototype.timer=null;ja.prototype.queryInterval=2;ja.prototype.isLive=null;ja.prototype.initialize=function(){ja.__super__.initialize.call(this);this.nielsensdkSDK=new NOLCMB.ggInitialize(this.value.data)};ja.prototype.generateNielsenVO=function(a,c){var d,f,e,l,g,h,k,m;null==a&&(a=null);null==c&&(c=null);g={};d=this.facade.player.getMedia();this.isLive=d.isLive;g.assetid=d.guid;g.category=d.category;g.censuscategory=d.category;g.dprflag="true";g.episodetitle=d.title?d.title:episode_url;g.length=
null!=a?a.duration:"NaN"===String(d.duration.toFixed(1))?86400:String(d.duration.toFixed(1));g.videotype=null!=a?a.type:"content";m=this.value.events;for(l in m)if(f=m[l],null!=c&&null!=f&&0<f.length)for(h=0,k=f.length;h<k;h++)if(d=f[h],(null!=d?d.type:void 0)===c)for(e in d.data)g[e.toLowerCase()]=d.data[e];return g};ja.prototype.metaLoad=function(){this.nielsensdkSDK.ggPM("15",this.generateNielsenVO());this.facade.logger.log("[AMP Nielsensdk Event] : loadMetadata")};ja.prototype.adStart=function(a){"midroll"===
(null!=a?a.type:void 0)&&(this.nielsensdkSDK.ggPM("7",this.generateNielsenVO()),this.facade.logger.log("[AMP Nielsensdk Event] : stop"));this.nielsensdkSDK.ggPM("15",this.generateNielsenVO(a));this.facade.logger.log("[AMP Nielsensdk Event] : Ad Start")};ja.prototype.adEnd=function(a){this.nielsensdkSDK.ggPM("7",this.generateNielsenVO(a));this.facade.logger.log("[AMP Nielsensdk Event] : Ad End");"midroll"===(null!=a?a.type:void 0)&&(this.nielsensdkSDK.ggPM("15",this.generateNielsenVO()),this.facade.logger.log("[AMP Nielsensdk Event] : Video Resume"))};
ja.prototype.start=function(a){null==a&&(a=null);"midroll"===(null!=a?a.type:void 0)?(this.nielsensdkSDK.ggPM("15",this.generateNielsenVO(a,"resume")),this.facade.logger.log("[AMP Nielsensdk Event] : Content Resume")):(this.nielsensdkSDK.ggPM("15",this.generateNielsenVO(null,"started")),this.facade.logger.log("[AMP Nielsensdk Event] : Content Play"))};ja.prototype.end=function(){var a;a=this.facade.player.getCurrentTime().toFixed(1);this.nielsensdkSDK.ggPM("57",a);this.facade.logger.log("[AMP Nielsensdk Event] : Video Ended");
this.cur_position=0};ja.prototype.timeupdate=function(){this.isLive?(this.nielsensdkSDK.ggPM("49",Math.floor(Date.now()/1E3)),this.facade.logger.log("[AMP nielsensdk Event] : timeupdate Live")):(this.cur_position=this.facade.player.getCurrentTime().toFixed(1),Math.abs(this.timer-this.cur_position)>this.queryInterval&&(this.timer=this.cur_position,this.nielsensdkSDK.ggPM("49",this.cur_position),this.facade.logger.log("[AMP Nielsensdk Event] : timeupdate",this.cur_position)))};var Lf=function(){Lf.__super__.constructor.call(this)};
g(Lf,puremvc.SimpleCommand);Lf.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).start()};var Mf=function(){Mf.__super__.constructor.call(this)};g(Mf,puremvc.SimpleCommand);Mf.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).adStart(a.body)};var Nf=function(){Nf.__super__.constructor.call(this)};g(Nf,puremvc.SimpleCommand);Nf.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).adEnd(a.body)};var Of=function(){Of.__super__.constructor.call(this)};g(Of,puremvc.SimpleCommand);
Of.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).end()};var Ag=function(){Ag.__super__.constructor.call(this)};g(Ag,puremvc.SimpleCommand);Ag.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).metaLoad()};var Ae=function(){Ae.__super__.constructor.call(this)};g(Ae,puremvc.SimpleCommand);Ae.prototype.execute=function(a){this.facade.retrieveProxy(ja.NAME).timeupdate()};var Hc=function(){Hc.__super__.constructor.call(this)};g(Hc,V);Hc.prototype.moduleName="nielsen";Hc.prototype.createController=
function(){var a,c,d,f;Hc.__super__.createController.call(this);c=null!=(a=this.config)?null!=(d=a.events)?d.video:void 0:void 0;if(null!=c)for(d=0,f=c.length;d<f;d++)a=c[d],"started"===a.type&&(this.registerCommand(e.STARTED,ye),this.registerCommand(e.CONTENT_CHANGED,ye)),"ended"===a.type&&(this.registerCommand(e.ENDED,xe),this.registerCommand(e.CHANGE_CONTENT,xe))};Hc.prototype.createModel=function(){this.registerProxy(new Oa(this.config))};Hc.prototype.listNotificationInterests=function(){return[e.STARTED,
e.ENDED,e.CONTENT_CHANGED,e.CHANGE_CONTENT]};q.registerPlugin("nielsen","html",Hc);q.registerPlugin("nielsen","flash",zd);var Bd=function(){return Bd.__super__.constructor.apply(this,arguments)};g(Bd,G);Bd.NAME="ComscoreStreamsenseWrapper";Bd.prototype.flashPluginIds=["ComscoreStreamSensePlugin"];Bd.prototype.createXML=function(a){var c,d,f,e,l;c=a.firstChild;d=a.getElementsByTagName("metrics")[0];null==d&&(d=a.createElement("metrics"),c.appendChild(d));c=a.createElement("vendor");c.setAttribute("id",
"comscoreStreamSense");d.appendChild(c);f=[{value:this.config.data.clientId,key:"C2"},{value:this.config.data.publisherSecret,key:"PUBLISHER_SECRET"},{value:this.config.data.appVersion,key:"APP_VERSION"},{value:this.config.data.metadata,key:"metadata"}];e=0;for(l=f.length;e<l;e++)d=f[e],null!=d.value&&this.createProperty(a,d.key,d.value,c);return a};var va=function(a){va.__super__.constructor.call(this,a)};g(va,la);va.NAME=x.NAME;va.prototype.defaults={plugin:{js:null},data:{clientId:null,publisherSecret:null,
appVersion:null,metadata:null}};va.prototype.myStreamingTag=null;va.prototype.getScript=function(){return this.config.plugin.js};va.prototype.initialize=function(){va.__super__.initialize.call(this);"undefined"!==typeof ns_&&null!==ns_&&null===this.myStreamingTag&&(this.myStreamingTag=new ns_.StreamingTag({customerC2:this.value.data.clientId}))};va.prototype.mediaChange=function(){null!=this.myStreamingTag&&this.myStreamingTag.stop();this.myStreamingTag=null;this.myStreamingTag=new ns_.StreamingTag({customerC2:this.value.data.clientId});
this.facade.logger.log("[AMP ComscoreStreamsense Event] : Media Change, StreamTag ReInitialize")};va.prototype.adStart=function(a){this.myStreamingTag.playVideoAdvertisement(this.getMetaData());this.facade.logger.log("[AMP ComscoreStreamsense Event] : Ad Start")};va.prototype.start=function(a){var c;null!=(c=this.facade.player.ads)&&c.getInProgress()||(this.myStreamingTag.playVideoContentPart(this.getMetaData()),this.facade.logger.log("[AMP ComscoreStreamsense Event] : Content Play"))};va.prototype.stop=
function(){this.myStreamingTag.stop();this.facade.logger.log("[AMP ComscoreStreamsense Event] : Stop")};va.prototype.ended=function(){this.myStreamingTag.stop();this.facade.logger.log("[AMP ComscoreStreamsense Event] : End");this.myStreamingTag=null;this.myStreamingTag=new ns_.StreamingTag({customerC2:this.value.data.clientId})};va.prototype.getMetaData=function(){var a,c,d,f;c={};f=this.value.data.metadata;for(a in f)d=f[a],"null"!==d&&(c[a]=d);return c};var Pf=function(){Pf.__super__.constructor.call(this)};
g(Pf,puremvc.SimpleCommand);Pf.prototype.execute=function(a){this.facade.retrieveProxy(va.NAME).start(a.body)};var Qf=function(){Qf.__super__.constructor.call(this)};g(Qf,puremvc.SimpleCommand);Qf.prototype.execute=function(a){this.facade.retrieveProxy(va.NAME).adStart(a.body)};var Cd=function(){Cd.__super__.constructor.call(this)};g(Cd,puremvc.SimpleCommand);Cd.prototype.execute=function(a){this.facade.retrieveProxy(va.NAME).stop(a.body)};var Rf=function(){Rf.__super__.constructor.call(this)};g(Rf,
puremvc.SimpleCommand);Rf.prototype.execute=function(a){var c;c=this.facade.retrieveProxy(va.NAME);c.adStart(a.body);c.stop(a.body)};var Sf=function(){Sf.__super__.constructor.call(this)};g(Sf,puremvc.SimpleCommand);Sf.prototype.execute=function(a){this.facade.retrieveProxy(va.NAME).mediaChange()};var Tf=function(){Tf.__super__.constructor.call(this)};g(Tf,puremvc.SimpleCommand);Tf.prototype.execute=function(a){this.facade.retrieveProxy(va.NAME).ended()};var Ic=function(){Ic.__super__.constructor.call(this)};
g(Ic,V);Ic.prototype.moduleName="nielsensdk";Ic.prototype.createModel=function(){this.registerProxy(new ja(this.config))};Ic.prototype.createController=function(){Ic.__super__.createController.call(this);this.registerCommand(k.BREAK_END,Nf);this.registerCommand(k.AD_STARTED,Mf);this.registerCommand(e.STARTED,Lf);this.registerCommand(e.ENDED,Of);this.registerCommand(e.TIME_UPDATE,Ae);this.registerCommand(k.AD_TIME_REMAINING,Ae)};Ic.prototype.listNotificationInterests=function(){return[k.AD_STARTED,
k.BREAK_END,e.STARTED,e.ENDED,e.LOADED_METADATA,e.TIME_UPDATE,e.CONTENT_CHANGED,e.CHANGE_CONTENT,k.AD_TIME_REMAINING]};q.registerPlugin("nielsensdk","html",Ic);q.registerPlugin("nielsensdk","flash",Ad);var Ub=function(a){Ub.__super__.constructor.call(this,a)};g(Ub,na);Ub.prototype.configurationName="comscore";Ub.NAME=x.NAME;Ub.prototype.defaults={url:"http://b.scorecardresearch.com/b",events:{ads:null,video:null},data:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:null,c8:null,c9:null,c10:null,
c14:null}};Ub.prototype.adStart=function(){var a;a=this.constructURL("ads","started");h.beacon(a)};Ub.prototype.videoStart=function(){var a;a=this.constructURL("video","started");h.beacon(a)};Ub.prototype.constructURL=function(a,c){var d,f,e,l,g,h,k,m;d={};e=null!=(l=this.value.events)?l[a]:void 0;if(null!=e)for(k=0,m=e.length;k<m;k++)l=e[k],l.type===c&&(f=l);l=this.value.data;for(g in l)e=l[g],d[g]=(null!=f?null!=(h=f.data)?h[g]:void 0:void 0)||e;null==d.c7&&(d.c7=document.location.href.substr(0,
512));null==d.c8&&(d.c8=document.referrer.substr(0,512));null==d.c9&&(d.c9=document.title);null==d.cv&&(d.cv="2.0");d.rn=Date.now();h=this.value.url;f=[];for(g in d)e=d[g],null!=e&&""!==e&&f.push(g+"\x3d"+escape(e));0<f.length&&(h+="?"+f.join("\x26"));return h.substr(0,2080)};var Dd=function(){return Dd.__super__.constructor.apply(this,arguments)};g(Dd,G);Dd.NAME="ComscoreWrapper";Dd.prototype.flashPluginIds=["ComscorePlugin"];Dd.prototype.createXML=function(a){var c,d,f,e,l,g,h,k,m,n,q,r,s,u,t,w,
x;c=a.firstChild;d=a.getElementsByTagName("metrics")[0];null==d&&(d=a.createElement("metrics"),c.appendChild(d));c=a.createElement("vendor");c.setAttribute("id","comscore");d.appendChild(c);l={ads:{started:"adStart",ended:"adComplete"},video:{started:"videoStart",ended:"videoComplete"}};k=[{value:"c1",key:"COMSCORE_CSC1"},{value:"c2",key:"COMSCORE_CSC2"},{value:"c3",key:"COMSCORE_CSC3"},{value:"c4",key:"COMSCORE_CSC4"},{value:"c5",key:"COMSCORE_CSC5"},{value:"c6",key:"COMSCORE_CSC6"},{value:"c7",
key:"COMSCORE_CSC7"},{value:"c8",key:"COMSCORE_CSC8"},{value:"c9",key:"COMSCORE_CSC9"},{value:"c10",key:"COMSCORE_CSC10"},{value:"c11",key:"COMSCORE_CSC14"}];t=this.config.events;for(n in t)if(e=t[n],null!=e&&0<e.length)for(q=0,s=e.length;q<s;q++)for(f=e[q],g=a.createElement("property"),g.setAttribute("key",l[n][f.type]),c.appendChild(g),d=a.createElement("property"),d.setAttribute("key","COMSCORE_CSURL"),m=R.createTextContent(a,this.config.url),d.appendChild(m),g.appendChild(d),r=0,u=k.length;r<
u;r++)h=k[r],m=(null!=(w=f.data)?w[h.value]:void 0)||(null!=(x=this.config.data)?x[h.value]:void 0),null!=m&&""!==m&&(d=a.createElement("property"),d.setAttribute("key",h.key),m=R.createTextContent(a,m),d.appendChild(m),g.appendChild(d));return a};var Uf=function(){Uf.__super__.constructor.call(this)};g(Uf,puremvc.SimpleCommand);Uf.prototype.execute=function(a){this.facade.retrieveProxy(Ub.NAME).adStart()};var Be=function(){Be.__super__.constructor.call(this)};g(Be,puremvc.SimpleCommand);Be.prototype.execute=
function(a){this.facade.retrieveProxy(Ub.NAME).videoStart()};var Jc=function(){Jc.__super__.constructor.call(this)};g(Jc,V);Jc.prototype.moduleName="comscorestreamsense";Jc.prototype.createModel=function(){this.registerProxy(new va(this.config))};Jc.prototype.createController=function(){Jc.__super__.createController.call(this);this.registerCommand(e.MEDIA_CHANGE,Sf);this.registerCommand(k.AD_STARTED,Qf);this.registerCommand(k.AD_ENDED,Cd);this.registerCommand(k.SKIPPED,Cd);this.registerCommand(k.AD_ERROR,
Rf);this.registerCommand(e.PLAYING,Pf);this.registerCommand(e.PAUSE,Cd);this.registerCommand(e.ENDED,Tf)};Jc.prototype.listNotificationInterests=function(){return[e.MEDIA_CHANGE,k.AD_STARTED,k.AD_ENDED,k.AD_ERROR,k.SKIPPED,e.ENDED,e.PAUSE,e.PLAYING]};q.registerPlugin("comscorestreamsense","html",Jc);q.registerPlugin("comscorestreamsense","flash",Bd);var jc=function(a,c){jc.__super__.constructor.call(this,a,c);if(!0===this.config.heartbeat.enabled||!0===this.config.useJS)this.createXML=function(){},
this.plugin=new Kc,this.plugin.oninitialized=this.player.registerModule.bind(this.player,this.plugin),this.plugin.initialize(c,this.player)};g(jc,G);jc.NAME="OmnitureWrapper";jc.prototype.flashPluginIds=["OmniturePlugin"];jc.prototype.listNotificationInterests=function(){return jc.__super__.listNotificationInterests.call(this).concat([e.CHANGE_MEDIA,e.CHANGE_CONTENT,e.CONTENT_CHANGED,e.TIME_UPDATE,e.ENDED,e.STARTED,e.PLAY,e.PAUSE,e.SEEKING,e.SEEKED,k.BREAK_START,k.BREAK_END,k.AD_LOADED,k.AD_STARTED,
k.AD_PLAY,k.AD_PAUSE,k.AD_TIME_REMAINING])};jc.prototype.handleNotification=function(a){jc.__super__.handleNotification.call(this,a);null!=this.plugin&&this.plugin.sendNotification(a.getName(),a.getBody())};jc.prototype.createXML=function(a){var c,d,f,e,l,g,h,k,m,n,q,r;if(!0!==this.config.useJS){c=a.firstChild;g=a.getElementsByTagName("metrics")[0];null==g&&(g=a.createElement("metrics"),c.appendChild(g));c=a.createElement("vendor");c.setAttribute("id","omniture");g.appendChild(c);h=[{value:this.config.channel,
key:"OMNITURE_CHANNEL"},{value:this.config.account,key:"OMNITURE_ACCOUNT"},{value:this.config.debugTracking,key:"OMNITURE_DEBUG_TRACKING"},{value:this.config.trackLocal,key:"OMNITURE_TRACK_LOCAL"},{value:this.config.visitorNamespace,key:"OMNITURE_VISITOR_NAMESPACE"},{value:this.config.trackingServer,key:"OMNITURE_TRACKING_SERVER"},{value:this.config.trackingServerSecure,key:"OMNITURE_TRACKING_SERVER_SECURE"},{value:this.config.currencyCode,key:"OMNITURE_CURRENCY_CODE"},{value:this.config.trackWhilePlaying,
key:"OMNITURE_TRACK_WHILE_PLAYING"},{value:this.config.trackMediaMethods,key:"OMNITURE_TRACK_MEDIA_METHODS"},{value:this.config.mediaName,key:"OMNITURE_MEDIA_NAME"},{value:this.config.playerName,key:"OMNITURE_PLAYER_NAME"}];d=0;for(f=h.length;d<f;d++)g=h[d],null!=g.value&&this.createProperty(a,g.key,g.value,c);d=this.config.Media;if(null!=d){h=[{value:d.autoTrack,key:"OMNITURE_AUTO_TRACK"},{value:d.segmentByMilestones,key:"OMNITURE_SEGMENT_MILESTONES"},{value:d.trackVars,key:"OMNITURE_TRACKVARS"},
{value:d.trackEvents,key:"OMNITURE_TRACKEVENTS"},{value:d.trackUsingContextData,key:"OMNITURE_TRACK_CONTEXT_DATA"},{value:d.trackSecondIntervals,key:"OMNITURE_TRACKSECOND_INTERVALS"}];f=0;for(k=h.length;f<k;f++)g=h[f],null!=g.value&&this.createProperty(a,g.key,g.value,c);if(null!=d.trackMilestones)for(m=this.createProperty(a,"OMNITURE_TRACK_MILESTONES",null,c),f=d.trackMilestones,n=0,q=f.length;n<q;n++)for(l in g=f[n],k=this.createProperty(a,g.percent,null,m),g)h=g[l],"percent"!==l&&this.createProperty(a,
l,h,k);f=d.contextDataMapping;if(null!=f)for(l in d=this.createProperty(a,"OMNITURE_CONTEXT_DATA",null,c),f)if(h=f[l],"string"===typeof h&&this.createProperty(a,l,h,d),h instanceof Array)for(k=this.createProperty(a,l,null,d),m=0,n=h.length;m<n;m++)g=h[m],this.createProperty(a,g.percent,g.events,k)}f=this.config.customLinkTracking;if(null!=f)for(l in k=this.createProperty(a,"OMNITURE_CUSTOM_LINK_TRACKING",null,c),f)if("intervalReached"===l)for(h=this.createProperty(a,l,null,k),q=f[l],n=0,m=q.length;n<
m;n++)for(l in d=q[n],g=this.createProperty(a,d.interval,null,h),d)"interval"!==l&&this.createProperty(a,l,d[l],g);else this.createProperty(a,l,f[l],k);l=null!=(e=this.config.events)?e.video:void 0;if(null!=l)for(d=0,h=l.length;d<h;d++){e=l[d];switch(e.type){case "started":g="videoStart";break;case "ended":g="videoComplete";break;case "play":g="videoResume";break;case "pause":g="videoPause";break;default:g=e.type}this.createProperty(a,g,e.data,c)}l=null!=(r=this.config.events)?r.ads:void 0;if(null!=
l)for(h=0,r=l.length;h<r;h++)e=l[h],g="started"===e.type?"adStart":"ended"===e.type?"adComplete":e.type,this.createProperty(a,g,e.data,c)}};var U=function(a){U.__super__.constructor.call(this,a)};g(U,la);U.NAME=x.NAME;U.prototype.defaults={main:"s",heartbeat:null,account:null,playerName:null,mediaName:null,trackingServer:null,visitorNamespace:null,visitor:null,visitorID:null,pageName:null};U.prototype.media=null;U.prototype.started=!1;U.prototype.ad=null;U.prototype.adCurrentTime=null;U.prototype.adStarted=
!1;U.prototype.getMedia=function(){return this.media};U.prototype.setMedia=function(a){this.started=!1;return this.media=a};U.prototype.getMediaName=function(){var a;return this.getConfigurationData().mediaName||(null!=(a=this.media)?a.title:void 0)||this.facade.player.getMedia().title};U.prototype.getPlayerName=function(){var a;return this.getConfigurationData().playerName||(null!=(a=this.facade.player.retrieveProxy(P.NAME))?a.getName():void 0)||this.facade.player.config.name||"amp"};U.prototype.getPlaybackCore=
function(){var a;return(null!=(a=this.facade.player.retrieveProxy(da.NAME))?a.getActivePlaybackCore():void 0)||this.facade.player.playback};U.prototype.initialize=function(){var a;U.__super__.initialize.call(this);if(null!=this.plugin){try{null==this.plugin.Media&&this.plugin.loadModule("Media")}catch(c){this.error("initialize",c)}null==(null!=(a=this.plugin.Media)?a.openAd:void 0)&&(this.adStart=this.adEnded=this.adPlay=this.adPause=this.adCurrentTime=function(){})}};U.prototype.createPlugin=function(){return window[this.getConfigurationData().main]};
U.prototype.start=function(){try{this.plugin.Media.open(this.getMediaName(),this.media.duration,this.getPlayerName()),this.started=!0,this.play()}catch(a){this.error(a)}};U.prototype.play=function(){!0!==this.started&&this.start();try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime()||0)}catch(a){this.error(a)}};U.prototype.pause=function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};U.prototype.seeking=
function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};U.prototype.seeked=function(){try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};U.prototype.ended=function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime()),this.plugin.Media.close(this.getMediaName()),this.started=!1}catch(a){this.error(a)}};U.prototype.getAd=function(){return this.ad};
U.prototype.setAd=function(a){this.adStarted=!1;this.adCurrentTime=0;return this.ad=a};U.prototype.adStart=function(){try{this.plugin.Media.openAd(this.ad.title,this.ad.duration,this.getPlayerName(),this.proxy.getMediaName(),this.ad.type,this.ad.position,this.ad.cpm),this.adStarted=!0}catch(a){this.error("ad start",a)}};U.prototype.adPlay=function(){!0!==this.adStarted&&this.adStart();try{this.plugin.Media.play(this.ad.title,this.adCurrentTime||0)}catch(a){this.error("ad play",a)}};U.prototype.adPause=
function(){try{this.plugin.Media.stop(this.ad.title,this.adCurrentTime)}catch(a){this.error("ad pause",a)}};U.prototype.adCurrentTime=function(a){this.adCurrentTime=a};U.prototype.adEnded=function(){if(!1!==this.adStarted)try{this.adStarted=!1,this.plugin.Media.stop(this.ad.title,this.ad.duration),this.plugin.Media.close(this.ad.title)}catch(a){this.error("ad end",a)}};var wa=function(a){wa.__super__.constructor.call(this,a)};g(wa,U);wa.NAME=x.NAME;wa.prototype.aaPlugin=null;wa.prototype.playerPlugin=
null;wa.prototype.heartbeat=null;wa.prototype.initialize=function(){var a,c,d,f=this;wa.__super__.initialize.call(this);c=this.getConfigurationData();d=new Visitor(c.visitor.marketingCloudOrgId);d.trackingServer=c.visitor.trackingServer;a=new AppMeasurement;a.account=c.account;a.trackingServer=c.trackingServer;a.visitor=d;a.pageName=c.pageName;a.charSet="UTF-8";a.visitorID=c.visitorID;d=this.createDelegate();this.playerPlugin=new ADB.va.plugins.videoplayer.VideoPlayerPlugin(d);d=new ADB.va.plugins.videoplayer.VideoPlayerPluginConfig;
d.debugLogging=this.facade.logger.enabled;this.playerPlugin.configure(d);d=new ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate;d.onError=function(a){f.facade.logger.error("AdobeAnalyticsPlugin error: "+a.getMessage()+" | "+a.getDetails())};this.aaPlugin=new ADB.va.plugins.aa.AdobeAnalyticsPlugin(a,d);d=new ADB.va.plugins.aa.AdobeAnalyticsPluginConfig;d.channel=c.heartbeat.channel;d.debugLogging=this.facade.logger.enabled;this.aaPlugin.configure(d);d=new ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate;
d.onError=function(a){f.facade.logger.error("AdobeHeartbeatPlugin error: "+a.getMessage()+" | "+a.getDetails())};a=new ADB.va.plugins.ah.AdobeHeartbeatPlugin(d);d=new ADB.va.plugins.ah.AdobeHeartbeatPluginConfig(c.heartbeat.trackingServer,c.heartbeat.publisher);d.ovp=c.heartbeat.ovp;d.sdk=c.heartbeat.sdk;d.debugLogging=this.facade.logger.enabled;a.configure(d);c=[this.playerPlugin,this.aaPlugin,a];d=new ADB.va.HeartbeatDelegate;d.onError=function(a){f.facade.logger.error("Heartbeat error: "+a.getMessage()+
" | "+a.getDetails())};this.heartbeat=new ADB.va.Heartbeat(d,c);d=new ADB.va.HeartbeatConfig;d.debugLogging=this.facade.logger.enabled;this.heartbeat.configure(d)};wa.prototype.createPlugin=function(){return ADB.va.VideoHeartbeat};wa.prototype.createDelegate=function(){var a,c=this;a=new ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate;a.getVideoInfo=function(){var a,f;a=c.getPlaybackCore();null==c.media&&(c.media=c.facade.player.getMedia());f=new ADB.va.plugins.videoplayer.VideoInfo;f.id=c.media.guid||
c.media.title;f.playerName=c.getPlayerName();f.name=c.getMediaName();f.length="live"===c.media.temporalType?-1:a.getDuration();f.streamType=c.media.temporalType||ADB.va.ASSET_TYPE_VOD;f.playhead=a.getCurrentTime();return f};a.getAdInfo=function(){var a;a=new ADB.va.plugins.videoplayer.AdInfo;if(null==c.ad)return a;a.id=c.ad.id;a.length=c.ad.duration;a.position=c.ad.position;a.name=c.ad.title;return a};a.getAdBreakInfo=function(){var a,f;a=new ADB.va.plugins.videoplayer.AdBreakInfo;if(null==c.ad)return a;
f=c.getPlaybackCore();a.name=c.ad.type;a.position=c.ad.position;a.playerName=c.getPlayerName();a.startTime=f.getCurrentTime();return a};a.getChapterInfo=function(){var a;if(null==c.media.scenes)return null;a=new ADB.va.plugins.videoplayer.ChapterInfo;a.name="";a.length=-1;a.position="1";a.startTime=-1;return a};a.onError=function(a){c.facade.logger.error("Heartbeat Error:",a)};a.getQoSInfo=function(){return new ADB.va.plugins.videoplayer.QoSInfo};return a};wa.prototype.start=function(){try{this.playerPlugin.trackVideoLoad(),
this.started=!0}catch(a){this.error(a)}};wa.prototype.play=function(){!0!==this.started&&this.start();try{this.playerPlugin.trackPlay()}catch(a){this.error(a)}};wa.prototype.pause=function(){try{this.playerPlugin.trackPause()}catch(a){this.error(a)}};wa.prototype.seeking=function(){try{this.playerPlugin.trackSeekStart()}catch(a){this.error(a)}};wa.prototype.seeked=function(){try{this.playerPlugin.trackSeekComplete()}catch(a){this.error(a)}};wa.prototype.ended=function(){try{this.playerPlugin.trackComplete(),
this.playerPlugin.trackVideoUnload(),this.started=!1}catch(a){this.error(a)}};wa.prototype.adStart=function(){try{this.playerPlugin.trackAdStart()}catch(a){this.error(a)}};wa.prototype.adEnded=function(){try{this.playerPlugin.trackAdComplete()}catch(a){this.error(a)}};wa.prototype.adPlay=function(){};wa.prototype.adPause=function(){};var Vf=function(){Vf.__super__.constructor.call(this)};g(Vf,A);Vf.prototype.execute=function(a){this.proxy.setMedia(a.getBody())};var Wf=function(){Wf.__super__.constructor.call(this)};
g(Wf,A);Wf.prototype.execute=function(a){this.proxy.start()};var Xf=function(){Xf.__super__.constructor.call(this)};g(Xf,A);Xf.prototype.execute=function(a){this.proxy.play()};var Yf=function(){Yf.__super__.constructor.call(this)};g(Yf,A);Yf.prototype.execute=function(a){this.proxy.pause()};var Zf=function(){Zf.__super__.constructor.call(this)};g(Zf,A);Zf.prototype.execute=function(a){this.proxy.seeking()};var $f=function(){$f.__super__.constructor.call(this)};g($f,A);$f.prototype.execute=function(a){this.proxy.seeked()};
var Ce=function(){Ce.__super__.constructor.call(this)};g(Ce,A);Ce.prototype.execute=function(a){this.proxy.ended()};var ag=function(){ag.__super__.constructor.call(this)};g(ag,A);ag.prototype.execute=function(a){this.proxy.setMedia(a.getBody());this.proxy.start()};var bg=function(){bg.__super__.constructor.call(this)};g(bg,A);bg.prototype.execute=function(a){this.proxy.setAd(a.getBody())};var cg=function(){cg.__super__.constructor.call(this)};g(cg,A);cg.prototype.execute=function(a){this.proxy.adStart()};
var dg=function(){dg.__super__.constructor.call(this)};g(dg,A);dg.prototype.execute=function(a){this.proxy.adPlay()};var eg=function(){eg.__super__.constructor.call(this)};g(eg,A);eg.prototype.execute=function(a){this.proxy.adPause()};var fg=function(){fg.__super__.constructor.call(this)};g(fg,A);fg.prototype.execute=function(a){this.proxy.adEnded();this.proxy.setAd(null)};var yc=function(a,c,d){this.startTime=a;this.endTime=c;this.id=d};yc.prototype.id=null;yc.prototype.startTime=null;yc.prototype.endTime=
null;yc.prototype.text=null;yc.prototype.html=null;yc.prototype.align=null;var gg=function(){gg.__super__.constructor.call(this)};g(gg,A);gg.prototype.execute=function(a){this.proxy.adCurrentTime(a.getBody())};var Dg=function(){};Dg.prototype.parse=function(a,c){var d,f,e,g,k,v,m,n,q;c=c.replace(/\r/g,"");f=c.split("\n\n");n=0;for(q=f.length;n<q;n++){d=f[n];d=d.split("\n");try{g=d[0],m=d[1].match(/([0-9:\,]+)\s*--\x3e\s*([0-9:\,]+)/).slice(1),k=h.flattenTimecode(m[0]),e=h.flattenTimecode(m[1]),v=
d.slice(2)}catch(r){ba.warn("SRT Parsing Warning")}d=new yc(k,e,"cue_"+g);d.html="\x3cp\x3e"+v.join("\x3cbr /\x3e")+"\x3c/p\x3e";d.text=v.join("\n");a.cues.push(d)}return a};var Bg=function(){};Bg.prototype.parse=function(a,c){var d,f;"string"===typeof c&&(c=R.parse(c));Array.prototype.slice.call(c.querySelectorAll("styling style")).forEach(function(c,d,f){var e;e="";d=c.getAttribute("id")||c.getAttribute("xml:id");Array.prototype.slice.call(c.attributes).forEach(function(a,c,d){if("tts"===a.prefix)return e+=
h.formatStyleName(a.localName)+":"+a.nodeValue+";"});a.styles[d]=e});Array.prototype.slice.call(c.querySelectorAll("body [style]")).forEach(function(c,d,f){d=c.getAttribute("style");c.setAttribute("style",a.styles[d])});f=c.querySelector("tt");f=f.getAttribute("lang")||f.getAttribute("xml:lang");if(void 0===a.language||null===a.language)a.language=f;d=Array.prototype.slice.call(c.querySelectorAll("body p[begin]"));d.forEach(function(c,f,e){var g;e=c.getAttribute("begin");c.removeAttribute("begin");
null!=c.getAttribute("end")?(g=c.getAttribute("end"),c.removeAttribute("end")):null!=d[f+1]&&(g=d[f+1].getAttribute("begin"));f=new yc(h.flattenTimecode(e),h.flattenTimecode(g),"cue_"+f);g=c.getAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign");null!=g&&(f.align="center"===g?"middle":g,c.removeAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign"));c=R.serialize(c);c=c.replace(/\s*xmlns="[^"]*"/,"");f.html=c;c=c.replace(/^<p[^>]*>/,"");c=c.replace(/<\/p>$/,"");c=c.replace(/<br\/>/,
"\n");c=c.replace(/<span style="([^"]*)"/,"\x3cc.$1");c=c.replace(/<\/span>/,"\x3c/c\x3e");f.text=c;a.cues.push(f)});return a};var Lc=function(){Lc.__super__.constructor.call(this)};g(Lc,V);Lc.prototype.moduleName="comscore";Lc.prototype.createController=function(){Lc.__super__.createController.call(this);this.registerCommand(e.STARTED,Be);this.registerCommand(e.CONTENT_CHANGED,Be);this.registerCommand(k.AD_STARTED,Uf)};Lc.prototype.createModel=function(){this.registerProxy(new Ub(this.config))};
Lc.prototype.listNotificationInterests=function(){return[e.STARTED,k.AD_STARTED,e.CONTENT_CHANGED]};q.registerPlugin("comscore","html",Lc);q.registerPlugin("comscore","flash",Dd);var Pa=function(){var a,c=this;this.captions=[];this.head=document.getElementsByTagName("head")[0];a=window.com||{};a.akamai=a.akamai||{};a.akamai.amp=a.akamai.amp||{};a.akamai.amp.plugins=a.akamai.amp.plugins||{};a.akamai.amp.plugins.subply=a.akamai.amp.plugins.subply||{};a.akamai.amp.plugins.subply.response=function(a){c.parse(a);
c.poll()};null==window.com&&(window.com=a);Pa.__super__.constructor.call(this,this.constructor.NAME)};g(Pa,puremvc.Proxy);Pa.NAME="LiveCaptionProxy";Pa.prototype.data={base:"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",interval:1E3};Pa.prototype.caption=null;Pa.prototype.head=null;Pa.prototype.script=null;Pa.prototype.timeout=null;Pa.prototype.getURL=function(){return this.data.url};Pa.prototype.setURL=function(a){return this.data.url=a};Pa.prototype.start=function(){this.send()};Pa.prototype.poll=
function(){var a=this;setTimeout(function(){a.send()},this.data.interval||1E3)};Pa.prototype.send=function(){null!=this.script&&this.head.removeChild(this.script);this.script=h.loadScript(this.data.base+this.data.url+".js?nocache\x3d"+Date.now())};Pa.prototype.stop=function(){clearTimeout(timeout)};Pa.prototype.parse=function(a){var c,d,f,e;if(a.Stream===this.data.url&&!(null!=this.caption&&this.caption.id>=a.Ticks)){this.caption=new yc(h.flattenTimecode(a.From),h.flattenTimecode(a.To),a.Ticks);this.caption.text=
a.Text;c="";e=a.Text.split("\n");d=0;for(f=e.length;d<f;d++)a=e[d],""!==c&&(c+="\x3cbr /\x3e"),c+="\x3cspan\x3e"+a+"\x3c/span\x3e";this.caption.html="\x3cp\x3e"+c+"\x3c/p\x3e";this.sendNotification(C.CUE_CHANGE,[this.caption]);return this.caption}};CaptionParsers={"application/ttml+xml":new Bg,"application/x-subrip":new Dg,undefined:new Bg};var hg=function(){hg.__super__.constructor.call(this)};g(hg,A);hg.prototype.execute=function(a){var c,d,f,e,g,h;e=a.getBody();c=this.proxy.getTrack();if(null!=
c){a=c.activeCues;f=c.cues;c=!1;g=0;for(h=f.length;g<h;g++)d=f[g],e>=d.startTime&&e<d.endTime?0<=Me.call(a,d)||(a.push(d),c=!0):(d=a.indexOf(d),-1!==d&&(a.splice(d,1),c=!0));!0===c&&this.sendNotification(C.CUE_CHANGE,a)}};var ig=function(){ig.__super__.constructor.call(this)};g(ig,A);ig.prototype.execute=function(a){a=a.getBody().track;null!=a&&(this.proxy.setTracks(a),this.sendNotification(C.ENABLED,!0))};var De=function(){De.__super__.constructor.call(this)};g(De,y);De.prototype.execute=function(a){this.proxy.setHidden(!a.getBody());
De.__super__.execute.call(this,a)};var jg=function(){jg.__super__.constructor.call(this)};g(jg,puremvc.SimpleCommand);jg.prototype.execute=function(a){var c,d;a=this.facade.retrieveProxy(sa.NAME);c=a.getTrack();null==c&&0<(null!=(d=a.getTracks())?d.length:void 0)&&(c=a.autoSelectTrack());!0===(null!=c?c.isLive:void 0)&&(this.facade.removeCommand(e.TIME_UPDATE),a=this.facade.retrieveProxy(Pa.NAME),null==a&&(a=new Pa,this.facade.registerProxy(a)),a.setURL(c.src),a.start())};var Qa=function(a,c){Qa.__super__.constructor.call(this,
a,c)};g(Qa,G);Qa.NAME="CaptioningWrapper";Qa.prototype.flashPluginIds=["CaptioningPlugin","OSMFCCDecoderPlugin","CaptionSettingsPlugin","AMPCaptionPlugin"];Qa.prototype.hidden=!0;Qa.prototype.createXML=function(a){var c,d,f,e;f=null!=(e=this.config.flash)?e.subply:void 0;if(null!=f)try{null!=f.timeMethod&&(d=a.getElementsByTagName("player")[0],d.setAttribute("subply_time_method",f.timeMethod)),null!=f.plugin&&(c=a.firstChild,f=a.getElementsByTagName("subply")[0],null==f&&(f=a.createElement("subply"),
c.appendChild(f)),this.createProperty(a,"SUBPLY_URL",this.config.flash.subply.plugin,f))}catch(g){this.facade.logger.error("[AMP CAPTIONING ERROR]",g)}};Qa.prototype.createFlashVars=function(a){var c,d,f,e,g,k;f=this.player.config;if(null!=(null!=(c=f.media)?c.track:void 0)){e=h.selectTrack(f.media.track,"captions");null!=e.src&&""!==e.src&&(a.caption_url=e.src);if(1<f.media.track.length){d=[];c=[];k=f.media.track;f=0;for(g=k.length;f<g;f++)e=k[f],d.push(e.src),c.push(e.srclang);a.caption_url=d.join(",");
a.caption_language=c.join(",")}a.caption_type=null!=e.type?encodeURIComponent(e.type):"application/ttml+xml"}};Qa.prototype.listNotificationInterests=function(){return Qa.__super__.listNotificationInterests.apply(this,arguments).concat([e.MEDIA_CHANGE,"mediaPlayerCaptioningRequest","mediaPlayerCaptionLangChange"])};Qa.prototype.handleNotification=function(a){var c,d,f;Qa.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case "mediaPlayerCaptionLangChange":f="";break;
case "mediaPlayerCaptioningRequest":f="visibilitychange";a=a.enabled;this.hidden=!a;break;case e.MEDIA_CHANGE:c=a,null!=c.track&&(d=h.selectTrack(c.track,"captions"),null!=(null!=d?d.src:void 0)&&""!==d.src&&(c.captioningUrl=d.src),c.captioningType=d.type||"application/ttml+xml")}null!=f&&""!==f&&this.dispatchEvent(new Z(f,a))};Qa.prototype.getHidden=function(){return this.hidden};Qa.prototype.setHidden=function(a){this.hidden=a;this.facade.getMediaElement().setPlayerProperty("captionDisplay",{visible:!a});
return a};Qa.prototype.selectTrackByIndex=function(a){};Qa.prototype.selectTrackByLanguage=function(a){this.facade.getMediaElement().setTrackByLanguage(a)};Qa.prototype.changeSettings=function(a){};q.registerPlugin("captioning","flash",Qa);var kc=function(a,c){var d,f=this;this.kind=a.kind;this.type=a.type;this.src=a.src;this.language=a.srclang;this.label=a.label||this.srclang||this.kind;this.cues=a.cues||[];this.styles=a.styles||{};this.activeCues=[];this.isLive=/live-subply/.test(this.type);null==
this.src||""===this.src||this.isLive?setTimeout(c,1):d=h.get(this.src,{onload:function(){try{CaptionParsers[f.type].parse(f,d.response)}catch(a){ba.error("Could not parse caption track: "+f.src);return}"function"===typeof c&&c()},onerror:function(){ba.error("Could not load caption track: "+f.src)}})};kc.prototype.kind=null;kc.prototype.src=null;kc.prototype.language=null;kc.prototype.cues=null;kc.prototype.label=null;kc.prototype.activeCues=null;kc.prototype.type=null;kc.prototype.styles=null;kc.prototype.isLive=
!1;var C={VISIBILITY_CHANGE:"captioningvisibilitychange",ENABLED:"captioningenabled",TRACKS_LOADED:"captioningtracksloaded",TRACK_SELECTED:"captioningtrackselected",CUE_CHANGE:"captioningcuechange",SETTINGS_VISIBILITY_CHANGE:"captioningsettingsvisibility",TOGGLE_SETTINGS_VISIBILITY:"togglesettingsvisibility",SETTINGS_CHANGE:"captioningsettingschange"},sa=function(a){this.activeCaptions=[];this.providers={};this.tracks=[];sa.__super__.constructor.call(this,a)};g(sa,la);sa.NAME=x.NAME;sa.prototype.defaults=
{};sa.prototype.hidden=!0;sa.prototype.tracks=null;sa.prototype.track=null;sa.prototype.activeCaptions=null;sa.prototype.captions=null;sa.prototype.loaded=!0;sa.prototype.useNative=function(){var a;return null!=this.facade.player.mediaElement.textTracks&&3===(null!=(a=window.TextTrackCue)?a.length:void 0)};sa.prototype.getTracks=function(){return this.tracks};sa.prototype.setTracks=function(a){var c,d,f,e,g,h,k=this;this.tracks=[];this.track=null;c=a.length;f=0;e=function(){f++;f===c&&(k.sendNotification(C.TRACKS_LOADED,
k.tracks),k.autoSelectTrack())};g=0;for(h=a.length;g<h;g++)d=a[g],d=new kc(d,e),this.tracks.push(d);return a};sa.prototype.getTrack=function(){return this.track};sa.prototype.setTrack=function(a){this.track=a;this.captions=this.track.cues;this.activeCaptions=[];this.sendNotification(C.TRACK_SELECTED,this.track);return a};sa.prototype.selectTrackByIndex=function(a){var c;0<=a&&a<this.tracks.length&&(c=this.tracks[a],this.setTrack(c));return c};sa.prototype.selectTrackByLanguage=function(a){var c,d,
f,e,g;g=this.tracks;f=0;for(e=g.length;f<e;f++)if(c=g[f],c.language===a){d=c;break}null!=d&&this.setTrack(d);return d};sa.prototype.getHidden=function(){return this.hidden};sa.prototype.setHidden=function(a){return this.hidden=a};sa.prototype.autoSelectTrack=function(){var a,c,d;a=null!=(d=this.facade.player.retrieveProxy(ma.NAME))?d.getLanguage():void 0;null!=a&&(a=a.split("-").shift(),c=this.selectTrackByLanguage(a));null==c&&(c=this.tracks[0],this.setTrack(c));return c};var aa=function(a){aa.__super__.constructor.call(this,
null,null,a,null)};g(aa,S);aa.prototype.componentName="captioning-settings";aa.prototype.captioningObject={"default":{fontFamily:"Arial,sans-serif",size:"1.3em",scroll:"popout",fontColor:"rgba(255,255,255,1)",edgeType:null,edgeColor:"rgba(0, 0, 0, 0)",backgroundColor:"rgba(0,0,0,0)",windowColor:"rgba(0,0,0,0.5)"},appliedStyleText:"",selected:{fontFamily:null,size:null,fontColor:null,edgeType:null,edgeColor:null,backgroundColor:null,windowColor:null},preset1:{fontFamily:"Arial,sans-serif",size:"1.3em",
fontColor:"rgba(255,255,255,1)",edgeType:null,edgeColor:"rgba(0, 0, 0, 0)",backgroundColor:"rgba(0,0,0,0)",windowColor:"rgba(0,0,0,0)"},preset2:{fontFamily:"Arial,sans-serif",size:"1.3em",fontColor:"rgba(255,255,0,1)",edgeType:null,edgeColor:"rgba(0, 0, 0, 0)",backgroundColor:"rgba(0,0,0,0)",windowColor:"rgba(0,0,0,0)"},preset3:{fontFamily:"Arial,sans-serif",size:"1.3em",fontColor:"rgba(255,255,255,1)",edgeType:null,edgeColor:"rgba(0, 0, 0, 0)",backgroundColor:"rgba(0,0,0,1)",windowColor:"rgba(0,0,0,0)"},
preset4:{fontFamily:"Arial,sans-serif",size:"1.3em",fontColor:"rgba(255,255,0,1)",edgeType:null,edgeColor:"rgba(0, 0, 0, 1)",backgroundColor:"rgba(0,0,0,0)",windowColor:"rgba(0,0,0,0.5)"},instance:null};aa.prototype.captionText=null;aa.prototype.settingsUiVisible=!1;aa.prototype.captionningStyle=null;aa.prototype.swatchColorCurr=null;aa.prototype.swatchOpacityCurr=null;aa.prototype.colorPicker=null;aa.prototype.colorPickerOpacity=null;aa.prototype.advancedSettingContainer=null;aa.prototype.list={font:null,
language:null,edge:null,size:null,scroll:null};aa.prototype.picker={color:null,background:null,edge:null,window:null};aa.prototype.toggle={ON:null,OFF:null,disabled:!1};aa.prototype.scroll={type:"popout",typeSpeed:5,lines:2,scrollTimer:[],speed:10,popout:null,rollup:null,painton:null};aa.prototype.onRegister=function(){var a,c,d,f,e,g=this;this.captionText=this.create("caption-text",this.viewComponent.parentElement);d=this.create("captioning-titlebar");this.create("captioning-title",d,"span",this.localizationManager.getString(w.MSG_CC_TITLE));
this.toggle.OFF=this.create("captioning-toggle-btn",d,"div","OFF");this.toggle.ON=this.create("captioning-toggle-btn",d,"div","ON");m.create(this.toggle.ON,m.CLICK,function(a){a.stopImmediatePropagation();g.toggle.disabled||g.toggleButtonHandler(!0);return!1});this.toggle.disabled||this.classList.add("captioning-floater-btnselected",this.toggle.OFF);m.create(this.toggle.OFF,m.CLICK,function(a){a.stopImmediatePropagation();g.toggle.disabled||g.toggleButtonHandler(!1);return!1});d=this.create("captioning-row");
this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_LANGUAGE));this.list.language=this.create("captioning-dropdown",d,"select");this.languageListPopulate();m.create(this.list.language,"change",function(a){var c;a.stopImmediatePropagation();c="None"!==a.target.selectedValue;g.sendNotification(C.VISIBILITY_CHANGE,c);c&&g.facade.setTrack(g.facade.selectTrackByIndex(a.target.selectedIndex));return!1});this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_PRESETS));
a=this.create(["captioning-preset","captioning-preset1"],d,null,"Aa");c=this.create(["captioning-preset","captioning-preset2"],d,null,"Aa");e=this.create(["captioning-preset","captioning-preset3"],d,null,"Aa");d=this.create(["captioning-preset","captioning-preset4"],d,null,"Aa");m.create(a,m.CLICK,function(a){a.stopImmediatePropagation();g.captioningObject.selected=g.cloneObject(g.captioningObject.preset1);g.applyCaptioningStyle();return!1});m.create(c,m.CLICK,function(a){a.stopImmediatePropagation();
g.captioningObject.selected=g.cloneObject(g.captioningObject.preset2);g.applyCaptioningStyle();return!1});m.create(e,m.CLICK,function(a){a.stopImmediatePropagation();g.captioningObject.selected=g.cloneObject(g.captioningObject.preset3);g.applyCaptioningStyle();return!1});m.create(d,m.CLICK,function(a){a.stopImmediatePropagation();g.captioningObject.selected=g.cloneObject(g.captioningObject.preset4);g.applyCaptioningStyle();return!1});this.advancedSettingContainer=this.create("captioning-advanced-container");
d=this.create("captioning-row",this.advancedSettingContainer);this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_FONT));this.list.font=this.create("captioning-dropdown",d,"select");this.create(null,this.list.font,"option","Arial").value="Arial,sans-serif";this.create(null,this.list.font,"option","Times New Roman");this.create(null,this.list.font,"option","Courier");this.create(null,this.list.font,"option","Georgia");this.create(null,this.list.font,"option","Helvetica");
this.create(null,this.list.font,"option","Verdana");this.create(null,this.list.font,"option","Impact");this.create(null,this.list.font,"option","Comic Sans Serif");this.create(null,this.list.font,"option","Times New Roman");m.create(this.list.font,"change",function(a){a.stopImmediatePropagation();g.captioningObject.selected.fontFamily=a.target.value;g.applyCaptioningStyle(!1);return!1});d.appendChild(this.list.font);this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_EDGE));
this.list.edge=this.create("captioning-dropdown",d,"select");this.create(null,this.list.edge,"option","none").value="none";this.create(null,this.list.edge,"option","Depressed").value="text-shadow: 0px 1px 0px";this.create(null,this.list.edge,"option","Left drop shadow").value="text-shadow: -3px 3px 2px";this.create(null,this.list.edge,"option","Raised").value="text-shadow: 0px 1px 1px";this.create(null,this.list.edge,"option","Right drop shadow").value="text-shadow: 3px 3px 2px";this.create(null,
this.list.edge,"option","Uniform").value="text-shadow: 0px 0px 4px";m.create(this.list.edge,"change",function(a){a.stopImmediatePropagation();g.captioningObject.selected.edgeType=a.target.value;g.applyCaptioningStyle(!1);return!1});d=this.create("captioning-row",this.advancedSettingContainer);this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_SIZE));this.list.size=this.create("captioning-dropdown",d,"select");this.create(null,this.list.size,"option","Small").value=
".8em";this.create(null,this.list.size,"option","Medium").value="1.3em";this.create(null,this.list.size,"option","Large").value="2.3em";this.list.size.selectedIndex=1;m.create(this.list.size,"change",function(a){a.stopImmediatePropagation();g.captioningObject.selected.size=a.target.value;g.applyCaptioningStyle(!1);return!1});this.create("captioning-label",d,"span",this.localizationManager.getString(w.MSG_CC_SCROLL));this.list.scroll=this.create("captioning-dropdown",d,"select");this.create(null,this.list.scroll,
"option","Pop out").value="popout";this.create(null,this.list.scroll,"option","Roll on").value="rollon";this.create(null,this.list.scroll,"option","Paint on").value="painton";m.create(this.list.scroll,"change",function(a){a.stopImmediatePropagation();g.scroll.type=a.target.value;"painton"===a.target.value?g.captionText.classList.add("akamai-captioning-typed"):g.captionText.classList.remove("akamai-captioning-typed");return!1});d=this.create("captioning-row",this.advancedSettingContainer);this.create("captioning-label-small",
d,"span",this.localizationManager.getString(w.MSG_CC_COLOR));this.picker.color=this.create("captioning-color-picker",d);this.picker.color.style.backgroundColor=this.captioningObject["default"].fontColor;m.create(this.picker.color,m.CLICK,function(a){var c;a.stopImmediatePropagation();g.colorPicker.style.display="block"===g.colorPicker.style.display?"none":"block";"block"===g.colorPicker.style.display&&(null!=(a=g.swatchColorCurr)&&(a.style.borderColor="rgba(0,0,0,0.3)"),g.colorPicker.style.left="152px",
g.colorPicker.name="fontColor",g.captioningObject.instance=g.picker.color,-1!==g.picker.color.style.backgroundColor.indexOf("rgba")&&(c=g.picker.color.style.backgroundColor.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[3]),g.colorPickerOpacity.value=null!=c?c:1);return!1});this.create("captioning-label-small",d,"span",this.localizationManager.getString(w.MSG_CC_BACKGROUND));this.picker.background=this.create("captioning-color-picker",d);this.picker.background.style.backgroundColor=this.captioningObject["default"].backgroundColor;
m.create(this.picker.background,m.CLICK,function(a){var c;a.stopImmediatePropagation();g.colorPicker.style.display="block"===g.colorPicker.style.display?"none":"block";"block"===g.colorPicker.style.display&&(null!=(a=g.swatchColorCurr)&&(a.style.borderColor="rgba(0,0,0,0.3)"),g.colorPicker.style.left="264px",g.colorPicker.name="backgroundColor",g.captioningObject.instance=g.picker.background,-1!==g.picker.background.style.backgroundColor.indexOf("rgba")&&(c=g.picker.background.style.backgroundColor.replace(/^rgba?\(|\s+|\)$/g,
"").split(",")[3]),g.colorPickerOpacity.value=null!=c?c:1);return!1});this.create("captioning-label-small",d,"span",this.localizationManager.getString(w.MSG_CC_EDGE));this.picker.edge=this.create("captioning-color-picker",d);this.picker.edge.style.backgroundColor=this.captioningObject["default"].edgeColor;m.create(this.picker.edge,m.CLICK,function(a){var c;a.stopImmediatePropagation();g.colorPicker.style.display="block"===g.colorPicker.style.display?"none":"block";"block"===g.colorPicker.style.display&&
(null!=(a=g.swatchColorCurr)&&(a.style.borderColor="rgba(0,0,0,0.3)"),g.colorPicker.style.left="212px",g.colorPicker.name="edgeColor",g.captioningObject.instance=g.picker.edge,-1!==g.picker.edge.style.backgroundColor.indexOf("rgba")&&(c=g.picker.edge.style.backgroundColor.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[3]),g.colorPickerOpacity.value=null!=c?c:1);return!1});this.create("captioning-label-small",d,"span",this.localizationManager.getString(w.MSG_CC_WINDOW));this.picker.window=this.create("captioning-color-picker",
d);this.picker.window.style.backgroundColor=this.captioningObject["default"].windowColor;m.create(this.picker.window,m.CLICK,function(a){var c;a.stopImmediatePropagation();g.colorPicker.style.display="block"===g.colorPicker.style.display?"none":"block";"block"===g.colorPicker.style.display&&(null!=(a=g.swatchColorCurr)&&(a.style.borderColor="rgba(0,0,0,0.3)"),g.colorPicker.style.left="300px",g.colorPicker.name="windowColor",g.captioningObject.instance=g.picker.window,-1!==g.picker.window.style.backgroundColor.indexOf("rgba")&&
(c=g.picker.window.style.backgroundColor.replace(/^rgba?\(|\s+|\)$/g,"").split(",")[3]),g.colorPickerOpacity.value=null!=c?c:1);return!1});d=this.create(["caption-text","caption-text-preview"]);this.create(null,d,"p","Lorem ipsum dolor sit amet");d=this.create("captioning-footer-container");a=this.create("captioning-footer-button",d,"div",this.localizationManager.getString(w.MSG_CC_APPLY));c=this.create("captioning-footer-button",d,"div",this.localizationManager.getString(w.MSG_CC_CANCEL));e=this.create("captioning-footer-button",
d,"div",this.localizationManager.getString(w.MSG_CC_RESET));0<=this.facade.getViewComponent().clientWidth&&(d=this.create("captioning-advanced-button",d,"div",this.localizationManager.getString(w.MSG_CC_SHOW_ADVANCED)),m.create(d,m.CLICK,function(a){a.stopImmediatePropagation();"block"===g.advancedSettingContainer.style.display?(a.target.innerHTML=g.localizationManager.getString(w.MSG_CC_SHOW_ADVANCED),g.advancedSettingContainer.style.display="none",g.colorPicker.style.display="none"):(a.target.innerHTML=
g.localizationManager.getString(w.MSG_CC_HIDE_ADVANCED),g.advancedSettingContainer.style.display="block");return!1}));m.create(a,m.CLICK,function(a){a.stopImmediatePropagation();try{localStorage.setItem(Qc.PREFIX+"captioningDefault",JSON.stringify(g.captioningObject.selected))}catch(c){g.facade.logger.error("LocalStorage Not Supported on this Browser",c)}g.sendNotification(C.SETTINGS_VISIBILITY_CHANGE,g.settingsUiVisible);g.applyCaptioningStyle(!1,!0);g.sendNotification(C.SETTINGS_CHANGE,g.captioningObject.selected);
return!1});m.create(c,m.CLICK,function(a){a.stopImmediatePropagation();g.sendNotification(C.SETTINGS_VISIBILITY_CHANGE,g.settingsUiVisible);return!1});m.create(e,m.CLICK,function(a){a.stopImmediatePropagation();g.colorPicker.style.display="none";g.applyCaptioningStyle(!0);return!1});this.captionningStyle=this.create(null,document.getElementsByTagName("head")[0],"style");this.captionningStyle.type="text/css";d="#000000 #660000 #990000 #ff0000 #000066 #660066 #990066 #ff0066 #006600 #666600 #996600 #ff6600 #006666 #666666 #996666 #ff6666 #009900 #669966 #999900 #ff9900 #009966 #669966 #999966 #ff9966 #00ff00 #66ff00 #99ff00 #ffff00 #00ff66 #66ff66 #99ff66 #ffff66 #000099 #660099 #990099 #ff0099 #0000ff #6600ff #9900ff #ff00ff #006699 #666699 #996699 #ff6699 #0066ff #6666ff #9966ff #ff66ff #009999 #669999 #999999 #ff9999 #0099ff #6699ff #9999ff #ff99ff #0099ff #66ff99 #99ff99 #ffff99 #00ffff #66ffff #99ffff #ffffff".split(" ");
this.colorPicker=this.create("colorpicker-palette",this.viewComponent.parentElement);a=this.create("colorpicker-swatch",!1,null,"\x26nbsp;");c=0;for(e=d.length;c<e;c++)f=d[c],a.style.backgroundColor=f,f=a.cloneNode(),m.create(f,m.CLICK,function(a){a.stopImmediatePropagation();null!==g.swatchColorCurr&&(g.swatchColorCurr.style.borderColor="rgba(0,0,0,0.3)");g.swatchColorCurr=a.target;g.swatchColorCurr.style.borderColor="rgba(255, 50, 50, 1)";g.captioningObject.instance.style.backgroundColor=g.captioningObject.selected[g.colorPicker.name]=
g.toRGBA(a.target.style.backgroundColor);g.applyCaptioningStyle(!1);return!1}),this.colorPicker.appendChild(f);this.create("opacity-label",this.colorPicker,"span",this.localizationManager.getString(w.MSG_CC_OPACITY));this.colorPickerOpacity=this.create("colorpicker-slider",this.colorPicker,"input");this.colorPickerOpacity.type="range";this.colorPickerOpacity.min=0;this.colorPickerOpacity.max=1;this.colorPickerOpacity.step=0.1;this.colorPickerOpacity.value=1;m.create(this.colorPickerOpacity,"change",
function(a){a.stopImmediatePropagation();g.captioningObject.instance.style.backgroundColor=g.captioningObject.selected[g.colorPicker.name]=g.toRGBA(g.captioningObject.instance.style.backgroundColor);g.applyCaptioningStyle(!1);return!1});this.swatchOpacityCurr=this.colorPickerOpacity;m.create(document,m.CLICK,function(a){a.stopImmediatePropagation();"akamai-colorpicker-palette"!==a.target.className&&"akamai-opacity-label"!==a.target.className&&"akamai-colorpicker-slider"!==a.target.className&&"none"!==
g.colorPicker.style.display&&(g.colorPicker.style.display="none");return!1});null!=localStorage.getItem(Qc.PREFIX+"captioningDefault")?(this.captioningObject.selected=JSON.parse(localStorage.getItem(Qc.PREFIX+"captioningDefault")),this.applyCaptioningStyle(!1)):(d=!(null!=this.facade.config.style||"undefined"!==this.facade.config.style),d||(this.captioningObject.selected=this.cloneObject(this.facade.config.style)),this.applyCaptioningStyle(d));aa.__super__.onRegister.call(this)};aa.prototype.toRGBA=
function(a){a=a.replace(/^rgba?\(|\s+|\)$/g,"").split(",");return"rgba("+a[0]+","+a[1]+","+a[2]+","+this.swatchOpacityCurr.value+")"};aa.prototype.languageListPopulate=function(){var a,c,d,f,e,g;d=this.facade.getTracks();if(null!=d){this.list.language.innerHTML="";f=0;for(e=d.length;f<e;f++)c=d[f],a=c.language,a=this.facade.player.retrieveProxy(ma.NAME).getLanguageString(a),null!=a&&""!==a&&(this.create(null,this.list.language,"option",a).value=c.language);this.toggle.disabled=0===this.list.language.childElementCount;
this.toggle.disabled&&this.create(null,this.list.language,"option","None");this.list.language.value=null!=(g=this.facade.getTrack())?g.language:void 0}};aa.prototype.cloneObject=function(a){var c,d;c={};for(d in a)c[d]=a[d];return c};aa.prototype.applyCaptioningStyle=function(a,c){var d,f,e,g,h,k;null==a&&(a=!1);null==c&&(c=!1);a?(this.captioningObject.selected=this.cloneObject(this.captioningObject["default"]),this.list.font.value=this.captioningObject["default"].fontFamily,this.list.edge.value=
null!=this.captioningObject["default"].edgeType?this.captioningObject["default"].edgeType:"none",this.list.size.value=this.captioningObject["default"].size,this.list.scroll.value=this.captioningObject["default"].scroll,this.picker.color.style.backgroundColor=this.captioningObject["default"].fontColor,this.picker.background.style.backgroundColor=this.captioningObject["default"].backgroundColor,this.picker.edge.style.backgroundColor=this.captioningObject["default"].edgeColor,this.picker.window.style.backgroundColor=
this.captioningObject["default"].windowColor):(null!=this.captioningObject.selected.fontFamily&&(this.list.font.value=this.captioningObject.selected.fontFamily),this.list.edge.value=null!=this.captioningObject.selected.edgeType?this.captioningObject.selected.edgeType:"none",null!=this.captioningObject.selected.size&&(this.list.size.value=this.captioningObject.selected.size),this.picker.color.style.backgroundColor=this.captioningObject.selected.fontColor,null!=this.captioningObject.selected.backgroundColor&&
(this.picker.background.style.backgroundColor=this.captioningObject.selected.backgroundColor),null!=this.captioningObject.selected.edgeColor&&(this.picker.edge.style.backgroundColor=this.captioningObject.selected.edgeColor),null!=this.captioningObject.selected.windowColor&&(this.picker.window.style.backgroundColor=this.captioningObject.selected.windowColor));g="font-family: "+(a?this.captioningObject["default"].fontFamily:this.list.font.value)+" !important;";e=(a?this.captioningObject["default"].edgeType+
this.captioningObject["default"].edgeColor:this.list.edge.value+" "+this.picker.edge.style.backgroundColor)+" !important;";h="font-size: "+(a?this.captioningObject["default"].size:this.list.size.value)+" !important;";f="color: "+(a?this.captioningObject["default"].fontColor:this.picker.color.style.backgroundColor)+" !important;";d="background-color: "+(a?this.captioningObject["default"].backgroundColor:this.picker.background.style.backgroundColor)+" !important;";k="background-color: "+(a?this.captioningObject["default"].windowColor:
this.picker.window.style.backgroundColor)+" !important;";this.captionningStyle.innerHTML=c?this.captioningObject.appliedStyleText=".akamai-caption-text { "+g+h+e+k+" }.akamai-caption-text p { "+f+d+" }":this.captioningObject.appliedStyleText+".akamai-caption-text-preview { "+g+h+e+k+" }.akamai-caption-text-preview p { "+f+d+" }"};aa.prototype.toggleButtonHandler=function(a,c){null==a&&(a=!1);null==c&&(c=!0);a?(this.classList.add("captioning-floater-btnselected",this.toggle.ON),this.classList.remove("captioning-floater-btnselected",
this.toggle.OFF)):(this.classList.add("captioning-floater-btnselected",this.toggle.OFF),this.classList.remove("captioning-floater-btnselected",this.toggle.ON));c&&this.sendNotification(C.VISIBILITY_CHANGE,a);this.sendNotification("updatesettings",{captioning:{hidden:!a}})};aa.prototype.getCaptionDisplayHeight=function(){var a,c,d;a=0;for(c=d=this.captionText.childNodes.length;c;){--c;if(3===d&&0===c)break;a+=h.getActualSize(this.captionText.childNodes[c]).height}return a+"px"};aa.prototype.scrollCaptions=
function(a,c,d){var f,e,g;null==a&&(a=this.captionText.scrollHeight);null==c&&(c=this.captionText.scrollTop);null==d&&(d=20);g=(a-c)/d;f=this.captionText;e=function(){var d;if(c<a)return f.scrollTop=c+=g,setTimeout(e,20);for(d=[];2<f.childNodes.length;)d.push(f.removeChild(f.firstChild));return d};e()};aa.prototype.listNotificationInterests=function(){return[C.CUE_CHANGE,C.SETTINGS_VISIBILITY_CHANGE,C.TOGGLE_SETTINGS_VISIBILITY,C.SETTINGS_CHANGE,C.TRACK_SELECTED,C.VISIBILITY_CHANGE]};aa.prototype.handleNotification=
function(a){var c,d,f,g;f=a.getName();c=a.getBody();switch(f){case C.CUE_CHANGE:a="";d=0;for(g=c.length;d<g;d++)f=c[d],a+=f.html;switch(this.scroll.type){case "popout":this.captionText.innerHTML=a;break;case "rollon":case "painton":c=document.createElement("div");c.innerHTML=a;f=c.childNodes;d=c=0;for(a=f.length;c<a;d=++c)d=f[d],this.captionText.appendChild(d);this.captionText.style.maxHeight=this.getCaptionDisplayHeight();this.scrollCaptions()}break;case C.SETTINGS_VISIBILITY_CHANGE:case C.TOGGLE_SETTINGS_VISIBILITY:this.settingsUiVisible&&
(this.colorPicker.style.display="none");(this.settingsUiVisible=!this.settingsUiVisible)&&1===this.list.language.length&&this.languageListPopulate();c=this.settingsUiVisible?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE;this.sendNotification(c,"cc-setting-active");break;case C.SETTINGS_CHANGE:this.captioningObject.selected=c;this.applyCaptioningStyle(!1,!0);break;case C.TRACK_SELECTED:this.list.language.value=a.body.language;break;case C.VISIBILITY_CHANGE:this.toggleButtonHandler(c,!1)}};var lc=
function(a){lc.__super__.constructor.call(this,lc.NAME,a)};g(lc,Tc);lc.NAME="CaptioningNativeMediator";lc.prototype.video=null;lc.prototype.index=-1;lc.prototype.plugin=null;lc.prototype.onRegister=function(){this.video=this.facade.player.mediaElement;this.plugin=this.facade.retrieveProxy(sa.NAME)};lc.prototype.listNotificationInterests=function(){return[C.VISIBILITY_CHANGE,C.TRACK_SELECTED,C.TRACKS_LOADED]};lc.prototype.handleNotification=function(a){var c,d,f,e,g,h,k,m;c=a.getBody();switch(a.getName()){case C.TRACKS_LOADED:e=
0;for(h=c.length;e<h;e++)if(d=c[e],"captions"===d.kind||"subtitles"===d.kind)for(a=this.video.addTextTrack(d.kind,d.label,d.srclang),m=d.cues,g=0,k=m.length;g<k;g++)d=m[g],f=new TextTrackCue(d.startTime,d.endTime,d.text),d.id=d.id,a.addCue(f);break;case C.TRACK_SELECTED:-1<this.index&&(this.video.textTracks[this.index].mode="hidden");this.index=this.plugin.getTracks().indexOf(c);this.plugin.getHidden()||(this.video.textTracks[this.index].mode="showing");break;case C.VISIBILITY_CHANGE:this.video.textTracks[this.index].mode=
this.plugin.getHidden()?"hidden":"showing"}};var rb=function(){rb.__super__.constructor.call(this)};g(rb,ha);rb.prototype.initializeNotifier=function(a){rb.__super__.initializeNotifier.call(this,a);this.plugin=this.facade.retrieveProxy(x.NAME);this.media=this.facade.player.retrieveProxy(s.NAME)};rb.prototype.onRegister=function(){rb.__super__.onRegister.call(this);this.facade.viewComponent=this.viewComponent};var mc=function(a){mc.__super__.constructor.call(this,a)};g(mc,rb);mc.prototype.componentName=
"captioning";mc.prototype.captionButton=null;mc.prototype.onRegister=function(){var a;a=new ib(this.localizationManager.getString(w.MSG_CC),this.viewComponent,null,"caption",this.onclick.bind(this));this.facade.registerMediator(a);this.captionButton=a.getViewComponent();this.sendNotification(e.ADD_CONTROL,this.captionButton);mc.__super__.onRegister.call(this)};mc.prototype.onclick=function(a){var c;a.stopImmediatePropagation();"embedded"===(null!=(c=this.plugin.getTrack())?c.type:void 0)?this.sendNotification(C.VISIBILITY_CHANGE,
this.plugin.getHidden()):a.currentTarget===this.captionButton&&this.sendNotification(C.SETTINGS_VISIBILITY_CHANGE,this.plugin.getHidden());return!1};mc.prototype.listNotificationInterests=function(){return[C.VISIBILITY_CHANGE,C.ENABLED,C.TRACK_SELECTED]};mc.prototype.handleNotification=function(a){var c,d,f;d=(c=a.getBody())?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE;switch(a.getName()){case C.TRACK_SELECTED:f="cc-embedded";d="embedded"===c.type?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE;
break;case C.VISIBILITY_CHANGE:f="cc-active";break;case C.ENABLED:d=c?e.ADD_CONTROL_STATE:e.REMOVE_CONTROL_STATE,f="cc-enabled"}this.sendNotification(d,f)};var Kc=function(){Kc.__super__.constructor.call(this)};g(Kc,V);Kc.prototype.moduleName="omniture";Kc.prototype.createController=function(){this.registerCommand(e.CHANGE_MEDIA,Vf);this.registerCommand(e.ENDED,Ce);this.registerCommand(e.STARTED,Wf);this.registerCommand(e.PLAY,Xf);this.registerCommand(e.PAUSE,Yf);this.registerCommand(e.SEEKING,Zf);
this.registerCommand(e.SEEKED,$f);this.registerCommand(e.CHANGE_CONTENT,Ce);this.registerCommand(e.CONTENT_CHANGED,ag);this.registerCommand(k.AD_LOADED,bg);this.registerCommand(k.AD_STARTED,cg);this.registerCommand(k.AD_PLAY,dg);this.registerCommand(k.AD_PAUSE,eg);this.registerCommand(k.AD_TIME_UPDATE,gg);this.registerCommand(k.BREAK_END,fg)};Kc.prototype.createModel=function(){var a;!0===(null!=(a=this.config.heartbeat)?a.enabled:void 0)?this.registerProxy(new wa(this.config)):this.registerProxy(new U(this.config))};
Kc.prototype.listNotificationInterests=function(){return[e.CHANGE_MEDIA,e.CHANGE_CONTENT,e.CONTENT_CHANGED,e.TIME_UPDATE,e.ENDED,e.STARTED,e.PLAY,e.PAUSE,e.SEEKING,e.SEEKED,k.AD_LOADED,k.AD_STARTED,k.AD_PLAY,k.AD_PAUSE,k.AD_TIME_REMAINING,k.BREAK_START,k.BREAK_END]};q.registerPlugin("omniture","html",Kc);q.registerPlugin("omniture","flash",jc);var Ed=function(a,c){null==c&&(c={});Ed.__super__.constructor.call(this,a,c)};g(Ed,G);Ed.NAME="InfoWrapper";Ed.prototype.listNotificationInterests=function(){return["createFlashVars",
"createXML","mediaPlayerShare","mediaPlayerShareRequest"]};Ed.prototype.handleNotification=function(a){var c,d,f,e,g,h,k,m;e=a.getName();a=a.getBody();switch(e){case "createXML":e=a.xml;g=e.getElementsByTagName("view")[0];d=e.getElementsByTagName("element");k=0;for(m=d.length;k<m;k++)if(c=d[k],"infoOverlayAdvanced"===c.getAttribute("id")){f=c;break}if(null==g)return;null==f&&(f=e.createElement("element"),f.setAttribute("id","infoOverlayAdvanced"),f.setAttribute("displayStates","preplay,paused,ns,fs,mouseover"),
g.insertBefore(f,g.childNodes[0]));c=e.createElement("data");f.appendChild(c);null!=this.config.title&&(f=e.createElement("property"),f.setAttribute("key","title"),g=R.createTextContent(e,this.config.title),f.appendChild(g),c.appendChild(f));null!=this.config.description&&(f=e.createElement("property"),f.setAttribute("key","description"),g=R.createTextContent(e,this.config.description),f.appendChild(g),c.appendChild(f));null!=this.config.more&&(f=e.createElement("property"),f.setAttribute("key","more"),
g=R.createTextContent(e,this.config.more),f.appendChild(g),c.appendChild(f));null!=this.config.less&&(f=e.createElement("property"),f.setAttribute("key","less"),g=R.createTextContent(e,this.config.less),f.appendChild(g),c.appendChild(f));null!=this.config.provider&&(d=e.createElement("property"),d.setAttribute("key","provider"),c.appendChild(d),null!=this.config.provider.name&&(f=e.createElement("property"),f.setAttribute("key","name"),g=R.createTextContent(e,this.config.provider.name),f.appendChild(g),
d.appendChild(f)),null!=this.config.provider.image&&(f=e.createElement("property"),f.setAttribute("key","image"),g=R.createTextContent(e,this.config.provider.image),f.appendChild(g),d.appendChild(f)));break;case "mediaPlayerShare":case "mediaPlayerShareRequest":h="share"}if(null!=h)return this.dispatchEvent(new Z(h,a))};q.registerPlugin("info","flash",Ed);var Ya=function(){Ya.__super__.constructor.call(this)};g(Ya,rb);Ya.prototype.componentName="info";Ya.prototype.title=null;Ya.prototype.shortDescription=
null;Ya.prototype.icon=null;Ya.prototype.provider=null;Ya.prototype.onRegister=function(){this.title=this.create("info-title");this.provider=this.create("info-provider");this.shortDescription=this.create("info-short-description");this.icon=this.create("info-icon",this,"img");this.dataChangedHandler();Ya.__super__.onRegister.call(this)};Ya.prototype.listNotificationInterests=function(){return[e.MEDIA_CHANGE]};Ya.prototype.handleNotification=function(a){var c;c=a.getName();a.getBody();switch(c){case e.MEDIA_CHANGE:this.dataChangedHandler()}};
Ya.prototype.moreClicked=function(a){return this.classList.add("open")};Ya.prototype.closeClicked=function(a){return this.classList.remove("open")};Ya.prototype.dataChangedHandler=function(){var a;null!=this.plugin.value.title&&(this.title.textContent=this.plugin.value.title);null!=(null!=(a=this.plugin.value.provider)?a.image:void 0)&&(this.icon.src=this.plugin.value.provider.image);a=getComputedStyle(this.title);this.title.clientHeight>parseInt(a.lineHeight)?(this.classList.add("info-small"),this.shortDescription.innerHTML=
this.provider.innerHTML=""):(this.classList.remove("info-small"),this.truncateDescription(this.plugin.value.description,this.plugin.value.more),this.provider.textContent=null!=this.plugin.value.provider.name?""+this.plugin.value.provider.name:"")};Ya.prototype.truncateDescription=function(a){var c,d,f,e,g;d="";f=this.shortDescription;f.textContent="";if(null!=a)for(c=e=0,g=a.length;e<g;c=++e)if(c=a[c],f.textContent=d+c+"...",f.scrollHeight>f.clientHeight){f.textContent=d+"...";break}else d+=c};var Fd=
function(a){Fd.__super__.constructor.call(this,a)};g(Fd,na);Fd.prototype.configurationName="info";Fd.NAME=x.NAME;Fd.prototype.defaults={title:"#{media.title}",description:"#{media.description}",provider:{},more:"read more",less:"less"};var Aa=function(){Aa.__super__.constructor.call(this)};g(Aa,jb);Aa.prototype.featureName="captioning";Aa.prototype.moduleName="captioning";Aa.prototype.createController=function(){this.registerCommand(e.CHANGE_MEDIA,ig);this.registerCommand(e.STARTED,jg);this.registerCommand(e.TIME_UPDATE,
hg);this.registerCommand(C.VISIBILITY_CHANGE,De);this.registerCommand(C.ENABLED,y);this.registerCommand(C.TRACK_SELECTED,y);this.registerCommand(C.TRACKS_LOADED,y);this.registerCommand(C.CUE_CHANGE,y)};Aa.prototype.createModel=function(){this.proxy=new sa(this.config);this.registerProxy(this.proxy)};Aa.prototype.createView=function(){var a;a=new mc;this.registerMediator(a);this.registerMediator(new aa(a.viewComponent))};Aa.prototype.createAPI=function(){return new CaptioningAPI(this)};Aa.prototype.listNotificationInterests=
function(){return[e.CHANGE_MEDIA,e.STARTED,e.TIME_UPDATE,C.TOGGLE_SETTINGS_VISIBILITY]};Aa.prototype.listNotificationPublications=function(){var a,c;return Aa.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in C)c=C[a],c!==C.TOGGLE_SETTINGS_VISIBILITY&&d.push(c);return d}()).concat([e.ADD_CONTROL,e.REMOVE_CONTROL,"updatesettings",e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE])};Aa.prototype.getHidden=function(){return this.proxy.getHidden()};Aa.prototype.setHidden=
function(a){this.sendNotification(C.VISIBILITY_CHANGE,!a);return a};Aa.prototype.getTracks=function(){return this.proxy.getTracks()};Aa.prototype.getTrack=function(){return this.proxy.getTrack()};Aa.prototype.setTrack=function(a){this.proxy.setTrack(a);return a};Aa.prototype.selectTrackByIndex=function(a){return this.proxy.selectTrackByIndex(a)};Aa.prototype.selectTrackByLanguage=function(a){return this.proxy.selectTrackByLanguage(a)};Aa.prototype.changeSettings=function(a){this.sendNotification(C.SETTINGS_CHANGE,
a);return a};q.registerPlugin("captioning","html",Aa);var Gd=function(){return Gd.__super__.constructor.apply(this,arguments)};g(Gd,ea);Gd.NAME="IMAWrapper";Gd.prototype.flashPluginIds=["GoogleIMAPlugin","IMAOverlayAdPlugin"];Gd.prototype.createXML=function(a){var c,d,f,e,g,h,k,m,n;d=a.firstChild;c=a.getElementsByTagName("admedia")[0];null==c&&(c=a.createElement("admedia"),d.appendChild(c));d=a.createElement("vendor");d.setAttribute("id","dfp");c.appendChild(d);e=[{value:this.config.adTagUrl,key:"DFP_AD_TAG_URL"},
{value:this.config.maxBitrate,key:"DFP_MAX_BITRATE"},{value:this.config.sceneMarkers,key:"displaySceneMarkers"},{value:this.config.ppid,key:"DFP_PPID"}];g=0;for(k=e.length;g<k;g++)f=e[g],null!=f.value&&this.createProperty(a,f.key,f.value,d);null!=this.config.position&&d.setAttribute("position",this.config.position);null!=this.config.params&&(null!=this.config.params.adTag&&this.createProperty(a,"DFP_AD_TAG_PARAMS",this.config.params.adTag,d),null!=this.config.params.manual&&this.createProperty(a,
"DFP_MANUAL_PARAMS",this.config.params.manual,d));if(null!=this.config.companions){e=[];g=[];n=this.config.companions;k=0;for(m=n.length;k<m;k++)f=n[k],e.push(f.width+"x"+f.height),g.push(f.id);this.createProperty(a,"DFP_SIZE",e.join(","),d);this.createProperty(a,"COMPANION_ID",g.join(","),d)}null!=this.config.disableCompanionAds&&this.createProperty(a,"disableCompanionAds",this.config.disableCompanionAds,d);if(null!=this.config.overlay)for(!0===this.config.overlay.enabled&&(h=a.createElement("overlay"),
c.appendChild(h)),e=[{value:"dfp",key:"OVERLAY_AD_PARTNER"},{value:this.config.overlay.adTagUrl,key:"OVERLAY_AD_BASE_URL"},{value:this.config.overlay.delay,key:"OVERLAY_AD_DELAY"},{value:this.config.overlay.interval,key:"OVERLAY_AD_INTERVAL"},{value:this.config.overlay.duration,key:"OVERLAY_AD_DURATION"},{value:""+this.config.overlay.width+"x"+this.config.overlay.height,key:"OVERLAY_AD_SIZE"}],c=0,d=e.length;c<d;c++)f=e[c],null!=f.value&&this.createProperty(a,f.key,f.value,h);return a};var Hb=function(a){Hb.__super__.constructor.call(this,
a)};g(Hb,t);Hb.NAME=t.NAME;Hb.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container,this.facade.player.getMediaElement(),this.facade.getViewComponent().container)};Hb.prototype.engage=function(a){Hb.__super__.engage.call(this,a);this.sendNotification(e.DISABLE_VIDEO_EVENTS,["paused","ended","durationchange","error"])};Hb.prototype.reset=function(a){Hb.__super__.reset.call(this,a);this.sendNotification(e.ENABLE_VIDEO_EVENTS,["paused","ended",
"durationchange","error"])};Hb.prototype.breakStart=function(){this.playbackCore=this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore();this.playbackCore.setEnabled(!1)};Hb.prototype.breakEnd=function(){Hb.__super__.breakEnd.call(this);this.playbackCore.setEnabled(!0)};var kg=function(){kg.__super__.constructor.call(this)};g(kg,puremvc.SimpleCommand);kg.prototype.execute=function(a){this.facade.sendNotification(e.ADD_APPLICATION_STATE,"ad-overlay-mode")};var lg=function(){lg.__super__.constructor.call(this)};
g(lg,puremvc.SimpleCommand);lg.prototype.execute=function(a){this.facade.retrieveProxy(Ma.NAME).stop();this.facade.player.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-overlay-mode")};var lb=function(){lb.__super__.constructor.call(this)};g(lb,ha);lb.prototype.componentName="ad-overlay";lb.prototype.anchor=null;lb.prototype.image=null;lb.prototype.tracker=null;lb.prototype.tracker2=null;lb.prototype.closeButton=null;lb.prototype.closeText=null;lb.prototype.onRegister=function(){var a=this;this.anchor=
this.create("ad-overlay-anchor");this.anchor.target="_blank";this.image=this.create("ad-overlay-img",this.anchor,"img");this.tracker=this.create();this.tracker.width=0;this.tracker.height=0;this.tracker2=this.create(null,this,"img");this.tracker2.width=0;this.tracker2.height=0;this.closeButton=this.create("ad-close-button",this.anchor);this.closeButton.onclick=function(c){c.stopImmediatePropagation();a.sendNotification("ima/removeOverlay");return!1};this.closeText=this.createText("ad-close-text",
"x",this.closeButton);lb.__super__.onRegister.call(this)};lb.prototype.listNotificationInterests=function(){return["ima/addOverlay","ima/removeOverlay"]};lb.prototype.handleNotification=function(a){switch(a.getName()){case "ima/addOverlay":a=a.getBody(),this.image.src=a.src,this.anchor.href=a.href,this.tracker.src=a.tracking[0],this.tracker2.src=a.tracking[1]}};var mg=function(){mg.__super__.constructor.call(this)};g(mg,puremvc.SimpleCommand);mg.prototype.execute=function(a){this.facade.retrieveProxy(t.NAME).ready()};
var ng=function(){ng.__super__.constructor.call(this)};g(ng,puremvc.SimpleCommand);ng.prototype.execute=function(a){this.facade.retrieveProxy(t.NAME).resize(a.getBody())};var Mc=function(){Mc.__super__.constructor.call(this)};g(Mc,V);Mc.prototype.moduleName="info";Mc.prototype.createModel=function(){this.registerProxy(new Fd(this.config))};Mc.prototype.createView=function(){this.registerMediator(new Ya)};Mc.prototype.listNotificationInterests=function(){return[e.MEDIA_CHANGE]};q.registerPlugin("info",
"html",Mc);q.registerPlugin("info","external",Mc);var Ib=function(a){Ib.__super__.constructor.call(this,a)};g(Ib,x);Ib.NAME=x.NAME;Ib.prototype.defaults={url:null};Ib.prototype.hidden=!0;Ib.prototype.getURL=function(){return this.data.url};Ib.prototype.setURL=function(a){return this.data.url=a};Ib.prototype.getHidden=function(){return this.hidden};Ib.prototype.setHidden=function(a){return this.hidden=a};Ib.prototype.invoke=function(){var a,c=this;if(null!=this.data.url)return a=h.get(this.data.url,
{onload:function(){null!=a.response&&c.sendNotification("bitratesUpdate",a.response)},onerror:function(a){return c.sendNotification("bitratesUpdate",null)}})};var og=function(){og.__super__.constructor.call(this)};g(og,puremvc.SimpleCommand);og.prototype.execute=function(a){var c;c=this.facade.retrieveProxy(Ib.NAME);c.setHidden(a.getBody());c.setURL(""+this.facade.player.getSrc());!1===a.getBody()&&c.invoke()};var Za=function(){Za.__super__.constructor.call(this)};g(Za,rb);Za.prototype.componentName=
"stats";Za.prototype.statsText=null;Za.prototype.statsButton=null;Za.prototype.bitrateText=null;Za.prototype.bitrateArr=null;Za.prototype.onRegister=function(){var a=this;this.sendNotification(e.ADD_CONTROL_STATE,"stats-enabled");this.classList.add("hidden");this.statsFormat=this.create("stats-text");this.statsBitRate=this.create("stats-text");this.statsPlayBack=this.create("stats-text");this.statsAnalytics=this.create("stats-text");this.statsButton=this.create("stats-button",!1);this.statsButton.onclick=
function(c){c.stopImmediatePropagation();a.sendNotification("statsvisibilitychange",!a.plugin.getHidden());return!1};this.sendNotification(e.ADD_CONTROL,this.statsButton);Za.__super__.onRegister.call(this)};Za.prototype.listNotificationInterests=function(){return["statsvisibilitychange","bitratesUpdate"]};Za.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case "statsvisibilitychange":this.plugin.getHidden()?this.classList.add("hidden"):(this.classList.remove("hidden"),
this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e\x3cp\x3eLoading...\x3c/p\x3e",this.renderStats());break;case "bitratesUpdate":null!=a?this.checkContentType(a):this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e\x3cp\x3eNot Available\x3c/p\x3e"}};Za.prototype.renderStats=function(){var a,c,d,f,e,g,k,m;try{g=this.facade.player,
d=void 0===g.getMedia()?"Not Available":g.getMedia().type,k=""===g.getSrc()||null===g.getSrc()?"Not Available":g.getSrc(),c=h.getDevice(),null==c&&(c=""),e=""!==this.facade.player.getConfig().mode&&null!==this.facade.player.getConfig().mode&&-1!==this.facade.player.getConfig().mode.indexOf("html")?this.facade.player.getVersion()+", HTML5 Video: "+c:"Not Available",f=null!=(m=this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore())?m.proxyName.indexOf("dash"):void 0,-1<f&&(e+=", dash.js"),
a=""===this.facade.player.getConfig().mediaanalytics.config||null===this.facade.player.getConfig().mediaanalytics.config?"Not Available":this.facade.player.getConfig().mediaanalytics.config,this.statsFormat.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eStream\x3c/b\x3e\x3c/p\x3e\x3cp\x3eFormat: "+d+"\x3c/p\x3e\x3cp\x3eURL: "+k+"\x3c/p\x3e",this.statsPlayBack.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3ePlayback\x3c/b\x3e\x3c/p\x3e"+
e,this.statsAnalytics.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAnalytics\x3c/b\x3e\x3c/p\x3e"+a}catch(n){this.facade.logger.error("[AMP Stats Render Error]:",n)}};Za.prototype.checkContentType=function(a){var c,d,f,e=this;this.bitrateArr=[];if("object"===typeof a&&-1!==this.facade.player.getMedia().type.indexOf("dash"))h.get(a.URL,{onload:function(a){var c,d,f,g;a=R.parse(a.detail.responseText).querySelectorAll("AdaptationSet[mimeType*\x3d'video']")[0].querySelectorAll("Representation");
f=0;for(g=a.length;f<g;f++)d=a[f],c=(parseInt(d.getAttribute("bandwidth"))/1E3).toFixed(0),d=d.getAttribute("width")+"x"+d.getAttribute("height"),e.bitrateArr.push({bitrate:c,res:d});return e.constructBitrateText(e.bitrateArr)},onerror:function(a){return e.facade.logger.error("[AMP Stats ERROR]",a)}});else{f=a.split("#");c=0;for(d=f.length;c<d;c++)a=f[c],-1!==a.indexOf("BANDWIDTH")&&-1!==a.indexOf("RESOLUTION")&&this.bitrateArr.push(this.parseBitrate(a));this.constructBitrateText(this.bitrateArr)}};
Za.prototype.constructBitrateText=function(a){var c,d,f,e;this.bitrateArr=a;this.bitrateText="";this.bitrateArr.sort(function(a,c){var d,f;d=parseInt(a.bitrate);f=parseInt(c.bitrate);return d<f?-1:d>f?1:0});e=this.bitrateArr;a=d=0;for(f=e.length;d<f;a=++d)c=e[a],this.bitrateText+="\x3cp\x3e"+(a+1)+". "+c.bitrate+" kbps "+c.res+"\x3c/p\x3e";""===this.bitrateText&&(this.bitrateText="\x3cp\x3eNot Available\x3c/p\x3e");this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e"+
this.bitrateText};Za.prototype.parseBitrate=function(a){var c,d,f;d=a.indexOf("BANDWIDTH");c=a.indexOf(",",d+10);c=a.slice(d+10,c);f=a.indexOf("RESOLUTION");d=a.indexOf(",",f+10);if(20<d-f||-1===d)d=a.indexOf("x",f+10)+4;a=a.slice(f+11,d);return{bitrate:parseInt(c)/1E3,res:a}};var Hd=function(){Hd.__super__.constructor.call(this)};g(Hd,y);Hd.prototype.execute=function(a){Hd.__super__.execute.call(this,a);this.proxy.launchIDPLogin(a.getBody())};var mb=function(a){mb.__super__.constructor.call(this,
null,null,a)};g(mb,S);mb.prototype.componentName="ais-chooser";mb.prototype.menu=null;mb.prototype.label=null;mb.prototype.grid=null;mb.prototype.select=null;mb.prototype.login=null;mb.prototype.title=null;mb.prototype.onRegister=function(){var a=this;this.classList.add("hidden");this.title=this.createText("ais-chooser-title","Choose your provider");this.grid=this.create("ais-chooser-grid");this.menu=this.create("ais-chooser-menu");this.label=this.createText("ais-chooser-label","Providers: ",this.menu);
this.select=this.create("ais-chooser-select",this.menu,"select");this.login=this.create("ais-chooser-login",!1,"input");this.login.type="button";this.login.value="Login";m.create(this.login,m.CLICK,function(c){"function"===typeof c.stopImmediatePropagation&&c.stopImmediatePropagation();a.sendNotification(O.LAUNCH_IDP_LOGIN,a.select.options[a.select.selectedIndex].value);return!1});this.menu.appendChild(this.login);mb.__super__.onRegister.call(this)};mb.prototype.listNotificationInterests=function(){return[O.CHOOSE_AUTH_PROVIDER,
O.AUTHENTICATING]};mb.prototype.handleNotification=function(a){var c,d,f,e,g,h,k,m,n,q,r,s,t,u=this;switch(a.getName()){case O.CHOOSE_AUTH_PROVIDER:c=a.getBody();a=c.possible_idps;e=c.footprints||[];h=c.grouped_idps||[];c=this.facade.retrieveProxy(x.NAME);n=c.value.logos;c=null!=n?n.base:void 0;this.grid.innerHTML="";if(null!=h&&null!=(null!=n?n.group:void 0)){t=0;for(d=h.length;t<d;t++)if(g=h[t],g.name===n.group){f=g;break}if(null!=f)for(t=f.members,d=h=0,g=t.length;h<g;d=++h)q=t[d],f=a[q],d=this.create(["ais-chooser-grid-item",
"ais-chooser-grid-index-"+(d+1)],this.grid),null==d.dataset&&(d.dataset={}),d.dataset.key=q,d.onclick=function(a){"function"===typeof a.stopImmediatePropagation&&a.stopImmediatePropagation();u.sendNotification(O.LAUNCH_IDP_LOGIN,(null!=a.currentTarget?a.currentTarget:a.srcElement).dataset.key);return!1},null!=(null!=(r=a[q].logos)?r[n.key]:void 0)&&(k=this.create("ais-chooser-grid-cell-img",d,"img"),k.alt=f.display_name,s=f.logos[n.key],-1===s.indexOf("http")&&(s=c+s),k.src=s,null==k.dataset&&(k.dataset=
{}),k.dataset.key=q,d=this.create("ais-chooser-grid-cell-label",d,"span")),d.innerHTML=f.display_name}""!==this.grid.innerHTML&&(this.classList.add("ais-chooser-featured"),this.label.textContent="Other ");r=this.select.options;d=c=0;for(n=r.length;c<n;d=++c)this.select.options.remove(d);if(0<e.length)for(c=0,n=e.length;c<n;c++)m=e[c],r[r.length]=new Option(""+a[m].display_name,""+m);for(m in a)e=a[m],r[r.length]=new Option(""+e.display_name,""+m);this.classList.remove("hidden");break;case O.AUTHENTICATING:this.classList.add("hidden")}};
var sb=function(a){sb.__super__.constructor.call(this,null,null,a)};g(sb,S);sb.prototype.componentName="ais-play";sb.prototype.menu=null;sb.prototype.restart=null;sb.prototype.resume=null;sb.prototype.resumeTime=null;sb.prototype.onRegister=function(){var a=this;this.classList.add("hidden");this.menu=this.create("ais-play-menu");this.restart=this.create("ais-play-restart",this.menu);this.restart.type="button";this.restart.textContent="Restart";this.restart.onclick=function(c){"function"===typeof c.stopImmediatePropagation&&
c.stopImmediatePropagation();a.play();return!1};this.resume=this.create("ais-play-resume",this.menu);this.resume.type="button";this.resume.value="Resume";this.restart.onclick=function(c){"function"===typeof c.stopImmediatePropagation&&c.stopImmediatePropagation();a.play(a.resumeTime);return!1};sb.__super__.onRegister.call(this)};sb.prototype.play=function(a){this.facade.retrieveProxy(K.NAME).play(a)};sb.prototype.listNotificationInterests=function(){return[O.CHOOSE_PLAY_OPTIONS]};sb.prototype.handleNotification=
function(a){switch(a.getName()){case O.CHOOSE_PLAY_OPTIONS:this.resumeTime=a.getBody(),this.classList.remove("hidden")}};var pg=function(){pg.__super__.constructor.call(this)};g(pg,A);pg.prototype.execute=function(a){a=this.media.getData().status.reason;"ais"!==a&&"token"!==a||this.proxy.authorize()};var nc=function(a){nc.__super__.constructor.call(this,null,null,a)};g(nc,S);nc.prototype.componentName="ais-authenticating";nc.prototype.retry=null;nc.prototype.onRegister=function(){this.classList.add("hidden");
this.retry=this.create("ais-authenticating-button");this.retry.type="button";this.retry.value="Back to Providers";this.retry.onclick=this.onclick.bind(this);nc.__super__.onRegister.call(this)};nc.prototype.onclick=function(a){"function"===typeof a.stopImmediatePropagation&&a.stopImmediatePropagation();this.classList.add("hidden");this.sendNotification(O.START_AUTHENTICATION);return!1};nc.prototype.listNotificationInterests=function(){return[O.AUTHENTICATING]};nc.prototype.handleNotification=function(a){switch(a.getName()){case O.AUTHENTICATING:!0===
a.getBody()?this.classList.remove("hidden"):this.classList.add("hidden")}};var Id=function(){Id.__super__.constructor.call(this)};g(Id,y);Id.prototype.execute=function(a){this.proxy.bounce();Id.__super__.execute.call(this,a)};var Vb=function(){Vb.__super__.constructor.call(this)};g(Vb,ha);Vb.prototype.componentName="ais";Vb.prototype.chooser=null;Vb.prototype.auth=null;Vb.prototype.play=null;Vb.prototype.onRegister=function(){var a=this;this.classList.add("hidden");setTimeout(function(){a.chooser=
new mb(a);a.facade.registerMediator(a.chooser);a.auth=new nc(a);a.facade.registerMediator(a.auth);a.play=new sb(a);return a.facade.registerMediator(a.play)},20);Vb.__super__.onRegister.call(this)};Vb.prototype.listNotificationInterests=function(){return[O.START_AUTHENTICATION,O.AUTHENTICATION_COMPLETE,O.CHOOSE_PLAY_OPTIONS,e.MEDIA_CHANGE]};Vb.prototype.handleNotification=function(a){switch(a.getName()){case O.CHOOSE_PLAY_OPTIONS:case O.START_AUTHENTICATION:this.classList.remove("hidden");break;case O.AUTHENTICATION_COMPLETE:case e.MEDIA_CHANGE:this.classList.add("hidden"),
this.facade.player.sendNotification(e.REMOVE_APPLICATION_STATE,"authenticating")}};var Ba=function(){Ba.__super__.constructor.call(this)};g(Ba,jb);Ba.NAME="AISPlugin";Ba.prototype.moduleName="ais";Ba.prototype.featureName="auth";Ba.prototype.idps=null;Ba.prototype.createController=function(){Ba.__super__.createController.call(this);this.registerCommand(ca.AUTHORIZE,pg);this.registerCommand(O.LAUNCH_IDP_LOGIN,Hd);this.registerCommand(O.START_AUTHENTICATION,Id);this.registerCommand(O.AUTHENTICATED,
y);this.registerCommand(O.AUTHENTICATING,y);this.registerCommand(O.AUTHENTICATION_COMPLETE,y);this.registerCommand(O.CHOOSE_AUTH_PROVIDER,y);this.registerCommand(O.CHOOSE_PLAY_OPTIONS,y)};Ba.prototype.createModel=function(){this.proxy=new K(this.config);this.registerProxy(this.proxy)};Ba.prototype.createView=function(){this.registerMediator(new Vb)};Ba.prototype.createNotificationEvent=function(a,c,d){a=H.prototype.createNotificationEvent.call(this,a,c,d);if(null!=a)return a.type=a.type.replace(RegExp("^"+
this.getModuleName()),""),a};Ba.prototype.listNotificationInterests=function(){return Ba.__super__.listNotificationInterests.call(this).concat([e.MEDIA_CHANGE,ca.AUTHORIZE])};Ba.prototype.listNotificationPublications=function(){return Ba.__super__.listNotificationPublications.call(this).concat([ca.AUTHORIZED,ca.CHECK_AUTHORIZATION,ca.AUTHORIZATION_FAILED,ca.SET_TOKEN,ca.SET_KEY,e.INITIALIZED,e.PLAY,e.SEEK])};Ba.prototype.authorize=function(a){this.proxy.authorize(a);return a};Ba.prototype.logout=
function(){this.proxy.logout()};Ba.prototype.getIdps=function(){return this.idps};q.registerPlugin("ais","html",Ba);var zc=function(){zc.__super__.constructor.call(this)};g(zc,Ba);zc.NAME="AISFlashPlugin";zc.prototype.proxy=null;zc.prototype.startTime=null;zc.prototype.createController=function(){this.registerCommand(e.DISPATCH_EVENT,Od);this.registerCommand(O.LAUNCH_IDP_LOGIN,Hd);this.registerCommand(O.START_AUTHENTICATION,Id)};zc.prototype.setData=function(a){var c;c=this.retrieveProxy(K.NAME);
c.data.platformID=a.platformID;c.data.resourceID=a.resourceID;c.data.contentID=a.contentID};zc.prototype.authorize=function(a){this.retrieveProxy(K.NAME).authorize(a)};var tb=function(){tb.__super__.constructor.call(this)};g(tb,$);tb.prototype.moduleName="ima";tb.prototype.createFullscreenProxy=function(){return new Hb(this.config)};tb.prototype.createProxy=function(){return new t(this.config)};tb.prototype.isFullscreenDevice=function(){var a;a=navigator.userAgent;return h.isFullscreenDevice()||/Android 4\.[0-1]/.test(a)||
/CrKey/.test(a)};tb.prototype.createModel=function(){tb.__super__.createModel.call(this);null!=this.config.overlay&&this.registerProxy(new Ma(this.config.overlay))};tb.prototype.createController=function(){tb.__super__.createController.call(this);null!=this.config.overlay&&(this.registerCommand("ima/addOverlay",kg),this.registerCommand("ima/removeOverlay",lg));this.registerCommand(e.READY,mg);this.registerCommand(e.FULL_SCREEN_CHANGE,ng)};tb.prototype.createView=function(){tb.__super__.createView.call(this);
null!=this.config.overlay&&this.registerMediator(new lb)};q.registerPlugin("ima","html",tb);q.registerPlugin("ima","flash",Gd);var nb=function(a,c){var d,f;nb.__super__.constructor.call(this,a,c);this.plugin=new zc;d=this.dispatcher.dispatchEvent.bind(this.dispatcher);for(f in O)this.plugin.addEventListener(O[f],d);this.plugin.oninitialized=this.player.registerModule.bind(this.player,this.plugin);this.plugin.initialize(c,this.player)};g(nb,G);nb.NAME="AISWrapper";nb.prototype.plugin=null;nb.prototype.getFeatureName=
function(){return"auth"};nb.prototype.createXML=function(a){var c,d,f,e,g,h;c=a.firstChild;d=a.getElementsByTagName("authentication");null==d||0===d.length?(d=a.createElement("authentication"),c.appendChild(d)):d=d[0];c=a.createElement("vendor");c.setAttribute("id","ais");d.appendChild(c);e=[{value:this.config.platformID,key:"platformID"},{value:this.config.resourceID,key:"resourceID"},{value:this.config.contentID,key:"contentID"}];g=0;for(h=e.length;g<h;g++)f=e[g],null!=f.value&&(d=a.createElement("property"),
d.setAttribute("key",f.key),f=R.createTextContent(a,f.value),d.appendChild(f),c.appendChild(d));return a};nb.prototype.listNotificationInterests=function(){return nb.__super__.listNotificationInterests.apply(this,arguments).concat([ca.AUTHORIZE,"mediaPlayerPlayheadUpdate","mediaPlayerPlaybackSequenceComplete","mediaPlayerPaused","mediaPlayerCapabilityChange","mediaPlayerReset"])};nb.prototype.handleNotification=function(a){var c;nb.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();
switch(c){case ca.AUTHORIZE:this.plugin.startTime=null;this.plugin.setData(a);c=this.player.retrieveProxy(s.NAME);null==c.getSrc()&&c.setSrc(a.media.src);this.plugin.authorize();break;case "mediaPlayerPlayheadUpdate":this.plugin.sendNotification(e.TIME_UPDATE,a);break;case "mediaPlayerPlaybackSequenceComplete":this.plugin.sendNotification(e.ENDED,a);break;case "mediaPlayerPaused":this.plugin.sendNotification(e.PAUSE,a);break;case "mediaPlayerReset":this.plugin.sendNotification(e.MEDIA_CHANGE,a);break;
case "mediaPlayerCapabilityChange":null!=this.plugin.startTime&&"canSeekChange"===a.type&&a.enabled&&this.player.setCurrentTime(this.plugin.startTime)}};nb.prototype.authorize=function(a){this.plugin.authorize(a);return a};nb.prototype.logout=function(){this.plugin.logout()};nb.prototype.getIdps=function(){return this.plugin.getIdps()};q.registerPlugin("ais","flash",nb);var D=function(a){this.media={};this.adtimeupdate=this.adTimeupdate.bind(this);this.timeupdate=this.midrollCheck.bind(this);D.__super__.constructor.call(this,
a)};g(D,E);D.NAME=E.NAME;D.prototype.context=null;D.prototype.prerollSlots=null;D.prototype.midrollSlots=null;D.prototype.postrollSlots=null;D.prototype.initialized=!1;D.prototype.playWhenLoaded=!1;D.prototype.timeupdate=null;D.prototype.adtimeupdate=null;D.prototype.slot=null;D.prototype.playbackCore=null;D.prototype.nextMidroll=null;D.prototype.midrollEngaged=!1;D.prototype.defaults={networkId:"96749",serverUrl:"http://demo.v.fwmrm.net/ad/g/1",profileId:"global-js",siteSectionId:"DemoSiteGroup.01",
siteSectionFallbackId:null,videoAssetId:"#{media.guid}",videoAssetFallbackId:null,prerollSlotId:null,midrollSlotId:null,postrollSlotId:null,visitorId:null,keyValues:null,keyValuesString:null,renderers:null};D.prototype.initialize=function(){this.plugin=this.createPlugin();this.plugin.setNetwork(this.value.networkId);this.plugin.setServer(this.value.serverUrl)};D.prototype.createPlugin=function(){return new tv.freewheel.SDK.AdManager};D.prototype.engage=function(a){var c,d,f,g,l,k;D.__super__.engage.call(this,
a);this.terminateAllAds();this.context=this.plugin.newContext();this.context.registerVideoDisplayBase(this.facade.player.viewComponent.id);this.context.setProfile(this.value.profileId);this.context.setVideoAsset(this.value.videoAssetId,a.duration,this.value.networkId,null,null,null,null,this.value.videoAssetFallbackId);this.context.setSiteSection(this.value.siteSectionId,this.value.networkId,null,null,this.value.siteSectionFallbackId);null!=this.value.visitorId&&this.context.setVisitor(this.value.visitorId);
if(null!=this.value.keyValues)for(f in k=this.value.keyValues,k)l=k[f],null!=l&&this.context.addKeyValue(f,l);if(null!=this.value.keyValuesString)for(f=this.value.keyValuesString.split("\x26"),l=0,k=f.length;l<k;l++)d=f[l],""!==d&&(d=d.split("\x3d"),this.context.addKeyValue(d[0],d[1]));this.context.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.onRequestComplete.bind(this));this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.onSlotStarted.bind(this));this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,
this.onSlotEnded.bind(this));this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.onAdImpression.bind(this));this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.onAdImpressionEnd.bind(this));this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,1E4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,1E4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);
this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);null!=this.value.prerollSlotId&&this.context.addTemporalSlot(this.value.prerollSlotId,
tv.freewheel.SDK.ADUNIT_PREROLL,0);if(0<(null!=(c=a.scenes)?c.length:void 0)&&null!=this.value.midrollSlotId){c=[];k=a.scenes;d=f=0;for(l=k.length;f<l;d=++f)g=k[d],0<d&&(d=h.flattenTimecode(g.sceneStartTime),c.push(d),this.context.addTemporalSlot(this.value.midrollSlotId,tv.freewheel.SDK.ADUNIT_MIDROLL,d));this.facade.player.sendNotification(e.ADD_CUE_POINTS,c)}null!=this.value.postrollSlotId&&this.context.addTemporalSlot(this.value.postrollSlotId,tv.freewheel.SDK.ADUNIT_POSTROLL,a.duration);c=this.value.renderers;
if(0<(null!=c?c.length:void 0))for(f=0,l=c.length;f<l;f++)a=c[f],this.context.addRenderer(a.url,a.baseUnit,a.contentType,a.slotType,a.soAdUnit,a.creativeApi,a.parameters);this.initialized=!1;this.context.submitRequest();this.facade.getViewComponent().container.style.pointerEvents="none"};D.prototype.onRequestComplete=function(a){var c,d,f,g;c=[];if(a.success)for(d=this.context.getTemporalSlots(),f=0,g=d.length;f<g;f++)switch(a=d[f],a.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:null!=
this.value.prerollSlotId&&this.prerollSlots.push(a);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:null!=this.value.midrollSlotId&&(c.push(a.getTimePosition()),this.midrollSlots.push(a));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:null!=this.value.postrollSlotId&&this.postrollSlots.push(a)}0<c.length&&this.sendNotification(e.ADD_CUE_POINTS,c);this.initialized=!0;!0===this.playWhenLoaded&&this.startAd()};D.prototype.breakStart=function(){var a;this.setInProgress(!0);this.playbackCore=
this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore();this.playbackCore.setEnabled(!1);a=this.facade.player.getMediaElement();a.addEventListener("playing",this.playbackCore.handlers.playing);a.addEventListener("pause",this.playbackCore.handlers.pause);a.addEventListener("waiting",this.playbackCore.handlers.waiting)};D.prototype.onAdImpression=function(a){this.sendNotification(k.IMPRESSION,this.adVO);this.sendNotification(k.AD_STARTED,this.adVO)};D.prototype.onAdImpressionEnd=function(a){this.sendNotification(k.AD_ENDED,
this.adVO)};D.prototype.midrollCheck=function(a){a=a.currentTarget;this.playbackCore.getCurrentTime()>=this.nextMidroll.getTimePosition()&&(a.removeEventListener("timeupdate",this.timeupdate),this.startBreak(),this.engageAds(),this.midrollEngaged=!1,this.playAd(this.nextMidroll))};D.prototype.adTimeupdate=function(a){try{null!=this.slot&&(this.sendNotification(k.AD_TIME_UPDATE,this.slot.getPlayheadTime()),this.sendNotification(k.AD_TIME_REMAINING,this.slot.getTotalDuration()-this.slot.getPlayheadTime()))}catch(c){this.facade.logger.error("[AMP FREEWHEEL ERROR]",
c)}};D.prototype.onSlotStarted=function(a){this.slot=a.slot;this.facade.player.getMediaElement().addEventListener("timeupdate",this.adtimeupdate)};D.prototype.onSlotEnded=function(a){this.facade.player.getMediaElement().removeEventListener("timeupdate",this.adtimeupdate);a=a.slot.getTimePositionClass();this.slot=null;switch(a){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.length&&(this.prerollSlots.shift(),this.prerollSlots.length?this.playAd(this.prerollSlots[0]):this.endBreak());
break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:a=this.midrollSlots.indexOf(this.nextMidroll);-1<a&&this.midrollSlots.splice(a,1);this.facade.player.getMediaElement().addEventListener("canplaythrough",this.canplaythrough);this.endBreak();break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.length&&(this.postrollSlots.shift(),this.postrollSlots.length?this.playAd(this.postrollSlots[0]):this.endBreak())}};D.prototype.playAd=function(a){this.adVO=new Wa(a.getCustomId(),
a.getCustomId(),a.getTotalDuration(),a.getTimePosition(),a.getTimePositionClass().toLowerCase(),"freewheel",null,null,null,a);this.sendNotification(k.AD_LOADED,this.adVO);try{a.play()}catch(c){this.error(c)}};D.prototype.start=function(){if(!1===D.__super__.start.call(this))return!1;!0===this.canPlay()?this.startAd():this.playWhenLoaded=!0;return!0};D.prototype.canPlay=function(){return!0===this.initialized};D.prototype.startAd=function(){this.playWhenLoaded=!1;this.prerollSlots.length?this.playAd(this.prerollSlots[0]):
this.endBreak()};D.prototype.play=function(){D.__super__.play.call(this);this.facade.player.getMediaElement().play();!0===this.terminateAdOnPlay&&(this.terminateAdOnPlay=!1,this.terminateAd())};D.prototype.pause=function(){var a;D.__super__.pause.call(this);a=this.facade.player.getMediaElement();a.pause();setTimeout(function(){return a.controls=!1},0)};D.prototype.breakEnd=function(){var a,c=this;D.__super__.breakEnd.call(this);this.setInProgress(!1);null==this.playbackCore&&(this.playbackCore=this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore());
a=this.facade.player.getMediaElement();a.removeEventListener("playing",this.playbackCore.handlers.playing);a.removeEventListener("pause",this.playbackCore.handlers.pause);a.removeEventListener("waiting",this.playbackCore.handlers.waiting);this.playbackCore.setEnabled(!0);this.playbackCore.getEnded()?(this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED),this.facade.player.sendNotification(e.ENDED)):setTimeout(function(){c.facade.player.sendNotification(e.PLAY,!0);c.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);
c.engageMidrollCheck()},1)};D.prototype.contentStarted=function(){this.engageMidrollCheck()};D.prototype.contentSeek=function(a){a=this.getNextMidroll(a);null!=a&&(null==this.nextMidroll||a.getTimePosition()<this.nextMidroll.getTimePosition())&&(this.midrollEngaged?this.nextMidroll=a:this.engageMidrollCheck())};D.prototype.engageMidrollCheck=function(){var a;0!==(null!=(a=this.midrollSlots)?a.length:void 0)&&!0!==this.midrollEngaged&&(this.nextMidroll=this.getNextMidroll(this.playbackCore.getCurrentTime()),
null!=this.nextMidroll&&(this.midrollEngaged=!0,this.facade.player.getMediaElement().addEventListener("timeupdate",this.timeupdate)))};D.prototype.getNextMidroll=function(a){var c,d,f,e,g;g=this.midrollSlots;f=0;for(e=g.length;f<e;f++)if(c=g[f],a<c.getTimePosition()){d=c;break}return d};D.prototype.contentEnded=function(){var a;this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);null!=(a=this.postrollSlots)&&a.length?(this.startBreak(),this.playAd(this.postrollSlots[0])):this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)};
D.prototype.terminateAd=function(){var a;!0===this.started&&!0===this.facade.player.getMediaElement().paused?this.terminateAdOnPlay=!0:null!=this.slot&&"function"===typeof(a=this.slot).stop&&a.stop()};D.prototype.terminateAllAds=function(){this.terminateAd();this.prerollSlots=[];this.midrollSlots=[];this.postrollSlots=[]};var Jd=function(){return Jd.__super__.constructor.apply(this,arguments)};g(Jd,ea);Jd.NAME="FreeWheelWrapper";Jd.prototype.flashPluginIds=["FreewheelPlugin"];Jd.prototype.createXML=
function(a){var c,d,f,e,g,h;d=a.firstChild;c=a.getElementsByTagName("admedia")[0];null==c&&(c=a.createElement("admedia"),d.appendChild(c));d=a.createElement("vendor");d.setAttribute("id","freewheel");c.appendChild(d);e=[{value:this.config.plugin.swf,key:"FREEWHEEL_AD_MANAGER_URL"},{value:this.config.serverUrl,key:"FREEWHEEL_SERVER_URL"},{value:this.config.networkId,key:"FREEWHEEL_NETWORK_ID"},{value:this.config.profileId,key:"FREEWHEEL_PROFILE"},{value:this.config.siteSectionId,key:"FREEWHEEL_SITE_SECTION_ID"},
{value:this.config.siteSectionFallbackId,key:"FREEWHEEL_SITE_SECTION_FALLBACK_ID"},{value:this.config.prerollSlotId,key:"FREEWHEEL_PREROLL_SLOT_ID"},{value:this.config.midrollSlotId,key:"FREEWHEEL_MIDROLL_SLOT_ID"},{value:this.config.postrollSlotId,key:"FREEWHEEL_POSTROLL_SLOT_ID"},{value:this.config.videoAssetId,key:"FREEWHEEL_VIDEO_ASSET_ID"},{value:this.config.videoAssetFallbackId,key:"FREEWHEEL_VIDEO_ASSET_FALLBACK_ID"},{value:this.config.videoAssetVideoPlayRandom,key:"FREEWHEEL_VIDEO_ASSET_VIDEO_PLAY_RANDOM"},
{value:this.config.visitorId,key:"FREEWHEEL_VISITOR_ID"},{value:this.config.keyValuesString,key:"FREEWHEEL_KEY_VALUES_STRING"},{value:"30898",key:"FREEWHEEL_SITE_SECTION_PAGE_VIEW_RANDOM"},{value:"EXACT",key:"FREEWHEEL_VIDEO_ASSET_DURATION_TYPE"},{value:this.config.visitorHeader,key:"FREEWHEEL_VISITOR_HTTP_HEADER_KEY_VALUE"}];g=0;for(h=e.length;g<h;g++)c=e[g],null!=c.value&&this.createProperty(a,c.key,c.value,d);null!=this.config.position&&d.setAttribute("position",this.config.position);if(null!=
this.config.keyValues){c=a.createElement("property");c.setAttribute("key","FREEWHEEL_KEY_VALUE");g=this.config.keyValues;for(f in g)e=g[f],null!=e&&this.createProperty(a,f,e,c);d.appendChild(c)}};var Jb=function(){Jb.__super__.constructor.call(this)};g(Jb,V);Jb.prototype.moduleName="stats";Jb.prototype.createModel=function(){this.proxy=new Ib(this.config);this.registerProxy(this.proxy)};Jb.prototype.createController=function(){Jb.__super__.createController.call(this);this.registerCommand("statsvisibilitychange",
og)};Jb.prototype.createView=function(){this.registerMediator(new Za)};Jb.prototype.listNotificationPublications=function(){return Jb.__super__.listNotificationPublications.call(this).concat([e.ADD_CONTROL,e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE,"statsvisibilitychange"])};Jb.prototype.getHidden=function(){return this.proxy.getHidden()};Jb.prototype.setHidden=function(a){this.sendNotification("statsvisibilitychange",a);return a};q.registerPlugin("stats","html",Jb);var Kd=function(a){Kd.__super__.constructor.call(this,
a)};g(Kd,x);Kd.NAME=x.NAME;Kd.prototype.initSDK=function(a){"undefined"!==typeof initMoatTracking&&null!==initMoatTracking&&initMoatTracking(a.adManager,{partnerCode:this.config.data.partnerCode,viewMode:a.viewMode,slicer1:this.config.data.slicer1,slicer2:this.config.data.slicer2},a.adContainer)};var Ee=function(){return Ee.__super__.constructor.apply(this,arguments)};g(Ee,G);Ee.NAME="MOATWrapper";Ee.prototype.createXML=function(a){var c,d,e,g,h;c=a.firstChild;d=a.getElementsByTagName("metrics")[0];
null==d&&(d=a.createElement("metrics"),c.appendChild(d));c=a.createElement("vendor");c.setAttribute("id","moat");d.appendChild(c);e=[{value:this.config.data.partnerCode,key:"partnerCode"},{value:this.config.data.slicer1,key:"slicer1"},{value:this.config.data.slicer2,key:"slicer2"}];g=0;for(h=e.length;g<h;g++)d=e[g],null!=d.value&&this.createProperty(a,d.key,d.value,c);return a};var qg=function(){qg.__super__.constructor.call(this)};g(qg,puremvc.SimpleCommand);qg.prototype.execute=function(a){var c;
c=this.facade.retrieveProxy(Kd.NAME);a.getBody()&&c.initSDK(a.getBody())};var Ra=function(a){Ra.__super__.constructor.call(this,a.types);this.buffer=a.buffer};g(Ra,Bb);Ra.prototype.initialized=!0;Ra.prototype.playbackCoreName="dash";Ra.prototype.context=null;Ra.prototype.player=null;Ra.prototype.buffer=null;Ra.prototype.isDVR=!1;Ra.prototype.resumecomplete=function(){this.applyHandlers(!0);this.play()};Ra.prototype.load=function(){var a,c=this;a=this.getMediaElement();a.addEventListener("loadedmetadata",
this.resumeHandlers.loadedmetadata);this.context=new Dash.di.DashContext;this.player=new MediaPlayer(this.context);null!=this.buffer&&(MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME=this.buffer);this.player.startup();this.player.addEventListener("error",this.onError.bind(this));this.player.debug.setLogToBrowserConsole(this.facade.logger.enabled);this.player.attachView(a);this.player.setAutoPlay(!1);this.player.attachSource(this.getSrc());this.isDVR="dvr"===this.facade.retrieveProxy(s.NAME).getTemporalType();
!0===this.isDVR&&a.addEventListener("timeupdate",function(a){var f,g;try{g=c.player.time(),f=c.player.duration(),c.sendNotification(e.DISPLAY_TIME,{value:g/f,currentTime:g,duration:f})}catch(h){c.facade.logger.error(h)}})};Ra.prototype.seek=function(a){Ra.__super__.seek.call(this,!0===this.isDVR?this.player.getDVRSeekOffset(a):a)};Ra.prototype.getDuration=function(){return!0===this.isDVR?this.player.duration():Ra.__super__.getDuration.call(this)};Ra.prototype.getStats=function(){return{}};Ra.prototype.onError=
function(a){this.facade.logger.error("DASH JS Playback Error:",a)};var Zc=function(){Zc.__super__.constructor.call(this)};g(Zc,$);Zc.prototype.moduleName="freewheel";Zc.prototype.featureName="ads";Zc.prototype.createProxy=function(){return new D(this.config)};Zc.prototype.isFullscreenDevice=function(){return!1};q.registerPlugin("freewheel","html",Zc);q.registerPlugin("freewheel","flash",Jd);var rg=function(){rg.__super__.constructor.call(this)};g(rg,puremvc.SimpleCommand);rg.prototype.execute=function(a){var c,
d,f,g,h=this;f=a.getBody();this.facade.retrieveProxy(r.NAME);a=this.facade.getMediaElement();null!=a&&a.webkitSupportsFullscreen&&(d=this.facade.retrieveProxy(N.NAME),d.setDisplayState(f),c={},g=this.facade.viewComponent,null!=g.requestFullscreen?(c.enter=function(){return g.requestFullscreen()},c.exit=function(){return document.cancelFullscreen()},c.event="onfullscreenchange",c.element="fullscreenElement"):null!=g.webkitRequestFullScreen?(c.enter=function(){return g.webkitRequestFullScreen()},c.exit=
function(){return document.webkitCancelFullScreen()},c.event="onwebkitfullscreenchange",c.element="webkitFullscreenElement"):null!=g.mozRequestFullScreen?(c.enter=function(){return g.mozRequestFullscreen()},c.exit=function(){return document.mozCancelFullScreen()},c.event="onmozfullscreenchange",c.element="mozFullscreenElement"):null!=g.msRequestFullScreen&&(c.enter=function(){return g.msRequestFullscreen()},c.exit=function(){return document.msCancelFullScreen()},c.event="onmozfullscreenchange",c.element=
"mozFullscreenElement"),f===Y.FULL_SCREEN?(c.enter(),null!=c.event&&(a[c.event]=function(a){if(null==document[c.element])return h.sendNotification(e.CHANGE_DISPLAY_STATE,Y.NORMAL)})):f===Y.NORMAL&&(c.exit(),a[c.event]=null),this.facade.dispatchEvent(new Z("fullscreenchange",f===Y.FULL_SCREEN)))};var Ld=function(a){Ld.__super__.constructor.call(this,a)};g(Ld,la);Ld.NAME=x.NAME;Ld.prototype.defaults={types:["application/dash+xml"],buffer:null};Ld.prototype.initialize=function(){var a,c;window.MediaSource=
window.MediaSource||window.WebKitMediaSource;null!=window.MediaSource&&(this.sendNotification(e.INITIALIZED),a=new Ra(this.getConfigurationData()),c=this.facade.player.retrieveProxy(da.NAME),c.registerPlaybackCore(a))};var J=function(a){var c,d,e;this.shim=a;J.__super__.constructor.call(this);this.state=cast.receiver.media.PlayerState.IDLE;try{e=document.createElement("style"),e.type="text/css",e.appendChild(document.createTextNode("")),document.head.appendChild(e),d=e.sheet,c=d.insertRule(".akamai-html5.akamai-video::cue {color: #FFFFFF; background: #000000; visibility: hidden;}",
0),this.cssRule=d.rules[c]}catch(g){ba.error(g)}};g(J,qb);J.prototype.player=null;J.prototype.callbackMap=null;J.prototype.state=null;J.prototype.activeTrackId=null;J.prototype.cssRule=null;J.prototype.textTrackStyle=null;J.prototype.ccHandler=null;J.prototype.feed=null;J.prototype.media=null;J.prototype.tracks=null;J.prototype.registerPlayer=function(a){var c,d,e=this;this.player=a;c=this.dispatchEvent.bind(this);["loadedmetadata","ended","error"].forEach(function(d){return a.addEventListener(d,
c)});d=function(){e.player.removeEventListener("ready",d);e.applyMedia();e.applyFeed();e.applyClassName()};this.player.addEventListener("ready",d);this.player.addEventListener("playing",this.setState.bind(this,cast.receiver.media.PlayerState.PLAYING));this.player.addEventListener("pause",this.setState.bind(this,cast.receiver.media.PlayerState.PAUSED));this.player.addEventListener("waiting",this.setState.bind(this,cast.receiver.media.PlayerState.BUFFERING))};J.prototype.setState=function(a){if(a!==
this.state)return this.state=a,this.shim.mediaManager.broadcastStatus(!0),a};J.prototype.registerErrorCallback=function(a){this.onerror=a};J.prototype.registerEndedCallback=function(a){this.onended=a};J.prototype.registerLoadCallback=function(a){this.onloadedmetadata=a};J.prototype.unregisterErrorCallback=function(){this.onerror=null};J.prototype.unregisterEndedCallback=function(){this.onended=null};J.prototype.unregisterLoadCallback=function(){this.onloadedmetadata=null};J.prototype.load=function(a,
c,d,e){var g,h,k,m,n,q,r;h=this.shim.mediaManager.getMediaInformation();g=h.customData||{};m=h.metadata||{};null!=e?this.editTracksInfo(e):this.activeTrackId=null;if(null!=g.feed&&null!=(null!=(n=this.player)?n.feed:void 0))this.feed=g.feed,this.media=null,this.applyFeed();else{this.feed=null;a={src:a,type:h.contentType,title:m.title,poster:null!=(q=m.images)?q.url:void 0,description:m.subtitle,pubDate:new Date(h.releaseDate),metadata:g,duration:h.duration,startTime:d||(null!=(r=g.media)?r.startTime:
void 0),autoplay:c};if(null!=g.media)for(k in q=g.media,q)g=q[k],null==a[k]&&(a[k]=g);this.tracks=h.tracks;this.media=a;this.applyMedia()}};J.prototype.applyMedia=function(){null!=this.player&&null!=this.media&&(this.ccHandler=this.loadTracks.bind(this,this.tracks),this.player.addEventListener("loadedmetadata",this.ccHandler),this.player.setMedia(this.media),this.setState(cast.receiver.media.PlayerState.BUFFERING))};J.prototype.loadTracks=function(a,c){var d,e,g;this.player.removeEventListener("loadedmetadata",
this.ccHandler);0<(null!=a?a.length:void 0)&&(e=this.getTrack(0),null!=e&&(g=/ttml/.test(e.trackContentType)?"ttml":e.trackContentType,d=this.player.retrieveProxy("PlayerProxy").getActivePlaybackCore(),d.player.enableCaptions(!0,g,e.trackContentId)))};J.prototype.applyFeed=function(){null!=this.player&&null!=this.feed&&(this.player.addEventListener("mediachange",this.mediachangeHandler.bind(this)),null!=feed.data?this.player.feed.setData(feed.data):null!=feed.url&&this.player.feed.setURL(feed.url))};
J.prototype.mediachangeHandler=function(a){var c;this.removeHandler("mediachange");a=this.player.getMedia();c=new cast.receiver.media.MediaInformation;c.contentId=a.src;c.contentType=a.type;c.customData=a.metadata;c.duration=a.duration;c.metadata={title:a.title,subtitle:a.description,images:[{url:a.poster}],releaseDate:a.pubDate.toISOString()};this.media=a;this.shim.mediaManager.setMediaInformation(c,!0)};J.prototype.reset=function(){};J.prototype.play=function(){this.player.play()};J.prototype.seek=
function(a,c){this.player.setCurrentTime(a);switch(c){case cast.receiver.media.SeekResumeState.PLAYBACK_PAUSE:this.player.pause();break;case cast.receiver.media.SeekResumeState.PLAYBACK_START:this.player.play()}};J.prototype.pause=function(){return this.player.pause()};J.prototype.getState=function(){return this.state};J.prototype.getCurrentTimeSec=function(){return null!=this.player?this.player.getCurrentTime():0};J.prototype.getDurationSec=function(){return null!=this.player?this.player.getDuration():
0};J.prototype.getVolume=function(){var a;a=new cast.receiver.media.Volume;a.level=this.player.getVolume();a.muted=this.player.getMuted();return a};J.prototype.setVolume=function(a){null!=a.level&&this.player.setVolume(a.level);!0===a.muted?this.player.setMuted(!0):!0===this.player.getMuted()&&this.player.setMuted(!1);return a};J.prototype.editTracksInfo=function(a){var c;null!=a.activeTrackIds&&(c=a.activeTrackIds[0],this.activeTrackId!==c&&(this.activeTrackId=c,this.applyClassName()));a=a.textTrackStyle;
null!=a&&null!=this.cssRule&&(this.textTrackStyle=a,null!=a.foregroundColor&&(this.cssRule.style.color=this.hexToRgba(a.foregroundColor)),null!=a.backgroundColor&&(this.cssRule.style.backgroundColor=this.hexToRgba(a.backgroundColor)),a.windowType===cast.receiver.media.TextTrackWindowType.ROUNDED_CORNERS&&(this.cssRule.style.borderRadius=a.windowRoundedCornerRadius+"px"),null!=a.fontScale&&(this.cssRule.style.fontSize=a.fontScale+"em"),null!=a.fontFamily&&(this.cssRule.style.fontFamily=a.fontFamily))};
J.prototype.applyClassName=function(a){null!=this.player&&(a=this.player.getMediaElement().classList,null!=this.activeTrackId?a.add("akamai-cc"):a.remove("akamai-cc"))};J.prototype.hexToRgba=function(a){var c,d,e;if(!/^#[A-Fa-f0-9]{6}([A-Fa-f0-9]{2})?$/.test(a))return a;e=parseInt(a.substring(1,3),16);d=parseInt(a.substring(3,5),16);c=parseInt(a.substring(5,7),16);a=9===a.length?parseInt(a.substring(7,9),16)/256:1;return"rgba("+e+","+d+","+c+","+a+")"};J.prototype.getTrack=function(a){var c;null==
a&&(a=this.activeTrackId);c=this.tracks.filter(function(c){return c.trackId===a})[0];null!=c&&null==c.trackContentType&&(c.trackContentType=cast.player.api.CaptionsType.CEA608);return c};var Ig=[h.mimeTypes.m3u8,h.mimeTypes.mp4,h.mimeTypes.mpd,h.mimeTypes.ism,h.mimeTypes.webm,h.mimeTypes.mp3],B=function(a){this.messageBus=a.messageBus||"urn:x-cast:com.akamai.amp.cast";B.__super__.constructor.call(this,a.sender)};g(B,la);B.NAME=x.NAME;B.prototype.defaults={applicationID:"CC1AD845"};B.prototype.session=
null;B.prototype.media=null;B.prototype.messageBus=null;B.prototype.feed=null;B.prototype.currentTime=null;B.prototype.duration=null;B.prototype.receiverAvailable=!1;B.prototype.currentTime=0;B.prototype.duration=0;B.prototype.playerState=null;B.prototype.displayTimeTimeout=null;B.prototype.initialize=function(){var a,c=this;"undefined"!==typeof chrome&&null!==chrome&&null!=(a=chrome.cast)&&a.isAvailable?this.initializeCastApi():window.__onGCastApiAvailable=function(a,e){!0===a?c.initializeCastApi():
c.logError("cast load error",e)}};B.prototype.initializeCastApi=function(){var a;a=this.getConfigurationData().applicationID;a=new chrome.cast.SessionRequest(a);a=new chrome.cast.ApiConfig(a,this.sessionListener.bind(this),this.receiverListener.bind(this),chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(a,this.onInitSuccess.bind(this),this.onInitError.bind(this))};B.prototype.onInitSuccess=function(a){this.logEvent("init success",a)};B.prototype.onInitError=function(a){this.logError("init error",
a)};B.prototype.receiverListener=function(a){this.receiverAvailable="available"===a;this.sendNotification(Wb.AVAILABILITY_CHANGE,this.receiverAvailable);this.logEvent("receiver "+(this.receiverAvailable?"found":"list empty"))};B.prototype.sessionListener=function(a){this.logEvent("session listener",a);if(0!==a.media.length)this.onMediaDiscovered(a.media[0]);else this.onRequestSessionSuccess(a)};B.prototype.launch=function(){chrome.cast.requestSession(this.onRequestSessionSuccess.bind(this),this.onLaunchError.bind(this))};
B.prototype.send=function(a){var c;null!=(c=this.session)&&"function"===typeof c.sendMessage&&c.sendMessage(this.messageBus,a,this.onMessageSuccess.bind(this),this.onMessageError.bind(this))};B.prototype.onLaunchError=function(a){this.logError("launch error.",a)};B.prototype.onRequestSessionSuccess=function(a){this.logEvent("request session success.",a);this.session=a;this.session.addMessageListener(this.messageBus,this.onMessage.bind(this));this.session.addUpdateListener(this.onUpdate.bind(this));
a=this.facade.player.retrieveProxy(r.NAME);0===this.session.media.length&&this.loadMedia(a.getCurrentTime())};B.prototype.onUpdate=function(a){a||(this.sendNotification(e.PLAYBACK_TARGET_CHANGE,{target:"amp"}),this.stopDisplayTimeUpdate())};B.prototype.onMessageSuccess=function(a){this.logEvent("message sent",a)};B.prototype.onMessageError=function(a){this.logError("message error",a)};B.prototype.onMessage=function(a,c){var d,f;c=JSON.parse(c);f=c.type;d=c.detail||{};switch(f){case "dispatchevent":f=
"player"===d.target?this.facade.player.parent:this.facade.player.parent[d.target],null!=f&&f.dispatchEvent(d.event)}this.sendNotification(e.DISPATCH_EVENT,{type:"message",message:c})};B.prototype.onStop=function(a){this.logEvent("stop");this.session.stop(this.onStopSuccess.bind(this),this.onStopError.bind(this))};B.prototype.onStopSuccess=function(a){this.logEvent("stop success",a)};B.prototype.onStopError=function(a){this.logError("stop error",a)};B.prototype.logEvent=function(a,c){null==a&&(a=c.type||
"");this.facade.logger.log("[AMP CHROMECAST] "+a,c)};B.prototype.logError=function(a,c){this.facade.logger.error("[AMP CHROMECAST ERROR] "+a,c)};B.prototype.getFeed=function(){return this.feed};B.prototype.setFeed=function(a){this.feed!==a&&(this.feed=a,null!=this.session&&this.loadMedia())};B.prototype.loadMedia=function(a){var c,d,e,g,l;null==a&&(a=0);e=this.facade.player.retrieveProxy(s.NAME).getData();null!=e&&(c=function(a){return-1<Ig.indexOf(a)?"maybe":""},g=h.selectSource(e.source,c),null!=
g&&(c={media:e},d=null!=(l=this.facade.player.getModules())?l.feed:void 0,null!=d&&(c.feed={data:d.getData(),url:d.getURL()}),a=this.mediaToLoadRequest(e,g,a,c),this.session.loadMedia(a,this.onMediaDiscovered.bind(this),this.onMediaError.bind(this))))};B.prototype.mediaToLoadRequest=function(a,c,d,e){var g,h,k;h=new chrome.cast.media.GenericMediaMetadata;h.title=a.title;h.subtitle=a.description;h.image=[new chrome.cast.Image(a.poster)];h.releaseDate=null!=(g=a.pubDate)?"function"===typeof g.toISOString?
g.toISOString():void 0:void 0;c=new chrome.cast.media.MediaInfo(c.src,c.type);c.duration=a.duration;c.customData=e;c.metadata=h;if(0<(null!=(k=a.track)?k.length:void 0))for(c.tracks=[],k=a.track,g=e=0,h=k.length;e<h;g=++e)a=k[g],g=new chrome.cast.media.Track(g,chrome.cast.media.TrackType.TEXT),g.subtype=chrome.cast.media.TextTrackType.CAPTIONS,g.name="Closed Captions",g.language=a.srclang,g.customData=a,g.trackContentId=a.src,g.trackContentType=a.type,c.tracks.push(g);c=new chrome.cast.media.LoadRequest(c);
c.currentTime=d;return c};B.prototype.onMediaDiscovered=function(a){null!=this.media&&this.media.removeUpdateListener(this.mediaStatusUpdate);this.media=a;this.mediaStatusUpdate=this.onMediaStatusUpdate.bind(this);this.media.addUpdateListener(this.mediaStatusUpdate);this.sendNotification(e.PLAYBACK_TARGET_CHANGE,{target:"chromecast"})};B.prototype.onMediaStatusUpdate=function(a){this.logEvent("mediastatusupdate",a);this.updatePlayerState(this.media.playerState);this.updateDisplayTime();!1===a&&this.stopDisplayTimeUpdate()};
B.prototype.updatePlayerState=function(a){var c;if(a!==this.playerState){this.playerState=a;switch(this.playerState){case chrome.cast.media.PlayerState.BUFFERING:c=L.WAITING;break;case chrome.cast.media.PlayerState.PLAYING:c=L.PLAYING;break;case chrome.cast.media.PlayerState.PAUSED:c=L.PAUSED}this.sendNotification(e.CHANGE_PLAY_STATE,c);this.playerState===chrome.cast.media.PlayerState.PLAYING?this.startDisplayTimeUpdate():this.stopDisplayTimeUpdate()}};B.prototype.startDisplayTimeUpdate=function(){this.stopDisplayTimeUpdate();
this.displayTimeTimeout=setInterval(this.updateDisplayTime.bind(this),100)};B.prototype.stopDisplayTimeUpdate=function(){clearInterval(this.displayTimeTimeout);this.displayTimeTimeout=null};B.prototype.updateDisplayTime=function(){var a,c,d;a=this.media.getEstimatedTime()||0;c=(null!=(d=this.media.media)?d.duration:void 0)||a;c!==this.duration?(this.duration=c,this.sendNotification(e.CHANGE_DURATION,this.duration)):a!==this.currentTime&&(this.currentTime=a,this.sendNotification(e.DISPLAY_TIME,{currentTime:this.currentTime,
duration:this.duration}))};B.prototype.onMediaError=function(a){this.logError("media error",a);this.stopDisplayTimeUpdate()};B.prototype.play=function(){this.media.play()};B.prototype.pause=function(){this.media.pause()};B.prototype.setCurrentTime=function(a){var c;c=new chrome.cast.media.SeekRequest;c.currentTime=a;this.media.seek(c)};B.prototype.getCurrentTime=function(){return this.currentTime};B.prototype.isReceiverAvailable=function(){return this.receiverAvailable};var Fe=function(){Fe.__super__.constructor.call(this)};
g(Fe,A);Fe.prototype.execute=function(a){this.proxy.launch()};var sg=function(){sg.__super__.constructor.call(this)};g(sg,A);sg.prototype.execute=function(a){this.proxy.send({type:"captioning.visibilitychange",detail:{visibility:a.getBody()}})};var tg=function(){tg.__super__.constructor.call(this)};g(tg,A);tg.prototype.execute=function(a){this.proxy.send({type:"captioning.settingschange",detail:a.getBody()})};var ug=function(){ug.__super__.constructor.call(this)};g(ug,A);ug.prototype.execute=function(a){this.facade.player.getViewComponent().hidden=
!1;this.plugin.ready()};var Ga=function(a,c){this.receiver=c;Ga.__super__.constructor.call(this,a)};g(Ga,Bb);Ga.prototype.initialized=!0;Ga.prototype.player=null;Ga.prototype.host=null;Ga.prototype.protocol=null;Ga.prototype.playbackCoreName="chromecast";Ga.prototype.manifest=null;Ga.prototype.xhr=null;Ga.prototype.trackInfo=null;Ga.prototype.receiver=null;Ga.prototype.reset=function(){Ga.__super__.reset.call(this);this.manifest=this.xhr=null};Ga.prototype.unload=function(){null!=this.player&&(this.trackInfo=
{activeTrackIds:[this.receiver.chromecastPlayer.activeTrackId],textTrackStyle:this.receiver.chromecastPlayer.textTrackStyle},this.receiver.chromecastPlayer.activeTrackId=null,this.receiver.chromecastPlayer.textTrackStyle=null,this.player.unload(),this.player=null)};Ga.prototype.load=function(){var a=this;null!=this.xhr?null!=this.manifest&&this.loadMediaPlayer():(this.xhr=new XMLHttpRequest,this.xhr.onload=function(c){200===a.xhr.status&&(a.manifest=a.xhr.responseText,a.loadMediaPlayer())},this.xhr.onerror=
function(c){a.facade.logger.error(c);a.player.unload()},this.xhr.open("GET",this.getSrc()),this.xhr.send())};Ga.prototype.loadMediaPlayer=function(){var a,c,d=this;this.playWhenLoaded=this.data.loading=!0;this.unload();a=this.facade.getMediaElement();a.addEventListener("canplay",this.resumeHandlers.canplay);a.addEventListener("loadedmetadata",this.handlers.loadedmetadata);a.addEventListener("durationchange",this.handlers.durationchange);a.addEventListener("canplaythrough",this.handlers.canplaythrough);
null!=a.src&&(a.src=null);!0===ba.enabled&&cast.player.api.setLoggerLevel(cast.player.api.LoggerLevel.DEBUG);this.host=new cast.player.api.Host({mediaElement:a,url:this.getSrc()});this.host.updateManifestRequestInfo=function(a){a.url===d.getSrc()&&(a.skipRequest=!0,a.setResponse(d.manifest))};this.host.onError=function(a){d.facade.logger.error("Google Media Player Fatal Error - "+a);d.player.unload()};a=this.facade.retrieveProxy(s.NAME).getType();c=h.mimeTypes;switch(a){case c.m3u8:this.protocol=
cast.player.api.CreateHlsStreamingProtocol(this.host);break;case c.mpd:this.protocol=cast.player.api.CreateDashStreamingProtocol(this.host);break;case c.ism:this.protocol=cast.player.api.CreateSmoothStreamingProtocol(this.host)}null!=this.protocol?(this.player=new cast.player.api.Player(this.host),this.player.load(this.protocol,0)):this.facade.logger.error("Google Media Player Error: Could not create protocol")};Ga.prototype.resumecomplete=function(){Ga.__super__.resumecomplete.call(this)};var vg=
function(){vg.__super__.constructor.call(this)};g(vg,A);vg.prototype.execute=function(a){this.facade.logger.debug("ChromeCastBreakStartCommand");a=this.facade.player.retrieveProxy(da.NAME).getActivePlaybackCore();"chromecast"===a.getPlaybackCoreName()&&(a.unload(),a.src=null)};var Ge=function(){Ge.__super__.constructor.call(this)};g(Ge,rb);Ge.prototype.onRegister=function(){this.sendNotification(e.ADD_APPLICATION_STATE,"chromecast-receiver");Ge.__super__.onRegister.call(this)};var Xb=function(){Xb.__super__.constructor.call(this)};
g(Xb,rb);Xb.prototype.componentName="chromecast";Xb.prototype.controls=null;Xb.prototype.onRegister=function(){this.controls=new ub;Xb.__super__.onRegister.call(this)};Xb.prototype.registerOverlay=function(){};Xb.prototype.listNotificationInterests=function(){return[e.PLAYBACK_TARGET_CHANGE,e.CHANGE_PLAY_STATE]};Xb.prototype.handleNotification=function(a){var c;c=a.getName();a=a.getBody();switch(c){case e.PLAYBACK_TARGET_CHANGE:c=a.target;"chromecast"===c?this.facade.registerMediator(this.controls):
this.facade.removeMediator(this.controls.getMediatorName());break;case e.CHANGE_PLAY_STATE:this.controls.setState(a)}};var oc=function(){oc.__super__.constructor.call(this)};g(oc,Xb);oc.prototype.chromeCastButton=null;oc.prototype.onRegister=function(){this.chromeCastButton=new Md;this.facade.registerMediator(this.chromeCastButton);oc.__super__.onRegister.call(this)};oc.prototype.listNotificationInterests=function(){return oc.__super__.listNotificationInterests.call(this).concat([Wb.AVAILABILITY_CHANGE])};
oc.prototype.handleNotification=function(a){var c;oc.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case Wb.AVAILABILITY_CHANGE:!0===a?(this.sendNotification(e.ADD_CONTROL_STATE,"chromecast"),this.facade.player.sendNotification(e.ADD_CONTROL,this.chromeCastButton.getViewComponent())):(this.sendNotification(e.REMOVE_CONTROL_STATE,"chromecast"),this.facade.player.sendNotification(e.REMOVE_CONTROL,this.chromeCastButton.getViewComponent()))}};var W=function(a){this.messageBus=
a.messageBus||"urn:x-cast:com.akamai.amp.cast";W.__super__.constructor.call(this,a.receiver)};g(W,la);W.NAME=x.NAME;W.prototype.defaults={shim:null,types:["application/x-mpegURL","application/dash+xml","application/vnd.ms-sstr+xml"]};W.prototype.messageBus=null;W.prototype.castReceiverManager=null;W.prototype.castMessageBus=null;W.prototype.startTime=0;W.prototype.currentTime=0;W.prototype.boundHandler=null;W.prototype.amp=null;W.prototype.mediaManager=null;W.prototype.playbackCore=null;W.prototype.teardownTimeout=
null;W.prototype.chromecastPlayer=null;W.prototype.initialize=function(){var a;W.__super__.initialize.call(this);this.sendNotification(e.INITIALIZED);a=new Ga(this.getConfigurationData().types,this);this.facade.player.retrieveProxy(da.NAME).registerPlaybackCore(a)};W.prototype.ready=function(){!0===this.facade.logger.enabled&&cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);this.shim=pc.getInstance();this.castReceiverManager=this.shim.castReceiverManager;this.castReceiverManager.onReady=
this.castReceiverManager.onSystemVolumeChanged=this.castReceiverManager.onVisibilityChanged=this.logEvent.bind(this);this.castReceiverManager.onSenderConnected=this.onSenderConnected.bind(this);this.castReceiverManager.onSenderDisconnected=this.onSenderDisconnected.bind(this);this.amp=this.facade.player;this.chromecastPlayer=this.shim.player;this.chromecastPlayer.registerPlayer(this.amp);this.mediaManager=this.shim.mediaManager;this.castMessageBus=this.shim.castMessageBuses[this.messageBus];this.castMessageBus.onMessage=
this.onMessage.bind(this);this.amp.addEventListener("seeking",this.eventHandler.bind(this));this.amp.addEventListener("seeked",this.eventHandler.bind(this));this.amp.addEventListener("pause",this.startTeardownTimeout.bind(this,1200));this.amp.addEventListener("ended",this.startTeardownTimeout.bind(this,300));this.amp.addEventListener("error",this.startTeardownTimeout.bind(this,300));this.amp.addEventListener("playing",this.stopTeardownTimeout.bind(this));this.amp.addEventListener("loadedmetadata",
this.stopTeardownTimeout.bind(this));null!=this.amp.ads&&(this.amp.ads.addEventListener("breakstart",this.dispatchEvent.bind(this,"ads")),this.amp.ads.addEventListener("breakend",this.onBreakEnd.bind(this)),this.amp.ads.addEventListener("started",this.dispatchEvent.bind(this,"ads")),this.amp.ads.addEventListener("ended",this.dispatchEvent.bind(this,"ads")),this.amp.ads.addEventListener("companion",this.dispatchEvent.bind(this,"ads")));this.startTeardownTimeout(300)};W.prototype.onBreakEnd=function(a){this.dispatchEvent("ads",
a);!0===this.amp.getEnded()&&this.startTeardownTimeout(300)};W.prototype.logEvent=function(a,c){null==a?a=c.type||"":null==c&&(c=a.data,a=c.type);this.facade.logger.log("[CHROMECAST] ",a,c)};W.prototype.onSenderConnected=function(a){this.logEvent("senderconnected",a);setTimeout(this.sendNotification.bind(this,e.DISPATCH_EVENT,new Z("senderconnected",a)),0)};W.prototype.onSenderDisconnected=function(a){this.logEvent("sender disconnected",a);0===this.castReceiverManager.getSenders().length&&a.reason===
cast.receiver.system.DisconnectReason.REQUESTED_BY_SENDER&&this.teardown();setTimeout(this.sendNotification.bind(this,e.DISPATCH_EVENT,new Z("senderdisconnected",a)),0)};W.prototype.onMessage=function(a){var c,d,f,g,h;this.logEvent("message from sender",a);try{if(f=a.data||a.message,null!=f&&(h=f.type,c=f.detail,"string"===typeof c&&(c=JSON.parse(c)),null!=c)){switch(h){case "captioning.visibilitychange":d=[];!0===c.visibility&&d.push(0);this.chromecastPlayer.editTracksInfo({activeTrackIds:d});break;
case "captioning.settingschange":g=new cast.receiver.media.TextTrackStyle;g.foregroundColor=c.fontColor;g.backgroundColor=c.backgroundColor;g.fontScale=c.size;g.windowColor=c.windowColor;g.fontFamily=c.fontFamily;g.edgeColor=c.edgeColor;g.edgeType=c.edgeType;this.chromecastPlayer.editTracksInfo({textTrackStyle:g});break;case "stats.visibilitychange":this.amp.stats.setHidden(!c.visibility)}this.sendNotification(e.DISPATCH_EVENT,a)}}catch(k){this.error(k)}};W.prototype.onClose=function(a){this.logEvent("message channel closed",
a)};W.prototype.eventHandler=function(a){var c;c={type:a.type};null!=a.detail&&(c.detail=a.detail);this.send(c)};W.prototype.dispatchEvent=function(a,c){this.send({type:"dispatchevent",detail:{target:a,event:c}})};W.prototype.send=function(a){this.castMessageBus.broadcast(a)};W.prototype.startTeardownTimeout=function(a){this.stopTeardownTimeout();this.teardownTimeout=setTimeout(this.teardown.bind(this),1E3*a)};W.prototype.stopTeardownTimeout=function(){clearTimeout(this.teardownTimeout)};W.prototype.teardown=
function(){window.close()};var wg=function(){wg.__super__.constructor.call(this)};g(wg,A);wg.prototype.execute=function(a){this.proxy.setFeed(a.getBody())};var He=function(){He.__super__.constructor.call(this)};g(He,A);He.prototype.execute=function(a){this.facade.logger.debug("ChromeCastSeekCommand");this.plugin.setCurrentTime(a.getBody())};var Md=function(){Md.__super__.constructor.call(this)};g(Md,ib);Md.prototype.componentName="chromecast";Md.prototype.onclick=function(a){a.stopImmediatePropagation();
this.sendNotification(Wb.LAUNCH);return!1};var Ie=function(){Ie.__super__.constructor.call(this)};g(Ie,A);Ie.prototype.execute=function(a){switch(this.applicationState.getPlayState()){case L.ENDED:this.plugin.setCurrentTime(0);this.plugin.play();break;case L.PAUSED:case L.READY:this.plugin.play();break;case L.PLAYING:case L.WAITING:this.plugin.pause()}};var ub=function(){ub.__super__.constructor.call(this)};g(ub,Cb);ub.prototype.componentName="chromecast-controls";ub.prototype.message=null;ub.prototype.messageContainer=
null;ub.prototype.button=null;ub.prototype.captioningActive=!1;ub.prototype.initializeNotifier=function(a){ub.__super__.initializeNotifier.call(this,a);this.viewComponent.innerHTML="";this.messageContainer=this.create("chromecast-message-container");this.message=this.createText("chromecast-message",this.localizationManager.getString("MSG_CHROMECAST_MESSAGE"),this.messageContainer);this.button=new Md};ub.prototype.onRegister=function(){var a,c,d;this.facade.registerMediator(this.button);ub.__super__.onRegister.call(this);
a=new ec(this.controlBar);a.setDisabled(!0);this.facade.registerMediator(a);this.sendNotification(e.ADD_CONTROL,this.button.getViewComponent());this.viewComponent.getElementsByClassName("akamai-caption akamai-button").length||!0!==(null!=(c=this.facade.player.captioning)?null!=(d=c.config)?d.enabled:void 0:void 0)||(a=new ib(this.localizationManager.getString(w.MSG_CC),this.viewComponent.getElementsByClassName("akamai-control-bar")[0],null,"caption",this.captionButtonClick.bind(this)),this.facade.registerMediator(a),
this.captionButton=a.getViewComponent(),this.sendNotification(e.ADD_CONTROL,this.captionButton),this.sendNotification(e.ADD_CONTROL_STATE,"cc-enabled"))};ub.prototype.captionButtonClick=function(){this.captioningActive=!this.captioningActive;try{this.facade.player.parent.chromecast.postMessage({type:"captioning.visibilitychange",detail:{visibility:this.captioningActive}})}catch(a){this.facade.logger.error("[AMP Chromecast Captioning Error]",a)}this.sendNotification(this.captioningActive?e.ADD_APPLICATION_STATE:
e.REMOVE_APPLICATION_STATE,"cc-active")};var $c=function(){$c.__super__.constructor.call(this)};g($c,A);$c.prototype.execute=function(a){var c;a=a.getBody().target;"chromecast"===a?this.player.pause():"amp"===a&&(a=this.proxy.getCurrentTime(),c=this.player.getDuration(),0!==a&&(a!==c&&(this.seekedHandler=this.seeked.bind(this),this.player.addEventListener("seeked",this.seekedHandler)),this.player.setCurrentTime(a)))};$c.prototype.seeked=function(a){this.player.removeEventListener("seeked",this.seekedHandler);
this.player.play()};$c.prototype.seekedHandler=null;var X=function(){X.__super__.constructor.call(this)};g(X,V);X.prototype.moduleName="chromecast";X.prototype.isAvailable=function(){return this.isSender()||this.isReceiver()};X.prototype.loadResources=function(){this.isAvailable()?X.__super__.loadResources.call(this):this.resourcesLoaded()};X.prototype.onRegister=function(){this.isAvailable()?X.__super__.onRegister.call(this):this.sendNotification($a.PLUGIN_REGISTERED,this)};X.prototype.createModel=
function(){this.proxy=this.isSender()?new B(this.config):new W(this.config);this.registerProxy(this.proxy)};X.prototype.createController=function(){X.__super__.createController.call(this);this.isSender()?(this.registerCommand(e.PLAYBACK_TARGET_CHANGE,$c),this.registerCommand(Wb.LAUNCH,Fe),this.registerCommand(T.TOGGLE_PLAY_PAUSE,Ie),this.registerCommand(T.SEEK,He),this.registerCommand(C.VISIBILITY_CHANGE,sg),this.registerCommand(C.SETTINGS_CHANGE,tg),this.registerCommand(Wb.AVAILABILITY_CHANGE,y)):
this.isReceiver()&&(this.registerCommand(e.READY,ug),this.registerCommand(k.BREAK_START,vg))};X.prototype.createView=function(){this.isSender()?this.registerMediator(new oc):this.isReceiver()&&this.registerMediator(new Ge)};X.prototype.isSender=function(){return!X.prototype.isReceiver()&&/Chrome/.test(navigator.userAgent)};X.prototype.isReceiver=function(){return/CrKey/.test(navigator.userAgent)};X.prototype.listNotificationInterests=function(){return[e.READY,C.VISIBILITY_CHANGE,C.SETTINGS_CHANGE,
k.BREAK_START]};X.prototype.listNotificationPublications=function(){return X.__super__.listNotificationPublications.apply(this,arguments).concat([e.INITIALIZED,e.ADD_CONTROL,e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE,e.PLAYBACK_TARGET_CHANGE,Wb.AVAILABILITY_CHANGE,e.MEDIA_CHANGE,e.CHANGE_PLAY_STATE,e.CHANGE_DURATION,e.DISPLAY_TIME])};X.prototype.play=function(){var a;"function"===typeof(a=this.proxy).play&&a.play()};X.prototype.pause=function(){var a;"function"===typeof(a=this.proxy).pause&&
a.pause()};X.prototype.setCurrentTime=function(a){this.proxy.setCurrentTime(a);return a};X.prototype.isReceiverAvailable=function(){var a;return(null!=(a=this.proxy)?"function"===typeof a.isReceiverAvailable?a.isReceiverAvailable():void 0:void 0)||!1};X.prototype.getMedia=function(){return this.proxy.media};X.prototype.getSession=function(){return this.proxy.session};X.prototype.getMediaManager=function(){return this.proxy.mediaManager};X.prototype.getCastReceiverManager=function(){return this.proxy.castReceiverManager};
X.prototype.getCastMessageBus=function(){return this.proxy.castMessageBuses[this.proxy.messageBus]};X.prototype.postMessage=function(a){this.proxy.send(a)};q.registerPlugin("chromecast","html",X);var Ac=function(){Ac.__super__.constructor.call(this)};g(Ac,X);Ac.NAME="ChromeCastFlashPlugin";Ac.prototype.createModel=function(){this.proxy=new B(this.config);this.registerProxy(this.proxy)};Ac.prototype.createController=function(){Ac.__super__.createController.call(this);this.registerCommand(e.PLAYBACK_TARGET_CHANGE,
$c);this.registerCommand(Wb.LAUNCH,Fe);this.registerCommand(za.FEED_CHANGED,wg);this.registerCommand(T.TOGGLE_PLAY_PAUSE,Ie);this.registerCommand(T.SEEK,He)};Ac.prototype.createView=function(){this.registerMediator(new Xb)};Ac.prototype.listNotificationInterests=function(){return[za.FEED_CHANGED,e.CHANGE_MEDIA]};var Wb={LAUNCH:"launch",AVAILABILITY_CHANGE:"availabilitychange"},Ca=function(a,c){if(!X.prototype.isSender())throw Error("Chromecast not supported on this platform. Skipping plugin initialization.");
Ca.__super__.constructor.call(this,a,c);this.plugin=new Ac;this.plugin.initialize(c,this.player);a.registerModule(this.plugin)};g(Ca,G);Ca.NAME="ChromeCastWrapper";Ca.prototype.buttonId="chromecastBtn";Ca.prototype.plugin=null;Ca.prototype.createXML=function(a){if(!1===this.hasControls(a))return a;null==this.getControls(a)[this.buttonId]&&this.createElement(a,this.buttonId);return a};Ca.prototype.listNotificationInterests=function(){return Ca.__super__.listNotificationInterests.call(this).concat(["mediaPlayerElementEvent",
"mediaLoadStateReady","mediaLoadStateLoading","mediaPlayerApplicationStateChange",Wb.AVAILABILITY_CHANGE])};Ca.prototype.handleNotification=function(a){var c,d;Ca.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case "mediaPlayerElementEvent":"click"===a.type&&a.element===this.buttonId&&this.plugin.sendNotification(Wb.LAUNCH);break;case Wb.AVAILABILITY_CHANGE:null!=(null!=(d=this.player.mediaElement)?d.setPlayerProperty:void 0)&&this.player.mediaElement.setPlayerProperty(this.buttonId,
{visible:a});break;case "mediaPlayerApplicationStateChange":case "mediaLoadStateReady":case "mediaLoadStateLoading":(c=this.plugin.isReceiverAvailable())&&this.player.mediaElement.setPlayerProperty(this.buttonId,{state:1}),this.player.mediaElement.setPlayerProperty(this.buttonId,{visible:c})}};Ca.prototype.play=function(){this.plugin.play()};Ca.prototype.pause=function(){this.plugin.pause()};Ca.prototype.setCurrentTime=function(a){this.plugin.setCurrentTime(a);return a};Ca.prototype.getMedia=function(){return this.plugin.getMedia()};
Ca.prototype.getSession=function(){return this.plugin.getSession()};Ca.prototype.getMediaManager=function(){return this.plugin.getMediaManager()};Ca.prototype.getCastReceiverManager=function(){return this.plugin.getCastReceiverManager()};Ca.prototype.getCastMessageBus=function(){return this.plugin.getCastMessageBuses()};Ca.prototype.postMessage=function(a){this.plugin.postMessage(a)};q.registerPlugin("chromecast","flash",Ca);var Nc=function(){Nc.__super__.constructor.call(this)};g(Nc,V);Nc.prototype.moduleName=
"moat";Nc.prototype.createModel=function(){this.proxy=new Kd(this.config);this.registerProxy(this.proxy)};Nc.prototype.createController=function(){Nc.__super__.createController.call(this);return this.registerCommand(k.AD_MANAGER_LOADED,qg)};Nc.prototype.listNotificationInterests=function(){return[k.AD_MANAGER_LOADED]};q.registerPlugin("moat","html",Nc);q.registerPlugin("moat","flash",Ee);var pc=function(a,c){var d,e;if(/CrKey/.test(navigator.userAgent)&&"undefined"!==typeof cast&&null!==cast){pc.__super__.constructor.call(this);
this.castReceiverManager=cast.receiver.CastReceiverManager.getInstance();this.castReceiverManager.onReady=this.dispatchEvent.bind(this,{type:"ready"});this.castReceiverManager.onSenderConnected=this.dispatchEvent.bind(this,{type:"senderconnected"});this.castReceiverManager.onSenderDisconnected=this.dispatchEvent.bind(this,{type:"senderdisconnected"});this.castReceiverManager.onShutdown=this.dispatchEvent.bind(this,{type:"shutdown"});this.castReceiverManager.onStandbyChanged=this.dispatchEvent.bind(this,
{type:"standbychange"});this.castReceiverManager.onSystemVolumeChanged=this.dispatchEvent.bind(this,{type:"systemvolumechanged"});this.castReceiverManager.onVisibilityChanged=this.dispatchEvent.bind(this,{type:"visibilitychanged"});this.player=new J(this);this.mediaManager=new cast.receiver.MediaManager(this.player);null==c&&(c={});c["urn:x-cast:com.akamai.amp.cast"]=cast.receiver.CastMessageBus.MessageType.JSON;this.castMessageBuses={};for(d in c)e=c[d],this.castMessageBuses[d]=this.castReceiverManager.getCastMessageBus(d,
e);this.castReceiverManager.start(a)}};g(pc,qb);pc.prototype.castReceiverManager=null;pc.prototype.mediaManager=null;pc.prototype.castMessageBuses=null;pc.prototype.player=null;pc.getInstance=function(){return this.instance};pc.instance=new pc;var ad=function(){ad.__super__.constructor.call(this)};g(ad,V);ad.prototype.moduleName="dash";ad.prototype.createModel=function(){this.registerProxy(new Ld(this.config))};ad.prototype.registered=function(){this.player.registerCommand(e.CHANGE_DISPLAY_STATE,
rg);ad.__super__.registered.call(this)};q.registerPlugin("dash","html",ad);var Je=function(){Je.__super__.constructor.call(this)};g(Je,V);Je.prototype.listNotificationPublications=function(){return Je.__super__.listNotificationPublications.apply(this,arguments).concat([e.ADD_CONTROL,e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE])};var ob=function(a){ob.__super__.constructor.call(this,null,null,null,a,onclick)};g(ob,ib);ob.prototype.panel=null;ob.prototype.timeout=null;ob.prototype.closePanelDelayed=
null;ob.prototype.onRegister=function(){this.closePanelDelayed=this.delayedClosePanel.bind(this);"desktop"===h.getDevice()?(this.onmouseleave=this.closePanelDelayed,this.onmouseenter=this.openPanel,this.onclick=this.clickHandler):this.onclick=this.togglePanel;ob.__super__.onRegister.call(this);this.sendNotification(e.ADD_CONTROL_STATE,""+this.componentName+"-enabled");this.sendNotification(e.ADD_CONTROL,this.viewComponent)};ob.prototype.openPanel=function(){clearTimeout(this.timeout);this.sendNotification(La.OPEN_PANEL,
this.panel);this.panel.viewComponent.addEventListener("mouseleave",this.closePanelDelayed)};ob.prototype.closePanel=function(){h.isMouseOverElement(this.panel.viewComponent)||h.isMouseOverElement(this.viewComponent)||this.facade.player.retrieveProxy(N.NAME).getIsUserActive()||(this.panel.viewComponent.addEventListener("mouseleave",this.closePanelDelayed),this.sendNotification(La.CLOSE_PANEL,this.panel))};ob.prototype.delayedClosePanel=function(){this.timeout=setTimeout(this.closePanel.bind(this),
350)};ob.prototype.togglePanel=function(){this.sendNotification(La.TOGGLE_PANEL,this.panel)};ob.prototype.clickPanel=function(){};var bd=function(a){bd.__super__.constructor.call(this,a,null,null,null)};g(bd,S);bd.prototype.componentType="panel";bd.prototype.control=null;bd.prototype.onRegister=function(){bd.__super__.onRegister.call(this);this.sendNotification(La.ADD_PANEL,this)};var Oc=function(a){Oc.__super__.constructor.call(this,a)};g(Oc,la);Oc.NAME=x.NAME;Oc.prototype.loaded=!0;Oc.prototype.controlName=
null;Oc.prototype.getControlName=function(){return this.controlName};Oc.prototype.setControlName=function(a){return this.controlName=a};var cd=function(a){cd.__super__.constructor.call(this,a)};g(cd,Oc);cd.NAME=x.NAME;cd.prototype.hidden=!0;cd.prototype.getHidden=function(){return this.hidden};cd.prototype.setHidden=function(a){return this.hidden=a};var dd=function(a){dd.__super__.constructor.call(this,a)};g(dd,cd);dd.NAME=x.NAME;dd.prototype.controlName="volume";dd.prototype.defaults={direction:"vertical"};
dd.prototype.getDirection=function(){return this.data.direction};var xg=function(a,c){null==c&&(c={});xg.__super__.constructor.call(this,a,c)};g(xg,G);xg.NAME="VolumePanelWrapper";q.registerPlugin("volumepanel","flash",xg);var yg=function(a){yg.__super__.constructor.call(this,a)};g(yg,ob);yg.prototype.clickHandler=function(){this.sendNotification(e.TOGGLE_MUTED)};var ed=function(a,c){ed.__super__.constructor.call(this,a,c)};g(ed,M);ed.prototype.componentName="volume";ed.prototype.valueChanged=function(){this.sendNotification(e.CHANGE_VOLUME,
this.value);this.sendNotification("updatesettings",{volume:this.value})};ed.prototype.listNotificationInterests=function(){return[e.VOLUME_CHANGE,e.READY]};ed.prototype.handleNotification=function(a){switch(a.getName()){case e.READY:this.updateValue(this.facade.player.retrieveProxy(r.NAME).getVolume());break;case e.VOLUME_CHANGE:this.updateValue(a.getBody())}};var Ia=function(){Ia.__super__.constructor.call(this);this.controls={}};g(Ia,rb);Ia.prototype.panel=null;Ia.prototype.control=null;Ia.prototype.separator=
null;Ia.prototype.controls=null;Ia.prototype.labels=null;Ia.prototype.closed=!0;Ia.prototype.panelClass=bd;Ia.prototype.controlClass=ob;Ia.prototype.onRegister=function(){this.panel=this.createPanel(this.componentName);this.control=this.createControl(this.componentName);this.separator=this.createSeparator(this.componentName);this.panel.control=this.control;this.control.panel=this.panel;null==this.labels&&(this.labels={});this.createPanelControls(name)};Ia.prototype.createControl=function(a){a=new this.controlClass(a);
this.facade.registerMediator(a);return a};Ia.prototype.createPanel=function(a){a=new this.panelClass(a);this.facade.registerMediator(a);return a};Ia.prototype.createSeparator=function(a){return this.create(["separator","icon"],this.panel)};Ia.prototype.createPanelControls=function(a){var c,d,e;a=this.plugin.getConfigurationData();for(c in a)d=a[c],!0===d&&(this.controls[c]=this.addPanelControl(new ib(this.localizationManager.getString(this.labels[c]),null,null,c,null!=(e=this.panelButtonClickHandler)?
"function"===typeof e.bind?e.bind(this,c):void 0:void 0)))};Ia.prototype.addPanelControl=function(a){this.facade.registerMediator(a);this.panel.getViewComponent().appendChild(a.getViewComponent());return a};Ia.prototype.panelButtonClickHandler=function(){this.sendNotification(La.CLOSE_PANEL,this.panel)};var pb=function(){pb.__super__.constructor.call(this)};g(pb,Ia);pb.prototype.componentName="volume";pb.prototype.slider=null;pb.prototype.level=null;pb.prototype.controlClass=yg;pb.prototype.onRegister=
function(){pb.__super__.onRegister.call(this);this.slider=new ed(this.panel,this.plugin.getDirection());this.facade.registerMediator(this.slider)};pb.prototype.updateVolumeButton=function(a){a=Math.ceil(10*a);a!==this.level&&(null!=this.level&&this.sendNotification(e.REMOVE_CONTROL_STATE,"volume-"+this.level),this.level=a,this.sendNotification(e.ADD_CONTROL_STATE,"volume-"+this.level))};pb.prototype.listNotificationInterests=function(){return pb.__super__.listNotificationInterests.apply(this,arguments).concat([e.VOLUME_CHANGE])};
pb.prototype.handleNotification=function(a){pb.__super__.handleNotification.call(this,a);switch(a.getName()){case e.VOLUME_CHANGE:this.updateVolumeButton(a.body)}};var Ke=function(){Ke.__super__.constructor.call(this)};g(Ke,Je);Ke.prototype.listNotificationPublications=function(){var a,c;return Ke.__super__.listNotificationPublications.call(this).concat(function(){var d;d=[];for(a in La)c=La[a],d.push(c);return d}())};var Pc=function(a){Pc.__super__.constructor.call(this,a)};g(Pc,rb);Pc.prototype.componentName=
"playlist";Pc.prototype.playlistButton=null;Pc.prototype.onRegister=function(){var a;a=new ib(null,this.viewComponent,null,"playlist",this.playlistOnClick.bind(this));this.facade.registerMediator(a);this.playlistButton=a.getViewComponent();this.sendNotification(e.ADD_CONTROL,this.playlistButton);this.sendNotification(e.ADD_CONTROL_STATE,"playlist-enabled");Pc.__super__.onRegister.call(this)};Pc.prototype.playlistOnClick=function(a){this.facade.logger.debug("AMP Event: Playlist Clicked")};var vb=function(){vb.__super__.constructor.call(this)};
g(vb,Ke);vb.prototype.moduleName="volumepanel";vb.prototype.isVolumeSettable=function(){var a,c,d,e;d=!1;e=this.player.getMediaElement();c=e.volume;a=Math.random();e.volume=a;e.volume===a&&(d=!0);e.volume=c;return d};vb.prototype.createFramework=function(){this.isVolumeSettable()&&vb.__super__.createFramework.call(this)};vb.prototype.createModel=function(){this.registerProxy(new dd(this.config))};vb.prototype.createView=function(){this.isVolumeSettable()&&this.registerMediator(new pb)};vb.prototype.listNotificationPublications=
function(){return vb.__super__.listNotificationPublications.apply(this,arguments).concat([e.CHANGE_VOLUME,e.TOGGLE_MUTED,"updatesettings"])};vb.prototype.listNotificationInterests=function(){return vb.__super__.listNotificationInterests.apply(this,arguments).concat([e.VOLUME_CHANGE,e.READY])};q.registerPlugin("volumepanel","html",vb);var fd=function(a){fd.__super__.constructor.call(this,a)};g(fd,Ea);fd.NAME=x.NAME;fd.prototype.data={url:null,target:null,apiKey:null,jsWidgetId:null};fd.prototype.createRecommendations=
function(a){var c,d,e,g;d=[];g=a.documents.doc;a=0;for(e=g.length;a<e;a++)c=g[a],c=new Tb(c.video.id,c.url,c.video.title,c.video.title,c.thumbnail.url,0,null,this.getTarget(),c),d.push(c);return d};fd.prototype.getURL=function(){var a,c,d;d=encodeURIComponent(this.data.jsWidgetId);c=encodeURIComponent(this.data.apiKey);a=encodeURIComponent(document.location.href);return this.data.url+"?format\x3djson\x26widgetJSId\x3d"+d+"\x26settings\x3dfalse\x26url\x3d"+a+"\x26idx\x3d0\x26key\x3d"+c+"\x26rand\x3d"+
Date.now()+"\x26recs\x3dtrue"};var gd=function(a,c){null==c&&(c={});gd.__super__.constructor.call(this,a,c)};g(gd,ua);gd.NAME="OutbrainWrapper";gd.prototype.createFlashVars=function(a){gd.__super__.createFlashVars.call(this,a);a.recommendations_partner="outbrain";return a};gd.prototype.createXML=function(a){var c,d,e,g,h;c=a.firstChild;d=a.getElementsByTagName("recommendations")[0];null==d&&(d=a.createElement("recommendations"),c.appendChild(d));c=a.createElement("vendor");c.setAttribute("id","outbrain");
d.appendChild(c);e=[{value:this.config.url,key:"OUTBRAIN_BASE_URL"},{value:this.config.apiKey,key:"OUTBRAIN_API_KEY"},{value:this.config.jsWidgetId,key:"OUTBRAIN_WIDGET_JS_ID"},{value:this.config.mode,key:"OUTBRAIN_MODE"},{value:this.config.playerSrcId,key:"OUTBRAIN_PLAYER_SRC_ID"},{value:"internal",key:"OUTBRAIN_VIEW_PROVIDER"},{value:this.config.videoData,key:"videoData"}];g=0;for(h=e.length;g<h;g++)d=e[g],null!=d.value&&this.createProperty(a,d.key,d.value,c);return a};var hd=function(){hd.__super__.constructor.call(this)};
g(hd,V);hd.prototype.moduleName="playlist";hd.prototype.createView=function(){this.registerMediator(new Pc)};hd.prototype.listNotificationPublications=function(){return hd.__super__.listNotificationPublications.call(this).concat([e.ADD_CONTROL,e.REMOVE_CONTROL,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE])};q.registerPlugin("playlist","html",hd);var Le=function(){return Le.__super__.constructor.apply(this,arguments)};g(Le,G);Le.NAME="AdChoicesWrapper";Le.prototype.createXML=function(a){var c,d;c=a.getElementsByTagName("view")[0];
d=a.createElement("element");d.setAttribute("id","adOptions");c.appendChild(d);c=a.createElement("element");c.setAttribute("id","adChoices");c.setAttribute("target",this.config.target);d.appendChild(c);c=a.createElement("element");c.setAttribute("id","adCountdown");d.appendChild(c);return a};var Yb=function(){Yb.__super__.constructor.call(this)};g(Yb,S);Yb.prototype.componentName="ad-choices";Yb.prototype.icon=null;Yb.prototype.text=null;Yb.prototype.container=null;Yb.prototype.onRegister=function(){var a;
a=this.facade.retrieveProxy(x.NAME);this.container=this.create("ad-choices-link",this,"a");this.container.target="_blank";this.container.href=a.getTarget();this.text=this.createText("ad-choices-text","AdChoices",this.container);this.icon=this.create("ad-choices-icon",this.container);Yb.__super__.onRegister.call(this)};Yb.prototype.listNotificationInterests=function(){return[k.AD_CONTAINER_CREATED]};Yb.prototype.handleNotification=function(a){switch(a.getName()){case k.AD_CONTAINER_CREATED:a=a.getBody(),
null!=a&&a.appendChild(this.viewComponent)}};var id=function(a){id.__super__.constructor.call(this,a)};g(id,x);id.NAME=x.NAME;id.prototype.defaults={target:null};id.prototype.getTarget=function(){return this.data.target};id.prototype.setTarget=function(a){return this.data.target=a};var Nd=function(){Nd.__super__.constructor.call(this)};g(Nd,Fa);Nd.prototype.moduleName="outbrain";Nd.prototype.createModel=function(){Nd.__super__.createModel.call(this);this.registerProxy(new fd(this.config))};q.registerPlugin("outbrain",
"html",Nd);q.registerPlugin("outbrain","flash",gd);var jd=function(){jd.__super__.constructor.call(this)};g(jd,V);jd.prototype.moduleName="adchoices";jd.prototype.createModel=function(){this.registerProxy(new id(this.config))};jd.prototype.createView=function(){this.registerMediator(new Yb)};jd.prototype.listNotificationInterests=function(){return[k.AD_CONTAINER_CREATED]};q.registerPlugin("adchoices","html",jd);q.registerPlugin("adchoices","flash",Le);zg.akamai={amp:{AMP:q,utils:{Utils:h,QueryString:Fc,
Logger:ba}}};window.AKAMAI_MEDIA_PLAYER.saveSDK("AMP - Premier : WebMD v0.30.0.0002",zg)}window.AKAMAI_MEDIA_PLAYER.setVersion("AMP - Premier : WebMD v0.30.0.0002")})();