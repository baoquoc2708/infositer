!function(n){function e(n){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=p.p+""+n+"."+v+".hot-update.js",e.appendChild(t)}function t(n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var e=new XMLHttpRequest,t=p.p+""+v+".hot-update.json";e.open("GET",t,!0),e.timeout=1e4,e.send(null)}catch(i){return n(i)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)n(new Error("Manifest request to "+t+" timed out."));else if(404===e.status)n();else if(200!==e.status&&304!==e.status)n(new Error("Manifest request to "+t+" failed."));else{try{var i=JSON.parse(e.responseText)}catch(o){return void n(o)}n(null,i)}}}function i(n){var e=M[n];if(!e)return p;var t=function(t){return e.hot.active?M[t]?(M[t].parents.indexOf(n)<0&&M[t].parents.push(n),e.children.indexOf(t)<0&&e.children.push(t)):C=[n]:(console.warn("[HMR] unexpected require("+t+") from disposed module "+n),C=[]),p(t)};for(var i in p)Object.prototype.hasOwnProperty.call(p,i)&&(t[i]=p[i]);return t.e=function(n,e){"ready"===P&&r("prepare"),x++,p.e(n,function(){function i(){x--,"prepare"===P&&(N[n]||c(n),0===x&&0===A&&u())}try{e.call(null,t)}finally{i()}})},t}function o(n){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(n,t){if("undefined"==typeof n)e._selfAccepted=!0;else if("function"==typeof n)e._selfAccepted=n;else if("object"==typeof n)for(var i=0;i<n.length;i++)e._acceptedDependencies[n[i]]=t;else e._acceptedDependencies[n]=t},decline:function(n){if("undefined"==typeof n)e._selfDeclined=!0;else if("number"==typeof n)e._declinedDependencies[n]=!0;else for(var t=0;t<n.length;t++)e._declinedDependencies[n[t]]=!0},dispose:function(n){e._disposeHandlers.push(n)},addDisposeHandler:function(n){e._disposeHandlers.push(n)},removeDisposeHandler:function(n){var t=e._disposeHandlers.indexOf(n);t>=0&&e._disposeHandlers.splice(t,1)},check:s,apply:d,status:function(n){return n?void E.push(n):P},addStatusHandler:function(n){E.push(n)},removeStatusHandler:function(n){var e=E.indexOf(n);e>=0&&E.splice(e,1)},data:_[n]};return e}function r(n){P=n;for(var e=0;e<E.length;e++)E[e].call(null,n)}function a(n){var e=+n+""===n;return e?+n:n}function s(n,e){if("idle"!==P)throw new Error("check() is only allowed in idle status");"function"==typeof n?(g=!1,e=n):(g=n,e=e||function(n){if(n)throw n}),r("check"),t(function(n,t){if(n)return e(n);if(!t)return r("idle"),void e(null,null);b={},T={},N={};for(var i=0;i<t.c.length;i++)T[t.c[i]]=!0;y=t.h,r("prepare"),h=e,m={};var o=0;c(o),"prepare"===P&&0===x&&0===A&&u()})}function l(n,e){if(T[n]&&b[n]){b[n]=!1;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(m[t]=e[t]);0===--A&&0===x&&u()}}function c(n){T[n]?(b[n]=!0,A++,e(n)):N[n]=!0}function u(){r("ready");var n=h;if(h=null,n)if(g)d(g,n);else{var e=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&e.push(a(t));n(null,e)}}function d(e,t){function i(n){for(var e=[n],t={},i=e.slice();i.length>0;){var r=i.pop(),n=M[r];if(n&&!n.hot._selfAccepted){if(n.hot._selfDeclined)return new Error("Aborted because of self decline: "+r);if(0===r)return;for(var a=0;a<n.parents.length;a++){var s=n.parents[a],l=M[s];if(l.hot._declinedDependencies[r])return new Error("Aborted because of declined dependency: "+r+" in "+s);e.indexOf(s)>=0||(l.hot._acceptedDependencies[r]?(t[s]||(t[s]=[]),o(t[s],[r])):(delete t[s],e.push(s),i.push(s)))}}}return[e,t]}function o(n,e){for(var t=0;t<e.length;t++){var i=e[t];n.indexOf(i)<0&&n.push(i)}}if("ready"!==P)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(t=e,e={}):e&&"object"==typeof e?t=t||function(n){if(n)throw n}:(e={},t=t||function(n){if(n)throw n});var s={},l=[],c={};for(var u in m)if(Object.prototype.hasOwnProperty.call(m,u)){var d=a(u),f=i(d);if(!f){if(e.ignoreUnaccepted)continue;return r("abort"),t(new Error("Aborted because "+d+" is not accepted"))}if(f instanceof Error)return r("abort"),t(f);c[d]=m[d],o(l,f[0]);for(var d in f[1])Object.prototype.hasOwnProperty.call(f[1],d)&&(s[d]||(s[d]=[]),o(s[d],f[1][d]))}for(var h=[],g=0;g<l.length;g++){var d=l[g];M[d]&&M[d].hot._selfAccepted&&h.push({module:d,errorHandler:M[d].hot._selfAccepted})}r("dispose");for(var E=l.slice();E.length>0;){var d=E.pop(),A=M[d];if(A){for(var x={},N=A.hot._disposeHandlers,b=0;b<N.length;b++){var T=N[b];T(x)}_[d]=x,A.hot.active=!1,delete M[d];for(var b=0;b<A.children.length;b++){var S=M[A.children[b]];if(S){var k=S.parents.indexOf(d);k>=0&&S.parents.splice(k,1)}}}}for(var d in s)if(Object.prototype.hasOwnProperty.call(s,d))for(var A=M[d],I=s[d],b=0;b<I.length;b++){var w=I[b],k=A.children.indexOf(w);k>=0&&A.children.splice(k,1)}r("apply"),v=y;for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(n[d]=c[d]);var D=null;for(var d in s)if(Object.prototype.hasOwnProperty.call(s,d)){for(var A=M[d],I=s[d],O=[],g=0;g<I.length;g++){var w=I[g],T=A.hot._acceptedDependencies[w];O.indexOf(T)>=0||O.push(T)}for(var g=0;g<O.length;g++){var T=O[g];try{T(s)}catch(R){D||(D=R)}}}for(var g=0;g<h.length;g++){var L=h[g],d=L.module;C=[d];try{p(d)}catch(R){if("function"==typeof L.errorHandler)try{L.errorHandler(R)}catch(R){D||(D=R)}else D||(D=R)}}return D?(r("fail"),t(D)):(r("idle"),void t(null,l))}function p(e){if(M[e])return M[e].exports;var t=M[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:C,children:[]};return n[e].call(t.exports,t,t.exports,i(e)),t.loaded=!0,t.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(n,e){l(n,e),f&&f(n,e)};var h,m,y,g=!0,v="1d8967dbe5ac31ac9083",_={},C=[],E=[],P="idle",A=0,x=0,N={},b={},T={},M={};return p.m=n,p.c=M,p.p="",p.h=function(){return v},i(0)(0)}([function(n,e,t){t(289),t(325),n.exports=t(252)},function(n,e){function t(){c=!1,a.length?l=a.concat(l):u=-1,l.length&&i()}function i(){if(!c){var n=setTimeout(t);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,clearTimeout(n)}}function o(n,e){this.fun=n,this.array=e}function r(){}var a,s=n.exports={},l=[],c=!1,u=-1;s.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];l.push(new o(n,e)),1!==l.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=r,s.addListener=r,s.once=r,s.off=r,s.removeListener=r,s.removeAllListeners=r,s.emit=r,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,e,t){(function(e){"use strict";var t=function(n,t,i,o,r,a,s,l){if("production"!==e.env.NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!n){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,o,r,a,s,l],d=0;c=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[d++]}))}throw c.framesToPop=1,c}};n.exports=t}).call(e,t(1))},function(n,e,t){n.exports=t(32)},function(n,e){"function"==typeof Object.create?n.exports=function(n,e){n.super_=e,n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(n,e){n.super_=e;var t=function(){};t.prototype=e.prototype,n.prototype=new t,n.prototype.constructor=n}},function(n,e){"use strict";function t(n,e){if(null==n)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(n),i=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r){var a=Object(r);for(var s in a)i.call(a,s)&&(t[s]=a[s])}}return t}n.exports=t},function(n,e,t){(function(e){"use strict";function i(n,t){Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(n){"production"!==e.env.NODE_ENV?l(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",t):null,this._store[t]=n}})}function o(n){try{var e={props:!0};for(var t in e)i(n,t);u=!0}catch(o){}}var r=t(69),a=t(26),s=t(5),l=t(7),c={key:!0,ref:!0},u=!1,d=function(n,t,i,o,r,a){if(this.type=n,this.key=t,this.ref=i,this._owner=o,this._context=r,"production"!==e.env.NODE_ENV){this._store={props:a,originalProps:s({},a)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(l){}if(this._store.validated=!1,u)return void Object.freeze(this)}this.props=a};d.prototype={_isReactElement:!0},"production"!==e.env.NODE_ENV&&o(d.prototype),d.createElement=function(n,e,t){var i,o={},s=null,l=null;if(null!=e){l=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key;for(i in e)e.hasOwnProperty(i)&&!c.hasOwnProperty(i)&&(o[i]=e[i])}var u=arguments.length-2;if(1===u)o.children=t;else if(u>1){for(var p=Array(u),f=0;u>f;f++)p[f]=arguments[f+2];o.children=p}if(n&&n.defaultProps){var h=n.defaultProps;for(i in h)"undefined"==typeof o[i]&&(o[i]=h[i])}return new d(n,s,l,a.current,r.current,o)},d.createFactory=function(n){var e=d.createElement.bind(null,n);return e.type=n,e},d.cloneAndReplaceProps=function(n,t){var i=new d(n.type,n.key,n.ref,n._owner,n._context,t);return"production"!==e.env.NODE_ENV&&(i._store.validated=n._store.validated),i},d.cloneElement=function(n,e,t){var i,o=s({},n.props),r=n.key,l=n.ref,u=n._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,u=a.current),void 0!==e.key&&(r=""+e.key);for(i in e)e.hasOwnProperty(i)&&!c.hasOwnProperty(i)&&(o[i]=e[i])}var p=arguments.length-2;if(1===p)o.children=t;else if(p>1){for(var f=Array(p),h=0;p>h;h++)f[h]=arguments[h+2];o.children=f}return new d(n.type,r,l,u,n._context,o)},d.isValidElement=function(n){var e=!(!n||!n._isReactElement);return e},n.exports=d}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(19),o=i;"production"!==e.env.NODE_ENV&&(o=function(n,e){for(var t=[],i=2,o=arguments.length;o>i;i++)t.push(arguments[i]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!n){var r=0,a="Warning: "+e.replace(/%s/g,function(){return t[r++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),n.exports=o}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e){for(var t=Math.min(n.length,e.length),i=0;t>i;i++)if(n.charAt(i)!==e.charAt(i))return i;return n.length===e.length?-1:t}function o(n){var e=I(n);return e&&Y.getID(e)}function r(n){var t=a(n);if(t)if(F.hasOwnProperty(t)){var i=F[t];i!==n&&("production"!==e.env.NODE_ENV?D(!u(i,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",U,t):D(!u(i,t)),F[t]=n)}else F[t]=n;return t}function a(n){return n&&n.getAttribute&&n.getAttribute(U)||""}function s(n,e){var t=a(n);t!==e&&delete F[t],n.setAttribute(U,e),F[e]=n}function l(n){return F.hasOwnProperty(n)&&u(F[n],n)||(F[n]=Y.findReactNodeByID(n)),F[n]}function c(n){var e=A.get(n)._rootNodeID;return E.isNullComponentID(e)?null:(F.hasOwnProperty(e)&&u(F[e],e)||(F[e]=Y.findReactNodeByID(e)),F[e])}function u(n,t){if(n){"production"!==e.env.NODE_ENV?D(a(n)===t,"ReactMount: Unexpected modification of `%s`",U):D(a(n)===t);var i=Y.findReactContainerForID(t);if(i&&k(i,n))return!0}return!1}function d(n){delete F[n]}function p(n){var e=F[n];return e&&u(e,n)?void(z=e):!1}function f(n){z=null,P.traverseAncestors(n,p);var e=z;return z=null,e}function h(n,e,t,i,o){var r=b.mountComponent(n,e,i,S);n._isTopLevel=!0,Y._mountImageIntoNode(r,t,o)}function m(n,e,t,i){var o=M.ReactReconcileTransaction.getPooled();o.perform(h,null,n,e,t,o,i),M.ReactReconcileTransaction.release(o)}var y=t(31),g=t(33),v=t(26),_=t(6),C=t(46),E=t(54),P=t(34),A=t(35),x=t(103),N=t(28),b=t(42),T=t(73),M=t(17),S=t(59),k=t(111),I=t(218),w=t(79),D=t(2),O=t(81),R=t(82),L=t(7),V=P.SEPARATOR,U=y.ID_ATTRIBUTE_NAME,F={},H=1,B=9,j={},G={};if("production"!==e.env.NODE_ENV)var W={};var q=[],z=null,Y={_instancesByReactRootID:j,scrollMonitor:function(n,e){e()},_updateRootComponent:function(n,t,i,r){return"production"!==e.env.NODE_ENV&&C.checkAndWarnForMutatedProps(t),Y.scrollMonitor(i,function(){T.enqueueElementInternal(n,t),r&&T.enqueueCallbackInternal(n,r)}),"production"!==e.env.NODE_ENV&&(W[o(i)]=I(i)),n},_registerComponent:function(n,t){"production"!==e.env.NODE_ENV?D(t&&(t.nodeType===H||t.nodeType===B),"_registerComponent(...): Target container is not a DOM element."):D(t&&(t.nodeType===H||t.nodeType===B)),g.ensureScrollValueMonitoring();var i=Y.registerContainer(t);return j[i]=n,i},_renderNewRootComponent:function(n,t,i){"production"!==e.env.NODE_ENV?L(null==v.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var o=w(n,null),r=Y._registerComponent(o,t);return M.batchedUpdates(m,o,r,t,i),"production"!==e.env.NODE_ENV&&(W[r]=I(t)),o},render:function(n,t,i){"production"!==e.env.NODE_ENV?D(_.isValidElement(n),"React.render(): Invalid component element.%s","string"==typeof n?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof n?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=n&&void 0!==n.props?" This may be caused by unintentionally loading two independent copies of React.":""):D(_.isValidElement(n));var r=j[o(t)];if(r){var a=r._currentElement;if(R(a,n))return Y._updateRootComponent(r,n,t,i).getPublicInstance();Y.unmountComponentAtNode(t)}var s=I(t),l=s&&Y.isRenderedByReact(s);if("production"!==e.env.NODE_ENV&&(!l||s.nextSibling))for(var c=s;c;){if(Y.isRenderedByReact(c)){"production"!==e.env.NODE_ENV?L(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}c=c.nextSibling}var u=l&&!r,d=Y._renderNewRootComponent(n,t,u).getPublicInstance();return i&&i.call(d),d},constructAndRenderComponent:function(n,e,t){var i=_.createElement(n,e);return Y.render(i,t)},constructAndRenderComponentByID:function(n,t,i){var o=document.getElementById(i);return"production"!==e.env.NODE_ENV?D(o,'Tried to get element with id of "%s" but it is not present on the page.',i):D(o),Y.constructAndRenderComponent(n,t,o)},registerContainer:function(n){var e=o(n);return e&&(e=P.getReactRootIDFromNodeID(e)),e||(e=P.createReactRootID()),G[e]=n,e},unmountComponentAtNode:function(n){"production"!==e.env.NODE_ENV?L(null==v.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==e.env.NODE_ENV?D(n&&(n.nodeType===H||n.nodeType===B),"unmountComponentAtNode(...): Target container is not a DOM element."):D(n&&(n.nodeType===H||n.nodeType===B));var t=o(n),i=j[t];return i?(Y.unmountComponentFromNode(i,n),delete j[t],delete G[t],"production"!==e.env.NODE_ENV&&delete W[t],!0):!1},unmountComponentFromNode:function(n,e){for(b.unmountComponent(n),e.nodeType===B&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(n){var t=P.getReactRootIDFromNodeID(n),i=G[t];if("production"!==e.env.NODE_ENV){var o=W[t];if(o&&o.parentNode!==i){"production"!==e.env.NODE_ENV?D(a(o)===t,"ReactMount: Root element ID differed from reactRootID."):D(a(o)===t);var r=i.firstChild;r&&t===a(r)?W[t]=r:"production"!==e.env.NODE_ENV?L(!1,"ReactMount: Root element has been removed from its original container. New container:",o.parentNode):null}}return i},findReactNodeByID:function(n){var e=Y.findReactContainerForID(n);return Y.findComponentRoot(e,n)},isRenderedByReact:function(n){if(1!==n.nodeType)return!1;var e=Y.getID(n);return e?e.charAt(0)===V:!1},getFirstReactDOM:function(n){for(var e=n;e&&e.parentNode!==e;){if(Y.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(n,t){var i=q,o=0,r=f(t)||n;for(i[0]=r.firstChild,i.length=1;o<i.length;){for(var a,s=i[o++];s;){var l=Y.getID(s);l?t===l?a=s:P.isAncestorIDOf(l,t)&&(i.length=o=0,i.push(s.firstChild)):i.push(s.firstChild),s=s.nextSibling}if(a)return i.length=0,a}i.length=0,"production"!==e.env.NODE_ENV?D(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,Y.getID(n)):D(!1)},_mountImageIntoNode:function(n,t,o){if("production"!==e.env.NODE_ENV?D(t&&(t.nodeType===H||t.nodeType===B),"mountComponentIntoNode(...): Target container is not valid."):D(t&&(t.nodeType===H||t.nodeType===B)),o){var r=I(t);if(x.canReuseMarkup(n,r))return;var a=r.getAttribute(x.CHECKSUM_ATTR_NAME);r.removeAttribute(x.CHECKSUM_ATTR_NAME);var s=r.outerHTML;r.setAttribute(x.CHECKSUM_ATTR_NAME,a);var l=i(n,s),c=" (client) "+n.substring(l-20,l+20)+"\n (server) "+s.substring(l-20,l+20);"production"!==e.env.NODE_ENV?D(t.nodeType!==B,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c):D(t.nodeType!==B),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?L(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c):null)}"production"!==e.env.NODE_ENV?D(t.nodeType!==B,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):D(t.nodeType!==B),O(t,n)},getReactRootID:o,getID:r,setID:s,getNode:l,getNodeFromInstance:c,purgeID:d};N.measureMethods(Y,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),n.exports=Y}).call(e,t(1))},function(n,e,t){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var n=arguments,t=this.useColors;if(n[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+n[0]+(t?"%c ":" ")+"+"+e.humanize(this.diff),!t)return n;var i="color: "+this.color;n=[n[0],i,"color: inherit"].concat(Array.prototype.slice.call(n,1));var o=0,r=0;return n[0].replace(/%[a-z%]/g,function(n){"%%"!==n&&(o++,"%c"===n&&(r=o))}),n.splice(r,0,i),n}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(n){try{null==n?e.storage.removeItem("debug"):e.storage.debug=n}catch(t){}}function s(){var n;try{n=e.storage.debug}catch(t){}return n}function l(){try{return window.localStorage}catch(n){}}e=n.exports=t(316),e.log=r,e.formatArgs=o,e.save=a,e.load=s,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(n){return JSON.stringify(n)},e.enable(s())},function(n,e,t){var i,o;(function(n,t,r,a){!function(t,a){function s(n){var e=n.length,t=yn.type(n);return yn.isWindow(n)?!1:1===n.nodeType&&e?!0:"array"===t||"function"!==t&&(0===e||"number"==typeof e&&e>0&&e-1 in n)}function l(n){var e=In[n]={};return yn.each(n.match(vn)||[],function(n,t){e[t]=!0}),e}function c(n,e,t,i){if(yn.acceptData(n)){var o,r,s=yn.expando,l=n.nodeType,c=l?yn.cache:n,u=l?n[s]:n[s]&&s;if(u&&c[u]&&(i||c[u].data)||t!==a||"string"!=typeof e)return u||(u=l?n[s]=sn.pop()||yn.guid++:s),c[u]||(c[u]=l?{}:{toJSON:yn.noop}),("object"==typeof e||"function"==typeof e)&&(i?c[u]=yn.extend(c[u],e):c[u].data=yn.extend(c[u].data,e)),r=c[u],i||(r.data||(r.data={}),r=r.data),t!==a&&(r[yn.camelCase(e)]=t),"string"==typeof e?(o=r[e],null==o&&(o=r[yn.camelCase(e)])):o=r,o}}function u(n,e,t){if(yn.acceptData(n)){var i,o,r=n.nodeType,a=r?yn.cache:n,s=r?n[yn.expando]:yn.expando;if(a[s]){if(e&&(i=t?a[s]:a[s].data)){yn.isArray(e)?e=e.concat(yn.map(e,yn.camelCase)):e in i?e=[e]:(e=yn.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(t?!p(i):!yn.isEmptyObject(i))return}(t||(delete a[s].data,p(a[s])))&&(r?yn.cleanData([n],!0):yn.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(n,e,t){if(t===a&&1===n.nodeType){var i="data-"+e.replace(Dn,"-$1").toLowerCase();if(t=n.getAttribute(i),"string"==typeof t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:wn.test(t)?yn.parseJSON(t):t}catch(o){}yn.data(n,e,t)}else t=a}return t}function p(n){var e;for(e in n)if(("data"!==e||!yn.isEmptyObject(n[e]))&&"toJSON"!==e)return!1;return!0}function f(){return!0}function h(){return!1}function m(){try{return en.activeElement}catch(n){}}function y(n,e){do n=n[e];while(n&&1!==n.nodeType);return n}function g(n,e,t){if(yn.isFunction(e))return yn.grep(n,function(n,i){return!!e.call(n,i,n)!==t});if(e.nodeType)return yn.grep(n,function(n){return n===e!==t});if("string"==typeof e){if(Kn.test(e))return yn.filter(e,n,t);e=yn.filter(e,n)}return yn.grep(n,function(n){return yn.inArray(n,e)>=0!==t})}function v(n){var e=Jn.split("|"),t=n.createDocumentFragment();if(t.createElement)for(;e.length;)t.createElement(e.pop());return t}function _(n,e){return yn.nodeName(n,"table")&&yn.nodeName(1===e.nodeType?e:e.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function C(n){return n.type=(null!==yn.find.attr(n,"type"))+"/"+n.type,n}function E(n){var e=ue.exec(n.type);return e?n.type=e[1]:n.removeAttribute("type"),n}function P(n,e){for(var t,i=0;null!=(t=n[i]);i++)yn._data(t,"globalEval",!e||yn._data(e[i],"globalEval"))}function A(n,e){if(1===e.nodeType&&yn.hasData(n)){var t,i,o,r=yn._data(n),a=yn._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(t in s)for(i=0,o=s[t].length;o>i;i++)yn.event.add(e,t,s[t][i])}a.data&&(a.data=yn.extend({},a.data))}}function x(n,e){var t,i,o;if(1===e.nodeType){if(t=e.nodeName.toLowerCase(),!yn.support.noCloneEvent&&e[yn.expando]){o=yn._data(e);for(i in o.events)yn.removeEvent(e,i,o.handle);e.removeAttribute(yn.expando)}"script"===t&&e.text!==n.text?(C(e).text=n.text,E(e)):"object"===t?(e.parentNode&&(e.outerHTML=n.outerHTML),yn.support.html5Clone&&n.innerHTML&&!yn.trim(e.innerHTML)&&(e.innerHTML=n.innerHTML)):"input"===t&&se.test(n.type)?(e.defaultChecked=e.checked=n.checked,e.value!==n.value&&(e.value=n.value)):"option"===t?e.defaultSelected=e.selected=n.defaultSelected:("input"===t||"textarea"===t)&&(e.defaultValue=n.defaultValue)}}function N(n,e){var t,i,o=0,r=typeof n.getElementsByTagName!==Z?n.getElementsByTagName(e||"*"):typeof n.querySelectorAll!==Z?n.querySelectorAll(e||"*"):a;if(!r)for(r=[],t=n.childNodes||n;null!=(i=t[o]);o++)!e||yn.nodeName(i,e)?r.push(i):yn.merge(r,N(i,e));return e===a||e&&yn.nodeName(n,e)?yn.merge([n],r):r}function b(n){se.test(n.type)&&(n.defaultChecked=n.checked)}function T(n,e){if(e in n)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=ke.length;o--;)if(e=ke[o]+t,e in n)return e;return i}function M(n,e){return n=e||n,"none"===yn.css(n,"display")||!yn.contains(n.ownerDocument,n)}function S(n,e){for(var t,i,o,r=[],a=0,s=n.length;s>a;a++)i=n[a],i.style&&(r[a]=yn._data(i,"olddisplay"),t=i.style.display,e?(r[a]||"none"!==t||(i.style.display=""),""===i.style.display&&M(i)&&(r[a]=yn._data(i,"olddisplay",D(i.nodeName)))):r[a]||(o=M(i),(t&&"none"!==t||!o)&&yn._data(i,"olddisplay",o?t:yn.css(i,"display"))));for(a=0;s>a;a++)i=n[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return n}function k(n,e,t){var i=Ae.exec(e);return i?Math.max(0,i[1]-(t||0))+(i[2]||"px"):e}function I(n,e,t,i,o){for(var r=t===(i?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===t&&(a+=yn.css(n,t+Se[r],!0,o)),i?("content"===t&&(a-=yn.css(n,"padding"+Se[r],!0,o)),"margin"!==t&&(a-=yn.css(n,"border"+Se[r]+"Width",!0,o))):(a+=yn.css(n,"padding"+Se[r],!0,o),"padding"!==t&&(a+=yn.css(n,"border"+Se[r]+"Width",!0,o)));return a}function w(n,e,t){var i=!0,o="width"===e?n.offsetWidth:n.offsetHeight,r=ye(n),a=yn.support.boxSizing&&"border-box"===yn.css(n,"boxSizing",!1,r);if(0>=o||null==o){if(o=ge(n,e,r),(0>o||null==o)&&(o=n.style[e]),xe.test(o))return o;i=a&&(yn.support.boxSizingReliable||o===n.style[e]),o=parseFloat(o)||0}return o+I(n,e,t||(a?"border":"content"),i,r)+"px"}function D(n){var e=en,t=be[n];return t||(t=O(n,e),"none"!==t&&t||(me=(me||yn("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(me[0].contentWindow||me[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),t=O(n,e),me.detach()),be[n]=t),t}function O(n,e){var t=yn(e.createElement(n)).appendTo(e.body),i=yn.css(t[0],"display");return t.remove(),i}function R(n,e,t,i){var o;if(yn.isArray(e))yn.each(e,function(e,o){t||we.test(n)?i(n,o):R(n+"["+("object"==typeof o?e:"")+"]",o,t,i)});else if(t||"object"!==yn.type(e))i(n,e);else for(o in e)R(n+"["+o+"]",e[o],t,i)}function L(n){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,o=0,r=e.toLowerCase().match(vn)||[];if(yn.isFunction(t))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(n[i]=n[i]||[]).unshift(t)):(n[i]=n[i]||[]).push(t)}}function V(n,e,t,i){function o(s){var l;return r[s]=!0,yn.each(n[s]||[],function(n,s){var c=s(e,t,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=n===Xe;return o(e.dataTypes[0])||!r["*"]&&o("*")}function U(n,e){var t,i,o=yn.ajaxSettings.flatOptions||{};for(i in e)e[i]!==a&&((o[i]?n:t||(t={}))[i]=e[i]);return t&&yn.extend(!0,n,t),n}function F(n,e,t){for(var i,o,r,s,l=n.contents,c=n.dataTypes;"*"===c[0];)c.shift(),o===a&&(o=n.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in t)r=c[0];else{for(s in t){if(!c[0]||n.converters[s+" "+c[0]]){r=s;break}i||(i=s)}r=r||i}return r?(r!==c[0]&&c.unshift(r),t[r]):void 0}function H(n,e,t,i){var o,r,a,s,l,c={},u=n.dataTypes.slice();if(u[1])for(a in n.converters)c[a.toLowerCase()]=n.converters[a];for(r=u.shift();r;)if(n.responseFields[r]&&(t[n.responseFields[r]]=e),!l&&i&&n.dataFilter&&(e=n.dataFilter(e,n.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&n["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function B(){try{return new t.XMLHttpRequest}catch(n){}}function j(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}function G(){return setTimeout(function(){ot=a}),ot=yn.now()}function W(n,e,t){for(var i,o=(ut[e]||[]).concat(ut["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(t,e,n))return i}function q(n,e,t){var i,o,r=0,a=ct.length,s=yn.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ot||G(),t=Math.max(0,c.startTime+c.duration-e),i=t/c.duration||0,r=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(n,[c,r,t]),1>r&&l?t:(s.resolveWith(n,[c]),!1)},c=s.promise({elem:n,props:yn.extend({},e),opts:yn.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:ot||G(),duration:t.duration,tweens:[],createTween:function(e,t){var i=yn.Tween(n,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;i>t;t++)c.tweens[t].run(1);return e?s.resolveWith(n,[c,e]):s.rejectWith(n,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);a>r;r++)if(i=ct[r].call(c,n,u,c.opts))return i;return yn.map(u,W,c),yn.isFunction(c.opts.start)&&c.opts.start.call(n,c),yn.fx.timer(yn.extend(l,{elem:n,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(n,e){var t,i,o,r,a;for(t in n)if(i=yn.camelCase(t),o=e[i],r=n[t],yn.isArray(r)&&(o=r[1],r=n[t]=r[0]),t!==i&&(n[i]=r,delete n[t]),a=yn.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete n[i];for(t in r)t in n||(n[t]=r[t],e[t]=o)}else e[i]=o}function Y(n,e,t){var i,o,r,a,s,l,c=this,u={},d=n.style,p=n.nodeType&&M(n),f=yn._data(n,"fxshow");t.queue||(s=yn._queueHooks(n,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,yn.queue(n,"fx").length||s.empty.fire()})})),1===n.nodeType&&("height"in e||"width"in e)&&(t.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===yn.css(n,"display")&&"none"===yn.css(n,"float")&&(yn.support.inlineBlockNeedsLayout&&"inline"!==D(n.nodeName)?d.zoom=1:d.display="inline-block")),t.overflow&&(d.overflow="hidden",yn.support.shrinkWrapBlocks||c.always(function(){d.overflow=t.overflow[0],d.overflowX=t.overflow[1],d.overflowY=t.overflow[2]}));for(i in e)if(o=e[i],at.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show"))continue;u[i]=f&&f[i]||yn.style(n,i)}if(!yn.isEmptyObject(u)){f?"hidden"in f&&(p=f.hidden):f=yn._data(n,"fxshow",{}),r&&(f.hidden=!p),p?yn(n).show():c.done(function(){yn(n).hide()}),c.done(function(){var e;yn._removeData(n,"fxshow");for(e in u)yn.style(n,e,u[e])});for(i in u)a=W(p?f[i]:0,i,c),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function K(n,e,t,i,o){return new K.prototype.init(n,e,t,i,o)}function X(n,e){var t,i={height:n},o=0;for(e=e?1:0;4>o;o+=2-e)t=Se[o],i["margin"+t]=i["padding"+t]=n;return e&&(i.opacity=i.width=n),i}function Q(n){return yn.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var $,J,Z=typeof a,nn=t.location,en=t.document,tn=en.documentElement,on=n,rn=t.$,an={},sn=[],ln="1.10.2",cn=sn.concat,un=sn.push,dn=sn.slice,pn=sn.indexOf,fn=an.toString,hn=an.hasOwnProperty,mn=ln.trim,yn=function(n,e){return new yn.fn.init(n,e,J)},gn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vn=/\S+/g,_n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Cn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,En=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pn=/^[\],:{}\s]*$/,An=/(?:^|:|,)(?:\s*\[)+/g,xn=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Nn=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bn=/^-ms-/,Tn=/-([\da-z])/gi,Mn=function(n,e){return e.toUpperCase()},Sn=function(n){(en.addEventListener||"load"===n.type||"complete"===en.readyState)&&(kn(),yn.ready())},kn=function(){en.addEventListener?(en.removeEventListener("DOMContentLoaded",Sn,!1),
t.removeEventListener("load",Sn,!1)):(en.detachEvent("onreadystatechange",Sn),t.detachEvent("onload",Sn))};yn.fn=yn.prototype={jquery:ln,constructor:yn,init:function(n,e,t){var i,o;if(!n)return this;if("string"==typeof n){if(i="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:Cn.exec(n),!i||!i[1]&&e)return!e||e.jquery?(e||t).find(n):this.constructor(e).find(n);if(i[1]){if(e=e instanceof yn?e[0]:e,yn.merge(this,yn.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:en,!0)),En.test(i[1])&&yn.isPlainObject(e))for(i in e)yn.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(o=en.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return t.find(n);this.length=1,this[0]=o}return this.context=en,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):yn.isFunction(n)?t.ready(n):(n.selector!==a&&(this.selector=n.selector,this.context=n.context),yn.makeArray(n,this))},selector:"",length:0,toArray:function(){return dn.call(this)},get:function(n){return null==n?this.toArray():0>n?this[this.length+n]:this[n]},pushStack:function(n){var e=yn.merge(this.constructor(),n);return e.prevObject=this,e.context=this.context,e},each:function(n,e){return yn.each(this,n,e)},ready:function(n){return yn.ready.promise().done(n),this},slice:function(){return this.pushStack(dn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var e=this.length,t=+n+(0>n?e:0);return this.pushStack(t>=0&&e>t?[this[t]]:[])},map:function(n){return this.pushStack(yn.map(this,function(e,t){return n.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:un,sort:[].sort,splice:[].splice},yn.fn.init.prototype=yn.fn,yn.extend=yn.fn.extend=function(){var n,e,t,i,o,r,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||yn.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(i in o)n=s[i],t=o[i],s!==t&&(u&&t&&(yn.isPlainObject(t)||(e=yn.isArray(t)))?(e?(e=!1,r=n&&yn.isArray(n)?n:[]):r=n&&yn.isPlainObject(n)?n:{},s[i]=yn.extend(u,r,t)):t!==a&&(s[i]=t));return s},yn.extend({expando:"jQuery"+(ln+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===yn&&(t.$=rn),e&&n===yn&&(n=on),yn},isReady:!1,readyWait:1,holdReady:function(n){n?yn.readyWait++:yn.ready(!0)},ready:function(n){if(n===!0?!--yn.readyWait:!yn.isReady){if(!en.body)return setTimeout(yn.ready);yn.isReady=!0,n!==!0&&--yn.readyWait>0||($.resolveWith(en,[yn]),yn.fn.trigger&&yn(en).trigger("ready").off("ready"))}},isFunction:function(n){return"function"===yn.type(n)},isArray:Array.isArray||function(n){return"array"===yn.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?String(n):"object"==typeof n||"function"==typeof n?an[fn.call(n)]||"object":typeof n},isPlainObject:function(n){var e;if(!n||"object"!==yn.type(n)||n.nodeType||yn.isWindow(n))return!1;try{if(n.constructor&&!hn.call(n,"constructor")&&!hn.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(yn.support.ownLast)for(e in n)return hn.call(n,e);for(e in n);return e===a||hn.call(n,e)},isEmptyObject:function(n){var e;for(e in n)return!1;return!0},error:function(n){throw new Error(n)},parseHTML:function(n,e,t){if(!n||"string"!=typeof n)return null;"boolean"==typeof e&&(t=e,e=!1),e=e||en;var i=En.exec(n),o=!t&&[];return i?[e.createElement(i[1])]:(i=yn.buildFragment([n],e,o),o&&yn(o).remove(),yn.merge([],i.childNodes))},parseJSON:function(n){return t.JSON&&t.JSON.parse?t.JSON.parse(n):null===n?n:"string"==typeof n&&(n=yn.trim(n),n&&Pn.test(n.replace(xn,"@").replace(Nn,"]").replace(An,"")))?new Function("return "+n)():void yn.error("Invalid JSON: "+n)},parseXML:function(n){var e,i;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(i=new DOMParser,e=i.parseFromString(n,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(n))}catch(o){e=a}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||yn.error("Invalid XML: "+n),e},noop:function(){},globalEval:function(n){n&&yn.trim(n)&&(t.execScript||function(n){t.eval.call(t,n)})(n)},camelCase:function(n){return n.replace(bn,"ms-").replace(Tn,Mn)},nodeName:function(n,e){return n.nodeName&&n.nodeName.toLowerCase()===e.toLowerCase()},each:function(n,e,t){var i,o=0,r=n.length,a=s(n);if(t){if(a)for(;r>o&&(i=e.apply(n[o],t),i!==!1);o++);else for(o in n)if(i=e.apply(n[o],t),i===!1)break}else if(a)for(;r>o&&(i=e.call(n[o],o,n[o]),i!==!1);o++);else for(o in n)if(i=e.call(n[o],o,n[o]),i===!1)break;return n},trim:mn&&!mn.call("\ufeff ")?function(n){return null==n?"":mn.call(n)}:function(n){return null==n?"":(n+"").replace(_n,"")},makeArray:function(n,e){var t=e||[];return null!=n&&(s(Object(n))?yn.merge(t,"string"==typeof n?[n]:n):un.call(t,n)),t},inArray:function(n,e,t){var i;if(e){if(pn)return pn.call(e,n,t);for(i=e.length,t=t?0>t?Math.max(0,i+t):t:0;i>t;t++)if(t in e&&e[t]===n)return t}return-1},merge:function(n,e){var t=e.length,i=n.length,o=0;if("number"==typeof t)for(;t>o;o++)n[i++]=e[o];else for(;e[o]!==a;)n[i++]=e[o++];return n.length=i,n},grep:function(n,e,t){var i,o=[],r=0,a=n.length;for(t=!!t;a>r;r++)i=!!e(n[r],r),t!==i&&o.push(n[r]);return o},map:function(n,e,t){var i,o=0,r=n.length,a=s(n),l=[];if(a)for(;r>o;o++)i=e(n[o],o,t),null!=i&&(l[l.length]=i);else for(o in n)i=e(n[o],o,t),null!=i&&(l[l.length]=i);return cn.apply([],l)},guid:1,proxy:function(n,e){var t,i,o;return"string"==typeof e&&(o=n[e],e=n,n=o),yn.isFunction(n)?(t=dn.call(arguments,2),i=function(){return n.apply(e||this,t.concat(dn.call(arguments)))},i.guid=n.guid=n.guid||yn.guid++,i):a},access:function(n,e,t,i,o,r,s){var l=0,c=n.length,u=null==t;if("object"===yn.type(t)){o=!0;for(l in t)yn.access(n,e,l,t[l],!0,r,s)}else if(i!==a&&(o=!0,yn.isFunction(i)||(s=!0),u&&(s?(e.call(n,i),e=null):(u=e,e=function(n,e,t){return u.call(yn(n),t)})),e))for(;c>l;l++)e(n[l],t,s?i:i.call(n[l],l,e(n[l],t)));return o?n:u?e.call(n):c?e(n[0],t):r},now:function(){return(new Date).getTime()},swap:function(n,e,t,i){var o,r,a={};for(r in e)a[r]=n.style[r],n.style[r]=e[r];o=t.apply(n,i||[]);for(r in e)n.style[r]=a[r];return o}}),yn.ready.promise=function(n){if(!$)if($=yn.Deferred(),"complete"===en.readyState)setTimeout(yn.ready);else if(en.addEventListener)en.addEventListener("DOMContentLoaded",Sn,!1),t.addEventListener("load",Sn,!1);else{en.attachEvent("onreadystatechange",Sn),t.attachEvent("onload",Sn);var e=!1;try{e=null==t.frameElement&&en.documentElement}catch(i){}e&&e.doScroll&&!function o(){if(!yn.isReady){try{e.doScroll("left")}catch(n){return setTimeout(o,50)}kn(),yn.ready()}}()}return $.promise(n)},yn.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,e){an["[object "+e+"]"]=e.toLowerCase()}),J=yn(en),function(n,e){function t(n,e,t,i){var o,r,a,s,l,c,u,d,h,m;if((e?e.ownerDocument||e:H)!==w&&I(e),e=e||w,t=t||[],!n||"string"!=typeof n)return t;if(1!==(s=e.nodeType)&&9!==s)return[];if(O&&!i){if(o=Cn.exec(n))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return t;if(r.id===a)return t.push(r),t}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&U(e,r)&&r.id===a)return t.push(r),t}else{if(o[2])return nn.apply(t,e.getElementsByTagName(n)),t;if((a=o[3])&&A.getElementsByClassName&&e.getElementsByClassName)return nn.apply(t,e.getElementsByClassName(a)),t}if(A.qsa&&(!R||!R.test(n))){if(d=u=F,h=e,m=9===s&&n,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=p(n),(u=e.getAttribute("id"))?d=u.replace(An,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+f(c[l]);h=fn.test(n)&&e.parentNode||e,m=c.join(",")}if(m)try{return nn.apply(t,h.querySelectorAll(m)),t}catch(y){}finally{u||e.removeAttribute("id")}}}return E(n.replace(un,"$1"),e,t,i)}function i(){function n(t,i){return e.push(t+=" ")>N.cacheLength&&delete n[e.shift()],n[t]=i}var e=[];return n}function o(n){return n[F]=!0,n}function r(n){var e=w.createElement("div");try{return!!n(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(n,e){for(var t=n.split("|"),i=n.length;i--;)N.attrHandle[t[i]]=e}function s(n,e){var t=e&&n,i=t&&1===n.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~n.sourceIndex||X);if(i)return i;if(t)for(;t=t.nextSibling;)if(t===e)return-1;return n?1:-1}function l(n){return function(e){var t=e.nodeName.toLowerCase();return"input"===t&&e.type===n}}function c(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function u(n){return o(function(e){return e=+e,o(function(t,i){for(var o,r=n([],t.length,e),a=r.length;a--;)t[o=r[a]]&&(t[o]=!(i[o]=t[o]))})})}function d(){}function p(n,e){var i,o,r,a,s,l,c,u=W[n+" "];if(u)return e?0:u.slice(0);for(s=n,l=[],c=N.preFilter;s;){(!i||(o=dn.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=pn.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(un," ")}),s=s.slice(i.length));for(a in N.filter)!(o=vn[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return e?s.length:s?t.error(n):W(n,l).slice(0)}function f(n){for(var e=0,t=n.length,i="";t>e;e++)i+=n[e].value;return i}function h(n,e,t){var i=e.dir,o=t&&"parentNode"===i,r=j++;return e.first?function(e,t,r){for(;e=e[i];)if(1===e.nodeType||o)return n(e,t,r)}:function(e,t,a){var s,l,c,u=B+" "+r;if(a){for(;e=e[i];)if((1===e.nodeType||o)&&n(e,t,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(c=e[F]||(e[F]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===x)return s===!0}else if(l=c[i]=[u],l[1]=n(e,t,a)||x,l[1]===!0)return!0}}function m(n){return n.length>1?function(e,t,i){for(var o=n.length;o--;)if(!n[o](e,t,i))return!1;return!0}:n[0]}function y(n,e,t,i,o){for(var r,a=[],s=0,l=n.length,c=null!=e;l>s;s++)(r=n[s])&&(!t||t(r,i,o))&&(a.push(r),c&&e.push(s));return a}function g(n,e,t,i,r,a){return i&&!i[F]&&(i=g(i)),r&&!r[F]&&(r=g(r,a)),o(function(o,a,s,l){var c,u,d,p=[],f=[],h=a.length,m=o||C(e||"*",s.nodeType?[s]:s,[]),g=!n||!o&&e?m:y(m,p,n,s,l),v=t?r||(o?n:h||i)?[]:a:g;if(t&&t(g,v,s,l),i)for(c=y(v,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(g[f[u]]=d));if(o){if(r||n){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?tn.call(o,d):p[u])>-1&&(o[c]=!(a[c]=d))}}else v=y(v===a?v.splice(h,v.length):v),r?r(null,a,v,l):nn.apply(a,v)})}function v(n){for(var e,t,i,o=n.length,r=N.relative[n[0].type],a=r||N.relative[" "],s=r?1:0,l=h(function(n){return n===e},a,!0),c=h(function(n){return tn.call(e,n)>-1},a,!0),u=[function(n,t,i){return!r&&(i||t!==S)||((e=t).nodeType?l(n,t,i):c(n,t,i))}];o>s;s++)if(t=N.relative[n[s].type])u=[h(m(u),t)];else{if(t=N.filter[n[s].type].apply(null,n[s].matches),t[F]){for(i=++s;o>i&&!N.relative[n[i].type];i++);return g(s>1&&m(u),s>1&&f(n.slice(0,s-1).concat({value:" "===n[s-2].type?"*":""})).replace(un,"$1"),t,i>s&&v(n.slice(s,i)),o>i&&v(n=n.slice(i)),o>i&&f(n))}u.push(t)}return m(u)}function _(n,e){var i=0,r=e.length>0,a=n.length>0,s=function(o,s,l,c,u){var d,p,f,h=[],m=0,g="0",v=o&&[],_=null!=u,C=S,E=o||a&&N.find.TAG("*",u&&s.parentNode||s),P=B+=null==C?1:Math.random()||.1;for(_&&(S=s!==w&&s,x=i);null!=(d=E[g]);g++){if(a&&d){for(p=0;f=n[p++];)if(f(d,s,l)){c.push(d);break}_&&(B=P,x=++i)}r&&((d=!f&&d)&&m--,o&&v.push(d))}if(m+=g,r&&g!==m){for(p=0;f=e[p++];)f(v,h,s,l);if(o){if(m>0)for(;g--;)v[g]||h[g]||(h[g]=J.call(c));h=y(h)}nn.apply(c,h),_&&!o&&h.length>0&&m+e.length>1&&t.uniqueSort(c)}return _&&(B=P,S=C),v};return r?o(s):s}function C(n,e,i){for(var o=0,r=e.length;r>o;o++)t(n,e[o],i);return i}function E(n,e,t,i){var o,r,a,s,l,c=p(n);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&A.getById&&9===e.nodeType&&O&&N.relative[r[1].type]){if(e=(N.find.ID(a.matches[0].replace(xn,Nn),e)||[])[0],!e)return t;n=n.slice(r.shift().value.length)}for(o=vn.needsContext.test(n)?0:r.length;o--&&(a=r[o],!N.relative[s=a.type]);)if((l=N.find[s])&&(i=l(a.matches[0].replace(xn,Nn),fn.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),n=i.length&&f(r),!n)return nn.apply(t,i),t;break}}return M(n,c)(i,e,!O,t,fn.test(n)),t}var P,A,x,N,b,T,M,S,k,I,w,D,O,R,L,V,U,F="sizzle"+-new Date,H=n.document,B=0,j=0,G=i(),W=i(),q=i(),z=!1,Y=function(n,e){return n===e?(z=!0,0):0},K=typeof e,X=1<<31,Q={}.hasOwnProperty,$=[],J=$.pop,Z=$.push,nn=$.push,en=$.slice,tn=$.indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(this[e]===n)return e;return-1},on="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rn="[\\x20\\t\\r\\n\\f]",an="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",sn=an.replace("w","w#"),ln="\\["+rn+"*("+an+")"+rn+"*(?:([*^$|!~]?=)"+rn+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+sn+")|)|)"+rn+"*\\]",cn=":("+an+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ln.replace(3,8)+")*)|.*)\\)|)",un=new RegExp("^"+rn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rn+"+$","g"),dn=new RegExp("^"+rn+"*,"+rn+"*"),pn=new RegExp("^"+rn+"*([>+~]|"+rn+")"+rn+"*"),fn=new RegExp(rn+"*[+~]"),hn=new RegExp("="+rn+"*([^\\]'\"]*)"+rn+"*\\]","g"),mn=new RegExp(cn),gn=new RegExp("^"+sn+"$"),vn={ID:new RegExp("^#("+an+")"),CLASS:new RegExp("^\\.("+an+")"),TAG:new RegExp("^("+an.replace("w","w*")+")"),ATTR:new RegExp("^"+ln),PSEUDO:new RegExp("^"+cn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rn+"*(even|odd|(([+-]|)(\\d*)n|)"+rn+"*(?:([+-]|)"+rn+"*(\\d+)|))"+rn+"*\\)|)","i"),bool:new RegExp("^(?:"+on+")$","i"),needsContext:new RegExp("^"+rn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rn+"*((?:-\\d)?\\d*)"+rn+"*\\)|)(?=[^-]|$)","i")},_n=/^[^{]+\{\s*\[native \w/,Cn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,En=/^(?:input|select|textarea|button)$/i,Pn=/^h\d$/i,An=/'|\\/g,xn=new RegExp("\\\\([\\da-f]{1,6}"+rn+"?|("+rn+")|.)","ig"),Nn=function(n,e,t){var i="0x"+e-65536;return i!==i||t?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{nn.apply($=en.call(H.childNodes),H.childNodes),$[H.childNodes.length].nodeType}catch(bn){nn={apply:$.length?function(n,e){Z.apply(n,en.call(e))}:function(n,e){for(var t=n.length,i=0;n[t++]=e[i++];);n.length=t-1}}}T=t.isXML=function(n){var e=n&&(n.ownerDocument||n).documentElement;return e?"HTML"!==e.nodeName:!1},A=t.support={},I=t.setDocument=function(n){var e=n?n.ownerDocument||n:H,t=e.defaultView;return e!==w&&9===e.nodeType&&e.documentElement?(w=e,D=e.documentElement,O=!T(e),t&&t.attachEvent&&t!==t.top&&t.attachEvent("onbeforeunload",function(){I()}),A.attributes=r(function(n){return n.className="i",!n.getAttribute("className")}),A.getElementsByTagName=r(function(n){return n.appendChild(e.createComment("")),!n.getElementsByTagName("*").length}),A.getElementsByClassName=r(function(n){return n.innerHTML="<div class='a'></div><div class='a i'></div>",n.firstChild.className="i",2===n.getElementsByClassName("i").length}),A.getById=r(function(n){return D.appendChild(n).id=F,!e.getElementsByName||!e.getElementsByName(F).length}),A.getById?(N.find.ID=function(n,e){if(typeof e.getElementById!==K&&O){var t=e.getElementById(n);return t&&t.parentNode?[t]:[]}},N.filter.ID=function(n){var e=n.replace(xn,Nn);return function(n){return n.getAttribute("id")===e}}):(delete N.find.ID,N.filter.ID=function(n){var e=n.replace(xn,Nn);return function(n){var t=typeof n.getAttributeNode!==K&&n.getAttributeNode("id");return t&&t.value===e}}),N.find.TAG=A.getElementsByTagName?function(n,e){return typeof e.getElementsByTagName!==K?e.getElementsByTagName(n):void 0}:function(n,e){var t,i=[],o=0,r=e.getElementsByTagName(n);if("*"===n){for(;t=r[o++];)1===t.nodeType&&i.push(t);return i}return r},N.find.CLASS=A.getElementsByClassName&&function(n,e){return typeof e.getElementsByClassName!==K&&O?e.getElementsByClassName(n):void 0},L=[],R=[],(A.qsa=_n.test(e.querySelectorAll))&&(r(function(n){n.innerHTML="<select><option selected=''></option></select>",n.querySelectorAll("[selected]").length||R.push("\\["+rn+"*(?:value|"+on+")"),n.querySelectorAll(":checked").length||R.push(":checked")}),r(function(n){var t=e.createElement("input");t.setAttribute("type","hidden"),n.appendChild(t).setAttribute("t",""),n.querySelectorAll("[t^='']").length&&R.push("[*^$]="+rn+"*(?:''|\"\")"),n.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),n.querySelectorAll("*,:x"),R.push(",.*:")})),(A.matchesSelector=_n.test(V=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(n){A.disconnectedMatch=V.call(n,"div"),V.call(n,"[s!='']:x"),L.push("!=",cn)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),U=_n.test(D.contains)||D.compareDocumentPosition?function(n,e){var t=9===n.nodeType?n.documentElement:n,i=e&&e.parentNode;return n===i||!(!i||1!==i.nodeType||!(t.contains?t.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,e){if(e)for(;e=e.parentNode;)if(e===n)return!0;return!1},Y=D.compareDocumentPosition?function(n,t){if(n===t)return z=!0,0;var i=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t);return i?1&i||!A.sortDetached&&t.compareDocumentPosition(n)===i?n===e||U(H,n)?-1:t===e||U(H,t)?1:k?tn.call(k,n)-tn.call(k,t):0:4&i?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var i,o=0,r=n.parentNode,a=t.parentNode,l=[n],c=[t];if(n===t)return z=!0,0;if(!r||!a)return n===e?-1:t===e?1:r?-1:a?1:k?tn.call(k,n)-tn.call(k,t):0;if(r===a)return s(n,t);for(i=n;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},e):w},t.matches=function(n,e){return t(n,null,null,e)},t.matchesSelector=function(n,e){if((n.ownerDocument||n)!==w&&I(n),e=e.replace(hn,"='$1']"),A.matchesSelector&&O&&(!L||!L.test(e))&&(!R||!R.test(e)))try{var i=V.call(n,e);if(i||A.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(o){}return t(e,w,null,[n]).length>0},t.contains=function(n,e){return(n.ownerDocument||n)!==w&&I(n),U(n,e)},t.attr=function(n,t){(n.ownerDocument||n)!==w&&I(n);var i=N.attrHandle[t.toLowerCase()],o=i&&Q.call(N.attrHandle,t.toLowerCase())?i(n,t,!O):e;return o===e?A.attributes||!O?n.getAttribute(t):(o=n.getAttributeNode(t))&&o.specified?o.value:null:o},t.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n)},t.uniqueSort=function(n){var e,t=[],i=0,o=0;if(z=!A.detectDuplicates,k=!A.sortStable&&n.slice(0),n.sort(Y),z){for(;e=n[o++];)e===n[o]&&(i=t.push(o));for(;i--;)n.splice(t[i],1)}return n},b=t.getText=function(n){var e,t="",i=0,o=n.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)t+=b(n)}else if(3===o||4===o)return n.nodeValue}else for(;e=n[i];i++)t+=b(e);return t},N=t.selectors={cacheLength:50,createPseudo:o,match:vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(xn,Nn),n[3]=(n[4]||n[5]||"").replace(xn,Nn),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||t.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&t.error(n[0]),n},PSEUDO:function(n){var t,i=!n[5]&&n[2];return vn.CHILD.test(n[0])?null:(n[3]&&n[4]!==e?n[2]=n[4]:i&&mn.test(i)&&(t=p(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(n[0]=n[0].slice(0,t),n[2]=i.slice(0,t)),n.slice(0,3))}},filter:{TAG:function(n){var e=n.replace(xn,Nn).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===e}},CLASS:function(n){var e=G[n+" "];return e||(e=new RegExp("(^|"+rn+")"+n+"("+rn+"|$)"))&&G(n,function(n){return e.test("string"==typeof n.className&&n.className||typeof n.getAttribute!==K&&n.getAttribute("class")||"")})},ATTR:function(n,e,i){return function(o){var r=t.attr(o,n);return null==r?"!="===e:e?(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r+" ").indexOf(i)>-1:"|="===e?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,e,t,i,o){var r="nth"!==n.slice(0,3),a="last"!==n.slice(-4),s="of-type"===e;return 1===i&&0===o?function(n){return!!n.parentNode}:function(e,t,l){var c,u,d,p,f,h,m=r!==a?"nextSibling":"previousSibling",y=e.parentNode,g=s&&e.nodeName.toLowerCase(),v=!l&&!s;if(y){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=m="only"===n&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&v){for(u=y[F]||(y[F]={}),c=u[n]||[],f=c[0]===B&&c[1],p=c[0]===B&&c[2],d=f&&y.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===e){u[n]=[B,f,p];break}}else if(v&&(c=(e[F]||(e[F]={}))[n])&&c[0]===B)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(v&&((d[F]||(d[F]={}))[n]=[B,p]),d!==e)););return p-=o,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(n,e){var i,r=N.pseudos[n]||N.setFilters[n.toLowerCase()]||t.error("unsupported pseudo: "+n);return r[F]?r(e):r.length>1?(i=[n,n,"",e],N.setFilters.hasOwnProperty(n.toLowerCase())?o(function(n,t){for(var i,o=r(n,e),a=o.length;a--;)i=tn.call(n,o[a]),n[i]=!(t[i]=o[a])}):function(n){return r(n,0,i)}):r}},pseudos:{not:o(function(n){var e=[],t=[],i=M(n.replace(un,"$1"));return i[F]?o(function(n,e,t,o){for(var r,a=i(n,null,o,[]),s=n.length;s--;)(r=a[s])&&(n[s]=!(e[s]=r))}):function(n,o,r){return e[0]=n,i(e,null,r,t),!t.pop()}}),has:o(function(n){return function(e){return t(n,e).length>0}}),contains:o(function(n){return function(e){return(e.textContent||e.innerText||b(e)).indexOf(n)>-1}}),lang:o(function(n){return gn.test(n||"")||t.error("unsupported lang: "+n),n=n.replace(xn,Nn).toLowerCase(),function(e){var t;do if(t=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return t=t.toLowerCase(),t===n||0===t.indexOf(n+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(n){return n===D},focus:function(n){return n===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var e=n.nodeName.toLowerCase();return"input"===e&&!!n.checked||"option"===e&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||3===n.nodeType||4===n.nodeType)return!1;return!0},parent:function(n){return!N.pseudos.empty(n)},header:function(n){return Pn.test(n.nodeName)},input:function(n){return En.test(n.nodeName)},button:function(n){var e=n.nodeName.toLowerCase();return"input"===e&&"button"===n.type||"button"===e},text:function(n){var e;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(e=n.getAttribute("type"))||e.toLowerCase()===n.type)},first:u(function(){return[0]}),last:u(function(n,e){return[e-1]}),eq:u(function(n,e,t){return[0>t?t+e:t]}),even:u(function(n,e){for(var t=0;e>t;t+=2)n.push(t);return n}),odd:u(function(n,e){for(var t=1;e>t;t+=2)n.push(t);return n}),lt:u(function(n,e,t){for(var i=0>t?t+e:t;--i>=0;)n.push(i);return n}),gt:u(function(n,e,t){for(var i=0>t?t+e:t;++i<e;)n.push(i);return n})}},N.pseudos.nth=N.pseudos.eq;for(P in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[P]=l(P);for(P in{submit:!0,reset:!0})N.pseudos[P]=c(P);d.prototype=N.filters=N.pseudos,N.setFilters=new d,M=t.compile=function(n,e){var t,i=[],o=[],r=q[n+" "];if(!r){for(e||(e=p(n)),t=e.length;t--;)r=v(e[t]),r[F]?i.push(r):o.push(r);r=q(n,_(o,i))}return r},A.sortStable=F.split("").sort(Y).join("")===F,A.detectDuplicates=z,I(),A.sortDetached=r(function(n){return 1&n.compareDocumentPosition(w.createElement("div"))}),r(function(n){return n.innerHTML="<a href='#'></a>","#"===n.firstChild.getAttribute("href")})||a("type|href|height|width",function(n,e,t){return t?void 0:n.getAttribute(e,"type"===e.toLowerCase()?1:2)}),A.attributes&&r(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||a("value",function(n,e,t){return t||"input"!==n.nodeName.toLowerCase()?void 0:n.defaultValue}),r(function(n){return null==n.getAttribute("disabled")})||a(on,function(n,e,t){var i;return t?void 0:(i=n.getAttributeNode(e))&&i.specified?i.value:n[e]===!0?e.toLowerCase():null}),yn.find=t,yn.expr=t.selectors,yn.expr[":"]=yn.expr.pseudos,yn.unique=t.uniqueSort,yn.text=t.getText,yn.isXMLDoc=t.isXML,yn.contains=t.contains}(t);var In={};yn.Callbacks=function(n){n="string"==typeof n?In[n]||l(n):yn.extend({},n);var e,t,i,o,r,s,c=[],u=!n.once&&[],d=function(a){for(t=n.memory&&a,i=!0,r=s||0,s=0,o=c.length,e=!0;c&&o>r;r++)if(c[r].apply(a[0],a[1])===!1&&n.stopOnFalse){t=!1;break}e=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:p.disable())},p={add:function(){if(c){var i=c.length;!function r(e){yn.each(e,function(e,t){var i=yn.type(t);"function"===i?n.unique&&p.has(t)||c.push(t):t&&t.length&&"string"!==i&&r(t)})}(arguments),e?o=c.length:t&&(s=i,d(t))}return this},remove:function(){return c&&yn.each(arguments,function(n,t){for(var i;(i=yn.inArray(t,c,i))>-1;)c.splice(i,1),e&&(o>=i&&o--,r>=i&&r--)}),this},has:function(n){return n?yn.inArray(n,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=t=a,this},disabled:function(){return!c},lock:function(){return u=a,t||p.disable(),this},locked:function(){return!u},fireWith:function(n,t){return!c||i&&!u||(t=t||[],t=[n,t.slice?t.slice():t],e?u.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},yn.extend({Deferred:function(n){var e=[["resolve","done",yn.Callbacks("once memory"),"resolved"],["reject","fail",yn.Callbacks("once memory"),"rejected"],["notify","progress",yn.Callbacks("memory")]],t="pending",i={state:function(){return t},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var n=arguments;return yn.Deferred(function(t){yn.each(e,function(e,r){var a=r[0],s=yn.isFunction(n[e])&&n[e];o[r[1]](function(){var n=s&&s.apply(this,arguments);n&&yn.isFunction(n.promise)?n.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[a+"With"](this===i?t.promise():this,s?[n]:arguments)})}),n=null}).promise()},promise:function(n){return null!=n?yn.extend(n,i):i}},o={};return i.pipe=i.then,yn.each(e,function(n,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){t=s},e[1^n][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),n&&n.call(o,o),o},when:function(n){var e,t,i,o=0,r=dn.call(arguments),a=r.length,s=1!==a||n&&yn.isFunction(n.promise)?a:0,l=1===s?n:yn.Deferred(),c=function(n,t,i){return function(o){t[n]=this,i[n]=arguments.length>1?dn.call(arguments):o,i===e?l.notifyWith(t,i):--s||l.resolveWith(t,i)}};if(a>1)for(e=new Array(a),t=new Array(a),i=new Array(a);a>o;o++)r[o]&&yn.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,t,e)):--s;return s||l.resolveWith(i,r),l.promise()}}),yn.support=function(n){var e,i,o,r,a,s,l,c,u,d=en.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!e.length)return n;r=en.createElement("select"),s=r.appendChild(en.createElement("option")),o=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",n.getSetAttribute="t"!==d.className,n.leadingWhitespace=3===d.firstChild.nodeType,n.tbody=!d.getElementsByTagName("tbody").length,n.htmlSerialize=!!d.getElementsByTagName("link").length,n.style=/top/.test(i.getAttribute("style")),n.hrefNormalized="/a"===i.getAttribute("href"),n.opacity=/^0.5/.test(i.style.opacity),n.cssFloat=!!i.style.cssFloat,n.checkOn=!!o.value,n.optSelected=s.selected,n.enctype=!!en.createElement("form").enctype,n.html5Clone="<:nav></:nav>"!==en.createElement("nav").cloneNode(!0).outerHTML,n.inlineBlockNeedsLayout=!1,n.shrinkWrapBlocks=!1,n.pixelPosition=!1,n.deleteExpando=!0,n.noCloneEvent=!0,n.reliableMarginRight=!0,n.boxSizingReliable=!0,o.checked=!0,n.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,n.optDisabled=!s.disabled;try{delete d.test}catch(p){n.deleteExpando=!1}o=en.createElement("input"),o.setAttribute("value",""),n.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),n.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=en.createDocumentFragment(),a.appendChild(o),n.appendChecked=o.checked,n.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){n.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),n[u+"Bubbles"]=l in t||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",n.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in yn(n))break;return n.ownLast="0"!==u,yn(function(){var e,i,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=en.getElementsByTagName("body")[0];a&&(e=en.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(e).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",n.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",yn.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){n.boxSizing=4===d.offsetWidth}),t.getComputedStyle&&(n.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,n.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(en.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",n.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==Z&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",n.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",n.shrinkWrapBlocks=3!==d.offsetWidth,n.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(e),e=d=o=i=null)}),e=r=a=s=i=o=null,n}({});var wn=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Dn=/([A-Z])/g;yn.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(n){return n=n.nodeType?yn.cache[n[yn.expando]]:n[yn.expando],!!n&&!p(n)},data:function(n,e,t){return c(n,e,t)},removeData:function(n,e){return u(n,e)},_data:function(n,e,t){return c(n,e,t,!0)},_removeData:function(n,e){return u(n,e,!0)},acceptData:function(n){if(n.nodeType&&1!==n.nodeType&&9!==n.nodeType)return!1;var e=n.nodeName&&yn.noData[n.nodeName.toLowerCase()];return!e||e!==!0&&n.getAttribute("classid")===e}}),yn.fn.extend({data:function(n,e){var t,i,o=null,r=0,s=this[0];if(n===a){if(this.length&&(o=yn.data(s),1===s.nodeType&&!yn._data(s,"parsedAttrs"))){for(t=s.attributes;r<t.length;r++)i=t[r].name,0===i.indexOf("data-")&&(i=yn.camelCase(i.slice(5)),
d(s,i,o[i]));yn._data(s,"parsedAttrs",!0)}return o}return"object"==typeof n?this.each(function(){yn.data(this,n)}):arguments.length>1?this.each(function(){yn.data(this,n,e)}):s?d(s,n,yn.data(s,n)):null},removeData:function(n){return this.each(function(){yn.removeData(this,n)})}}),yn.extend({queue:function(n,e,t){var i;return n?(e=(e||"fx")+"queue",i=yn._data(n,e),t&&(!i||yn.isArray(t)?i=yn._data(n,e,yn.makeArray(t)):i.push(t)),i||[]):void 0},dequeue:function(n,e){e=e||"fx";var t=yn.queue(n,e),i=t.length,o=t.shift(),r=yn._queueHooks(n,e),a=function(){yn.dequeue(n,e)};"inprogress"===o&&(o=t.shift(),i--),o&&("fx"===e&&t.unshift("inprogress"),delete r.stop,o.call(n,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(n,e){var t=e+"queueHooks";return yn._data(n,t)||yn._data(n,t,{empty:yn.Callbacks("once memory").add(function(){yn._removeData(n,e+"queue"),yn._removeData(n,t)})})}}),yn.fn.extend({queue:function(n,e){var t=2;return"string"!=typeof n&&(e=n,n="fx",t--),arguments.length<t?yn.queue(this[0],n):e===a?this:this.each(function(){var t=yn.queue(this,n,e);yn._queueHooks(this,n),"fx"===n&&"inprogress"!==t[0]&&yn.dequeue(this,n)})},dequeue:function(n){return this.each(function(){yn.dequeue(this,n)})},delay:function(n,e){return n=yn.fx?yn.fx.speeds[n]||n:n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,e){var t,i=1,o=yn.Deferred(),r=this,s=this.length,l=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof n&&(e=n,n=a),n=n||"fx";s--;)t=yn._data(r[s],n+"queueHooks"),t&&t.empty&&(i++,t.empty.add(l));return l(),o.promise(e)}});var On,Rn,Ln=/[\t\r\n\f]/g,Vn=/\r/g,Un=/^(?:input|select|textarea|button|object)$/i,Fn=/^(?:a|area)$/i,Hn=/^(?:checked|selected)$/i,Bn=yn.support.getSetAttribute,jn=yn.support.input;yn.fn.extend({attr:function(n,e){return yn.access(this,yn.attr,n,e,arguments.length>1)},removeAttr:function(n){return this.each(function(){yn.removeAttr(this,n)})},prop:function(n,e){return yn.access(this,yn.prop,n,e,arguments.length>1)},removeProp:function(n){return n=yn.propFix[n]||n,this.each(function(){try{this[n]=a,delete this[n]}catch(e){}})},addClass:function(n){var e,t,i,o,r,a=0,s=this.length,l="string"==typeof n&&n;if(yn.isFunction(n))return this.each(function(e){yn(this).addClass(n.call(this,e,this.className))});if(l)for(e=(n||"").match(vn)||[];s>a;a++)if(t=this[a],i=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Ln," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");t.className=yn.trim(i)}return this},removeClass:function(n){var e,t,i,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof n&&n;if(yn.isFunction(n))return this.each(function(e){yn(this).removeClass(n.call(this,e,this.className))});if(l)for(e=(n||"").match(vn)||[];s>a;a++)if(t=this[a],i=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Ln," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");t.className=n?yn.trim(i):""}return this},toggleClass:function(n,e){var t=typeof n;return"boolean"==typeof e&&"string"===t?e?this.addClass(n):this.removeClass(n):yn.isFunction(n)?this.each(function(t){yn(this).toggleClass(n.call(this,t,this.className,e),e)}):this.each(function(){if("string"===t)for(var e,i=0,o=yn(this),r=n.match(vn)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(t===Z||"boolean"===t)&&(this.className&&yn._data(this,"__className__",this.className),this.className=this.className||n===!1?"":yn._data(this,"__className__")||"")})},hasClass:function(n){for(var e=" "+n+" ",t=0,i=this.length;i>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(Ln," ").indexOf(e)>=0)return!0;return!1},val:function(n){var e,t,i,o=this[0];{if(arguments.length)return i=yn.isFunction(n),this.each(function(e){var o;1===this.nodeType&&(o=i?n.call(this,e,yn(this).val()):n,null==o?o="":"number"==typeof o?o+="":yn.isArray(o)&&(o=yn.map(o,function(n){return null==n?"":n+""})),t=yn.valHooks[this.type]||yn.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,o,"value")!==a||(this.value=o))});if(o)return t=yn.valHooks[o.type]||yn.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&(e=t.get(o,"value"))!==a?e:(e=o.value,"string"==typeof e?e.replace(Vn,""):null==e?"":e)}}}),yn.extend({valHooks:{option:{get:function(n){var e=yn.find.attr(n,"value");return null!=e?e:n.text}},select:{get:function(n){for(var e,t,i=n.options,o=n.selectedIndex,r="select-one"===n.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(t=i[l],(t.selected||l===o)&&(yn.support.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!yn.nodeName(t.parentNode,"optgroup"))){if(e=yn(t).val(),r)return e;a.push(e)}return a},set:function(n,e){for(var t,i,o=n.options,r=yn.makeArray(e),a=o.length;a--;)i=o[a],(i.selected=yn.inArray(yn(i).val(),r)>=0)&&(t=!0);return t||(n.selectedIndex=-1),r}}},attr:function(n,e,t){var i,o,r=n.nodeType;if(n&&3!==r&&8!==r&&2!==r)return typeof n.getAttribute===Z?yn.prop(n,e,t):(1===r&&yn.isXMLDoc(n)||(e=e.toLowerCase(),i=yn.attrHooks[e]||(yn.expr.match.bool.test(e)?Rn:On)),t===a?i&&"get"in i&&null!==(o=i.get(n,e))?o:(o=yn.find.attr(n,e),null==o?a:o):null!==t?i&&"set"in i&&(o=i.set(n,t,e))!==a?o:(n.setAttribute(e,t+""),t):void yn.removeAttr(n,e))},removeAttr:function(n,e){var t,i,o=0,r=e&&e.match(vn);if(r&&1===n.nodeType)for(;t=r[o++];)i=yn.propFix[t]||t,yn.expr.match.bool.test(t)?jn&&Bn||!Hn.test(t)?n[i]=!1:n[yn.camelCase("default-"+t)]=n[i]=!1:yn.attr(n,t,""),n.removeAttribute(Bn?t:i)},attrHooks:{type:{set:function(n,e){if(!yn.support.radioValue&&"radio"===e&&yn.nodeName(n,"input")){var t=n.value;return n.setAttribute("type",e),t&&(n.value=t),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(n,e,t){var i,o,r,s=n.nodeType;if(n&&3!==s&&8!==s&&2!==s)return r=1!==s||!yn.isXMLDoc(n),r&&(e=yn.propFix[e]||e,o=yn.propHooks[e]),t!==a?o&&"set"in o&&(i=o.set(n,t,e))!==a?i:n[e]=t:o&&"get"in o&&null!==(i=o.get(n,e))?i:n[e]},propHooks:{tabIndex:{get:function(n){var e=yn.find.attr(n,"tabindex");return e?parseInt(e,10):Un.test(n.nodeName)||Fn.test(n.nodeName)&&n.href?0:-1}}}}),Rn={set:function(n,e,t){return e===!1?yn.removeAttr(n,t):jn&&Bn||!Hn.test(t)?n.setAttribute(!Bn&&yn.propFix[t]||t,t):n[yn.camelCase("default-"+t)]=n[t]=!0,t}},yn.each(yn.expr.match.bool.source.match(/\w+/g),function(n,e){var t=yn.expr.attrHandle[e]||yn.find.attr;yn.expr.attrHandle[e]=jn&&Bn||!Hn.test(e)?function(n,e,i){var o=yn.expr.attrHandle[e],r=i?a:(yn.expr.attrHandle[e]=a)!=t(n,e,i)?e.toLowerCase():null;return yn.expr.attrHandle[e]=o,r}:function(n,e,t){return t?a:n[yn.camelCase("default-"+e)]?e.toLowerCase():null}}),jn&&Bn||(yn.attrHooks.value={set:function(n,e,t){return yn.nodeName(n,"input")?void(n.defaultValue=e):On&&On.set(n,e,t)}}),Bn||(On={set:function(n,e,t){var i=n.getAttributeNode(t);return i||n.setAttributeNode(i=n.ownerDocument.createAttribute(t)),i.value=e+="","value"===t||e===n.getAttribute(t)?e:a}},yn.expr.attrHandle.id=yn.expr.attrHandle.name=yn.expr.attrHandle.coords=function(n,e,t){var i;return t?a:(i=n.getAttributeNode(e))&&""!==i.value?i.value:null},yn.valHooks.button={get:function(n,e){var t=n.getAttributeNode(e);return t&&t.specified?t.value:a},set:On.set},yn.attrHooks.contenteditable={set:function(n,e,t){On.set(n,""===e?!1:e,t)}},yn.each(["width","height"],function(n,e){yn.attrHooks[e]={set:function(n,t){return""===t?(n.setAttribute(e,"auto"),t):void 0}}})),yn.support.hrefNormalized||yn.each(["href","src"],function(n,e){yn.propHooks[e]={get:function(n){return n.getAttribute(e,4)}}}),yn.support.style||(yn.attrHooks.style={get:function(n){return n.style.cssText||a},set:function(n,e){return n.style.cssText=e+""}}),yn.support.optSelected||(yn.propHooks.selected={get:function(n){var e=n.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),yn.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yn.propFix[this.toLowerCase()]=this}),yn.support.enctype||(yn.propFix.enctype="encoding"),yn.each(["radio","checkbox"],function(){yn.valHooks[this]={set:function(n,e){return yn.isArray(e)?n.checked=yn.inArray(yn(n).val(),e)>=0:void 0}},yn.support.checkOn||(yn.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var Gn=/^(?:input|select|textarea)$/i,Wn=/^key/,qn=/^(?:mouse|contextmenu)|click/,zn=/^(?:focusinfocus|focusoutblur)$/,Yn=/^([^.]*)(?:\.(.+)|)$/;yn.event={global:{},add:function(n,e,t,i,o){var r,s,l,c,u,d,p,f,h,m,y,g=yn._data(n);if(g){for(t.handler&&(c=t,t=c.handler,o=c.selector),t.guid||(t.guid=yn.guid++),(s=g.events)||(s=g.events={}),(d=g.handle)||(d=g.handle=function(n){return typeof yn===Z||n&&yn.event.triggered===n.type?a:yn.event.dispatch.apply(d.elem,arguments)},d.elem=n),e=(e||"").match(vn)||[""],l=e.length;l--;)r=Yn.exec(e[l])||[],h=y=r[1],m=(r[2]||"").split(".").sort(),h&&(u=yn.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=yn.event.special[h]||{},p=yn.extend({type:h,origType:y,data:i,handler:t,guid:t.guid,selector:o,needsContext:o&&yn.expr.match.needsContext.test(o),namespace:m.join(".")},c),(f=s[h])||(f=s[h]=[],f.delegateCount=0,u.setup&&u.setup.call(n,i,m,d)!==!1||(n.addEventListener?n.addEventListener(h,d,!1):n.attachEvent&&n.attachEvent("on"+h,d))),u.add&&(u.add.call(n,p),p.handler.guid||(p.handler.guid=t.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),yn.event.global[h]=!0);n=null}},remove:function(n,e,t,i,o){var r,a,s,l,c,u,d,p,f,h,m,y=yn.hasData(n)&&yn._data(n);if(y&&(u=y.events)){for(e=(e||"").match(vn)||[""],c=e.length;c--;)if(s=Yn.exec(e[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=yn.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!o&&m!==a.origType||t&&t.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(n,a));l&&!p.length&&(d.teardown&&d.teardown.call(n,h,y.handle)!==!1||yn.removeEvent(n,f,y.handle),delete u[f])}else for(f in u)yn.event.remove(n,f+e[c],t,i,!0);yn.isEmptyObject(u)&&(delete y.handle,yn._removeData(n,"events"))}},trigger:function(n,e,i,o){var r,s,l,c,u,d,p,f=[i||en],h=hn.call(n,"type")?n.type:n,m=hn.call(n,"namespace")?n.namespace.split("."):[];if(l=d=i=i||en,3!==i.nodeType&&8!==i.nodeType&&!zn.test(h+yn.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[yn.expando]?n:new yn.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=a,n.target||(n.target=i),e=null==e?[n]:yn.makeArray(e,[n]),u=yn.event.special[h]||{},o||!u.trigger||u.trigger.apply(i,e)!==!1)){if(!o&&!u.noBubble&&!yn.isWindow(i)){for(c=u.delegateType||h,zn.test(c+h)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(i.ownerDocument||en)&&f.push(d.defaultView||d.parentWindow||t)}for(p=0;(l=f[p++])&&!n.isPropagationStopped();)n.type=p>1?c:u.bindType||h,r=(yn._data(l,"events")||{})[n.type]&&yn._data(l,"handle"),r&&r.apply(l,e),r=s&&l[s],r&&yn.acceptData(l)&&r.apply&&r.apply(l,e)===!1&&n.preventDefault();if(n.type=h,!o&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),e)===!1)&&yn.acceptData(i)&&s&&i[h]&&!yn.isWindow(i)){d=i[s],d&&(i[s]=null),yn.event.triggered=h;try{i[h]()}catch(y){}yn.event.triggered=a,d&&(i[s]=d)}return n.result}},dispatch:function(n){n=yn.event.fix(n);var e,t,i,o,r,s=[],l=dn.call(arguments),c=(yn._data(this,"events")||{})[n.type]||[],u=yn.event.special[n.type]||{};if(l[0]=n,n.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,n)!==!1){for(s=yn.event.handlers.call(this,n,c),e=0;(o=s[e++])&&!n.isPropagationStopped();)for(n.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(i.namespace))&&(n.handleObj=i,n.data=i.data,t=((yn.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),t!==a&&(n.result=t)===!1&&(n.preventDefault(),n.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,n),n.result}},handlers:function(n,e){var t,i,o,r,s=[],l=e.delegateCount,c=n.target;if(l&&c.nodeType&&(!n.button||"click"!==n.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==n.type)){for(o=[],r=0;l>r;r++)i=e[r],t=i.selector+" ",o[t]===a&&(o[t]=i.needsContext?yn(t,this).index(c)>=0:yn.find(t,this,null,[c]).length),o[t]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return l<e.length&&s.push({elem:this,handlers:e.slice(l)}),s},fix:function(n){if(n[yn.expando])return n;var e,t,i,o=n.type,r=n,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=qn.test(o)?this.mouseHooks:Wn.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,n=new yn.Event(r),e=i.length;e--;)t=i[e],n[t]=r[t];return n.target||(n.target=r.srcElement||en),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,a.filter?a.filter(n,r):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,e){return null==n.which&&(n.which=null!=e.charCode?e.charCode:e.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,e){var t,i,o,r=e.button,s=e.fromElement;return null==n.pageX&&null!=e.clientX&&(i=n.target.ownerDocument||en,o=i.documentElement,t=i.body,n.pageX=e.clientX+(o&&o.scrollLeft||t&&t.scrollLeft||0)-(o&&o.clientLeft||t&&t.clientLeft||0),n.pageY=e.clientY+(o&&o.scrollTop||t&&t.scrollTop||0)-(o&&o.clientTop||t&&t.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?e.toElement:s),n.which||r===a||(n.which=1&r?1:2&r?3:4&r?2:0),n}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return yn.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(n){return yn.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==a&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,e,t,i){var o=yn.extend(new yn.Event,t,{type:n,isSimulated:!0,originalEvent:{}});i?yn.event.trigger(o,null,e):yn.event.dispatch.call(e,o),o.isDefaultPrevented()&&t.preventDefault()}},yn.removeEvent=en.removeEventListener?function(n,e,t){n.removeEventListener&&n.removeEventListener(e,t,!1)}:function(n,e,t){var i="on"+e;n.detachEvent&&(typeof n[i]===Z&&(n[i]=null),n.detachEvent(i,t))},yn.Event=function(n,e){return this instanceof yn.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?f:h):this.type=n,e&&yn.extend(this,e),this.timeStamp=n&&n.timeStamp||yn.now(),void(this[yn.expando]=!0)):new yn.Event(n,e)},yn.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=f,n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=f,n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f,this.stopPropagation()}},yn.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,e){yn.event.special[n]={delegateType:e,bindType:e,handle:function(n){var t,i=this,o=n.relatedTarget,r=n.handleObj;return(!o||o!==i&&!yn.contains(i,o))&&(n.type=r.origType,t=r.handler.apply(this,arguments),n.type=e),t}}}),yn.support.submitBubbles||(yn.event.special.submit={setup:function(){return yn.nodeName(this,"form")?!1:void yn.event.add(this,"click._submit keypress._submit",function(n){var e=n.target,t=yn.nodeName(e,"input")||yn.nodeName(e,"button")?e.form:a;t&&!yn._data(t,"submitBubbles")&&(yn.event.add(t,"submit._submit",function(n){n._submit_bubble=!0}),yn._data(t,"submitBubbles",!0))})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&yn.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){return yn.nodeName(this,"form")?!1:void yn.event.remove(this,"._submit")}}),yn.support.changeBubbles||(yn.event.special.change={setup:function(){return Gn.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(yn.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._just_changed=!0)}),yn.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1),yn.event.simulate("change",this,n,!0)})),!1):void yn.event.add(this,"beforeactivate._change",function(n){var e=n.target;Gn.test(e.nodeName)&&!yn._data(e,"changeBubbles")&&(yn.event.add(e,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||yn.event.simulate("change",this.parentNode,n,!0)}),yn._data(e,"changeBubbles",!0))})},handle:function(n){var e=n.target;return this!==e||n.isSimulated||n.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?n.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return yn.event.remove(this,"._change"),!Gn.test(this.nodeName)}}),yn.support.focusinBubbles||yn.each({focus:"focusin",blur:"focusout"},function(n,e){var t=0,i=function(n){yn.event.simulate(e,n.target,yn.event.fix(n),!0)};yn.event.special[e]={setup:function(){0===t++&&en.addEventListener(n,i,!0)},teardown:function(){0===--t&&en.removeEventListener(n,i,!0)}}}),yn.fn.extend({on:function(n,e,t,i,o){var r,s;if("object"==typeof n){"string"!=typeof e&&(t=t||e,e=a);for(r in n)this.on(r,e,t,n[r],o);return this}if(null==t&&null==i?(i=e,t=e=a):null==i&&("string"==typeof e?(i=t,t=a):(i=t,t=e,e=a)),i===!1)i=h;else if(!i)return this;return 1===o&&(s=i,i=function(n){return yn().off(n),s.apply(this,arguments)},i.guid=s.guid||(s.guid=yn.guid++)),this.each(function(){yn.event.add(this,n,i,t,e)})},one:function(n,e,t,i){return this.on(n,e,t,i,1)},off:function(n,e,t){var i,o;if(n&&n.preventDefault&&n.handleObj)return i=n.handleObj,yn(n.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof n){for(o in n)this.off(o,e,n[o]);return this}return(e===!1||"function"==typeof e)&&(t=e,e=a),t===!1&&(t=h),this.each(function(){yn.event.remove(this,n,t,e)})},trigger:function(n,e){return this.each(function(){yn.event.trigger(n,e,this)})},triggerHandler:function(n,e){var t=this[0];return t?yn.event.trigger(n,e,t,!0):void 0}});var Kn=/^.[^:#\[\.,]*$/,Xn=/^(?:parents|prev(?:Until|All))/,Qn=yn.expr.match.needsContext,$n={children:!0,contents:!0,next:!0,prev:!0};yn.fn.extend({find:function(n){var e,t=[],i=this,o=i.length;if("string"!=typeof n)return this.pushStack(yn(n).filter(function(){for(e=0;o>e;e++)if(yn.contains(i[e],this))return!0}));for(e=0;o>e;e++)yn.find(n,i[e],t);return t=this.pushStack(o>1?yn.unique(t):t),t.selector=this.selector?this.selector+" "+n:n,t},has:function(n){var e,t=yn(n,this),i=t.length;return this.filter(function(){for(e=0;i>e;e++)if(yn.contains(this,t[e]))return!0})},not:function(n){return this.pushStack(g(this,n||[],!0))},filter:function(n){return this.pushStack(g(this,n||[],!1))},is:function(n){return!!g(this,"string"==typeof n&&Qn.test(n)?yn(n):n||[],!1).length},closest:function(n,e){for(var t,i=0,o=this.length,r=[],a=Qn.test(n)||"string"!=typeof n?yn(n,e||this.context):0;o>i;i++)for(t=this[i];t&&t!==e;t=t.parentNode)if(t.nodeType<11&&(a?a.index(t)>-1:1===t.nodeType&&yn.find.matchesSelector(t,n))){t=r.push(t);break}return this.pushStack(r.length>1?yn.unique(r):r)},index:function(n){return n?"string"==typeof n?yn.inArray(this[0],yn(n)):yn.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,e){var t="string"==typeof n?yn(n,e):yn.makeArray(n&&n.nodeType?[n]:n),i=yn.merge(this.get(),t);return this.pushStack(yn.unique(i))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}}),yn.each({parent:function(n){var e=n.parentNode;return e&&11!==e.nodeType?e:null},parents:function(n){return yn.dir(n,"parentNode")},parentsUntil:function(n,e,t){return yn.dir(n,"parentNode",t)},next:function(n){return y(n,"nextSibling")},prev:function(n){return y(n,"previousSibling")},nextAll:function(n){return yn.dir(n,"nextSibling")},prevAll:function(n){return yn.dir(n,"previousSibling")},nextUntil:function(n,e,t){return yn.dir(n,"nextSibling",t)},prevUntil:function(n,e,t){return yn.dir(n,"previousSibling",t)},siblings:function(n){return yn.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return yn.sibling(n.firstChild)},contents:function(n){return yn.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:yn.merge([],n.childNodes)}},function(n,e){yn.fn[n]=function(t,i){var o=yn.map(this,e,t);return"Until"!==n.slice(-5)&&(i=t),i&&"string"==typeof i&&(o=yn.filter(i,o)),this.length>1&&($n[n]||(o=yn.unique(o)),Xn.test(n)&&(o=o.reverse())),this.pushStack(o)}}),yn.extend({filter:function(n,e,t){var i=e[0];return t&&(n=":not("+n+")"),1===e.length&&1===i.nodeType?yn.find.matchesSelector(i,n)?[i]:[]:yn.find.matches(n,yn.grep(e,function(n){return 1===n.nodeType}))},dir:function(n,e,t){for(var i=[],o=n[e];o&&9!==o.nodeType&&(t===a||1!==o.nodeType||!yn(o).is(t));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(n,e){for(var t=[];n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}});var Jn="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Zn=/ jQuery\d+="(?:null|\d+)"/g,ne=new RegExp("<(?:"+Jn+")[\\s/>]","i"),ee=/^\s+/,te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ie=/<([\w:]+)/,oe=/<tbody/i,re=/<|&#?\w+;/,ae=/<(?:script|style|link)/i,se=/^(?:checkbox|radio)$/i,le=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^$|\/(?:java|ecma)script/i,ue=/^true\/(.*)/,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:yn.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fe=v(en),he=fe.appendChild(en.createElement("div"));pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td,yn.fn.extend({text:function(n){return yn.access(this,function(n){return n===a?yn.text(this):this.empty().append((this[0]&&this[0].ownerDocument||en).createTextNode(n))},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,n);e.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,n);e.insertBefore(n,e.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,e){for(var t,i=n?yn.filter(n,this):this,o=0;null!=(t=i[o]);o++)e||1!==t.nodeType||yn.cleanData(N(t)),t.parentNode&&(e&&yn.contains(t.ownerDocument,t)&&P(N(t,"script")),t.parentNode.removeChild(t));return this},empty:function(){for(var n,e=0;null!=(n=this[e]);e++){for(1===n.nodeType&&yn.cleanData(N(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&yn.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,e){return n=null==n?!1:n,e=null==e?n:e,this.map(function(){return yn.clone(this,n,e)})},html:function(n){return yn.access(this,function(n){var e=this[0]||{},t=0,i=this.length;if(n===a)return 1===e.nodeType?e.innerHTML.replace(Zn,""):a;if("string"==typeof n&&!ae.test(n)&&(yn.support.htmlSerialize||!ne.test(n))&&(yn.support.leadingWhitespace||!ee.test(n))&&!pe[(ie.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(te,"<$1></$2>");try{for(;i>t;t++)e=this[t]||{},1===e.nodeType&&(yn.cleanData(N(e,!1)),e.innerHTML=n);e=0}catch(o){}}e&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=yn.map(this,function(n){return[n.nextSibling,n.parentNode]}),e=0;return this.domManip(arguments,function(t){var i=n[e++],o=n[e++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),yn(this).remove(),o.insertBefore(t,i))},!0),e?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,e,t){n=cn.apply([],n);var i,o,r,a,s,l,c=0,u=this.length,d=this,p=u-1,f=n[0],h=yn.isFunction(f);if(h||!(1>=u||"string"!=typeof f||yn.support.checkClone)&&le.test(f))return this.each(function(i){var o=d.eq(i);h&&(n[0]=f.call(this,i,o.html())),o.domManip(n,e,t)});if(u&&(l=yn.buildFragment(n,this[0].ownerDocument,!1,!t&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=yn.map(N(l,"script"),C),r=a.length;u>c;c++)o=l,c!==p&&(o=yn.clone(o,!0,!0),r&&yn.merge(a,N(o,"script"))),e.call(this[c],o,c);if(r)for(s=a[a.length-1].ownerDocument,yn.map(a,E),c=0;r>c;c++)o=a[c],ce.test(o.type||"")&&!yn._data(o,"globalEval")&&yn.contains(s,o)&&(o.src?yn._evalUrl(o.src):yn.globalEval((o.text||o.textContent||o.innerHTML||"").replace(de,"")));l=i=null}return this}}),yn.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,e){yn.fn[n]=function(n){for(var t,i=0,o=[],r=yn(n),a=r.length-1;a>=i;i++)t=i===a?this:this.clone(!0),yn(r[i])[e](t),un.apply(o,t.get());return this.pushStack(o)}}),yn.extend({clone:function(n,e,t){var i,o,r,a,s,l=yn.contains(n.ownerDocument,n);if(yn.support.html5Clone||yn.isXMLDoc(n)||!ne.test("<"+n.nodeName+">")?r=n.cloneNode(!0):(he.innerHTML=n.outerHTML,he.removeChild(r=he.firstChild)),!(yn.support.noCloneEvent&&yn.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||yn.isXMLDoc(n)))for(i=N(r),s=N(n),a=0;null!=(o=s[a]);++a)i[a]&&x(o,i[a]);if(e)if(t)for(s=s||N(n),i=i||N(r),a=0;null!=(o=s[a]);a++)A(o,i[a]);else A(n,r);return i=N(r,"script"),i.length>0&&P(i,!l&&N(n,"script")),i=s=o=null,r},buildFragment:function(n,e,t,i){for(var o,r,a,s,l,c,u,d=n.length,p=v(e),f=[],h=0;d>h;h++)if(r=n[h],r||0===r)if("object"===yn.type(r))yn.merge(f,r.nodeType?[r]:r);else if(re.test(r)){for(s=s||p.appendChild(e.createElement("div")),l=(ie.exec(r)||["",""])[1].toLowerCase(),u=pe[l]||pe._default,s.innerHTML=u[1]+r.replace(te,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!yn.support.leadingWhitespace&&ee.test(r)&&f.push(e.createTextNode(ee.exec(r)[0])),!yn.support.tbody)for(r="table"!==l||oe.test(r)?"<table>"!==u[1]||oe.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)yn.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(yn.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(e.createTextNode(r));for(s&&p.removeChild(s),yn.support.appendChecked||yn.grep(N(f,"input"),b),h=0;r=f[h++];)if((!i||-1===yn.inArray(r,i))&&(a=yn.contains(r.ownerDocument,r),s=N(p.appendChild(r),"script"),a&&P(s),t))for(o=0;r=s[o++];)ce.test(r.type||"")&&t.push(r);return s=null,p},cleanData:function(n,e){for(var t,i,o,r,a=0,s=yn.expando,l=yn.cache,c=yn.support.deleteExpando,u=yn.event.special;null!=(t=n[a]);a++)if((e||yn.acceptData(t))&&(o=t[s],r=o&&l[o])){if(r.events)for(i in r.events)u[i]?yn.event.remove(t,i):yn.removeEvent(t,i,r.handle);l[o]&&(delete l[o],c?delete t[s]:typeof t.removeAttribute!==Z?t.removeAttribute(s):t[s]=null,sn.push(o))}},_evalUrl:function(n){return yn.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),yn.fn.extend({wrapAll:function(n){if(yn.isFunction(n))return this.each(function(e){yn(this).wrapAll(n.call(this,e))});if(this[0]){var e=yn(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return yn.isFunction(n)?this.each(function(e){yn(this).wrapInner(n.call(this,e))}):this.each(function(){var e=yn(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(n){var e=yn.isFunction(n);return this.each(function(t){yn(this).wrapAll(e?n.call(this,t):n)})},unwrap:function(){return this.parent().each(function(){yn.nodeName(this,"body")||yn(this).replaceWith(this.childNodes)}).end()}});var me,ye,ge,ve=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/,Ce=/^(top|right|bottom|left)$/,Ee=/^(none|table(?!-c[ea]).+)/,Pe=/^margin/,Ae=new RegExp("^("+gn+")(.*)$","i"),xe=new RegExp("^("+gn+")(?!px)[a-z%]+$","i"),Ne=new RegExp("^([+-])=("+gn+")","i"),be={BODY:"block"},Te={position:"absolute",visibility:"hidden",display:"block"},Me={letterSpacing:0,fontWeight:400},Se=["Top","Right","Bottom","Left"],ke=["Webkit","O","Moz","ms"];yn.fn.extend({css:function(n,e){return yn.access(this,function(n,e,t){var i,o,r={},s=0;if(yn.isArray(e)){for(o=ye(n),i=e.length;i>s;s++)r[e[s]]=yn.css(n,e[s],!1,o);return r}return t!==a?yn.style(n,e,t):yn.css(n,e)},n,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){M(this)?yn(this).show():yn(this).hide()})}}),yn.extend({cssHooks:{opacity:{get:function(n,e){if(e){var t=ge(n,"opacity");return""===t?"1":t}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":yn.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,e,t,i){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,r,s,l=yn.camelCase(e),c=n.style;if(e=yn.cssProps[l]||(yn.cssProps[l]=T(c,l)),s=yn.cssHooks[e]||yn.cssHooks[l],t===a)return s&&"get"in s&&(o=s.get(n,!1,i))!==a?o:c[e];if(r=typeof t,"string"===r&&(o=Ne.exec(t))&&(t=(o[1]+1)*o[2]+parseFloat(yn.css(n,e)),r="number"),!(null==t||"number"===r&&isNaN(t)||("number"!==r||yn.cssNumber[l]||(t+="px"),yn.support.clearCloneStyle||""!==t||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&(t=s.set(n,t,i))===a)))try{c[e]=t}catch(u){}}},css:function(n,e,t,i){var o,r,s,l=yn.camelCase(e);return e=yn.cssProps[l]||(yn.cssProps[l]=T(n.style,l)),s=yn.cssHooks[e]||yn.cssHooks[l],s&&"get"in s&&(r=s.get(n,!0,t)),r===a&&(r=ge(n,e,i)),"normal"===r&&e in Me&&(r=Me[e]),""===t||t?(o=parseFloat(r),t===!0||yn.isNumeric(o)?o||0:r):r}}),t.getComputedStyle?(ye=function(n){return t.getComputedStyle(n,null)},ge=function(n,e,t){var i,o,r,s=t||ye(n),l=s?s.getPropertyValue(e)||s[e]:a,c=n.style;return s&&(""!==l||yn.contains(n.ownerDocument,n)||(l=yn.style(n,e)),xe.test(l)&&Pe.test(e)&&(i=c.width,o=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=o,c.maxWidth=r)),l}):en.documentElement.currentStyle&&(ye=function(n){return n.currentStyle},ge=function(n,e,t){var i,o,r,s=t||ye(n),l=s?s[e]:a,c=n.style;return null==l&&c&&c[e]&&(l=c[e]),xe.test(l)&&!Ce.test(e)&&(i=c.left,o=n.runtimeStyle,r=o&&o.left,r&&(o.left=n.currentStyle.left),c.left="fontSize"===e?"1em":l,l=c.pixelLeft+"px",c.left=i,r&&(o.left=r)),""===l?"auto":l}),yn.each(["height","width"],function(n,e){yn.cssHooks[e]={get:function(n,t,i){return t?0===n.offsetWidth&&Ee.test(yn.css(n,"display"))?yn.swap(n,Te,function(){return w(n,e,i)}):w(n,e,i):void 0},set:function(n,t,i){
var o=i&&ye(n);return k(n,t,i?I(n,e,i,yn.support.boxSizing&&"border-box"===yn.css(n,"boxSizing",!1,o),o):0)}}}),yn.support.opacity||(yn.cssHooks.opacity={get:function(n,e){return _e.test((e&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(n,e){var t=n.style,i=n.currentStyle,o=yn.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||t.filter||"";t.zoom=1,(e>=1||""===e)&&""===yn.trim(r.replace(ve,""))&&t.removeAttribute&&(t.removeAttribute("filter"),""===e||i&&!i.filter)||(t.filter=ve.test(r)?r.replace(ve,o):r+" "+o)}}),yn(function(){yn.support.reliableMarginRight||(yn.cssHooks.marginRight={get:function(n,e){return e?yn.swap(n,{display:"inline-block"},ge,[n,"marginRight"]):void 0}}),!yn.support.pixelPosition&&yn.fn.position&&yn.each(["top","left"],function(n,e){yn.cssHooks[e]={get:function(n,t){return t?(t=ge(n,e),xe.test(t)?yn(n).position()[e]+"px":t):void 0}}})}),yn.expr&&yn.expr.filters&&(yn.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0||!yn.support.reliableHiddenOffsets&&"none"===(n.style&&n.style.display||yn.css(n,"display"))},yn.expr.filters.visible=function(n){return!yn.expr.filters.hidden(n)}),yn.each({margin:"",padding:"",border:"Width"},function(n,e){yn.cssHooks[n+e]={expand:function(t){for(var i=0,o={},r="string"==typeof t?t.split(" "):[t];4>i;i++)o[n+Se[i]+e]=r[i]||r[i-2]||r[0];return o}},Pe.test(n)||(yn.cssHooks[n+e].set=k)});var Ie=/%20/g,we=/\[\]$/,De=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;yn.fn.extend({serialize:function(){return yn.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=yn.prop(this,"elements");return n?yn.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!yn(this).is(":disabled")&&Re.test(this.nodeName)&&!Oe.test(n)&&(this.checked||!se.test(n))}).map(function(n,e){var t=yn(this).val();return null==t?null:yn.isArray(t)?yn.map(t,function(n){return{name:e.name,value:n.replace(De,"\r\n")}}):{name:e.name,value:t.replace(De,"\r\n")}}).get()}}),yn.param=function(n,e){var t,i=[],o=function(n,e){e=yn.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(n)+"="+encodeURIComponent(e)};if(e===a&&(e=yn.ajaxSettings&&yn.ajaxSettings.traditional),yn.isArray(n)||n.jquery&&!yn.isPlainObject(n))yn.each(n,function(){o(this.name,this.value)});else for(t in n)R(t,n[t],e,o);return i.join("&").replace(Ie,"+")},yn.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,e){yn.fn[e]=function(n,t){return arguments.length>0?this.on(e,null,n,t):this.trigger(e)}}),yn.fn.extend({hover:function(n,e){return this.mouseenter(n).mouseleave(e||n)},bind:function(n,e,t){return this.on(n,null,e,t)},unbind:function(n,e){return this.off(n,null,e)},delegate:function(n,e,t,i){return this.on(e,n,t,i)},undelegate:function(n,e,t){return 1===arguments.length?this.off(n,"**"):this.off(e,n||"**",t)}});var Le,Ve,Ue=yn.now(),Fe=/\?/,He=/#.*$/,Be=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,We=/^(?:GET|HEAD)$/,qe=/^\/\//,ze=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ye=yn.fn.load,Ke={},Xe={},Qe="*/".concat("*");try{Ve=nn.href}catch($e){Ve=en.createElement("a"),Ve.href="",Ve=Ve.href}Le=ze.exec(Ve.toLowerCase())||[],yn.fn.load=function(n,e,t){if("string"!=typeof n&&Ye)return Ye.apply(this,arguments);var i,o,r,s=this,l=n.indexOf(" ");return l>=0&&(i=n.slice(l,n.length),n=n.slice(0,l)),yn.isFunction(e)?(t=e,e=a):e&&"object"==typeof e&&(r="POST"),s.length>0&&yn.ajax({url:n,type:r,dataType:"html",data:e}).done(function(n){o=arguments,s.html(i?yn("<div>").append(yn.parseHTML(n)).find(i):n)}).complete(t&&function(n,e){s.each(t,o||[n.responseText,e,n])}),this},yn.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,e){yn.fn[e]=function(n){return this.on(e,n)}}),yn.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ve,type:"GET",isLocal:Ge.test(Le[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":yn.parseJSON,"text xml":yn.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,e){return e?U(U(n,yn.ajaxSettings),e):U(yn.ajaxSettings,n)},ajaxPrefilter:L(Ke),ajaxTransport:L(Xe),ajax:function(n,e){function t(n,e,t,i){var o,d,v,_,E,A=e;2!==C&&(C=2,l&&clearTimeout(l),u=a,s=i||"",P.readyState=n>0?4:0,o=n>=200&&300>n||304===n,t&&(_=F(p,P,t)),_=H(p,_,P,o),o?(p.ifModified&&(E=P.getResponseHeader("Last-Modified"),E&&(yn.lastModified[r]=E),E=P.getResponseHeader("etag"),E&&(yn.etag[r]=E)),204===n||"HEAD"===p.type?A="nocontent":304===n?A="notmodified":(A=_.state,d=_.data,v=_.error,o=!v)):(v=A,(n||!A)&&(A="error",0>n&&(n=0))),P.status=n,P.statusText=(e||A)+"",o?m.resolveWith(f,[d,A,P]):m.rejectWith(f,[P,A,v]),P.statusCode(g),g=a,c&&h.trigger(o?"ajaxSuccess":"ajaxError",[P,p,o?d:v]),y.fireWith(f,[P,A]),c&&(h.trigger("ajaxComplete",[P,p]),--yn.active||yn.event.trigger("ajaxStop")))}"object"==typeof n&&(e=n,n=a),e=e||{};var i,o,r,s,l,c,u,d,p=yn.ajaxSetup({},e),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?yn(f):yn.event,m=yn.Deferred(),y=yn.Callbacks("once memory"),g=p.statusCode||{},v={},_={},C=0,E="canceled",P={readyState:0,getResponseHeader:function(n){var e;if(2===C){if(!d)for(d={};e=je.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[n.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?s:null},setRequestHeader:function(n,e){var t=n.toLowerCase();return C||(n=_[t]=_[t]||n,v[n]=e),this},overrideMimeType:function(n){return C||(p.mimeType=n),this},statusCode:function(n){var e;if(n)if(2>C)for(e in n)g[e]=[g[e],n[e]];else P.always(n[P.status]);return this},abort:function(n){var e=n||E;return u&&u.abort(e),t(0,e),this}};if(m.promise(P).complete=y.add,P.success=P.done,P.error=P.fail,p.url=((n||p.url||Ve)+"").replace(He,"").replace(qe,Le[1]+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=yn.trim(p.dataType||"*").toLowerCase().match(vn)||[""],null==p.crossDomain&&(i=ze.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===Le[1]&&i[2]===Le[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Le[3]||("http:"===Le[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=yn.param(p.data,p.traditional)),V(Ke,p,e,P),2===C)return P;c=p.global,c&&0===yn.active++&&yn.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!We.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(Fe.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Be.test(r)?r.replace(Be,"$1_="+Ue++):r+(Fe.test(r)?"&":"?")+"_="+Ue++)),p.ifModified&&(yn.lastModified[r]&&P.setRequestHeader("If-Modified-Since",yn.lastModified[r]),yn.etag[r]&&P.setRequestHeader("If-None-Match",yn.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&P.setRequestHeader("Content-Type",p.contentType),P.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Qe+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)P.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(f,P,p)===!1||2===C))return P.abort();E="abort";for(o in{success:1,error:1,complete:1})P[o](p[o]);if(u=V(Xe,p,e,P)){P.readyState=1,c&&h.trigger("ajaxSend",[P,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){P.abort("timeout")},p.timeout));try{C=1,u.send(v,t)}catch(A){if(!(2>C))throw A;t(-1,A)}}else t(-1,"No Transport");return P},getJSON:function(n,e,t){return yn.get(n,e,t,"json")},getScript:function(n,e){return yn.get(n,a,e,"script")}}),yn.each(["get","post"],function(n,e){yn[e]=function(n,t,i,o){return yn.isFunction(t)&&(o=o||i,i=t,t=a),yn.ajax({url:n,type:e,dataType:o,data:t,success:i})}}),yn.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return yn.globalEval(n),n}}}),yn.ajaxPrefilter("script",function(n){n.cache===a&&(n.cache=!1),n.crossDomain&&(n.type="GET",n.global=!1)}),yn.ajaxTransport("script",function(n){if(n.crossDomain){var e,t=en.head||yn("head")[0]||en.documentElement;return{send:function(i,o){e=en.createElement("script"),e.async=!0,n.scriptCharset&&(e.charset=n.scriptCharset),e.src=n.url,e.onload=e.onreadystatechange=function(n,t){(t||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,t||o(200,"success"))},t.insertBefore(e,t.firstChild)},abort:function(){e&&e.onload(a,!0)}}}});var Je=[],Ze=/(=)\?(?=&|$)|\?\?/;yn.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=Je.pop()||yn.expando+"_"+Ue++;return this[n]=!0,n}}),yn.ajaxPrefilter("json jsonp",function(n,e,i){var o,r,s,l=n.jsonp!==!1&&(Ze.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=yn.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Ze,"$1"+o):n.jsonp!==!1&&(n.url+=(Fe.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||yn.error(o+" was not called"),s[0]},n.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=r,n[o]&&(n.jsonpCallback=e.jsonpCallback,Je.push(o)),s&&yn.isFunction(r)&&r(s[0]),s=r=a}),"script"):void 0});var nt,et,tt=0,it=t.ActiveXObject&&function(){var n;for(n in nt)nt[n](a,!0)};yn.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&B()||j()}:B,et=yn.ajaxSettings.xhr(),yn.support.cors=!!et&&"withCredentials"in et,et=yn.support.ajax=!!et,et&&yn.ajaxTransport(function(n){if(!n.crossDomain||yn.support.cors){var e;return{send:function(i,o){var r,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),e=function(t,i){var s,c,u,d;try{if(e&&(i||4===l.readyState))if(e=a,r&&(l.onreadystatechange=yn.noop,it&&delete nt[r]),i)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){i||o(-1,f)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(e):(r=++tt,it&&(nt||(nt={},yn(t).unload(it)),nt[r]=e),l.onreadystatechange=e):e()},abort:function(){e&&e(a,!0)}}}});var ot,rt,at=/^(?:toggle|show|hide)$/,st=new RegExp("^(?:([+-])=|)("+gn+")([a-z%]*)$","i"),lt=/queueHooks$/,ct=[Y],ut={"*":[function(n,e){var t=this.createTween(n,e),i=t.cur(),o=st.exec(e),r=o&&o[3]||(yn.cssNumber[n]?"":"px"),a=(yn.cssNumber[n]||"px"!==r&&+i)&&st.exec(yn.css(t.elem,n)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do s=s||".5",a/=s,yn.style(t.elem,n,a+r);while(s!==(s=t.cur()/i)&&1!==s&&--l)}return o&&(a=t.start=+a||+i||0,t.unit=r,t.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),t}]};yn.Animation=yn.extend(q,{tweener:function(n,e){yn.isFunction(n)?(e=n,n=["*"]):n=n.split(" ");for(var t,i=0,o=n.length;o>i;i++)t=n[i],ut[t]=ut[t]||[],ut[t].unshift(e)},prefilter:function(n,e){e?ct.unshift(n):ct.push(n)}}),yn.Tween=K,K.prototype={constructor:K,init:function(n,e,t,i,o,r){this.elem=n,this.prop=t,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(yn.cssNumber[t]?"":"px")},cur:function(){var n=K.propHooks[this.prop];return n&&n.get?n.get(this):K.propHooks._default.get(this)},run:function(n){var e,t=K.propHooks[this.prop];return this.options.duration?this.pos=e=yn.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=e=n,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(n){var e;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(e=yn.css(n.elem,n.prop,""),e&&"auto"!==e?e:0):n.elem[n.prop]},set:function(n){yn.fx.step[n.prop]?yn.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[yn.cssProps[n.prop]]||yn.cssHooks[n.prop])?yn.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},yn.each(["toggle","show","hide"],function(n,e){var t=yn.fn[e];yn.fn[e]=function(n,i,o){return null==n||"boolean"==typeof n?t.apply(this,arguments):this.animate(X(e,!0),n,i,o)}}),yn.fn.extend({fadeTo:function(n,e,t,i){return this.filter(M).css("opacity",0).show().end().animate({opacity:e},n,t,i)},animate:function(n,e,t,i){var o=yn.isEmptyObject(n),r=yn.speed(e,t,i),a=function(){var e=q(this,yn.extend({},n),r);(o||yn._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(n,e,t){var i=function(n){var e=n.stop;delete n.stop,e(t)};return"string"!=typeof n&&(t=e,e=n,n=a),e&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var e=!0,o=null!=n&&n+"queueHooks",r=yn.timers,a=yn._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&lt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=n&&r[o].queue!==n||(r[o].anim.stop(t),e=!1,r.splice(o,1));(e||!t)&&yn.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var e,t=yn._data(this),i=t[n+"queue"],o=t[n+"queueHooks"],r=yn.timers,a=i?i.length:0;for(t.finish=!0,yn.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===n&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),yn.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,e){yn.fn[n]=function(n,t,i){return this.animate(e,n,t,i)}}),yn.speed=function(n,e,t){var i=n&&"object"==typeof n?yn.extend({},n):{complete:t||!t&&e||yn.isFunction(n)&&n,duration:n,easing:t&&e||e&&!yn.isFunction(e)&&e};return i.duration=yn.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in yn.fx.speeds?yn.fx.speeds[i.duration]:yn.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){yn.isFunction(i.old)&&i.old.call(this),i.queue&&yn.dequeue(this,i.queue)},i},yn.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}},yn.timers=[],yn.fx=K.prototype.init,yn.fx.tick=function(){var n,e=yn.timers,t=0;for(ot=yn.now();t<e.length;t++)n=e[t],n()||e[t]!==n||e.splice(t--,1);e.length||yn.fx.stop(),ot=a},yn.fx.timer=function(n){n()&&yn.timers.push(n)&&yn.fx.start()},yn.fx.interval=13,yn.fx.start=function(){rt||(rt=setInterval(yn.fx.tick,yn.fx.interval))},yn.fx.stop=function(){clearInterval(rt),rt=null},yn.fx.speeds={slow:600,fast:200,_default:400},yn.fx.step={},yn.expr&&yn.expr.filters&&(yn.expr.filters.animated=function(n){return yn.grep(yn.timers,function(e){return n===e.elem}).length}),yn.fn.offset=function(n){if(arguments.length)return n===a?this:this.each(function(e){yn.offset.setOffset(this,n,e)});var e,t,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,yn.contains(e,o)?(typeof o.getBoundingClientRect!==Z&&(i=o.getBoundingClientRect()),t=Q(r),{top:i.top+(t.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(t.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},yn.offset={setOffset:function(n,e,t){var i=yn.css(n,"position");"static"===i&&(n.style.position="relative");var o,r,a=yn(n),s=a.offset(),l=yn.css(n,"top"),c=yn.css(n,"left"),u=("absolute"===i||"fixed"===i)&&yn.inArray("auto",[l,c])>-1,d={},p={};u?(p=a.position(),o=p.top,r=p.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),yn.isFunction(e)&&(e=e.call(n,t,s)),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(n,d):a.css(d)}},yn.fn.extend({position:function(){if(this[0]){var n,e,t={top:0,left:0},i=this[0];return"fixed"===yn.css(i,"position")?e=i.getBoundingClientRect():(n=this.offsetParent(),e=this.offset(),yn.nodeName(n[0],"html")||(t=n.offset()),t.top+=yn.css(n[0],"borderTopWidth",!0),t.left+=yn.css(n[0],"borderLeftWidth",!0)),{top:e.top-t.top-yn.css(i,"marginTop",!0),left:e.left-t.left-yn.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||tn;n&&!yn.nodeName(n,"html")&&"static"===yn.css(n,"position");)n=n.offsetParent;return n||tn})}}),yn.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,e){var t=/Y/.test(e);yn.fn[n]=function(i){return yn.access(this,function(n,i,o){var r=Q(n);return o===a?r?e in r?r[e]:r.document.documentElement[i]:n[i]:void(r?r.scrollTo(t?yn(r).scrollLeft():o,t?o:yn(r).scrollTop()):n[i]=o)},n,i,arguments.length,null)}}),yn.each({Height:"height",Width:"width"},function(n,e){yn.each({padding:"inner"+n,content:e,"":"outer"+n},function(t,i){yn.fn[i]=function(i,o){var r=arguments.length&&(t||"boolean"!=typeof i),s=t||(i===!0||o===!0?"margin":"border");return yn.access(this,function(e,t,i){var o;return yn.isWindow(e)?e.document.documentElement["client"+n]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+n],o["scroll"+n],e.body["offset"+n],o["offset"+n],o["client"+n])):i===a?yn.css(e,t,s):yn.style(e,t,i,s)},e,r?i:a,r,null)}})}),yn.fn.size=function(){return this.length},yn.fn.andSelf=yn.fn.addBack,"object"==typeof r&&r&&"object"==typeof r.exports?r.exports=yn:(n=t.$=yn,i=[],o=function(){return yn}.apply(e,i),!(void 0!==o&&(r.exports=o)))}(window),function(n){n.cookie=function(e,t,i){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(t))||null===t||void 0===t)){if(i=n.extend({},i),(null===t||void 0===t)&&(i.expires=-1),"number"==typeof i.expires){var o=i.expires,r=i.expires=new Date;r.setDate(r.getDate()+o)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=t||{};for(var a,s=i.raw?function(n){return n}:decodeURIComponent,l=document.cookie.split("; "),c=0;a=l[c]&&l[c].split("=");c++)if(s(a[0])===e)return s(a[1]||"");return null}}(a)}).call(e,t(10),t(10),t(14)(n),t(10))},function(n,e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};n.exports=i},function(n,e,t){"use strict";function i(){r.call(this)}var o=t(4),r=t(133);o(i,r),i.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},i.prototype.once=function(n,e){function t(){i.removeListener(n,t),o||(o=!0,e.apply(this,arguments))}var i=this,o=!1;this.on(n,t)},i.prototype.emit=function(n){var e=this._listeners[n];if(e)for(var t=Array.prototype.slice.call(arguments,1),i=0;i<e.length;i++)e[i].apply(this,t)},i.prototype.on=i.prototype.addListener=r.prototype.addEventListener,i.prototype.removeListener=r.prototype.removeEventListener,n.exports.EventEmitter=i},function(n,e,t){var i=e.isObject=function(n){var e=typeof n;return"function"===e||"object"===e&&!!n};e.extend=function(n){if(!i(n))return n;for(var e,t,o=1,r=arguments.length;r>o;o++){e=arguments[o];for(t in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,a)}else n[t]=e[t]}return n},e.isFunction=function(n){return"function"==typeof n},e.EventEmitter=t(259),e.nextTick=function(n){setTimeout(n,0)},e.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},e.callbackName=function(n){return"on"+e.capitalize(n)},e.object=function(n,e){for(var t={},i=0;i<n.length;i++)t[n[i]]=e[i];return t},e.Promise=t(128),e.createPromise=function(n){return new e.Promise(n)},e.isArguments=function(n){return"object"==typeof n&&"callee"in n&&"number"==typeof n.length},e.throwIf=function(n,e){if(n)throw Error(e||n)}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children=[],n.webpackPolyfill=1),n}},function(n,e,t){"use strict";var i=t(48),o=i({bubbled:null,captured:null}),r=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:r,PropagationPhases:o};n.exports=a},function(n,e,t){(function(e){"use strict";function i(n,t,i){for(var o in t)t.hasOwnProperty(o)&&("production"!==e.env.NODE_ENV?N("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n.displayName||"ReactClass",_[i],o):null)}function o(n,t){var i=S.hasOwnProperty(t)?S[t]:null;w.hasOwnProperty(t)&&("production"!==e.env.NODE_ENV?P(i===T.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):P(i===T.OVERRIDE_BASE)),n.hasOwnProperty(t)&&("production"!==e.env.NODE_ENV?P(i===T.DEFINE_MANY||i===T.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):P(i===T.DEFINE_MANY||i===T.DEFINE_MANY_MERGED))}function r(n,t){if(t){"production"!==e.env.NODE_ENV?P("function"!=typeof t,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):P("function"!=typeof t),"production"!==e.env.NODE_ENV?P(!h.isValidElement(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):P(!h.isValidElement(t));var i=n.prototype;t.hasOwnProperty(b)&&k.mixins(n,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==b){var a=t[r];if(o(i,r),k.hasOwnProperty(r))k[r](n,a);else{var s=S.hasOwnProperty(r),u=i.hasOwnProperty(r),d=a&&a.__reactDontBind,p="function"==typeof a,f=p&&!s&&!u&&!d;if(f)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[r]=a,i[r]=a;else if(u){var m=S[r];"production"!==e.env.NODE_ENV?P(s&&(m===T.DEFINE_MANY_MERGED||m===T.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,r):P(s&&(m===T.DEFINE_MANY_MERGED||m===T.DEFINE_MANY)),m===T.DEFINE_MANY_MERGED?i[r]=l(i[r],a):m===T.DEFINE_MANY&&(i[r]=c(i[r],a))}else i[r]=a,"production"!==e.env.NODE_ENV&&"function"==typeof a&&t.displayName&&(i[r].displayName=t.displayName+"_"+r)}}}}function a(n,t){if(t)for(var i in t){var o=t[i];if(t.hasOwnProperty(i)){var r=i in k;"production"!==e.env.NODE_ENV?P(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i):P(!r);var a=i in n;"production"!==e.env.NODE_ENV?P(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):P(!a),n[i]=o}}}function s(n,t){"production"!==e.env.NODE_ENV?P(n&&t&&"object"==typeof n&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):P(n&&t&&"object"==typeof n&&"object"==typeof t);for(var i in t)t.hasOwnProperty(i)&&("production"!==e.env.NODE_ENV?P(void 0===n[i],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i):P(void 0===n[i]),n[i]=t[i]);return n}function l(n,e){return function(){var t=n.apply(this,arguments),i=e.apply(this,arguments);if(null==t)return i;if(null==i)return t;var o={};return s(o,t),s(o,i),o}}function c(n,e){return function(){n.apply(this,arguments),e.apply(this,arguments)}}function u(n,t){var i=t.bind(n);if("production"!==e.env.NODE_ENV){i.__reactBoundContext=n,i.__reactBoundMethod=t,i.__reactBoundArguments=null;var o=n.constructor.displayName,r=i.bind;i.bind=function(a){for(var s=[],l=1,c=arguments.length;c>l;l++)s.push(arguments[l]);if(a!==n&&null!==a)"production"!==e.env.NODE_ENV?N(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):null;else if(!s.length)return"production"!==e.env.NODE_ENV?N(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):null,i;var u=r.apply(i,arguments);return u.__reactBoundContext=n,u.__reactBoundMethod=t,u.__reactBoundArguments=s,u}}return i}function d(n){for(var e in n.__reactAutoBindMap)if(n.__reactAutoBindMap.hasOwnProperty(e)){var t=n.__reactAutoBindMap[e];n[e]=u(n,m.guard(t,n.constructor.displayName+"."+e))}}var p=t(97),f=t(26),h=t(6),m=t(178),y=t(35),g=t(71),v=t(72),_=t(56),C=t(73),E=t(5),P=t(2),A=t(48),x=t(20),N=t(7),b=x({mixins:null}),T=A({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),M=[],S={mixins:T.DEFINE_MANY,statics:T.DEFINE_MANY,propTypes:T.DEFINE_MANY,contextTypes:T.DEFINE_MANY,childContextTypes:T.DEFINE_MANY,getDefaultProps:T.DEFINE_MANY_MERGED,getInitialState:T.DEFINE_MANY_MERGED,getChildContext:T.DEFINE_MANY_MERGED,render:T.DEFINE_ONCE,componentWillMount:T.DEFINE_MANY,componentDidMount:T.DEFINE_MANY,componentWillReceiveProps:T.DEFINE_MANY,shouldComponentUpdate:T.DEFINE_ONCE,componentWillUpdate:T.DEFINE_MANY,componentDidUpdate:T.DEFINE_MANY,componentWillUnmount:T.DEFINE_MANY,updateComponent:T.OVERRIDE_BASE},k={displayName:function(n,e){n.displayName=e},mixins:function(n,e){if(e)for(var t=0;t<e.length;t++)r(n,e[t])},childContextTypes:function(n,t){"production"!==e.env.NODE_ENV&&i(n,t,v.childContext),n.childContextTypes=E({},n.childContextTypes,t)},contextTypes:function(n,t){"production"!==e.env.NODE_ENV&&i(n,t,v.context),n.contextTypes=E({},n.contextTypes,t)},getDefaultProps:function(n,e){n.getDefaultProps?n.getDefaultProps=l(n.getDefaultProps,e):n.getDefaultProps=e},propTypes:function(n,t){"production"!==e.env.NODE_ENV&&i(n,t,v.prop),n.propTypes=E({},n.propTypes,t)},statics:function(n,e){a(n,e)}},I={enumerable:!1,get:function(){var n=this.displayName||this.name||"Component";return"production"!==e.env.NODE_ENV?N(!1,"%s.type is deprecated. Use %s directly to access the class.",n,n):null,Object.defineProperty(this,"type",{value:this}),this}},w={replaceState:function(n,e){C.enqueueReplaceState(this,n),e&&C.enqueueCallback(this,e)},isMounted:function(){if("production"!==e.env.NODE_ENV){var n=f.current;null!==n&&("production"!==e.env.NODE_ENV?N(n._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}var t=y.get(this);return t&&t!==g.currentlyMountingInstance},setProps:function(n,e){C.enqueueSetProps(this,n),e&&C.enqueueCallback(this,e)},replaceProps:function(n,e){C.enqueueReplaceProps(this,n),e&&C.enqueueCallback(this,e)}},D=function(){};E(D.prototype,p.prototype,w);var O={createClass:function(n){var t=function(n,i){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?N(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: http://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&d(this),this.props=n,this.context=i,this.state=null;var o=this.getInitialState?this.getInitialState():null;"production"!==e.env.NODE_ENV&&"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),"production"!==e.env.NODE_ENV?P("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):P("object"==typeof o&&!Array.isArray(o)),this.state=o};t.prototype=new D,t.prototype.constructor=t,M.forEach(r.bind(null,t)),r(t,n),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),"production"!==e.env.NODE_ENV&&(t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={})),"production"!==e.env.NODE_ENV?P(t.prototype.render,"createClass(...): Class specification must implement a `render` method."):P(t.prototype.render),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?N(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",n.displayName||"A component"):null);for(var i in S)t.prototype[i]||(t.prototype[i]=null);if(t.type=t,"production"!==e.env.NODE_ENV)try{Object.defineProperty(t,"type",I)}catch(o){}return t},injection:{injectMixin:function(n){M.push(n)}}};n.exports=O}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(){"production"!==e.env.NODE_ENV?g(M.ReactReconcileTransaction&&P,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):g(M.ReactReconcileTransaction&&P)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled()}function r(n,e,t,o,r){i(),P.batchedUpdates(n,e,t,o,r)}function a(n,e){return n._mountOrder-e._mountOrder}function s(n){var t=n.dirtyComponentsLength;"production"!==e.env.NODE_ENV?g(t===_.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,_.length):g(t===_.length),_.sort(a);for(var i=0;t>i;i++){var o=_[i],r=o._pendingCallbacks;if(o._pendingCallbacks=null,h.performUpdateIfNecessary(o,n.reconcileTransaction),r)for(var s=0;s<r.length;s++)n.callbackQueue.enqueue(r[s],o.getPublicInstance())}}function l(n){return i(),"production"!==e.env.NODE_ENV?v(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,P.isBatchingUpdates?void _.push(n):void P.batchedUpdates(l,n)}function c(n,t){"production"!==e.env.NODE_ENV?g(P.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):g(P.isBatchingUpdates),C.enqueue(n,t),E=!0}var u=t(63),d=t(24),p=t(26),f=t(28),h=t(42),m=t(58),y=t(5),g=t(2),v=t(7),_=[],C=u.getPooled(),E=!1,P=null,A={initialize:function(){this.dirtyComponentsLength=_.length;
},close:function(){this.dirtyComponentsLength!==_.length?(_.splice(0,this.dirtyComponentsLength),b()):_.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},N=[A,x];y(o.prototype,m.Mixin,{getTransactionWrappers:function(){return N},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(n,e,t){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,n,e,t)}}),d.addPoolingTo(o);var b=function(){for(;_.length||E;){if(_.length){var n=o.getPooled();n.perform(s,null,n),o.release(n)}if(E){E=!1;var e=C;C=u.getPooled(),e.notifyAll(),u.release(e)}}};b=f.measure("ReactUpdates","flushBatchedUpdates",b);var T={injectReconcileTransaction:function(n){"production"!==e.env.NODE_ENV?g(n,"ReactUpdates: must provide a reconcile transaction class"):g(n),M.ReactReconcileTransaction=n},injectBatchingStrategy:function(n){"production"!==e.env.NODE_ENV?g(n,"ReactUpdates: must provide a batching strategy"):g(n),"production"!==e.env.NODE_ENV?g("function"==typeof n.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):g("function"==typeof n.batchedUpdates),"production"!==e.env.NODE_ENV?g("boolean"==typeof n.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):g("boolean"==typeof n.isBatchingUpdates),P=n}},M={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:b,injection:T,asap:c};n.exports=M}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(91),o=function(){};"production"!==e.env.NODE_ENV&&(o=t(9)("sockjs-client:utils:url")),n.exports={getOrigin:function(n){if(!n)return null;var e=new i(n);if("file:"===e.protocol)return null;var t=e.port;return t||(t="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+t},isOriginEqual:function(n,e){var t=this.getOrigin(n)===this.getOrigin(e);return o("same",n,e,t),t},isSchemeEqual:function(n,e){return n.split(":")[0]===e.split(":")[0]},addPath:function(n,e){var t=n.split("?");return t[0]+e+(t[1]?"?"+t[1]:"")},addQuery:function(n,e){return n+(-1===n.indexOf("?")?"?"+e:"&"+e)}}}).call(e,t(1))},function(n,e){function t(n){return function(){return n}}function i(){}i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(n){return n},n.exports=i},function(n,e){var t=function(n){var e;for(e in n)if(n.hasOwnProperty(e))return e;return null};n.exports=t},function(n,e,t){"use strict";function i(){a||console.warn("It appears that React Hot Loader isn't configured correctly. If you're using NPM, make sure your dependencies don't drag duplicate React distributions into their node_modules and that require(\"react\") corresponds to the React instance you render your app with.","If you're using a precompiled version of React, see https://github.com/gaearon/react-hot-loader/tree/master/docs#usage-with-external-react for integration instructions."),a=!0}var o=t(270),r=null,a=!1,s={injection:{injectProvider:function(n){r=n}},getRootInstances:function(n){if(r)return r.getRootInstances();var e=n&&o(n)||[];return Object.keys(e).length||i(),e}};n.exports=s},function(n,e,t){"use strict";function i(n,e){if(r(n.exports,e))return!1;var t=n.exports,i=o(n.exports,e),a=!1;i&&(n.exports=n.makeHot(n.exports,"__MODULE_EXPORTS"),a=!0);for(var s in n.exports)if(Object.prototype.hasOwnProperty.call(t,s)&&(!i||"type"!==s)){var l;try{l=t[s]}catch(c){continue}o(l,e)&&(Object.getOwnPropertyDescriptor(n.exports,s).writable?(n.exports[s]=n.makeHot(l,"__MODULE_EXPORTS_"+s),a=!0):console.warn("Can't make class "+s+" hot reloadable due to being read-only. To fix this you can try two solutions. First, you can exclude files or directories (for example, /node_modules/) using 'exclude' option in loader configuration. Second, if you are using Babel, you can enable loose mode for `es6.modules` using the 'loose' option. See: http://babeljs.io/docs/advanced/loose/ and http://babeljs.io/docs/usage/options/"))}return a}var o=t(132),r=t(279);n.exports=i},function(n,e,t){"use strict";n.exports=t(283)},function(n,e,t){(function(e){"use strict";var i=t(2),o=function(n){var e=this;if(e.instancePool.length){var t=e.instancePool.pop();return e.call(t,n),t}return new e(n)},r=function(n,e){var t=this;if(t.instancePool.length){var i=t.instancePool.pop();return t.call(i,n,e),i}return new t(n,e)},a=function(n,e,t){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,n,e,t),o}return new i(n,e,t)},s=function(n,e,t,i,o){var r=this;if(r.instancePool.length){var a=r.instancePool.pop();return r.call(a,n,e,t,i,o),a}return new r(n,e,t,i,o)},l=function(n){var t=this;"production"!==e.env.NODE_ENV?i(n instanceof t,"Trying to release an instance into a pool of a different type."):i(n instanceof t),n.destructor&&n.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(n)},c=10,u=o,d=function(n,e){var t=n;return t.instancePool=[],t.getPooled=e||u,t.poolSize||(t.poolSize=c),t.release=l,t},p={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:r,threeArgumentPooler:a,fiveArgumentPooler:s};n.exports=p}).call(e,t(1))},function(n,e,t){"use strict";var i=t(112),o={getDOMNode:function(){return i(this)}};n.exports=o},function(n,e){"use strict";var t={current:null};n.exports=t},function(n,e,t){var i;(function(n,o){(function(){function r(n,e){function t(n){if(t[n]!==y)return t[n];var r;if("bug-string-char-index"==n)r="a"!="a"[0];else if("json"==n)r=t("json-stringify")&&t("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==n){var c=e.stringify,u="function"==typeof c&&_;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===c(0)&&"0"===c(new i)&&'""'==c(new o)&&c(v)===y&&c(y)===y&&c()===y&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([y])&&"null"==c(null)&&"[null,null,null]"==c([y,v,null])&&c({a:[a,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new l(-1))}catch(d){u=!1}}r=u}if("json-parse"==n){var p=e.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){a=p(s);var f=5==a.a.length&&1===a.a[0];if(f){try{f=!p('"	"')}catch(d){}if(f)try{f=1!==p("01")}catch(d){}if(f)try{f=1!==p("1.")}catch(d){}}}}catch(d){f=!1}r=f}}return t[n]=!!r}n||(n=c.Object()),e||(e=c.Object());var i=n.Number||c.Number,o=n.String||c.String,a=n.Object||c.Object,l=n.Date||c.Date,u=n.SyntaxError||c.SyntaxError,d=n.TypeError||c.TypeError,p=n.Math||c.Math,f=n.JSON||c.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var h,m,y,g=a.prototype,v=g.toString,_=new l(-0xc782b5b800cec);try{_=-109252==_.getUTCFullYear()&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(C){}if(!t("json")){var E="[object Function]",P="[object Date]",A="[object Number]",x="[object String]",N="[object Array]",b="[object Boolean]",T=t("bug-string-char-index");if(!_)var M=p.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(n,e){return S[e]+365*(n-1970)+M((n-1969+(e=+(e>1)))/4)-M((n-1901+e)/100)+M((n-1601+e)/400)};if((h=g.hasOwnProperty)||(h=function(n){var e,t={};return(t.__proto__=null,t.__proto__={toString:1},t).toString!=v?h=function(n){var e=this.__proto__,t=n in(this.__proto__=null,this);return this.__proto__=e,t}:(e=t.constructor,h=function(n){var t=(this.constructor||e).prototype;return n in this&&!(n in t&&this[n]===t[n])}),t=null,h.call(this,n)}),m=function(n,e){var t,i,o,r=0;(t=function(){this.valueOf=0}).prototype.valueOf=0,i=new t;for(o in i)h.call(i,o)&&r++;return t=i=null,r?m=2==r?function(n,e){var t,i={},o=v.call(n)==E;for(t in n)o&&"prototype"==t||h.call(i,t)||!(i[t]=1)||!h.call(n,t)||e(t)}:function(n,e){var t,i,o=v.call(n)==E;for(t in n)o&&"prototype"==t||!h.call(n,t)||(i="constructor"===t)||e(t);(i||h.call(n,t="constructor"))&&e(t)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(n,e){var t,o,r=v.call(n)==E,a=!r&&"function"!=typeof n.constructor&&s[typeof n.hasOwnProperty]&&n.hasOwnProperty||h;for(t in n)r&&"prototype"==t||!a.call(n,t)||e(t);for(o=i.length;t=i[--o];a.call(n,t)&&e(t));}),m(n,e)},!t("json-stringify")){var I={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},w="000000",D=function(n,e){return(w+(e||0)).slice(-n)},O="\\u00",R=function(n){for(var e='"',t=0,i=n.length,o=!T||i>10,r=o&&(T?n.split(""):n);i>t;t++){var a=n.charCodeAt(t);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=I[a];break;default:if(32>a){e+=O+D(2,a.toString(16));break}e+=o?r[t]:n.charAt(t)}}return e+'"'},L=function(n,e,t,i,o,r,a){var s,l,c,u,p,f,g,_,C,E,T,S,I,w,O,V;try{s=e[n]}catch(U){}if("object"==typeof s&&s)if(l=v.call(s),l!=P||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=A&&l!=x&&l!=N||h.call(s,"toJSON"))&&(s=s.toJSON(n));else if(s>-1/0&&1/0>s){if(k){for(p=M(s/864e5),c=M(p/365.2425)+1970-1;k(c+1,0)<=p;c++);for(u=M((p-k(c,0))/30.42);k(c,u+1)<=p;u++);p=1+p-k(c,u),f=(s%864e5+864e5)%864e5,g=M(f/36e5)%24,_=M(f/6e4)%60,C=M(f/1e3)%60,E=f%1e3}else c=s.getUTCFullYear(),u=s.getUTCMonth(),p=s.getUTCDate(),g=s.getUTCHours(),_=s.getUTCMinutes(),C=s.getUTCSeconds(),E=s.getUTCMilliseconds();s=(0>=c||c>=1e4?(0>c?"-":"+")+D(6,0>c?-c:c):D(4,c))+"-"+D(2,u+1)+"-"+D(2,p)+"T"+D(2,g)+":"+D(2,_)+":"+D(2,C)+"."+D(3,E)+"Z"}else s=null;if(t&&(s=t.call(e,n,s)),null===s)return"null";if(l=v.call(s),l==b)return""+s;if(l==A)return s>-1/0&&1/0>s?""+s:"null";if(l==x)return R(""+s);if("object"==typeof s){for(w=a.length;w--;)if(a[w]===s)throw d();if(a.push(s),T=[],O=r,r+=o,l==N){for(I=0,w=s.length;w>I;I++)S=L(I,s,t,i,o,r,a),T.push(S===y?"null":S);V=T.length?o?"[\n"+r+T.join(",\n"+r)+"\n"+O+"]":"["+T.join(",")+"]":"[]"}else m(i||s,function(n){var e=L(n,s,t,i,o,r,a);e!==y&&T.push(R(n)+":"+(o?" ":"")+e)}),V=T.length?o?"{\n"+r+T.join(",\n"+r)+"\n"+O+"}":"{"+T.join(",")+"}":"{}";return a.pop(),V}};e.stringify=function(n,e,t){var i,o,r,a;if(s[typeof e]&&e)if((a=v.call(e))==E)o=e;else if(a==N){r={};for(var l,c=0,u=e.length;u>c;l=e[c++],a=v.call(l),(a==x||a==A)&&(r[l]=1));}if(t)if((a=v.call(t))==A){if((t-=t%1)>0)for(i="",t>10&&(t=10);i.length<t;i+=" ");}else a==x&&(i=t.length<=10?t:t.slice(0,10));return L("",(l={},l[""]=n,l),o,r,i,"",[])}}if(!t("json-parse")){var V,U,F=o.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},B=function(){throw V=U=null,u()},j=function(){for(var n,e,t,i,o,r=U,a=r.length;a>V;)switch(o=r.charCodeAt(V)){case 9:case 10:case 13:case 32:V++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=T?r.charAt(V):r[V],V++,n;case 34:for(n="@",V++;a>V;)if(o=r.charCodeAt(V),32>o)B();else if(92==o)switch(o=r.charCodeAt(++V)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=H[o],V++;break;case 117:for(e=++V,t=V+4;t>V;V++)o=r.charCodeAt(V),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||B();n+=F("0x"+r.slice(e,V));break;default:B()}else{if(34==o)break;for(o=r.charCodeAt(V),e=V;o>=32&&92!=o&&34!=o;)o=r.charCodeAt(++V);n+=r.slice(e,V)}if(34==r.charCodeAt(V))return V++,n;B();default:if(e=V,45==o&&(i=!0,o=r.charCodeAt(++V)),o>=48&&57>=o){for(48==o&&(o=r.charCodeAt(V+1),o>=48&&57>=o)&&B(),i=!1;a>V&&(o=r.charCodeAt(V),o>=48&&57>=o);V++);if(46==r.charCodeAt(V)){for(t=++V;a>t&&(o=r.charCodeAt(t),o>=48&&57>=o);t++);t==V&&B(),V=t}if(o=r.charCodeAt(V),101==o||69==o){for(o=r.charCodeAt(++V),(43==o||45==o)&&V++,t=V;a>t&&(o=r.charCodeAt(t),o>=48&&57>=o);t++);t==V&&B(),V=t}return+r.slice(e,V)}if(i&&B(),"true"==r.slice(V,V+4))return V+=4,!0;if("false"==r.slice(V,V+5))return V+=5,!1;if("null"==r.slice(V,V+4))return V+=4,null;B()}return"$"},G=function(n){var e,t;if("$"==n&&B(),"string"==typeof n){if("@"==(T?n.charAt(0):n[0]))return n.slice(1);if("["==n){for(e=[];n=j(),"]"!=n;t||(t=!0))t&&(","==n?(n=j(),"]"==n&&B()):B()),","==n&&B(),e.push(G(n));return e}if("{"==n){for(e={};n=j(),"}"!=n;t||(t=!0))t&&(","==n?(n=j(),"}"==n&&B()):B()),(","==n||"string"!=typeof n||"@"!=(T?n.charAt(0):n[0])||":"!=j())&&B(),e[n.slice(1)]=G(j());return e}B()}return n},W=function(n,e,t){var i=q(n,e,t);i===y?delete n[e]:n[e]=i},q=function(n,e,t){var i,o=n[e];if("object"==typeof o&&o)if(v.call(o)==N)for(i=o.length;i--;)W(o,i,t);else m(o,function(n){W(o,n,t)});return t.call(n,e,o)};e.parse=function(n,e){var t,i;return V=0,U=""+n,t=G(j()),"$"!=j()&&B(),V=U=null,e&&v.call(e)==E?q((i={},i[""]=t,i),"",e):t}}}return e.runInContext=r,e}var a=t(323),s={"function":!0,object:!0},l=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=l&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof o&&o;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),l&&!a)r(c,l);else{var d=c.JSON,p=c.JSON3,f=!1,h=r(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=d,c.JSON3=p,d=p=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}a&&(i=function(){return h}.call(e,t,e,n),!(void 0!==i&&(n.exports=i)))}).call(this)}).call(e,t(14)(n),function(){return this}())},function(n,e,t){(function(e){"use strict";function t(n,e,t){return t}var i={enableMeasure:!1,storedMeasure:t,measureMethods:function(n,t,o){if("production"!==e.env.NODE_ENV)for(var r in o)o.hasOwnProperty(r)&&(n[r]=i.measure(t,o[r],n[r]))},measure:function(n,t,o){if("production"!==e.env.NODE_ENV){var r=null,a=function(){return i.enableMeasure?(r||(r=i.storedMeasure(n,t,o)),r.apply(this,arguments)):o.apply(this,arguments)};return a.displayName=n+"_"+t,a}return o},injection:{injectMeasure:function(n){i.storedMeasure=n}}};n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e,t){this.dispatchConfig=n,this.dispatchMarker=e,this.nativeEvent=t;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var r=i[o];r?this[o]=r(t):this[o]=t[o]}var s=null!=t.defaultPrevented?t.defaultPrevented:t.returnValue===!1;s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var o=t(24),r=t(5),a=t(19),s=t(78),l={type:null,target:s,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n.preventDefault?n.preventDefault():n.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue},stopPropagation:function(){var n=this.nativeEvent;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var n=this.constructor.Interface;for(var e in n)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=l,i.augmentClass=function(n,e){var t=this,i=Object.create(t.prototype);r(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=r({},t.Interface,e),n.augmentClass=t.augmentClass,o.addPoolingTo(n,o.threeArgumentPooler)},o.addPoolingTo(i,o.threeArgumentPooler),n.exports=i},function(n,e,t){(function(e){"use strict";var i=t(44),o={},r=!1,a=e.chrome&&e.chrome.app&&e.chrome.app.runtime;n.exports={attachEvent:function(n,t){"undefined"!=typeof e.addEventListener?e.addEventListener(n,t,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+n,t),e.attachEvent("on"+n,t))},detachEvent:function(n,t){"undefined"!=typeof e.addEventListener?e.removeEventListener(n,t,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+n,t),e.detachEvent("on"+n,t))},unloadAdd:function(n){if(a)return null;var e=i.string(8);return o[e]=n,r&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(n){n in o&&delete o[n]},triggerUnloadCallbacks:function(){for(var n in o)o[n](),delete o[n]}};var s=function(){r||(r=!0,n.exports.triggerUnloadCallbacks())};a||n.exports.attachEvent("unload",s)}).call(e,function(){return this}())},function(n,e,t){(function(e){"use strict";function i(n,e){return(n&e)===e}var o=t(2),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(n){var t=n.Properties||{},a=n.DOMAttributeNames||{},l=n.DOMPropertyNames||{},c=n.DOMMutationMethods||{};n.isCustomAttribute&&s._isCustomAttributeFunctions.push(n.isCustomAttribute);for(var u in t){"production"!==e.env.NODE_ENV?o(!s.isStandardName.hasOwnProperty(u),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",u):o(!s.isStandardName.hasOwnProperty(u)),s.isStandardName[u]=!0;var d=u.toLowerCase();if(s.getPossibleStandardName[d]=u,a.hasOwnProperty(u)){var p=a[u];s.getPossibleStandardName[p]=u,s.getAttributeName[u]=p}else s.getAttributeName[u]=d;s.getPropertyName[u]=l.hasOwnProperty(u)?l[u]:u,c.hasOwnProperty(u)?s.getMutationMethod[u]=c[u]:s.getMutationMethod[u]=null;var f=t[u];s.mustUseAttribute[u]=i(f,r.MUST_USE_ATTRIBUTE),s.mustUseProperty[u]=i(f,r.MUST_USE_PROPERTY),s.hasSideEffects[u]=i(f,r.HAS_SIDE_EFFECTS),s.hasBooleanValue[u]=i(f,r.HAS_BOOLEAN_VALUE),s.hasNumericValue[u]=i(f,r.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[u]=i(f,r.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[u]=i(f,r.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==e.env.NODE_ENV?o(!s.mustUseAttribute[u]||!s.mustUseProperty[u],"DOMProperty: Cannot require using both attribute and property: %s",u):o(!s.mustUseAttribute[u]||!s.mustUseProperty[u]),"production"!==e.env.NODE_ENV?o(s.mustUseProperty[u]||!s.hasSideEffects[u],"DOMProperty: Properties that have side effects must use property: %s",u):o(s.mustUseProperty[u]||!s.hasSideEffects[u]),"production"!==e.env.NODE_ENV?o(!!s.hasBooleanValue[u]+!!s.hasNumericValue[u]+!!s.hasOverloadedBooleanValue[u]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",u):o(!!s.hasBooleanValue[u]+!!s.hasNumericValue[u]+!!s.hasOverloadedBooleanValue[u]<=1)}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(n){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var t=s._isCustomAttributeFunctions[e];if(t(n))return!0}return!1},getDefaultValueForProperty:function(n,e){var t,i=a[n];return i||(a[n]=i={}),e in i||(t=document.createElement(n),i[e]=t[e]),i[e]},injection:r};n.exports=s}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(64),o=t(96),r=t(97),a=t(16),s=t(69),l=t(26),c=t(6),u=t(46),d=t(165),p=t(100),f=t(176),h=t(34),m=t(8),y=t(28),g=t(105),v=t(42),_=t(188),C=t(5),E=t(112),P=t(120);f.inject();var A=c.createElement,x=c.createFactory,N=c.cloneElement;"production"!==e.env.NODE_ENV&&(A=u.createElement,x=u.createFactory,N=u.cloneElement);var b=y.measure("React","render",m.render),T={Children:{map:o.map,forEach:o.forEach,count:o.count,only:P},Component:r,DOM:d,PropTypes:g,initializeTouchEvents:function(n){i.useTouchEvents=n},createClass:a.createClass,createElement:A,cloneElement:N,createFactory:x,createMixin:function(n){return n},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:E,render:b,renderToString:_.renderToString,renderToStaticMarkup:_.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:s.withContext,__spread:C};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:l,InstanceHandles:h,Mount:m,Reconciler:v,TextComponent:p}),"production"!==e.env.NODE_ENV){var M=t(11);if(M.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools");for(var S=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],k=0;k<S.length;k++)if(!S[k]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}}T.version="0.13.1",n.exports=T}).call(e,t(1))},function(n,e,t){"use strict";function i(n){return Object.prototype.hasOwnProperty.call(n,m)||(n[m]=f++,d[n[m]]={}),d[n[m]]}var o=t(15),r=t(39),a=t(95),s=t(179),l=t(109),c=t(5),u=t(80),d={},p=!1,f=0,h={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),y=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(n){n.setHandleTopLevel(y.handleTopLevel),y.ReactEventListener=n}},setEnabled:function(n){y.ReactEventListener&&y.ReactEventListener.setEnabled(n)},isEnabled:function(){return!(!y.ReactEventListener||!y.ReactEventListener.isEnabled())},listenTo:function(n,e){for(var t=e,r=i(t),s=a.registrationNameDependencies[n],l=o.topLevelTypes,c=0,d=s.length;d>c;c++){var p=s[c];r.hasOwnProperty(p)&&r[p]||(p===l.topWheel?u("wheel")?y.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",t):u("mousewheel")?y.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",t):y.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",t):p===l.topScroll?u("scroll",!0)?y.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",t):y.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",y.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(u("focus",!0)?(y.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",t),y.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",t)):u("focusin")&&(y.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",t),y.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",t)),r[l.topBlur]=!0,r[l.topFocus]=!0):h.hasOwnProperty(p)&&y.ReactEventListener.trapBubbledEvent(p,h[p],t),r[p]=!0)}},trapBubbledEvent:function(n,e,t){return y.ReactEventListener.trapBubbledEvent(n,e,t)},trapCapturedEvent:function(n,e,t){return y.ReactEventListener.trapCapturedEvent(n,e,t)},ensureScrollValueMonitoring:function(){if(!p){var n=l.refreshScrollValues;y.ReactEventListener.monitorScrollValue(n),p=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});n.exports=y},function(n,e,t){(function(e){"use strict";function i(n){return f+n.toString(36)}function o(n,e){return n.charAt(e)===f||e===n.length}function r(n){return""===n||n.charAt(0)===f&&n.charAt(n.length-1)!==f}function a(n,e){return 0===e.indexOf(n)&&o(e,n.length)}function s(n){return n?n.substr(0,n.lastIndexOf(f)):""}function l(n,t){if("production"!==e.env.NODE_ENV?p(r(n)&&r(t),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",n,t):p(r(n)&&r(t)),"production"!==e.env.NODE_ENV?p(a(n,t),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",n,t):p(a(n,t)),n===t)return n;var i,s=n.length+h;for(i=s;i<t.length&&!o(t,i);i++);return t.substr(0,i)}function c(n,t){var i=Math.min(n.length,t.length);if(0===i)return"";for(var a=0,s=0;i>=s;s++)if(o(n,s)&&o(t,s))a=s;else if(n.charAt(s)!==t.charAt(s))break;var l=n.substr(0,a);return"production"!==e.env.NODE_ENV?p(r(l),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",n,t,l):p(r(l)),l}function u(n,t,i,o,r,c){n=n||"",t=t||"","production"!==e.env.NODE_ENV?p(n!==t,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",n):p(n!==t);var u=a(t,n);"production"!==e.env.NODE_ENV?p(u||a(n,t),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",n,t):p(u||a(n,t));for(var d=0,f=u?s:l,h=n;;h=f(h,t)){var y;if(r&&h===n||c&&h===t||(y=i(h,u,o)),y===!1||h===t)break;"production"!==e.env.NODE_ENV?p(d++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",n,t):p(d++<m)}}var d=t(107),p=t(2),f=".",h=f.length,m=100,y={createReactRootID:function(){return i(d.createReactRootIndex())},createReactID:function(n,e){return n+e},getReactRootIDFromNodeID:function(n){if(n&&n.charAt(0)===f&&n.length>1){var e=n.indexOf(f,1);return e>-1?n.substr(0,e):n}return null},traverseEnterLeave:function(n,e,t,i,o){var r=c(n,e);r!==n&&u(n,r,t,i,!1,!0),r!==e&&u(r,e,t,o,!0,!1)},traverseTwoPhase:function(n,e,t){n&&(u("",n,e,t,!0,!1),u(n,"",e,t,!1,!0))},traverseAncestors:function(n,e,t){u("",n,e,t,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:f};n.exports=y}).call(e,t(1))},function(n,e){"use strict";var t={remove:function(n){n._reactInternalInstance=void 0},get:function(n){return n._reactInternalInstance},has:function(n){return void 0!==n._reactInternalInstance},set:function(n,e){n._reactInternalInstance=e}};n.exports=t},function(n,e,t){e.ActionMethods=t(232),e.ListenerMethods=t(123),e.PublisherMethods=t(234),e.StoreMethods=t(235),e.createAction=t(239),e.createStore=t(124),e.connect=t(237),e.connectFilter=t(238),e.ListenerMixin=t(233),e.listenTo=t(240),e.listenToMany=t(241);var i=t(125).staticJoinCreator;e.joinTrailing=e.all=i("last"),e.joinLeading=i("first"),e.joinStrict=i("strict"),e.joinConcat=i("all");var o=t(13);e.EventEmitter=o.EventEmitter,e.Promise=o.Promise,e.createActions=function(n){var t={};for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],a=o.isObject(r)?i:r;t[a]=e.createAction(r)}return t},e.setEventEmitter=function(n){var i=t(13);e.EventEmitter=i.EventEmitter=n},e.setPromise=function(n){var i=t(13);e.Promise=i.Promise=n},e.setPromiseFactory=function(n){var e=t(13);e.createPromise=n},e.nextTick=function(n){var e=t(13);e.nextTick=n},e.__keep=t(83),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},function(n,e,t){var i,o;i=[],o=function(){return function(){for(var n=arguments,e=[],t=0;t<n.length;t++){var i=n[t];if(i)if("string"==typeof i||"number"==typeof i)e.push(i);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&i[o]&&e.push(o)}return e.join(" ")}}.apply(e,i),!(void 0!==o&&(n.exports=o))},function(n,e,t){var i;(function(n,o){(function(){function r(n,e){if(n!==e){var t=null===n,i=n===b,o=n===n,r=null===e,a=e===b,s=e===e;if(n>e&&!r||!o||t&&!a&&s||i&&s)return 1;if(e>n&&!t||!s||r&&!i&&o||a&&o)return-1}return 0}function a(n,e,t){for(var i=n.length,o=t?i:-1;t?o--:++o<i;)if(e(n[o],o,n))return o;return-1}function s(n,e,t){if(e!==e)return g(n,t);for(var i=t-1,o=n.length;++i<o;)if(n[i]===e)return i;return-1}function l(n){return"function"==typeof n||!1}function c(n){return"string"==typeof n?n:null==n?"":n+""}function u(n,e){for(var t=-1,i=n.length;++t<i&&e.indexOf(n.charAt(t))>-1;);return t}function d(n,e){for(var t=n.length;t--&&e.indexOf(n.charAt(t))>-1;);return t}function p(n,e){return r(n.criteria,e.criteria)||n.index-e.index}function f(n,e,t){for(var i=-1,o=n.criteria,a=e.criteria,s=o.length,l=t.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*(t[i]?1:-1)}return n.index-e.index}function h(n){return Kn[n]}function m(n){return Xn[n]}function y(n){return"\\"+Jn[n]}function g(n,e,t){for(var i=n.length,o=e+(t?0:-1);t?o--:++o<i;){var r=n[o];if(r!==r)return o}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function C(n,e){for(var t=-1,i=n.length,o=-1,r=[];++t<i;)n[t]===e&&(n[t]=q,r[++o]=t);return r}function E(n,e){for(var t,i=-1,o=n.length,r=-1,a=[];++i<o;){var s=n[i],l=e?e(s,i,n):s;i&&t===l||(t=l,a[++r]=s)}return a}function P(n){for(var e=-1,t=n.length;++e<t&&_(n.charCodeAt(e)););return e}function A(n){for(var e=n.length;e--&&_(n.charCodeAt(e)););return e}function x(n){return Qn[n]}function N(n){function e(n){if(v(n)&&!ks(n)&&!(n instanceof o)){if(n instanceof i)return n;if($r.call(n,"__chain__")&&$r.call(n,"__wrapped__"))return ui(n)}return new i(n)}function t(){}function i(n,e,t){this.__wrapped__=n,this.__actions__=t||[],this.__chain__=!!e}function o(n){this.__wrapped__=n,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=ba,this.__views__=null}function _(){var n=this.__actions__,e=this.__iteratees__,t=this.__views__,i=new o(this.__wrapped__);return i.__actions__=n?ee(n):null,i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=e?ee(e):null,i.__takeCount__=this.__takeCount__,i.__views__=t?ee(t):null,i}function J(){if(this.__filtered__){var n=new o(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function tn(){var n=this.__wrapped__.value();if(!ks(n))return it(n,this.__actions__);var e=this.__dir__,t=0>e,i=Gt(0,n.length,this.__views__),o=i.start,r=i.end,a=r-o,s=t?r:o-1,l=Ea(a,this.__takeCount__),c=this.__iteratees__,u=c?c.length:0,d=0,p=[];n:for(;a--&&l>d;){s+=e;for(var f=-1,h=n[s];++f<u;){var m=c[f],y=m.iteratee,g=m.type;if(g==B){if(m.done&&(t?s>m.index:s<m.index)&&(m.count=0,m.done=!1),m.index=s,!m.done){var v=m.limit;if(!(m.done=v>-1?m.count++>=v:!y(h)))continue n}}else{var _=y(h);if(g==G)h=_;else if(!_){if(g==j)continue n;break n}}}p[d++]=h}return p}function rn(){this.__data__={}}function Kn(n){return this.has(n)&&delete this.__data__[n]}function Xn(n){return"__proto__"==n?b:this.__data__[n]}function Qn(n){return"__proto__"!=n&&$r.call(this.__data__,n)}function $n(n,e){return"__proto__"!=n&&(this.__data__[n]=e),this}function Jn(n){var e=n?n.length:0;for(this.data={hash:ya(null),set:new ua};e--;)this.push(n[e])}function Zn(n,e){var t=n.data,i="string"==typeof e||ko(e)?t.set.has(e):t.hash[e];return i?0:-1}function ne(n){var e=this.data;"string"==typeof n||ko(n)?e.set.add(n):e.hash[n]=!0}function ee(n,e){var t=-1,i=n.length;for(e||(e=Rr(i));++t<i;)e[t]=n[t];return e}function te(n,e){for(var t=-1,i=n.length;++t<i&&e(n[t],t,n)!==!1;);return n}function ie(n,e){for(var t=n.length;t--&&e(n[t],t,n)!==!1;);return n}function se(n,e){for(var t=-1,i=n.length;++t<i;)if(!e(n[t],t,n))return!1;return!0}function le(n,e,t,i){for(var o=-1,r=n.length,a=i,s=a;++o<r;){var l=n[o],c=+e(l);t(c,a)&&(a=c,s=l)}return s}function ce(n,e){for(var t=-1,i=n.length,o=-1,r=[];++t<i;){
var a=n[t];e(a,t,n)&&(r[++o]=a)}return r}function ue(n,e){for(var t=-1,i=n.length,o=Rr(i);++t<i;)o[t]=e(n[t],t,n);return o}function de(n,e,t,i){var o=-1,r=n.length;for(i&&r&&(t=n[++o]);++o<r;)t=e(t,n[o],o,n);return t}function pe(n,e,t,i){var o=n.length;for(i&&o&&(t=n[--o]);o--;)t=e(t,n[o],o,n);return t}function fe(n,e){for(var t=-1,i=n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function he(n){for(var e=n.length,t=0;e--;)t+=+n[e]||0;return t}function me(n,e){return n===b?e:n}function ye(n,e,t,i){return n!==b&&$r.call(i,t)?n:e}function ge(n,e,t){for(var i=-1,o=js(e),r=o.length;++i<r;){var a=o[i],s=n[a],l=t(s,e[a],a,n,e);(l===l?l===s:s!==s)&&(s!==b||a in n)||(n[a]=l)}return n}function ve(n,e){return null==e?n:Ce(e,js(e),n)}function _e(n,e){for(var t=-1,i=null==n,o=!i&&Kt(n),r=o?n.length:0,a=e.length,s=Rr(a);++t<a;){var l=e[t];o?s[t]=Xt(l,r)?n[l]:b:s[t]=i?b:n[l]}return s}function Ce(n,e,t){t||(t={});for(var i=-1,o=e.length;++i<o;){var r=e[i];t[r]=n[r]}return t}function Ee(n,e,t){var i=typeof n;return"function"==i?e===b?n:at(n,e,t):null==n?Pr:"object"==i?He(n):e===b?Mr(n):Be(n,e)}function Pe(n,e,t,i,o,r,a){var s;if(t&&(s=o?t(n,i,o):t(n)),s!==b)return s;if(!ko(n))return n;var l=ks(n);if(l){if(s=Wt(n),!e)return ee(n,s)}else{var c=Zr.call(n),u=c==$;if(c!=nn&&c!=z&&(!u||o))return zn[c]?zt(n,c,e):o?n:{};if(re(n))return o?n:{};if(s=qt(u?{}:n),!e)return ve(s,n)}r||(r=[]),a||(a=[]);for(var d=r.length;d--;)if(r[d]==n)return a[d];return r.push(n),a.push(s),(l?te:we)(n,function(i,o){s[o]=Pe(i,e,t,o,n,r,a)}),s}function Ae(n,e,t){if("function"!=typeof n)throw new Wr(W);return da(function(){n.apply(b,t)},e)}function xe(n,e){var t=n?n.length:0,i=[];if(!t)return i;var o=-1,r=Ht(),a=r==s,l=a&&e.length>=200?Ga(e):null,c=e.length;l&&(r=Zn,a=!1,e=l);n:for(;++o<t;){var u=n[o];if(a&&u===u){for(var d=c;d--;)if(e[d]===u)continue n;i.push(u)}else r(e,u,0)<0&&i.push(u)}return i}function Ne(n,e){var t=!0;return Ua(n,function(n,i,o){return t=!!e(n,i,o)}),t}function be(n,e,t,i){var o=i,r=o;return Ua(n,function(n,a,s){var l=+e(n,a,s);(t(l,o)||l===i&&l===r)&&(o=l,r=n)}),r}function Te(n,e,t,i){var o=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),i=i===b||i>o?o:+i||0,0>i&&(i+=o),o=t>i?0:i>>>0,t>>>=0;o>t;)n[t++]=e;return n}function Me(n,e){var t=[];return Ua(n,function(n,i,o){e(n,i,o)&&t.push(n)}),t}function Se(n,e,t,i){var o;return t(n,function(n,t,r){return e(n,t,r)?(o=i?t:n,!1):void 0}),o}function ke(n,e,t){for(var i=-1,o=n.length,r=-1,a=[];++i<o;){var s=n[i];if(v(s)&&Kt(s)&&(t||ks(s)||Ao(s))){e&&(s=ke(s,e,t));for(var l=-1,c=s.length;++l<c;)a[++r]=s[l]}else t||(a[++r]=s)}return a}function Ie(n,e){return Ha(n,e,Xo)}function we(n,e){return Ha(n,e,js)}function De(n,e){return Ba(n,e,js)}function Oe(n,e){for(var t=-1,i=e.length,o=-1,r=[];++t<i;){var a=e[t];ws(n[a])&&(r[++o]=a)}return r}function Re(n,e,t){if(null!=n){n=li(n),t!==b&&t in n&&(e=[t]);for(var i=0,o=e.length;null!=n&&o>i;)n=li(n)[e[i++]];return i&&i==o?n:b}}function Le(n,e,t,i,o,r){return n===e?!0:null==n||null==e||!ko(n)&&!ko(e)?n!==n&&e!==e:Ve(n,e,Le,t,i,o,r)}function Ve(n,e,t,i,o,r,a){var s=ks(n),l=ks(e),c=Y,u=Y;s||(c=Zr.call(n),c==z?c=nn:c!=nn&&(s=Uo(n))),l||(u=Zr.call(e),u==z?u=nn:u!=nn&&(l=Uo(e)));var d=c==nn&&!re(n),p=u==nn&&!re(e),f=c==u;if(f&&!s&&!d)return Lt(n,e,c);if(!o){var h=d&&$r.call(n,"__wrapped__"),m=p&&$r.call(e,"__wrapped__");if(h||m)return t(h?n.value():n,m?e.value():e,i,o,r,a)}if(!f)return!1;r||(r=[]),a||(a=[]);for(var y=r.length;y--;)if(r[y]==n)return a[y]==e;r.push(n),a.push(e);var g=(s?Rt:Vt)(n,e,t,i,o,r,a);return r.pop(),a.pop(),g}function Ue(n,e,t){var i=e.length,o=i,r=!t;if(null==n)return!o;for(n=li(n);i--;){var a=e[i];if(r&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<o;){a=e[i];var s=a[0],l=n[s],c=a[1];if(r&&a[2]){if(l===b&&!(s in n))return!1}else{var u=t?t(l,c,s):b;if(!(u===b?Le(c,l,t,!0):u))return!1}}return!0}function Fe(n,e){var t=-1,i=Kt(n)?Rr(n.length):[];return Ua(n,function(n,o,r){i[++t]=e(n,o,r)}),i}function He(n){var e=Bt(n);if(1==e.length&&e[0][2]){var t=e[0][0],i=e[0][1];return function(n){return null==n?!1:(n=li(n),n[t]===i&&(i!==b||t in n))}}return function(n){return Ue(n,e)}}function Be(n,e){var t=ks(n),i=$t(n)&&ni(e),o=n+"";return n=ci(n),function(r){if(null==r)return!1;var a=o;if(r=li(r),(t||!i)&&!(a in r)){if(r=1==n.length?r:Re(r,Xe(n,0,-1)),null==r)return!1;a=Ai(n),r=li(r)}return r[a]===e?e!==b||a in r:Le(e,r[a],b,!0)}}function je(n,e,t,i,o){if(!ko(n))return n;var r=Kt(e)&&(ks(e)||Uo(e)),a=r?null:js(e);return te(a||e,function(s,l){if(a&&(l=s,s=e[l]),v(s))i||(i=[]),o||(o=[]),Ge(n,e,l,je,t,i,o);else{var c=n[l],u=t?t(c,s,l,n,e):b,d=u===b;d&&(u=s),u===b&&(!r||l in n)||!d&&(u===u?u===c:c!==c)||(n[l]=u)}}),n}function Ge(n,e,t,i,o,r,a){for(var s=r.length,l=e[t];s--;)if(r[s]==l)return void(n[t]=a[s]);var c=n[t],u=o?o(c,l,t,n,e):b,d=u===b;d&&(u=l,Kt(l)&&(ks(l)||Uo(l))?u=ks(c)?c:Kt(c)?ee(c):[]:Ds(l)||Ao(l)?u=Ao(c)?Go(c):Ds(c)?c:{}:d=!1),r.push(l),a.push(u),d?n[t]=i(u,l,o,r,a):(u===u?u!==c:c===c)&&(n[t]=u)}function We(n){return function(e){return null==e?b:li(e)[n]}}function qe(n){var e=n+"";return n=ci(n),function(t){return Re(t,n,e)}}function ze(n,e){for(var t=n?e.length:0;t--;){var i=e[t];if(i!=o&&Xt(i)){var o=i;pa.call(n,i,1)}}return n}function Ye(n,e){return n+aa(Na()*(e-n+1))}function Ke(n,e,t,i,o){return o(n,function(n,o,r){t=i?(i=!1,n):e(t,n,o,r)}),t}function Xe(n,e,t){var i=-1,o=n.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),t=t===b||t>o?o:+t||0,0>t&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var r=Rr(o);++i<o;)r[i]=n[i+e];return r}function Qe(n,e){var t;return Ua(n,function(n,i,o){return t=e(n,i,o),!t}),!!t}function $e(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function Je(n,e,t){var i=Ut(),o=-1;e=ue(e,function(n){return i(n)});var r=Fe(n,function(n){var t=ue(e,function(e){return e(n)});return{criteria:t,index:++o,value:n}});return $e(r,function(n,e){return f(n,e,t)})}function Ze(n,e){var t=0;return Ua(n,function(n,i,o){t+=+e(n,i,o)||0}),t}function nt(n,e){var t=-1,i=Ht(),o=n.length,r=i==s,a=r&&o>=200,l=a?Ga():null,c=[];l?(i=Zn,r=!1):(a=!1,l=e?[]:c);n:for(;++t<o;){var u=n[t],d=e?e(u,t,n):u;if(r&&u===u){for(var p=l.length;p--;)if(l[p]===d)continue n;e&&l.push(d),c.push(u)}else i(l,d,0)<0&&((e||a)&&l.push(d),c.push(u))}return c}function et(n,e){for(var t=-1,i=e.length,o=Rr(i);++t<i;)o[t]=n[e[t]];return o}function tt(n,e,t,i){for(var o=n.length,r=i?o:-1;(i?r--:++r<o)&&e(n[r],r,n););return t?Xe(n,i?0:r,i?r+1:o):Xe(n,i?r+1:0,i?o:r)}function it(n,e){var t=n;t instanceof o&&(t=t.value());for(var i=-1,r=e.length;++i<r;){var a=[t],s=e[i];la.apply(a,s.args),t=s.func.apply(s.thisArg,a)}return t}function ot(n,e,t){var i=0,o=n?n.length:i;if("number"==typeof e&&e===e&&Sa>=o){for(;o>i;){var r=i+o>>>1,a=n[r];(t?e>=a:e>a)&&null!==a?i=r+1:o=r}return o}return rt(n,e,Pr,t)}function rt(n,e,t,i){e=t(e);for(var o=0,r=n?n.length:0,a=e!==e,s=null===e,l=e===b;r>o;){var c=aa((o+r)/2),u=t(n[c]),d=u!==b,p=u===u;if(a)var f=p||i;else f=s?p&&d&&(i||null!=u):l?p&&(i||d):null==u?!1:i?e>=u:e>u;f?o=c+1:r=c}return Ea(r,Ma)}function at(n,e,t){if("function"!=typeof n)return Pr;if(e===b)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 3:return function(t,i,o){return n.call(e,t,i,o)};case 4:return function(t,i,o,r){return n.call(e,t,i,o,r)};case 5:return function(t,i,o,r,a){return n.call(e,t,i,o,r,a)}}return function(){return n.apply(e,arguments)}}function st(n){return ia.call(n,0)}function lt(n,e,t){for(var i=t.length,o=-1,r=Ca(n.length-i,0),a=-1,s=e.length,l=Rr(r+s);++a<s;)l[a]=e[a];for(;++o<i;)l[t[o]]=n[o];for(;r--;)l[a++]=n[o++];return l}function ct(n,e,t){for(var i=-1,o=t.length,r=-1,a=Ca(n.length-o,0),s=-1,l=e.length,c=Rr(a+l);++r<a;)c[r]=n[r];for(var u=r;++s<l;)c[u+s]=e[s];for(;++i<o;)c[u+t[i]]=n[r++];return c}function ut(n,e){return function(t,i,o){var r=e?e():{};if(i=Ut(i,o,3),ks(t))for(var a=-1,s=t.length;++a<s;){var l=t[a];n(r,l,i(l,a,t),t)}else Ua(t,function(e,t,o){n(r,e,i(e,t,o),o)});return r}}function dt(n){return mo(function(e,t){var i=-1,o=null==e?0:t.length,r=o>2?t[o-2]:b,a=o>2?t[2]:b,s=o>1?t[o-1]:b;for("function"==typeof r?(r=at(r,s,5),o-=2):(r="function"==typeof s?s:b,o-=r?1:0),a&&Qt(t[0],t[1],a)&&(r=3>o?b:r,o=1);++i<o;){var l=t[i];l&&n(e,l,r)}return e})}function pt(n,e){return function(t,i){var o=t?qa(t):0;if(!Zt(o))return n(t,i);for(var r=e?o:-1,a=li(t);(e?r--:++r<o)&&i(a[r],r,a)!==!1;);return t}}function ft(n){return function(e,t,i){for(var o=li(e),r=i(e),a=r.length,s=n?a:-1;n?s--:++s<a;){var l=r[s];if(t(o[l],l,o)===!1)break}return e}}function ht(n,e){function t(){var o=this&&this!==oe&&this instanceof t?i:n;return o.apply(e,arguments)}var i=yt(n);return t}function mt(n){return function(e){for(var t=-1,i=_r(rr(e)),o=i.length,r="";++t<o;)r=n(r,i[t],t);return r}}function yt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4])}var t=Va(n.prototype),i=n.apply(t,e);return ko(i)?i:t}}function gt(n){function e(t,i,o){o&&Qt(t,i,o)&&(i=null);var r=Ot(t,n,null,null,null,null,null,i);return r.placeholder=e.placeholder,r}return e}function vt(n,e){return function(t,i,o){if(o&&Qt(t,i,o)&&(i=null),i=Ut(i,o,3),1==i.length){t=si(t);var r=le(t,i,n,e);if(!t.length||r!==e)return r}return be(t,i,n,e)}}function _t(n,e){return function(t,i,o){if(i=Ut(i,o,3),ks(t)){var r=a(t,i,e);return r>-1?t[r]:b}return Se(t,i,n)}}function Ct(n){return function(e,t,i){return e&&e.length?(t=Ut(t,i,3),a(e,t,n)):-1}}function Et(n){return function(e,t,i){return t=Ut(t,i,3),Se(e,t,n,!0)}}function Pt(n){return function(){for(var e,t=arguments.length,o=n?t:-1,r=0,a=Rr(t);n?o--:++o<t;){var s=a[r++]=arguments[o];if("function"!=typeof s)throw new Wr(W);!e&&i.prototype.thru&&"wrapper"==Ft(s)&&(e=new i([]))}for(o=e?-1:t;++o<t;){s=a[o];var l=Ft(s),c="wrapper"==l?Wa(s):null;e=c&&Jt(c[0])&&c[1]==(R|I|D|L)&&!c[4].length&&1==c[9]?e[Ft(c[0])].apply(e,c[3]):1==s.length&&Jt(s)?e[l]():e.thru(s)}return function(){var n=arguments;if(e&&1==n.length&&ks(n[0]))return e.plant(n[0]).value();for(var i=0,o=t?a[i].apply(this,n):n[0];++i<t;)o=a[i].call(this,o);return o}}}function At(n,e){return function(t,i,o){return"function"==typeof i&&o===b&&ks(t)?n(t,i):e(t,at(i,o,3))}}function xt(n){return function(e,t,i){return("function"!=typeof t||i!==b)&&(t=at(t,i,3)),n(e,t,Xo)}}function Nt(n){return function(e,t,i){return("function"!=typeof t||i!==b)&&(t=at(t,i,3)),n(e,t)}}function bt(n){return function(e,t,i){var o={};return t=Ut(t,i,3),we(e,function(e,i,r){var a=t(e,i,r);i=n?a:i,e=n?e:a,o[i]=e}),o}}function Tt(n){return function(e,t,i){return e=c(e),(n?e:"")+It(e,t,i)+(n?"":e)}}function Mt(n){var e=mo(function(t,i){var o=C(i,e.placeholder);return Ot(t,n,null,i,o)});return e}function St(n,e){return function(t,i,o,r){var a=arguments.length<3;return"function"==typeof i&&r===b&&ks(t)?n(t,i,o,a):Ke(t,Ut(i,r,4),o,a,e)}}function kt(n,e,t,i,o,r,a,s,l,c){function u(){for(var v=arguments.length,_=v,E=Rr(v);_--;)E[_]=arguments[_];if(i&&(E=lt(E,i,o)),r&&(E=ct(E,r,a)),h||y){var P=u.placeholder,A=C(E,P);if(v-=A.length,c>v){var x=s?ee(s):null,N=Ca(c-v,0),T=h?A:null,k=h?null:A,I=h?E:null,w=h?null:E;e|=h?D:O,e&=~(h?O:D),m||(e&=~(M|S));var R=[n,e,t,I,T,w,k,x,l,N],L=kt.apply(b,R);return Jt(n)&&za(L,R),L.placeholder=P,L}}var V=p?t:this,U=f?V[n]:n;return s&&(E=oi(E,s)),d&&l<E.length&&(E.length=l),this&&this!==oe&&this instanceof u&&(U=g||yt(n)),U.apply(V,E)}var d=e&R,p=e&M,f=e&S,h=e&I,m=e&k,y=e&w,g=f?null:yt(n);return u}function It(n,e,t){var i=n.length;if(e=+e,i>=e||!va(e))return"";var o=e-i;return t=null==t?" ":t+"",dr(t,oa(o/t.length)).slice(0,o)}function wt(n,e,t,i){function o(){for(var e=-1,s=arguments.length,l=-1,c=i.length,u=Rr(s+c);++l<c;)u[l]=i[l];for(;s--;)u[l++]=arguments[++e];var d=this&&this!==oe&&this instanceof o?a:n;return d.apply(r?t:this,u)}var r=e&M,a=yt(n);return o}function Dt(n){return function(e,t,i,o){var r=Ut(i);return null==i&&r===Ee?ot(e,t,n):rt(e,t,r(i,o,1),n)}}function Ot(n,e,t,i,o,r,a,s){var l=e&S;if(!l&&"function"!=typeof n)throw new Wr(W);var c=i?i.length:0;if(c||(e&=~(D|O),i=o=null),c-=o?o.length:0,e&O){var u=i,d=o;i=o=null}var p=l?null:Wa(n),f=[n,e,t,i,o,u,d,r,a,s];if(p&&(ei(f,p),e=f[1],s=f[9]),f[9]=null==s?l?0:n.length:Ca(s-c,0)||0,e==M)var h=ht(f[0],f[2]);else h=e!=D&&e!=(M|D)||f[4].length?kt.apply(b,f):wt.apply(b,f);var m=p?ja:za;return m(h,f)}function Rt(n,e,t,i,o,r,a){var s=-1,l=n.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;for(;++s<l;){var u=n[s],d=e[s],p=i?i(o?d:u,o?u:d,s):b;if(p!==b){if(p)continue;return!1}if(o){if(!fe(e,function(n){return u===n||t(u,n,i,o,r,a)}))return!1}else if(u!==d&&!t(u,d,i,o,r,a))return!1}return!0}function Lt(n,e,t){switch(t){case K:case X:return+n==+e;case Q:return n.name==e.name&&n.message==e.message;case Z:return n!=+n?e!=+e:n==+e;case en:case on:return n==e+""}return!1}function Vt(n,e,t,i,o,r,a){var s=js(n),l=s.length,c=js(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in e:$r.call(e,p)))return!1}for(var f=o;++d<l;){p=s[d];var h=n[p],m=e[p],y=i?i(o?m:h,o?h:m,p):b;if(!(y===b?t(h,m,i,o,r,a):y))return!1;f||(f="constructor"==p)}if(!f){var g=n.constructor,v=e.constructor;if(g!=v&&"constructor"in n&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function Ut(n,t,i){var o=e.callback||Cr;return o=o===Cr?Ee:o,i?o(n,t,i):o}function Ft(n){for(var e=n.name,t=Da[e],i=t?t.length:0;i--;){var o=t[i],r=o.func;if(null==r||r==n)return o.name}return e}function Ht(n,t,i){var o=e.indexOf||Ei;return o=o===Ei?s:o,n?o(n,t,i):o}function Bt(n){for(var e=Qo(n),t=e.length;t--;)e[t][2]=ni(e[t][1]);return e}function jt(n,e){var t=null==n?b:n[e];return Do(t)?t:b}function Gt(n,e,t){for(var i=-1,o=t?t.length:0;++i<o;){var r=t[i],a=r.size;switch(r.type){case"drop":n+=a;break;case"dropRight":e-=a;break;case"take":e=Ea(e,n+a);break;case"takeRight":n=Ca(n,e-a)}}return{start:n,end:e}}function Wt(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&$r.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function qt(n){var e=n.constructor;return"function"==typeof e&&e instanceof e||(e=Br),new e}function zt(n,e,t){var i=n.constructor;switch(e){case an:return st(n);case K:case X:return new i(+n);case sn:case ln:case cn:case un:case dn:case pn:case fn:case hn:case mn:i instanceof i&&(i=Oa[e]);var o=n.buffer;return new i(t?st(o):o,n.byteOffset,n.length);case Z:case on:return new i(n);case en:var r=new i(n.source,On.exec(n));r.lastIndex=n.lastIndex}return r}function Yt(n,e,t){null==n||$t(e,n)||(e=ci(e),n=1==e.length?n:Re(n,Xe(e,0,-1)),e=Ai(e));var i=null==n?n:n[e];return null==i?b:i.apply(n,t)}function Kt(n){return null!=n&&Zt(qa(n))}function Xt(n,e){return n="number"==typeof n?n:parseFloat(n),e=null==e?Ia:e,n>-1&&n%1==0&&e>n}function Qt(n,e,t){if(!ko(t))return!1;var i=typeof e;if("number"==i?Kt(t)&&Xt(e,t.length):"string"==i&&e in t){var o=t[e];return n===n?n===o:o!==o}return!1}function $t(n,e){var t=typeof n;if("string"==t&&Tn.test(n)||"number"==t)return!0;if(ks(n))return!1;var i=!bn.test(n);return i||null!=e&&n in li(e)}function Jt(n){var t=Ft(n);return!!t&&n===e[t]&&t in o.prototype}function Zt(n){return"number"==typeof n&&n>-1&&n%1==0&&Ia>=n}function ni(n){return n===n&&!ko(n)}function ei(n,e){var t=n[1],i=e[1],o=t|i,r=R>o,a=i==R&&t==I||i==R&&t==L&&n[7].length<=e[8]||i==(R|L)&&t==I;if(!r&&!a)return n;i&M&&(n[2]=e[2],o|=t&M?0:k);var s=e[3];if(s){var l=n[3];n[3]=l?lt(l,s,e[4]):ee(s),n[4]=l?C(n[3],q):ee(e[4])}return s=e[5],s&&(l=n[5],n[5]=l?ct(l,s,e[6]):ee(s),n[6]=l?C(n[5],q):ee(e[6])),s=e[7],s&&(n[7]=ee(s)),i&R&&(n[8]=null==n[8]?e[8]:Ea(n[8],e[8])),null==n[9]&&(n[9]=e[9]),n[0]=e[0],n[1]=o,n}function ti(n,e){n=li(n);for(var t=-1,i=e.length,o={};++t<i;){var r=e[t];r in n&&(o[r]=n[r])}return o}function ii(n,e){var t={};return Ie(n,function(n,i,o){e(n,i,o)&&(t[i]=n)}),t}function oi(n,e){for(var t=n.length,i=Ea(e.length,t),o=ee(n);i--;){var r=e[i];n[i]=Xt(r,t)?o[r]:b}return n}function ri(n){var t,i=e.support;if(!v(n)||Zr.call(n)!=nn||re(n)||!$r.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t))||!i.argsTag&&Ao(n))return!1;var o;return i.ownLast?(Ie(n,function(n,e,t){return o=$r.call(t,e),!1}),o!==!1):(Ie(n,function(n,e){o=e}),o===b||$r.call(n,o))}function ai(n){for(var e=Xo(n),t=e.length,i=t&&n.length,o=!!i&&Zt(i)&&(ks(n)||Ao(n)||Vo(n)),r=-1,a=[];++r<t;){var s=e[r];(o&&Xt(s,i)||$r.call(n,s))&&a.push(s)}return a}function si(n){return null==n?[]:Kt(n)?e.support.unindexedChars&&Vo(n)?n.split(""):ko(n)?n:Br(n):nr(n)}function li(n){if(e.support.unindexedChars&&Vo(n)){for(var t=-1,i=n.length,o=Br(n);++t<i;)o[t]=n.charAt(t);return o}return ko(n)?n:Br(n)}function ci(n){if(ks(n))return n;var e=[];return c(n).replace(Mn,function(n,t,i,o){e.push(i?o.replace(wn,"$1"):t||n)}),e}function ui(n){return n instanceof o?n.clone():new i(n.__wrapped__,n.__chain__,ee(n.__actions__))}function di(n,e,t){e=(t?Qt(n,e,t):null==e)?1:Ca(+e||1,1);for(var i=0,o=n?n.length:0,r=-1,a=Rr(oa(o/e));o>i;)a[++r]=Xe(n,i,i+=e);return a}function pi(n){for(var e=-1,t=n?n.length:0,i=-1,o=[];++e<t;){var r=n[e];r&&(o[++i]=r)}return o}function fi(n,e,t){var i=n?n.length:0;return i?((t?Qt(n,e,t):null==e)&&(e=1),Xe(n,0>e?0:e)):[]}function hi(n,e,t){var i=n?n.length:0;return i?((t?Qt(n,e,t):null==e)&&(e=1),e=i-(+e||0),Xe(n,0,0>e?0:e)):[]}function mi(n,e,t){return n&&n.length?tt(n,Ut(e,t,3),!0,!0):[]}function yi(n,e,t){return n&&n.length?tt(n,Ut(e,t,3),!0):[]}function gi(n,e,t,i){var o=n?n.length:0;return o?(t&&"number"!=typeof t&&Qt(n,e,t)&&(t=0,i=o),Te(n,e,t,i)):[]}function vi(n){return n?n[0]:b}function _i(n,e,t){var i=n?n.length:0;return t&&Qt(n,e,t)&&(e=!1),i?ke(n,e):[]}function Ci(n){var e=n?n.length:0;return e?ke(n,!0):[]}function Ei(n,e,t){var i=n?n.length:0;if(!i)return-1;if("number"==typeof t)t=0>t?Ca(i+t,0):t;else if(t){var o=ot(n,e),r=n[o];return(e===e?e===r:r!==r)?o:-1}return s(n,e,t||0)}function Pi(n){return hi(n,1)}function Ai(n){var e=n?n.length:0;return e?n[e-1]:b}function xi(n,e,t){var i=n?n.length:0;if(!i)return-1;var o=i;if("number"==typeof t)o=(0>t?Ca(i+t,0):Ea(t||0,i-1))+1;else if(t){o=ot(n,e,!0)-1;var r=n[o];return(e===e?e===r:r!==r)?o:-1}if(e!==e)return g(n,o,!0);for(;o--;)if(n[o]===e)return o;return-1}function Ni(){var n=arguments,e=n[0];if(!e||!e.length)return e;for(var t=0,i=Ht(),o=n.length;++t<o;)for(var r=0,a=n[t];(r=i(e,a,r))>-1;)pa.call(e,r,1);return e}function bi(n,e,t){var i=[];if(!n||!n.length)return i;var o=-1,r=[],a=n.length;for(e=Ut(e,t,3);++o<a;){var s=n[o];e(s,o,n)&&(i.push(s),r.push(o))}return ze(n,r),i}function Ti(n){return fi(n,1)}function Mi(n,e,t){var i=n?n.length:0;return i?(t&&"number"!=typeof t&&Qt(n,e,t)&&(e=0,t=i),Xe(n,e,t)):[]}function Si(n,e,t){var i=n?n.length:0;return i?((t?Qt(n,e,t):null==e)&&(e=1),Xe(n,0,0>e?0:e)):[]}function ki(n,e,t){var i=n?n.length:0;return i?((t?Qt(n,e,t):null==e)&&(e=1),e=i-(+e||0),Xe(n,0>e?0:e)):[]}function Ii(n,e,t){return n&&n.length?tt(n,Ut(e,t,3),!1,!0):[]}function wi(n,e,t){return n&&n.length?tt(n,Ut(e,t,3)):[]}function Di(n,e,t,i){var o=n?n.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(i=t,t=Qt(n,e,i)?null:e,e=!1);var r=Ut();return(null!=t||r!==Ee)&&(t=r(t,i,3)),e&&Ht()==s?E(n,t):nt(n,t)}function Oi(n){if(!n||!n.length)return[];var e=-1,t=0;n=ce(n,function(n){return Kt(n)?(t=Ca(n.length,t),!0):void 0});for(var i=Rr(t);++e<t;)i[e]=ue(n,We(e));return i}function Ri(n,e,t){var i=n?n.length:0;if(!i)return[];var o=Oi(n);return null==e?o:(e=at(e,t,4),ue(o,function(n){return de(n,e,b,!0)}))}function Li(){for(var n=-1,e=arguments.length;++n<e;){var t=arguments[n];if(Kt(t))var i=i?xe(i,t).concat(xe(t,i)):t}return i?nt(i):[]}function Vi(n,e){var t=-1,i=n?n.length:0,o={};for(!i||e||ks(n[0])||(e=[]);++t<i;){var r=n[t];e?o[r]=e[t]:r&&(o[r[0]]=r[1])}return o}function Ui(n){var t=e(n);return t.__chain__=!0,t}function Fi(n,e,t){return e.call(t,n),n}function Hi(n,e,t){return e.call(t,n)}function Bi(){return Ui(this)}function ji(){return new i(this.value(),this.__chain__)}function Gi(n){for(var e,i=this;i instanceof t;){var o=ui(i);e?r.__wrapped__=o:e=o;var r=o;i=i.__wrapped__}return r.__wrapped__=n,e}function Wi(){var n=this.__wrapped__;return n instanceof o?(this.__actions__.length&&(n=new o(this)),new i(n.reverse(),this.__chain__)):this.thru(function(n){return n.reverse()})}function qi(){return this.value()+""}function zi(){return it(this.__wrapped__,this.__actions__)}function Yi(n,e,t){var i=ks(n)?se:Ne;return t&&Qt(n,e,t)&&(e=null),("function"!=typeof e||t!==b)&&(e=Ut(e,t,3)),i(n,e)}function Ki(n,e,t){var i=ks(n)?ce:Me;return e=Ut(e,t,3),i(n,e)}function Xi(n,e){return as(n,He(e))}function Qi(n,e,t,i){var o=n?qa(n):0;return Zt(o)||(n=nr(n),o=n.length),o?(t="number"!=typeof t||i&&Qt(e,t,i)?0:0>t?Ca(o+t,0):t||0,"string"==typeof n||!ks(n)&&Vo(n)?o>t&&n.indexOf(e,t)>-1:Ht(n,e,t)>-1):!1}function $i(n,e,t){var i=ks(n)?ue:Fe;return e=Ut(e,t,3),i(n,e)}function Ji(n,e){return $i(n,Mr(e))}function Zi(n,e,t){var i=ks(n)?ce:Me;return e=Ut(e,t,3),i(n,function(n,t,i){return!e(n,t,i)})}function no(n,e,t){if(t?Qt(n,e,t):null==e){n=si(n);var i=n.length;return i>0?n[Ye(0,i-1)]:b}var o=eo(n);return o.length=Ea(0>e?0:+e||0,o.length),o}function eo(n){n=si(n);for(var e=-1,t=n.length,i=Rr(t);++e<t;){var o=Ye(0,e);e!=o&&(i[e]=i[o]),i[o]=n[e]}return i}function to(n){var e=n?qa(n):0;return Zt(e)?e:js(n).length}function io(n,e,t){var i=ks(n)?fe:Qe;return t&&Qt(n,e,t)&&(e=null),("function"!=typeof e||t!==b)&&(e=Ut(e,t,3)),i(n,e)}function oo(n,e,t){if(null==n)return[];t&&Qt(n,e,t)&&(e=null);var i=-1;e=Ut(e,t,3);var o=Fe(n,function(n,t,o){return{criteria:e(n,t,o),index:++i,value:n}});return $e(o,p)}function ro(n,e,t,i){return null==n?[]:(i&&Qt(e,t,i)&&(t=null),ks(e)||(e=null==e?[]:[e]),ks(t)||(t=null==t?[]:[t]),Je(n,e,t))}function ao(n,e){return Ki(n,He(e))}function so(n,e){if("function"!=typeof e){if("function"!=typeof n)throw new Wr(W);var t=n;n=e,e=t}return n=va(n=+n)?n:0,function(){return--n<1?e.apply(this,arguments):void 0}}function lo(n,e,t){return t&&Qt(n,e,t)&&(e=null),e=n&&null==e?n.length:Ca(+e||0,0),Ot(n,R,null,null,null,null,e)}function co(n,e){var t;if("function"!=typeof e){if("function"!=typeof n)throw new Wr(W);var i=n;n=e,e=i}return function(){return--n>0&&(t=e.apply(this,arguments)),1>=n&&(e=null),t}}function uo(n,e,t){function i(){p&&ra(p),l&&ra(l),l=p=f=b}function o(){var t=e-(gs()-u);if(0>=t||t>e){l&&ra(l);var i=f;l=p=f=b,i&&(h=gs(),c=n.apply(d,s),p||l||(s=d=null))}else p=da(o,t)}function r(){p&&ra(p),l=p=f=b,(y||m!==e)&&(h=gs(),c=n.apply(d,s),p||l||(s=d=null))}function a(){if(s=arguments,u=gs(),d=this,f=y&&(p||!g),m===!1)var t=g&&!p;else{l||g||(h=u);var i=m-(u-h),a=0>=i||i>m;a?(l&&(l=ra(l)),h=u,c=n.apply(d,s)):l||(l=da(r,i))}return a&&p?p=ra(p):p||e===m||(p=da(o,e)),t&&(a=!0,c=n.apply(d,s)),!a||p||l||(s=d=null),c}var s,l,c,u,d,p,f,h=0,m=!1,y=!0;if("function"!=typeof n)throw new Wr(W);if(e=0>e?0:+e||0,t===!0){var g=!0;y=!1}else ko(t)&&(g=t.leading,m="maxWait"in t&&Ca(+t.maxWait||0,e),y="trailing"in t?t.trailing:y);return a.cancel=i,a}function po(n,e){if("function"!=typeof n||e&&"function"!=typeof e)throw new Wr(W);var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=t.cache;if(r.has(o))return r.get(o);var a=n.apply(this,i);return t.cache=r.set(o,a),a};return t.cache=new po.Cache,t}function fo(n){if("function"!=typeof n)throw new Wr(W);return function(){return!n.apply(this,arguments)}}function ho(n){return co(2,n)}function mo(n,e){if("function"!=typeof n)throw new Wr(W);return e=Ca(e===b?n.length-1:+e||0,0),function(){for(var t=arguments,i=-1,o=Ca(t.length-e,0),r=Rr(o);++i<o;)r[i]=t[e+i];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,t[0],r);case 2:return n.call(this,t[0],t[1],r)}var a=Rr(e+1);for(i=-1;++i<e;)a[i]=t[i];return a[e]=r,n.apply(this,a)}}function yo(n){if("function"!=typeof n)throw new Wr(W);return function(e){return n.apply(this,e)}}function go(n,e,t){var i=!0,o=!0;if("function"!=typeof n)throw new Wr(W);return t===!1?i=!1:ko(t)&&(i="leading"in t?!!t.leading:i,o="trailing"in t?!!t.trailing:o),Yn.leading=i,Yn.maxWait=+e,Yn.trailing=o,uo(n,e,Yn)}function vo(n,e){return e=null==e?Pr:e,Ot(e,D,null,[n],[])}function _o(n,e,t,i){return e&&"boolean"!=typeof e&&Qt(n,e,t)?e=!1:"function"==typeof e&&(i=t,t=e,e=!1),"function"==typeof t?Pe(n,e,at(t,i,1)):Pe(n,e)}function Co(n,e,t){return"function"==typeof e?Pe(n,!0,at(e,t,1)):Pe(n,!0)}function Eo(n,e){return n>e}function Po(n,e){return n>=e}function Ao(n){return v(n)&&Kt(n)&&Zr.call(n)==z}function xo(n){return n===!0||n===!1||v(n)&&Zr.call(n)==K}function No(n){return v(n)&&Zr.call(n)==X}function bo(n){return!!n&&1===n.nodeType&&v(n)&&(e.support.nodeTag?Zr.call(n).indexOf("Element")>-1:re(n))}function To(n){return null==n?!0:Kt(n)&&(ks(n)||Vo(n)||Ao(n)||v(n)&&ws(n.splice))?!n.length:!js(n).length}function Mo(n,e,t,i){t="function"==typeof t?at(t,i,3):b;var o=t?t(n,e):b;return o===b?Le(n,e,t):!!o}function So(n){return v(n)&&"string"==typeof n.message&&Zr.call(n)==Q}function ko(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function Io(n,e,t,i){return t="function"==typeof t?at(t,i,3):b,Ue(n,Bt(e),t)}function wo(n){return Ro(n)&&n!=+n}function Do(n){return null==n?!1:Zr.call(n)==$?ea.test(Qr.call(n)):v(n)&&(re(n)?ea:Ln).test(n)}function Oo(n){return null===n}function Ro(n){return"number"==typeof n||v(n)&&Zr.call(n)==Z}function Lo(n){return ko(n)&&Zr.call(n)==en}function Vo(n){return"string"==typeof n||v(n)&&Zr.call(n)==on}function Uo(n){return v(n)&&Zt(n.length)&&!!qn[Zr.call(n)]}function Fo(n){return n===b}function Ho(n,e){return e>n}function Bo(n,e){return e>=n}function jo(n){var t=n?qa(n):0;return Zt(t)?t?e.support.unindexedChars&&Vo(n)?n.split(""):ee(n):[]:nr(n)}function Go(n){return Ce(n,Xo(n))}function Wo(n,e,t){var i=Va(n);return t&&Qt(n,e,t)&&(e=null),e?ve(i,e):i}function qo(n){return Oe(n,Xo(n))}function zo(n,e,t){var i=null==n?b:Re(n,ci(e),e+"");return i===b?t:i}function Yo(n,e){if(null==n)return!1;var t=$r.call(n,e);if(!t&&!$t(e)){if(e=ci(e),n=1==e.length?n:Re(n,Xe(e,0,-1)),null==n)return!1;e=Ai(e),t=$r.call(n,e)}return t||Zt(n.length)&&Xt(e,n.length)&&(ks(n)||Ao(n)||Vo(n))}function Ko(n,e,t){t&&Qt(n,e,t)&&(e=null);for(var i=-1,o=js(n),r=o.length,a={};++i<r;){var s=o[i],l=n[s];e?$r.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function Xo(n){if(null==n)return[];ko(n)||(n=Br(n));var t=n.length,i=e.support;t=t&&Zt(t)&&(ks(n)||Ao(n)||Vo(n))&&t||0;for(var o=n.constructor,r=-1,a=ws(o)&&o.prototype||Yr,s=a===n,l=Rr(t),c=t>0,u=i.enumErrorProps&&(n===zr||n instanceof Vr),d=i.enumPrototypes&&ws(n);++r<t;)l[r]=r+"";for(var p in n)d&&"prototype"==p||u&&("message"==p||"name"==p)||c&&Xt(p,t)||"constructor"==p&&(s||!$r.call(n,p))||l.push(p);if(i.nonEnumShadows&&n!==Yr){var f=n===Kr?on:n===zr?Q:Zr.call(n),h=Ra[f]||Ra[nn];for(f==nn&&(a=Yr),t=Gn.length;t--;){p=Gn[t];var m=h[p];s&&m||(m?!$r.call(n,p):n[p]===a[p])||l.push(p)}}return l}function Qo(n){n=li(n);for(var e=-1,t=js(n),i=t.length,o=Rr(i);++e<i;){var r=t[e];o[e]=[r,n[r]]}return o}function $o(n,e,t){var i=null==n?b:li(n)[e];return i===b&&(null==n||$t(e,n)||(e=ci(e),n=1==e.length?n:Re(n,Xe(e,0,-1)),i=null==n?b:li(n)[Ai(e)]),i=i===b?t:i),ws(i)?i.call(n):i}function Jo(n,e,t){if(null==n)return n;var i=e+"";e=null!=n[i]||$t(e,n)?[i]:ci(e);for(var o=-1,r=e.length,a=r-1,s=n;null!=s&&++o<r;){var l=e[o];ko(s)&&(o==a?s[l]=t:null==s[l]&&(s[l]=Xt(e[o+1])?[]:{})),s=s[l]}return n}function Zo(n,e,t,i){var o=ks(n)||Uo(n);if(e=Ut(e,i,4),null==t)if(o||ko(n)){var r=n.constructor;t=o?ks(n)?new r:[]:Va(ws(r)?r.prototype:null)}else t={};return(o?te:we)(n,function(n,i,o){return e(t,n,i,o)}),t}function nr(n){return et(n,js(n))}function er(n){return et(n,Xo(n))}function tr(n,e,t){return e=+e||0,"undefined"==typeof t?(t=e,e=0):t=+t||0,n>=Ea(e,t)&&n<Ca(e,t)}function ir(n,e,t){t&&Qt(n,e,t)&&(e=t=null);var i=null==n,o=null==e;if(null==t&&(o&&"boolean"==typeof n?(t=n,n=1):"boolean"==typeof e&&(t=e,o=!0)),i&&o&&(e=1,o=!1),n=+n||0,o?(e=n,n=0):e=+e||0,t||n%1||e%1){var r=Na();return Ea(n+r*(e-n+parseFloat("1e-"+((r+"").length-1))),e)}return Ye(n,e)}function or(n){return n=c(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function rr(n){return n=c(n),n&&n.replace(Vn,h).replace(In,"")}function ar(n,e,t){n=c(n),e+="";var i=n.length;return t=t===b?i:Ea(0>t?0:+t||0,i),t-=e.length,t>=0&&n.indexOf(e,t)==t}function sr(n){return n=c(n),n&&Pn.test(n)?n.replace(Cn,m):n}function lr(n){return n=c(n),n&&kn.test(n)?n.replace(Sn,"\\$&"):n}function cr(n,e,t){n=c(n),e=+e;var i=n.length;if(i>=e||!va(e))return n;var o=(e-i)/2,r=aa(o),a=oa(o);return t=It("",a,t),t.slice(0,r)+n+t}function ur(n,e,t){return t&&Qt(n,e,t)&&(e=0),xa(n,e)}function dr(n,e){var t="";if(n=c(n),e=+e,1>e||!n||!va(e))return t;do e%2&&(t+=n),e=aa(e/2),n+=n;while(e);return t}function pr(n,e,t){return n=c(n),t=null==t?0:Ea(0>t?0:+t||0,n.length),n.lastIndexOf(e,t)==t}function fr(n,t,i){var o=e.templateSettings;i&&Qt(n,t,i)&&(t=i=null),n=c(n),t=ge(ve({},i||t),o,ye);var r,a,s=ge(ve({},t.imports),o.imports,ye),l=js(s),u=et(s,l),d=0,p=t.interpolate||Un,f="__p += '",h=jr((t.escape||Un).source+"|"+p.source+"|"+(p===Nn?Dn:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";n.replace(h,function(e,t,i,o,s,l){return i||(i=o),f+=n.slice(d,l).replace(Fn,y),t&&(r=!0,f+="' +\n__e("+t+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+e.length,e}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(yn,""):f).replace(gn,"$1").replace(vn,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=nl(function(){return Ur(l,m+"return "+f).apply(b,u)});if(v.source=f,So(v))throw v;return v}function hr(n,e,t){var i=n;return(n=c(n))?(t?Qt(i,e,t):null==e)?n.slice(P(n),A(n)+1):(e+="",n.slice(u(n,e),d(n,e)+1)):n}function mr(n,e,t){var i=n;return n=c(n),n?(t?Qt(i,e,t):null==e)?n.slice(P(n)):n.slice(u(n,e+"")):n}function yr(n,e,t){var i=n;return n=c(n),n?(t?Qt(i,e,t):null==e)?n.slice(0,A(n)+1):n.slice(0,d(n,e+"")+1):n}function gr(n,e,t){t&&Qt(n,e,t)&&(e=null);var i=V,o=U;if(null!=e)if(ko(e)){var r="separator"in e?e.separator:r;i="length"in e?+e.length||0:i,o="omission"in e?c(e.omission):o}else i=+e||0;if(n=c(n),i>=n.length)return n;var a=i-o.length;if(1>a)return o;var s=n.slice(0,a);if(null==r)return s+o;if(Lo(r)){if(n.slice(a).search(r)){var l,u,d=n.slice(0,a);for(r.global||(r=jr(r.source,(On.exec(r)||"")+"g")),r.lastIndex=0;l=r.exec(d);)u=l.index;s=s.slice(0,null==u?a:u)}}else if(n.indexOf(r,a)!=a){var p=s.lastIndexOf(r);p>-1&&(s=s.slice(0,p))}return s+o}function vr(n){return n=c(n),n&&En.test(n)?n.replace(_n,x):n}function _r(n,e,t){return t&&Qt(n,e,t)&&(e=null),n=c(n),n.match(e||Hn)||[]}function Cr(n,e,t){return t&&Qt(n,e,t)&&(e=null),v(n)?Ar(n):Ee(n,e)}function Er(n){return function(){return n}}function Pr(n){return n}function Ar(n){return He(Pe(n,!0))}function xr(n,e){return Be(n,Pe(e,!0))}function Nr(n,e,t){if(null==t){var i=ko(e),o=i?js(e):null,r=o&&o.length?Oe(e,o):null;(r?r.length:i)||(r=!1,t=e,e=n,n=this)}r||(r=Oe(e,js(e)));var a=!0,s=-1,l=ws(n),c=r.length;t===!1?a=!1:ko(t)&&"chain"in t&&(a=t.chain);for(;++s<c;){var u=r[s],d=e[u];n[u]=d,l&&(n.prototype[u]=function(e){return function(){var t=this.__chain__;if(a||t){var i=n(this.__wrapped__),o=i.__actions__=ee(this.__actions__);return o.push({func:e,args:arguments,thisArg:n}),i.__chain__=t,i}var r=[this.value()];return la.apply(r,arguments),e.apply(n,r)}}(d))}return n}function br(){return n._=na,this}function Tr(){}function Mr(n){return $t(n)?We(n):qe(n)}function Sr(n){return function(e){return Re(n,ci(e),e+"")}}function kr(n,e,t){t&&Qt(n,e,t)&&(e=t=null),n=+n||0,t=null==t?1:+t||0,null==e?(e=n,n=0):e=+e||0;for(var i=-1,o=Ca(oa((e-n)/(t||1)),0),r=Rr(o);++i<o;)r[i]=n,n+=t;return r}function Ir(n,e,t){
if(n=aa(n),1>n||!va(n))return[];var i=-1,o=Rr(Ea(n,Ta));for(e=at(e,t,1);++i<n;)Ta>i?o[i]=e(i):e(i);return o}function wr(n){var e=++Jr;return c(n)+e}function Dr(n,e){return(+n||0)+(+e||0)}function Or(n,e,t){t&&Qt(n,e,t)&&(e=null);var i=Ut(),o=null==e;return o&&i===Ee||(o=!1,e=i(e,t,3)),o?he(ks(n)?n:si(n)):Ze(n,e)}n=n?ae.defaults(oe.Object(),n,ae.pick(oe,jn)):oe;var Rr=n.Array,Lr=n.Date,Vr=n.Error,Ur=n.Function,Fr=n.Math,Hr=n.Number,Br=n.Object,jr=n.RegExp,Gr=n.String,Wr=n.TypeError,qr=Rr.prototype,zr=Vr.prototype,Yr=Br.prototype,Kr=Gr.prototype,Xr=(Xr=n.window)?Xr.document:null,Qr=Ur.prototype.toString,$r=Yr.hasOwnProperty,Jr=0,Zr=Yr.toString,na=n._,ea=jr("^"+lr(Qr.call($r)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ta=jt(n,"ArrayBuffer"),ia=jt(ta&&new ta(0),"slice"),oa=Fr.ceil,ra=n.clearTimeout,aa=Fr.floor,sa=jt(Br,"getPrototypeOf"),la=qr.push,ca=Yr.propertyIsEnumerable,ua=jt(n,"Set"),da=n.setTimeout,pa=qr.splice,fa=jt(n,"Uint8Array"),ha=jt(n,"WeakMap"),ma=function(){try{var e=jt(n,"Float64Array"),t=new e(new ta(10),0,1)&&e}catch(i){}return t||null}(),ya=jt(Br,"create"),ga=jt(Rr,"isArray"),va=n.isFinite,_a=jt(Br,"keys"),Ca=Fr.max,Ea=Fr.min,Pa=jt(Lr,"now"),Aa=jt(Hr,"isFinite"),xa=n.parseInt,Na=Fr.random,ba=Hr.POSITIVE_INFINITY,Ta=4294967295,Ma=Ta-1,Sa=Ta>>>1,ka=ma?ma.BYTES_PER_ELEMENT:0,Ia=9007199254740991,wa=ha&&new ha,Da={},Oa={};Oa[sn]=n.Float32Array,Oa[ln]=n.Float64Array,Oa[cn]=n.Int8Array,Oa[un]=n.Int16Array,Oa[dn]=n.Int32Array,Oa[pn]=n.Uint8Array,Oa[fn]=n.Uint8ClampedArray,Oa[hn]=n.Uint16Array,Oa[mn]=n.Uint32Array;var Ra={};Ra[Y]=Ra[X]=Ra[Z]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ra[K]=Ra[on]={constructor:!0,toString:!0,valueOf:!0},Ra[Q]=Ra[$]=Ra[en]={constructor:!0,toString:!0},Ra[nn]={constructor:!0},te(Gn,function(n){for(var e in Ra)if($r.call(Ra,e)){var t=Ra[e];t[n]=$r.call(t,n)}});var La=e.support={};!function(n){var e=function(){this.x=n},t={0:n,length:n},i=[];e.prototype={valueOf:n,y:n};for(var o in new e)i.push(o);La.argsTag=Zr.call(arguments)==z,La.enumErrorProps=ca.call(zr,"message")||ca.call(zr,"name"),La.enumPrototypes=ca.call(e,"prototype"),La.nodeTag=Zr.call(Xr)!=nn,La.nonEnumShadows=!/valueOf/.test(i),La.ownLast="x"!=i[0],La.spliceObjects=(pa.call(t,0,1),!t[0]),La.unindexedChars="x"[0]+Br("x")[0]!="xx";try{La.dom=11===Xr.createDocumentFragment().nodeType}catch(r){La.dom=!1}}(1,0),e.templateSettings={escape:An,evaluate:xn,interpolate:Nn,variable:"",imports:{_:e}};var Va=function(){function n(){}return function(e){if(ko(e)){n.prototype=e;var t=new n;n.prototype=null}return t||{}}}(),Ua=pt(we),Fa=pt(De,!0),Ha=ft(),Ba=ft(!0),ja=wa?function(n,e){return wa.set(n,e),n}:Pr;ia||(st=ta&&fa?function(n){var e=n.byteLength,t=ma?aa(e/ka):0,i=t*ka,o=new ta(e);if(t){var r=new ma(o,0,t);r.set(new ma(n,0,t))}return e!=i&&(r=new fa(o,i),r.set(new fa(n,i))),o}:Er(null));var Ga=ya&&ua?function(n){return new Jn(n)}:Er(null),Wa=wa?function(n){return wa.get(n)}:Tr,qa=We("length"),za=function(){var n=0,e=0;return function(t,i){var o=gs(),r=H-(o-e);if(e=o,r>0){if(++n>=F)return t}else n=0;return ja(t,i)}}(),Ya=mo(function(n,e){return Kt(n)?xe(n,ke(e,!1,!0)):[]}),Ka=Ct(),Xa=Ct(!0),Qa=mo(function(n){for(var e=n.length,t=e,i=Rr(d),o=Ht(),r=o==s,a=[];t--;){var l=n[t]=Kt(l=n[t])?l:[];i[t]=r&&l.length>=120?Ga(t&&l):null}var c=n[0],u=-1,d=c?c.length:0,p=i[0];n:for(;++u<d;)if(l=c[u],(p?Zn(p,l):o(a,l,0))<0){for(var t=e;--t;){var f=i[t];if((f?Zn(f,l):o(n[t],l,0))<0)continue n}p&&p.push(l),a.push(l)}return a}),$a=mo(function(n,e){e=ke(e);var t=_e(n,e);return ze(n,e.sort(r)),t}),Ja=Dt(),Za=Dt(!0),ns=mo(function(n){return nt(ke(n,!1,!0))}),es=mo(function(n,e){return Kt(n)?xe(n,e):[]}),ts=mo(Oi),is=mo(function(n){var e=n.length,t=e>2?n[e-2]:b,i=e>1?n[e-1]:b;return e>2&&"function"==typeof t?e-=2:(t=e>1&&"function"==typeof i?(--e,i):b,i=b),n.length=e,Ri(n,t,i)}),os=mo(function(n,e){return Kt(n)&&(n=si(n)),_e(n,ke(e))}),rs=ut(function(n,e,t){$r.call(n,t)?++n[t]:n[t]=1}),as=_t(Ua),ss=_t(Fa,!0),ls=At(te,Ua),cs=At(ie,Fa),us=ut(function(n,e,t){$r.call(n,t)?n[t].push(e):n[t]=[e]}),ds=ut(function(n,e,t){n[t]=e}),ps=mo(function(n,e,t){var i=-1,o="function"==typeof e,r=$t(e),a=Kt(n)?Rr(n.length):[];return Ua(n,function(n){var s=o?e:r&&null!=n?n[e]:null;a[++i]=s?s.apply(n,t):Yt(n,e,t)}),a}),fs=ut(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),hs=St(de,Ua),ms=St(pe,Fa),ys=mo(function(n,e){if(null==n)return[];var t=e[2];return t&&Qt(e[0],e[1],t)&&(e.length=1),Je(n,ke(e),[])}),gs=Pa||function(){return(new Lr).getTime()},vs=mo(function(n,e,t){var i=M;if(t.length){var o=C(t,vs.placeholder);i|=D}return Ot(n,i,e,t,o)}),_s=mo(function(n,e){e=e.length?ke(e):qo(n);for(var t=-1,i=e.length;++t<i;){var o=e[t];n[o]=Ot(n[o],M,n)}return n}),Cs=mo(function(n,e,t){var i=M|S;if(t.length){var o=C(t,Cs.placeholder);i|=D}return Ot(e,i,n,t,o)}),Es=gt(I),Ps=gt(w),As=mo(function(n,e){return Ae(n,1,e)}),xs=mo(function(n,e,t){return Ae(n,e,t)}),Ns=Pt(),bs=Pt(!0),Ts=Mt(D),Ms=Mt(O),Ss=mo(function(n,e){return Ot(n,L,null,null,null,ke(e))});La.argsTag||(Ao=function(n){return v(n)&&Kt(n)&&$r.call(n,"callee")&&!ca.call(n,"callee")});var ks=ga||function(n){return v(n)&&Zt(n.length)&&Zr.call(n)==Y};La.dom||(bo=function(n){return!!n&&1===n.nodeType&&v(n)&&!Ds(n)});var Is=Aa||function(n){return"number"==typeof n&&va(n)},ws=l(/x/)||fa&&!l(fa)?function(n){return Zr.call(n)==$}:l,Ds=sa?function(n){if(!n||Zr.call(n)!=nn||!e.support.argsTag&&Ao(n))return!1;var t=jt(n,"valueOf"),i=t&&(i=sa(t))&&sa(i);return i?n==i||sa(n)==i:ri(n)}:ri,Os=dt(function(n,e,t){return t?ge(n,e,t):ve(n,e)}),Rs=mo(function(n){var e=n[0];return null==e?e:(n.push(me),Os.apply(b,n))}),Ls=Et(we),Vs=Et(De),Us=xt(Ha),Fs=xt(Ba),Hs=Nt(we),Bs=Nt(De),js=_a?function(n){var t=null==n?null:n.constructor;return"function"==typeof t&&t.prototype===n||("function"==typeof n?e.support.enumPrototypes:Kt(n))?ai(n):ko(n)?_a(n):[]}:ai,Gs=bt(!0),Ws=bt(),qs=dt(je),zs=mo(function(n,e){if(null==n)return{};if("function"!=typeof e[0]){var e=ue(ke(e),Gr);return ti(n,xe(Xo(n),e))}var t=at(e[0],e[1],3);return ii(n,function(n,e,i){return!t(n,e,i)})}),Ys=mo(function(n,e){return null==n?{}:"function"==typeof e[0]?ii(n,at(e[0],e[1],3)):ti(n,ke(e))}),Ks=mt(function(n,e,t){return e=e.toLowerCase(),n+(t?e.charAt(0).toUpperCase()+e.slice(1):e)}),Xs=mt(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),Qs=Tt(),$s=Tt(!0);8!=xa(Bn+"08")&&(ur=function(n,e,t){return(t?Qt(n,e,t):null==e)?e=0:e&&(e=+e),n=hr(n),xa(n,e||(Rn.test(n)?16:10))});var Js=mt(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()}),Zs=mt(function(n,e,t){return n+(t?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),nl=mo(function(n,e){try{return n.apply(b,e)}catch(t){return So(t)?t:new Vr(t)}}),el=mo(function(n,e){return function(t){return Yt(t,n,e)}}),tl=mo(function(n,e){return function(t){return Yt(n,t,e)}}),il=vt(Eo,-(1/0)),ol=vt(Ho,1/0);return e.prototype=t.prototype,i.prototype=Va(t.prototype),i.prototype.constructor=i,o.prototype=Va(t.prototype),o.prototype.constructor=o,rn.prototype["delete"]=Kn,rn.prototype.get=Xn,rn.prototype.has=Qn,rn.prototype.set=$n,Jn.prototype.push=ne,po.Cache=rn,e.after=so,e.ary=lo,e.assign=Os,e.at=os,e.before=co,e.bind=vs,e.bindAll=_s,e.bindKey=Cs,e.callback=Cr,e.chain=Ui,e.chunk=di,e.compact=pi,e.constant=Er,e.countBy=rs,e.create=Wo,e.curry=Es,e.curryRight=Ps,e.debounce=uo,e.defaults=Rs,e.defer=As,e.delay=xs,e.difference=Ya,e.drop=fi,e.dropRight=hi,e.dropRightWhile=mi,e.dropWhile=yi,e.fill=gi,e.filter=Ki,e.flatten=_i,e.flattenDeep=Ci,e.flow=Ns,e.flowRight=bs,e.forEach=ls,e.forEachRight=cs,e.forIn=Us,e.forInRight=Fs,e.forOwn=Hs,e.forOwnRight=Bs,e.functions=qo,e.groupBy=us,e.indexBy=ds,e.initial=Pi,e.intersection=Qa,e.invert=Ko,e.invoke=ps,e.keys=js,e.keysIn=Xo,e.map=$i,e.mapKeys=Gs,e.mapValues=Ws,e.matches=Ar,e.matchesProperty=xr,e.memoize=po,e.merge=qs,e.method=el,e.methodOf=tl,e.mixin=Nr,e.negate=fo,e.omit=zs,e.once=ho,e.pairs=Qo,e.partial=Ts,e.partialRight=Ms,e.partition=fs,e.pick=Ys,e.pluck=Ji,e.property=Mr,e.propertyOf=Sr,e.pull=Ni,e.pullAt=$a,e.range=kr,e.rearg=Ss,e.reject=Zi,e.remove=bi,e.rest=Ti,e.restParam=mo,e.set=Jo,e.shuffle=eo,e.slice=Mi,e.sortBy=oo,e.sortByAll=ys,e.sortByOrder=ro,e.spread=yo,e.take=Si,e.takeRight=ki,e.takeRightWhile=Ii,e.takeWhile=wi,e.tap=Fi,e.throttle=go,e.thru=Hi,e.times=Ir,e.toArray=jo,e.toPlainObject=Go,e.transform=Zo,e.union=ns,e.uniq=Di,e.unzip=Oi,e.unzipWith=Ri,e.values=nr,e.valuesIn=er,e.where=ao,e.without=es,e.wrap=vo,e.xor=Li,e.zip=ts,e.zipObject=Vi,e.zipWith=is,e.backflow=bs,e.collect=$i,e.compose=bs,e.each=ls,e.eachRight=cs,e.extend=Os,e.iteratee=Cr,e.methods=qo,e.object=Vi,e.select=Ki,e.tail=Ti,e.unique=Di,Nr(e,e),e.add=Dr,e.attempt=nl,e.camelCase=Ks,e.capitalize=or,e.clone=_o,e.cloneDeep=Co,e.deburr=rr,e.endsWith=ar,e.escape=sr,e.escapeRegExp=lr,e.every=Yi,e.find=as,e.findIndex=Ka,e.findKey=Ls,e.findLast=ss,e.findLastIndex=Xa,e.findLastKey=Vs,e.findWhere=Xi,e.first=vi,e.get=zo,e.gt=Eo,e.gte=Po,e.has=Yo,e.identity=Pr,e.includes=Qi,e.indexOf=Ei,e.inRange=tr,e.isArguments=Ao,e.isArray=ks,e.isBoolean=xo,e.isDate=No,e.isElement=bo,e.isEmpty=To,e.isEqual=Mo,e.isError=So,e.isFinite=Is,e.isFunction=ws,e.isMatch=Io,e.isNaN=wo,e.isNative=Do,e.isNull=Oo,e.isNumber=Ro,e.isObject=ko,e.isPlainObject=Ds,e.isRegExp=Lo,e.isString=Vo,e.isTypedArray=Uo,e.isUndefined=Fo,e.kebabCase=Xs,e.last=Ai,e.lastIndexOf=xi,e.lt=Ho,e.lte=Bo,e.max=il,e.min=ol,e.noConflict=br,e.noop=Tr,e.now=gs,e.pad=cr,e.padLeft=Qs,e.padRight=$s,e.parseInt=ur,e.random=ir,e.reduce=hs,e.reduceRight=ms,e.repeat=dr,e.result=$o,e.runInContext=N,e.size=to,e.snakeCase=Js,e.some=io,e.sortedIndex=Ja,e.sortedLastIndex=Za,e.startCase=Zs,e.startsWith=pr,e.sum=Or,e.template=fr,e.trim=hr,e.trimLeft=mr,e.trimRight=yr,e.trunc=gr,e.unescape=vr,e.uniqueId=wr,e.words=_r,e.all=Yi,e.any=io,e.contains=Qi,e.eq=Mo,e.detect=as,e.foldl=hs,e.foldr=ms,e.head=vi,e.include=Qi,e.inject=hs,Nr(e,function(){var n={};return we(e,function(t,i){e.prototype[i]||(n[i]=t)}),n}(),!1),e.sample=no,e.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(e){return no(e,n)}):no(this.value())},e.VERSION=T,te(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){e[n].placeholder=e}),te(["dropWhile","filter","map","takeWhile"],function(n,e){var t=e!=G,i=e==B;o.prototype[n]=function(n,r){var a=this.__filtered__,s=a&&i?new o(this):this.clone(),l=s.__iteratees__||(s.__iteratees__=[]);return l.push({done:!1,count:0,index:0,iteratee:Ut(n,r,1),limit:-1,type:e}),s.__filtered__=a||t,s}}),te(["drop","take"],function(n,e){var t=n+"While";o.prototype[n]=function(t){var i=this.__filtered__,o=i&&!e?this.dropWhile():this.clone();if(t=null==t?1:Ca(aa(t)||0,0),i)e?o.__takeCount__=Ea(o.__takeCount__,t):Ai(o.__iteratees__).limit=t;else{var r=o.__views__||(o.__views__=[]);r.push({size:t,type:n+(o.__dir__<0?"Right":"")})}return o},o.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()},o.prototype[n+"RightWhile"]=function(n,e){return this.reverse()[t](n,e).reverse()}}),te(["first","last"],function(n,e){var t="take"+(e?"Right":"");o.prototype[n]=function(){return this[t](1).value()[0]}}),te(["initial","rest"],function(n,e){var t="drop"+(e?"":"Right");o.prototype[n]=function(){return this[t](1)}}),te(["pluck","where"],function(n,e){var t=e?"filter":"map",i=e?He:Mr;o.prototype[n]=function(n){return this[t](i(n))}}),o.prototype.compact=function(){return this.filter(Pr)},o.prototype.reject=function(n,e){return n=Ut(n,e,1),this.filter(function(e){return!n(e)})},o.prototype.slice=function(n,e){n=null==n?0:+n||0;var t=this;return 0>n?t=this.takeRight(-n):n&&(t=this.drop(n)),e!==b&&(e=+e||0,t=0>e?t.dropRight(-e):t.take(e-n)),t},o.prototype.toArray=function(){return this.drop(0)},we(o.prototype,function(n,t){var r=e[t];if(r){var a=/^(?:filter|map|reject)|While$/.test(t),s=/^(?:first|last)$/.test(t);e.prototype[t]=function(){var t=arguments,l=this.__chain__,c=this.__wrapped__,u=!!this.__actions__.length,d=c instanceof o,p=t[0],f=d||ks(c);f&&a&&"function"==typeof p&&1!=p.length&&(d=f=!1);var h=d&&!u;if(s&&!l)return h?n.call(c):r.call(e,this.value());var m=function(n){var i=[n];return la.apply(i,t),r.apply(e,i)};if(f){var y=h?c:new o(this),g=n.apply(y,t);if(!s&&(u||g.__actions__)){var v=g.__actions__||(g.__actions__=[]);v.push({func:Hi,args:[m],thisArg:e})}return new i(g,l)}return this.thru(m)}}}),te(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Kr:qr)[n],i=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",o=!La.spliceObjects&&/^(?:pop|shift|splice)$/.test(n),r=/^(?:join|pop|replace|shift)$/.test(n),a=o?function(){var n=t.apply(this,arguments);return 0===this.length&&delete this[0],n}:t;e.prototype[n]=function(){var n=arguments;return r&&!this.__chain__?a.apply(this.value(),n):this[i](function(e){return a.apply(e,n)})}}),we(o.prototype,function(n,t){var i=e[t];if(i){var o=i.name,r=Da[o]||(Da[o]=[]);r.push({name:t,func:i})}}),Da[kt(null,S).name]=[{name:"wrapper",func:null}],o.prototype.clone=_,o.prototype.reverse=J,o.prototype.value=tn,e.prototype.chain=Bi,e.prototype.commit=ji,e.prototype.plant=Gi,e.prototype.reverse=Wi,e.prototype.toString=qi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=zi,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var b,T="3.9.0",M=1,S=2,k=4,I=8,w=16,D=32,O=64,R=128,L=256,V=30,U="...",F=150,H=16,B=0,j=1,G=2,W="Expected a function",q="__lodash_placeholder__",z="[object Arguments]",Y="[object Array]",K="[object Boolean]",X="[object Date]",Q="[object Error]",$="[object Function]",J="[object Map]",Z="[object Number]",nn="[object Object]",en="[object RegExp]",tn="[object Set]",on="[object String]",rn="[object WeakMap]",an="[object ArrayBuffer]",sn="[object Float32Array]",ln="[object Float64Array]",cn="[object Int8Array]",un="[object Int16Array]",dn="[object Int32Array]",pn="[object Uint8Array]",fn="[object Uint8ClampedArray]",hn="[object Uint16Array]",mn="[object Uint32Array]",yn=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_n=/&(?:amp|lt|gt|quot|#39|#96);/g,Cn=/[&<>"'`]/g,En=RegExp(_n.source),Pn=RegExp(Cn.source),An=/<%-([\s\S]+?)%>/g,xn=/<%([\s\S]+?)%>/g,Nn=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Tn=/^\w*$/,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Sn=/[.*+?^${}()|[\]\/\\]/g,kn=RegExp(Sn.source),In=/[\u0300-\u036f\ufe20-\ufe23]/g,wn=/\\(\\)?/g,Dn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,On=/\w*$/,Rn=/^0[xX]/,Ln=/^\[object .+?Constructor\]$/,Vn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Un=/($^)/,Fn=/['\n\r\u2028\u2029\\]/g,Hn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+e+")|"+n+"?"+e+"|"+n+"+|[0-9]+","g")}(),Bn=" 	\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",jn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Gn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wn=-1,qn={};qn[sn]=qn[ln]=qn[cn]=qn[un]=qn[dn]=qn[pn]=qn[fn]=qn[hn]=qn[mn]=!0,qn[z]=qn[Y]=qn[an]=qn[K]=qn[X]=qn[Q]=qn[$]=qn[J]=qn[Z]=qn[nn]=qn[en]=qn[tn]=qn[on]=qn[rn]=!1;var zn={};zn[z]=zn[Y]=zn[an]=zn[K]=zn[X]=zn[sn]=zn[ln]=zn[cn]=zn[un]=zn[dn]=zn[Z]=zn[nn]=zn[en]=zn[on]=zn[pn]=zn[fn]=zn[hn]=zn[mn]=!0,zn[Q]=zn[$]=zn[J]=zn[tn]=zn[rn]=!1;var Yn={leading:!1,maxWait:0,trailing:!1},Kn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Xn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Qn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$n={"function":!0,object:!0},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zn=$n[typeof e]&&e&&!e.nodeType&&e,ne=$n[typeof n]&&n&&!n.nodeType&&n,ee=Zn&&ne&&"object"==typeof o&&o&&o.Object&&o,te=$n[typeof self]&&self&&self.Object&&self,ie=$n[typeof window]&&window&&window.Object&&window,oe=(ne&&ne.exports===Zn&&Zn,ee||ie!==(this&&this.window)&&ie||te||this),re=function(){try{Object({toString:0}+"")}catch(n){return function(){return!1}}return function(n){return"function"!=typeof n.toString&&"string"==typeof(n+"")}}(),ae=N();oe._=ae,i=function(){return ae}.call(e,t,e,n),!(i!==b&&(n.exports=i))}).call(this)}).call(e,t(14)(n),function(){return this}())},function(n,e,t){(function(e){"use strict";function i(){var n=p&&p.traverseTwoPhase&&p.traverseEnterLeave;"production"!==e.env.NODE_ENV?l(n,"InstanceHandle not injected before use!"):l(n)}var o=t(95),r=t(64),a=t(74),s=t(75),l=t(2),c={},u=null,d=function(n){if(n){var e=r.executeDispatch,t=o.getPluginModuleForEvent(n);t&&t.executeDispatch&&(e=t.executeDispatch),r.executeDispatchesInOrder(n,e),n.isPersistent()||n.constructor.release(n)}},p=null,f={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(n){p=n,"production"!==e.env.NODE_ENV&&i()},getInstanceHandle:function(){return"production"!==e.env.NODE_ENV&&i(),p},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(n,t,i){"production"!==e.env.NODE_ENV?l(!i||"function"==typeof i,"Expected %s listener to be a function, instead got type %s",t,typeof i):l(!i||"function"==typeof i);var o=c[t]||(c[t]={});o[n]=i},getListener:function(n,e){var t=c[e];return t&&t[n]},deleteListener:function(n,e){var t=c[e];t&&delete t[n]},deleteAllListeners:function(n){for(var e in c)delete c[e][n]},extractEvents:function(n,e,t,i){for(var r,s=o.plugins,l=0,c=s.length;c>l;l++){var u=s[l];if(u){var d=u.extractEvents(n,e,t,i);d&&(r=a(r,d))}}return r},enqueueEvents:function(n){n&&(u=a(u,n))},processEventQueue:function(){var n=u;u=null,s(n,d),"production"!==e.env.NODE_ENV?l(!u,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):l(!u)},__purge:function(){c={}},__getListenerBank:function(){return c}};n.exports=f}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e,t){var i=e.dispatchConfig.phasedRegistrationNames[t];return y(n,i)}function o(n,t,o){if("production"!==e.env.NODE_ENV&&!n)throw new Error("Dispatching id must not be null");var r=t?m.bubbled:m.captured,a=i(n,o,r);a&&(o._dispatchListeners=f(o._dispatchListeners,a),o._dispatchIDs=f(o._dispatchIDs,n))}function r(n){n&&n.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(n.dispatchMarker,o,n)}function a(n,e,t){if(t&&t.dispatchConfig.registrationName){var i=t.dispatchConfig.registrationName,o=y(n,i);o&&(t._dispatchListeners=f(t._dispatchListeners,o),t._dispatchIDs=f(t._dispatchIDs,n))}}function s(n){n&&n.dispatchConfig.registrationName&&a(n.dispatchMarker,null,n)}function l(n){h(n,r)}function c(n,e,t,i){p.injection.getInstanceHandle().traverseEnterLeave(t,i,a,n,e)}function u(n){h(n,s)}var d=t(15),p=t(39),f=t(74),h=t(75),m=d.PropagationPhases,y=p.getListener,g={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:c};n.exports=g}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(6),o=t(7);if("production"!==e.env.NODE_ENV){var r="_reactFragment",a="_reactDidWarn",s=!1;try{var l=function(){return 1};Object.defineProperty({},r,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:l}),s=!0}catch(c){}var u=function(n,t){Object.defineProperty(n,t,{enumerable:!0,get:function(){return"production"!==e.env.NODE_ENV?o(this[a],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[a]=!0,this[r][t]},set:function(n){"production"!==e.env.NODE_ENV?o(this[a],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[a]=!0,this[r][t]=n}})},d={},p=function(n){var e="";for(var t in n)e+=t+":"+typeof n[t]+",";var i=!!d[e];return d[e]=!0,i}}var f={create:function(n){if("production"!==e.env.NODE_ENV){if("object"!=typeof n||!n||Array.isArray(n))return"production"!==e.env.NODE_ENV?o(!1,"React.addons.createFragment only accepts a single object.",n):null,n;if(i.isValidElement(n))return"production"!==e.env.NODE_ENV?o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,n;if(s){var t={};Object.defineProperty(t,r,{enumerable:!1,value:n}),Object.defineProperty(t,a,{writable:!0,enumerable:!1,value:!1});for(var l in n)u(t,l);return Object.preventExtensions(t),t}}return n},extract:function(n){return"production"!==e.env.NODE_ENV&&s?n[r]?n[r]:("production"!==e.env.NODE_ENV?o(p(n),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,n):n},extractIfFragment:function(n){if("production"!==e.env.NODE_ENV&&s){if(n[r])return n[r];for(var t in n)if(n.hasOwnProperty(t)&&i.isValidElement(n[t]))return f.extract(n)}return n}};n.exports=f}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(){o.attachRefs(this,this._currentElement)}var o=t(187),r=t(46),a={mountComponent:function(n,t,o,a){var s=n.mountComponent(t,o,a);return"production"!==e.env.NODE_ENV&&r.checkAndWarnForMutatedProps(n._currentElement),o.getReactMountReady().enqueue(i,n),s},unmountComponent:function(n){o.detachRefs(n,n._currentElement),n.unmountComponent()},receiveComponent:function(n,t,a,s){var l=n._currentElement;if(t!==l||null==t._owner){"production"!==e.env.NODE_ENV&&r.checkAndWarnForMutatedProps(t);var c=o.shouldUpdateRefs(l,t);c&&o.detachRefs(n,l),n.receiveComponent(t,a,s),c&&a.getReactMountReady().enqueue(i,n)}},performUpdateIfNecessary:function(n,e){n.performUpdateIfNecessary(e)}};n.exports=a}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){return function(e,t,i){l("create ajax sender",e,t);var o={};"string"==typeof t&&(o.headers={"Content-type":"text/plain"});var r=a.addPath(e,"/xhr_send"),s=new n("POST",r,t,o);return s.once("finish",function(n){return l("finish",n),s=null,200!==n&&204!==n?i(new Error("http status "+n)):void i()}),function(){l("abort"),s.close(),s=null;var n=new Error("Aborted");n.code=1e3,i(n)}}}function o(n,e,t,o){s.call(this,n,e,i(o),t,o)}var r=t(4),a=t(18),s=t(142),l=function(){};"production"!==e.env.NODE_ENV&&(l=t(9)("sockjs-client:ajax-based")),r(o,s),n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";var i=t(312),o="abcdefghijklmnopqrstuvwxyz012345";n.exports={string:function(n){for(var e=o.length,t=i.randomBytes(n),r=[],a=0;n>a;a++)r.push(o.substr(t[a]%e,1));return r.join("")},number:function(n){return Math.floor(Math.random()*n)},numberString:function(n){var e=(""+(n-1)).length,t=new Array(e+1).join("0");return(t+this.number(n)).slice(-e)}}},function(n,e,t){(function(e){"use strict";function i(n,e){return null==e||o.hasBooleanValue[n]&&!e||o.hasNumericValue[n]&&isNaN(e)||o.hasPositiveNumericValue[n]&&1>e||o.hasOverloadedBooleanValue[n]&&e===!1}var o=t(31),r=t(228),a=t(7);if("production"!==e.env.NODE_ENV)var s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},l={},c=function(n){if(!(s.hasOwnProperty(n)&&s[n]||l.hasOwnProperty(n)&&l[n])){l[n]=!0;var t=n.toLowerCase(),i=o.isCustomAttribute(t)?t:o.getPossibleStandardName.hasOwnProperty(t)?o.getPossibleStandardName[t]:null;"production"!==e.env.NODE_ENV?a(null==i,"Unknown DOM property %s. Did you mean %s?",n,i):null}};var u={createMarkupForID:function(n){return o.ID_ATTRIBUTE_NAME+"="+r(n)},createMarkupForProperty:function(n,t){if(o.isStandardName.hasOwnProperty(n)&&o.isStandardName[n]){if(i(n,t))return"";var a=o.getAttributeName[n];return o.hasBooleanValue[n]||o.hasOverloadedBooleanValue[n]&&t===!0?a:a+"="+r(t)}return o.isCustomAttribute(n)?null==t?"":n+"="+r(t):("production"!==e.env.NODE_ENV&&c(n),null)},setValueForProperty:function(n,t,r){if(o.isStandardName.hasOwnProperty(t)&&o.isStandardName[t]){var a=o.getMutationMethod[t];if(a)a(n,r);else if(i(t,r))this.deleteValueForProperty(n,t);else if(o.mustUseAttribute[t])n.setAttribute(o.getAttributeName[t],""+r);else{var s=o.getPropertyName[t];o.hasSideEffects[t]&&""+n[s]==""+r||(n[s]=r)}}else o.isCustomAttribute(t)?null==r?n.removeAttribute(t):n.setAttribute(t,""+r):"production"!==e.env.NODE_ENV&&c(t)},deleteValueForProperty:function(n,t){if(o.isStandardName.hasOwnProperty(t)&&o.isStandardName[t]){var i=o.getMutationMethod[t];if(i)i(n,void 0);else if(o.mustUseAttribute[t])n.removeAttribute(o.getAttributeName[t]);else{var r=o.getPropertyName[t],a=o.getDefaultValueForProperty(n.nodeName,r);o.hasSideEffects[t]&&""+n[r]===a||(n[r]=a)}}else o.isCustomAttribute(t)?n.removeAttribute(t):"production"!==e.env.NODE_ENV&&c(t)}};n.exports=u}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(){if(_.current){var n=_.current.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(n){var e=n&&n.getPublicInstance();if(e){var t=e.constructor;if(t)return t.displayName||t.name||void 0}}function r(){var n=_.current;return n&&o(n)||void 0}function a(n,e){n._store.validated||null!=n.key||(n._store.validated=!0,l('Each child in an array or iterator should have a unique "key" prop.',n,e))}function s(n,e,t){b.test(n)&&l("Child objects should have non-numeric keys so ordering is preserved.",e,t)}function l(n,t,i){var a=r(),s="string"==typeof i?i:i.displayName||i.name,l=a||s,c=x[n]||(x[n]={});if(!c.hasOwnProperty(l)){c[l]=!0;var u=a?" Check the render method of "+a+".":s?" Check the React.render call using <"+s+">.":"",d="";if(t&&t._owner&&t._owner!==_.current){var p=o(t._owner);d=" It was passed a child from "+p+"."}"production"!==e.env.NODE_ENV?A(!1,n+"%s%s See http://fb.me/react-warning-keys for more information.",u,d):null}}function c(n,e){if(Array.isArray(n))for(var t=0;t<n.length;t++){var i=n[t];m.isValidElement(i)&&a(i,e)}else if(m.isValidElement(n))n._store.validated=!0;else if(n){var o=E(n);if(o){if(o!==n.entries)for(var r,l=o.call(n);!(r=l.next()).done;)m.isValidElement(r.value)&&a(r.value,e)}else if("object"==typeof n){var c=y.extractIfFragment(n);for(var u in c)c.hasOwnProperty(u)&&s(u,c[u],e)}}}function u(n,t,o,r){for(var a in t)if(t.hasOwnProperty(a)){var s;try{"production"!==e.env.NODE_ENV?P("function"==typeof t[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",v[r],a):P("function"==typeof t[a]),s=t[a](o,a,n,r)}catch(l){s=l}if(s instanceof Error&&!(s.message in N)){N[s.message]=!0;var c=i(this);"production"!==e.env.NODE_ENV?A(!1,"Failed propType: %s%s",s.message,c):null}}}function d(n,t){var i=t.type,o="string"==typeof i?i:i.displayName,r=t._owner?t._owner.getPublicInstance().constructor.displayName:null,a=n+"|"+o+"|"+r;if(!T.hasOwnProperty(a)){T[a]=!0;var s="";o&&(s=" <"+o+" />");var l="";r&&(l=" The element was created by "+r+"."),"production"!==e.env.NODE_ENV?A(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element.%s",n,s,l):null}}function p(n,e){return n!==n?e!==e:0===n&&0===e?1/n===1/e:n===e}function f(n){if(n._store){var e=n._store.originalProps,t=n.props;for(var i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)&&p(e[i],t[i])||(d(i,n),e[i]=t[i]))}}function h(n){if(null!=n.type){var t=C.getComponentClassForElement(n),i=t.displayName||t.name;t.propTypes&&u(i,t.propTypes,n.props,g.prop),"function"==typeof t.getDefaultProps&&("production"!==e.env.NODE_ENV?A(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var m=t(6),y=t(41),g=t(72),v=t(56),_=t(26),C=t(55),E=t(115),P=t(2),A=t(7),x={},N={},b=/^\d+$/,T={},M={checkAndWarnForMutatedProps:f,createElement:function(n,t,i){"production"!==e.env.NODE_ENV?A(null!=n,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var o=m.createElement.apply(this,arguments);if(null==o)return o;for(var r=2;r<arguments.length;r++)c(arguments[r],n);return h(o),o},createFactory:function(n){var t=M.createElement.bind(null,n);if(t.type=n,"production"!==e.env.NODE_ENV)try{Object.defineProperty(t,"type",{enumerable:!1,get:function(){return"production"!==e.env.NODE_ENV?A(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:n}),n}})}catch(i){}return t},cloneElement:function(n,e,t){for(var i=m.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)c(arguments[o],i.type);return h(i),i}};n.exports=M}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(29),r=t(78),a={view:function(n){if(n.view)return n.view;var e=r(n);if(null!=e&&e.window===e)return e;var t=e.ownerDocument;return t?t.defaultView||t.parentWindow:window},detail:function(n){return n.detail||0}};o.augmentClass(i,a),n.exports=i},function(n,e,t){(function(e){"use strict";var i=t(2),o=function(n){var t,o={};"production"!==e.env.NODE_ENV?i(n instanceof Object&&!Array.isArray(n),"keyMirror(...): Argument must be an object."):i(n instanceof Object&&!Array.isArray(n));for(t in n)n.hasOwnProperty(t)&&(o[t]=t);return o};n.exports=o}).call(e,t(1))},function(n,e,t){n.exports=t(36)},function(n,e,t){"use strict";function i(n,e,t){r.call(this,n,e,t,{noCredentials:!0})}var o=t(4),r=t(137);o(i,r),i.enabled=r.enabled,n.exports=i},function(n,e){(function(e){"use strict";n.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(n){return!1}}}}).call(e,function(){return this}())},function(n,e,t){(function(e,i){"use strict";var o=t(30),r=t(27),a=t(51),s=function(){};"production"!==e.env.NODE_ENV&&(s=t(9)("sockjs-client:utils:iframe")),n.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){n.exports.WPrefix in i||(i[n.exports.WPrefix]={})},postMessage:function(e,t){i.parent!==i?i.parent.postMessage(r.stringify({windowId:n.exports.currentWindowId,type:e,data:t||""}),"*"):s("Cannot postMessage, no parent window.",e,t)},createIframe:function(n,e){var t,r,a=i.document.createElement("iframe"),l=function(){s("unattach"),clearTimeout(t);try{a.onload=null}catch(n){}a.onerror=null},c=function(){s("cleanup"),a&&(l(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),o.unloadDel(r))},u=function(n){s("onerror",n),a&&(c(),e(n))},d=function(n,e){s("post",n,e);try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(n,e)},0)}catch(t){}};return a.src=n,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){s("onload"),clearTimeout(t),t=setTimeout(function(){u("onload timeout")},2e3)},i.document.body.appendChild(a),t=setTimeout(function(){u("timeout")},15e3),r=o.unloadAdd(c),{post:d,cleanup:c,loaded:l}},createHtmlfile:function(e,t){var r,a,l,c=["Active"].concat("Object").join("X"),u=new i[c]("htmlfile"),d=function(){clearTimeout(r),l.onerror=null},p=function(){u&&(d(),o.unloadDel(a),l.parentNode.removeChild(l),
l=u=null,CollectGarbage())},f=function(n){s("onerror",n),u&&(p(),t(n))},h=function(n,e){try{setTimeout(function(){l&&l.contentWindow&&l.contentWindow.postMessage(n,e)},0)}catch(t){}};u.open(),u.write('<html><script>document.domain="'+i.document.domain+'";</script></html>'),u.close(),u.parentWindow[n.exports.WPrefix]=i[n.exports.WPrefix];var m=u.createElement("div");return u.body.appendChild(m),l=u.createElement("iframe"),m.appendChild(l),l.src=e,l.onerror=function(){f("onerror")},r=setTimeout(function(){f("timeout")},15e3),a=o.unloadAdd(p),{post:h,cleanup:p,loaded:d}}},n.exports.iframeEnabled=!1,i.document&&(n.exports.iframeEnabled=("function"==typeof i.postMessage||"object"==typeof i.postMessage)&&!a.isKonqueror())}).call(e,t(1),function(){return this}())},function(n,e,t){"use strict";var i=t(113),o={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};n.exports=o},function(n,e,t){(function(e){"use strict";function i(n){u[n]=!0}function o(n){delete u[n]}function r(n){return!!u[n]}var a,s=t(6),l=t(35),c=t(2),u={},d={injectEmptyComponent:function(n){a=s.createFactory(n)}},p=function(){};p.prototype.componentDidMount=function(){var n=l.get(this);n&&i(n._rootNodeID)},p.prototype.componentWillUnmount=function(){var n=l.get(this);n&&o(n._rootNodeID)},p.prototype.render=function(){return"production"!==e.env.NODE_ENV?c(a,"Trying to return null from a render, but no null placeholder component was injected."):c(a),a()};var f=s.createElement(p),h={emptyElement:f,injection:d,isNullComponentID:r};n.exports=h}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){if("function"==typeof n.type)return n.type;var e=n.type,t=d[e];return null==t&&(d[e]=t=c(e)),t}function o(n){return"production"!==e.env.NODE_ENV?l(u,"There is no registered component for the tag %s",n.type):l(u),new u(n.type,n.props)}function r(n){return new p(n)}function a(n){return n instanceof p}var s=t(5),l=t(2),c=null,u=null,d={},p=null,f={injectGenericComponentClass:function(n){u=n},injectTextComponentClass:function(n){p=n},injectComponentClasses:function(n){s(d,n)},injectAutoWrapper:function(n){c=n}},h={getComponentClassForElement:i,createInternalComponent:o,createInstanceForText:r,isTextComponent:a,injection:f};n.exports=h}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var t={};"production"!==e.env.NODE_ENV&&(t={prop:"prop",context:"context",childContext:"child context"}),n.exports=t}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(47),r=t(109),a=t(77),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(n){var e=n.button;return"which"in n?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(n){return n.relatedTarget||(n.fromElement===n.srcElement?n.toElement:n.fromElement)},pageX:function(n){return"pageX"in n?n.pageX:n.clientX+r.currentScrollLeft},pageY:function(n){return"pageY"in n?n.pageY:n.clientY+r.currentScrollTop}};o.augmentClass(i,s),n.exports=i},function(n,e,t){(function(e){"use strict";var i=t(2),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(n,t,o,r,a,s,l,c){"production"!==e.env.NODE_ENV?i(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):i(!this.isInTransaction());var u,d;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),d=n.call(t,o,r,a,s,l,c),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return d},initializeAll:function(n){for(var e=this.transactionWrappers,t=n;t<e.length;t++){var i=e[t];try{this.wrapperInitData[t]=r.OBSERVED_ERROR,this.wrapperInitData[t]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[t]===r.OBSERVED_ERROR)try{this.initializeAll(t+1)}catch(o){}}}},closeAll:function(n){"production"!==e.env.NODE_ENV?i(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):i(this.isInTransaction());for(var t=this.transactionWrappers,o=n;o<t.length;o++){var a,s=t[o],l=this.wrapperInitData[o];try{a=!0,l!==r.OBSERVED_ERROR&&s.close&&s.close.call(this,l),a=!1}finally{if(a)try{this.closeAll(o+1)}catch(c){}}}this.wrapperInitData.length=0}},r={Mixin:o,OBSERVED_ERROR:{}};n.exports=r}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var t={};"production"!==e.env.NODE_ENV&&Object.freeze(t),n.exports=t}).call(e,t(1))},function(n,e){"use strict";function t(n){return o[n]}function i(n){return(""+n).replace(r,t)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;n.exports=i},function(n,e,t){(function(e){"use strict";function i(n,e){a(n),r.call(this);var t=this;this.bufferPosition=0,this.xo=new e("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,e){a("finish",n,e),t._chunkHandler(n,e),t.xo=null;var i=200===n?"network":"permanent";a("close",i),t.emit("close",null,i),t._cleanup()})}var o=t(4),r=t(12).EventEmitter,a=function(){};"production"!==e.env.NODE_ENV&&(a=t(9)("sockjs-client:receiver:xhr")),o(i,r),i.prototype._chunkHandler=function(n,e){if(a("_chunkHandler",n),200===n&&e)for(var t=-1;;this.bufferPosition+=t+1){var i=e.slice(this.bufferPosition);if(t=i.indexOf("\n"),-1===t)break;var o=i.slice(0,t);o&&(a("message",o),this.emit("message",o))}},i.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},i.prototype.abort=function(){a("abort"),this.xo&&(this.xo.close(),a("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e,t,i){r.call(this,n,e,t,i)}var o=t(4),r=t(137);o(i,r),i.enabled=r.enabled&&r.supportsCORS,n.exports=i},function(n,e,t){(function(e){"use strict";function i(){this._callbacks=null,this._contexts=null}var o=t(24),r=t(5),a=t(2);r(i.prototype,{enqueue:function(n,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(n),this._contexts.push(e)},notifyAll:function(){var n=this._callbacks,t=this._contexts;if(n){"production"!==e.env.NODE_ENV?a(n.length===t.length,"Mismatched list of contexts in callback queue"):a(n.length===t.length),this._callbacks=null,this._contexts=null;for(var i=0,o=n.length;o>i;i++)n[i].call(t[i]);n.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(i),n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){return n===g.topMouseUp||n===g.topTouchEnd||n===g.topTouchCancel}function o(n){return n===g.topMouseMove||n===g.topTouchMove}function r(n){return n===g.topMouseDown||n===g.topTouchStart}function a(n,t){var i=n._dispatchListeners,o=n._dispatchIDs;if("production"!==e.env.NODE_ENV&&f(n),Array.isArray(i))for(var r=0;r<i.length&&!n.isPropagationStopped();r++)t(n,i[r],o[r]);else i&&t(n,i,o)}function s(n,e,t){n.currentTarget=y.Mount.getNode(t);var i=e(n,t);return n.currentTarget=null,i}function l(n,e){a(n,e),n._dispatchListeners=null,n._dispatchIDs=null}function c(n){var t=n._dispatchListeners,i=n._dispatchIDs;if("production"!==e.env.NODE_ENV&&f(n),Array.isArray(t)){for(var o=0;o<t.length&&!n.isPropagationStopped();o++)if(t[o](n,i[o]))return i[o]}else if(t&&t(n,i))return i;return null}function u(n){var e=c(n);return n._dispatchIDs=null,n._dispatchListeners=null,e}function d(n){"production"!==e.env.NODE_ENV&&f(n);var t=n._dispatchListeners,i=n._dispatchIDs;"production"!==e.env.NODE_ENV?m(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`."):m(!Array.isArray(t));var o=t?t(n,i):null;return n._dispatchListeners=null,n._dispatchIDs=null,o}function p(n){return!!n._dispatchListeners}var f,h=t(15),m=t(2),y={Mount:null,injectMount:function(n){y.Mount=n,"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?m(n&&n.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):m(n&&n.getNode))}},g=h.topLevelTypes;"production"!==e.env.NODE_ENV&&(f=function(n){var t=n._dispatchListeners,i=n._dispatchIDs,o=Array.isArray(t),r=Array.isArray(i),a=r?i.length:i?1:0,s=o?t.length:t?1:0;"production"!==e.env.NODE_ENV?m(r===o&&a===s,"EventPluginUtils: Invalid `event`."):m(r===o&&a===s)});var v={isEndish:i,isMoveish:o,isStartish:r,executeDirectDispatch:d,executeDispatch:s,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,injection:y,useTouchEvents:!1};n.exports=v}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){"production"!==e.env.NODE_ENV?c(null==n.props.checkedLink||null==n.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):c(null==n.props.checkedLink||null==n.props.valueLink)}function o(n){i(n),"production"!==e.env.NODE_ENV?c(null==n.props.value&&null==n.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):c(null==n.props.value&&null==n.props.onChange)}function r(n){i(n),"production"!==e.env.NODE_ENV?c(null==n.props.checked&&null==n.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):c(null==n.props.checked&&null==n.props.onChange)}function a(n){this.props.valueLink.requestChange(n.target.value)}function s(n){this.props.checkedLink.requestChange(n.target.checked)}var l=t(105),c=t(2),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={Mixin:{propTypes:{value:function(n,e,t){return!n[e]||u[n.type]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(n,e,t){return!n[e]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(n){return n.props.valueLink?(o(n),n.props.valueLink.value):n.props.value},getChecked:function(n){return n.props.checkedLink?(r(n),n.props.checkedLink.value):n.props.checked},getOnChange:function(n){return n.props.valueLink?(o(n),a):n.props.checkedLink?(r(n),s):n.props.onChange}};n.exports=d}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){n.remove()}var o=t(33),r=t(74),a=t(75),s=t(2),l={trapBubbledEvent:function(n,t){"production"!==e.env.NODE_ENV?s(this.isMounted(),"Must be mounted to trap events"):s(this.isMounted());var i=this.getDOMNode();"production"!==e.env.NODE_ENV?s(i,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):s(i);var a=o.trapBubbledEvent(n,t,i);this._localEventListeners=r(this._localEventListeners,a)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,i)}};n.exports=l}).call(e,t(1))},function(n,e,t){"use strict";var i=t(99),o=t(8),r={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(n){o.purgeID(n)}};n.exports=r},function(n,e,t){(function(e){"use strict";var i=t(2),o=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(n){"production"!==e.env.NODE_ENV?i(!o,"ReactCompositeComponent: injectEnvironment() can only be called once."):i(!o),r.unmountIDFromEnvironment=n.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=n.replaceNodeWithMarkupByID,r.processChildrenUpdates=n.processChildrenUpdates,o=!0}}};n.exports=r}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(5),o=t(59),r=t(7),a=!1,s={current:o,withContext:function(n,t){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?r(a,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,a=!0);var o,l=s.current;s.current=i({},l,n);try{o=t()}finally{s.current=l}return o}};n.exports=s}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){n&&(null!=n.dangerouslySetInnerHTML&&("production"!==e.env.NODE_ENV?g(null==n.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):g(null==n.children),"production"!==e.env.NODE_ENV?g(null!=n.dangerouslySetInnerHTML.__html,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit http://fb.me/react-invariant-dangerously-set-inner-html for more information."):g(null!=n.dangerouslySetInnerHTML.__html)),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?C(null==n.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==e.env.NODE_ENV?C(!n.contentEditable||null==n.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==e.env.NODE_ENV?g(null==n.style||"object"==typeof n.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):g(null==n.style||"object"==typeof n.style))}function o(n,t,i,o){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?C("onScroll"!==t||v("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var r=p.findReactContainerForID(n);if(r){var a=r.nodeType===b?r.ownerDocument:r;P(t,a)}o.getPutListenerQueue().enqueuePutListener(n,t,i)}function r(n){I.call(k,n)||("production"!==e.env.NODE_ENV?g(S.test(n),"Invalid tag: %s",n):g(S.test(n)),k[n]=!0)}function a(n){r(n),this._tag=n,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=t(94),l=t(31),c=t(45),u=t(33),d=t(67),p=t(8),f=t(183),h=t(28),m=t(5),y=t(60),g=t(2),v=t(80),_=t(20),C=t(7),E=u.deleteListener,P=u.listenTo,A=u.registrationNameModules,x={string:!0,number:!0},N=_({style:null}),b=1,T=null,M={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,k={},I={}.hasOwnProperty;a.displayName="ReactDOMComponent",a.Mixin={construct:function(n){this._currentElement=n},mountComponent:function(n,e,t){this._rootNodeID=n,i(this._currentElement.props);var o=M[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,t)+o},_createOpenTagMarkupAndPutListeners:function(n){var e=this._currentElement.props,t="<"+this._tag;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(null!=r)if(A.hasOwnProperty(i))o(this._rootNodeID,i,r,n);else{i===N&&(r&&(r=this._previousStyleCopy=m({},e.style)),r=s.createMarkupForStyles(r));var a=c.createMarkupForProperty(i,r);a&&(t+=" "+a)}}if(n.renderToStaticMarkup)return t+">";var l=c.createMarkupForID(this._rootNodeID);return t+" "+l+">"},_createContentMarkup:function(n,e){var t="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(t="\n");var i=this._currentElement.props,o=i.dangerouslySetInnerHTML;if(null!=o){if(null!=o.__html)return t+o.__html}else{var r=x[typeof i.children]?i.children:null,a=null!=r?null:i.children;if(null!=r)return t+y(r);if(null!=a){var s=this.mountChildren(a,n,e);return t+s.join("")}}return t},receiveComponent:function(n,e,t){var i=this._currentElement;this._currentElement=n,this.updateComponent(e,i,n,t)},updateComponent:function(n,e,t,o){i(this._currentElement.props),this._updateDOMProperties(e.props,n),this._updateDOMChildren(e.props,n,o)},_updateDOMProperties:function(n,e){var t,i,r,a=this._currentElement.props;for(t in n)if(!a.hasOwnProperty(t)&&n.hasOwnProperty(t))if(t===N){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(r=r||{},r[i]="");this._previousStyleCopy=null}else A.hasOwnProperty(t)?E(this._rootNodeID,t):(l.isStandardName[t]||l.isCustomAttribute(t))&&T.deletePropertyByID(this._rootNodeID,t);for(t in a){var c=a[t],u=t===N?this._previousStyleCopy:n[t];if(a.hasOwnProperty(t)&&c!==u)if(t===N)if(c&&(c=this._previousStyleCopy=m({},c)),u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r=r||{},r[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(r=r||{},r[i]=c[i])}else r=c;else A.hasOwnProperty(t)?o(this._rootNodeID,t,c,e):(l.isStandardName[t]||l.isCustomAttribute(t))&&T.updatePropertyByID(this._rootNodeID,t,c)}r&&T.updateStylesByID(this._rootNodeID,r)},_updateDOMChildren:function(n,e,t){var i=this._currentElement.props,o=x[typeof n.children]?n.children:null,r=x[typeof i.children]?i.children:null,a=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,s=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,l=null!=o?null:n.children,c=null!=r?null:i.children,u=null!=o||null!=a,d=null!=r||null!=s;null!=l&&null==c?this.updateChildren(null,e,t):u&&!d&&this.updateTextContent(""),null!=r?o!==r&&this.updateTextContent(""+r):null!=s?a!==s&&T.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,e,t)},unmountComponent:function(){this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),d.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},h.measureMethods(a,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(a.prototype,a.Mixin,f.Mixin),a.injection={injectIDOperations:function(n){a.BackendIDOperations=T=n}},n.exports=a}).call(e,t(1))},function(n,e){"use strict";var t={currentlyMountingInstance:null,currentlyUnmountingInstance:null};n.exports=t},function(n,e,t){"use strict";var i=t(48),o=i({prop:null,context:null,childContext:null});n.exports=o},function(n,e,t){(function(e){"use strict";function i(n){n!==r.currentlyMountingInstance&&c.enqueueUpdate(n)}function o(n,t){"production"!==e.env.NODE_ENV?d(null==a.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t):d(null==a.current);var i=l.get(n);return i?i===r.currentlyUnmountingInstance?null:i:("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?p(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",t,t):null),null)}var r=t(71),a=t(26),s=t(6),l=t(35),c=t(17),u=t(5),d=t(2),p=t(7),f={enqueueCallback:function(n,t){"production"!==e.env.NODE_ENV?d("function"==typeof t,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):d("function"==typeof t);var a=o(n);return a&&a!==r.currentlyMountingInstance?(a._pendingCallbacks?a._pendingCallbacks.push(t):a._pendingCallbacks=[t],void i(a)):null},enqueueCallbackInternal:function(n,t){"production"!==e.env.NODE_ENV?d("function"==typeof t,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):d("function"==typeof t),n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],i(n)},enqueueForceUpdate:function(n){var e=o(n,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(n,e){var t=o(n,"replaceState");t&&(t._pendingStateQueue=[e],t._pendingReplaceState=!0,i(t))},enqueueSetState:function(n,e){var t=o(n,"setState");if(t){var r=t._pendingStateQueue||(t._pendingStateQueue=[]);r.push(e),i(t)}},enqueueSetProps:function(n,t){var r=o(n,"setProps");if(r){"production"!==e.env.NODE_ENV?d(r._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):d(r._isTopLevel);var a=r._pendingElement||r._currentElement,l=u({},a.props,t);r._pendingElement=s.cloneAndReplaceProps(a,l),i(r)}},enqueueReplaceProps:function(n,t){var r=o(n,"replaceProps");if(r){"production"!==e.env.NODE_ENV?d(r._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):d(r._isTopLevel);var a=r._pendingElement||r._currentElement;r._pendingElement=s.cloneAndReplaceProps(a,t),i(r)}},enqueueElementInternal:function(n,e){n._pendingElement=e,i(n)}};n.exports=f}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,t){if("production"!==e.env.NODE_ENV?o(null!=t,"accumulateInto(...): Accumulated items must not be null or undefined."):o(null!=t),null==n)return t;var i=Array.isArray(n),r=Array.isArray(t);return i&&r?(n.push.apply(n,t),n):i?(n.push(t),n):r?[n].concat(t):[n,t]}var o=t(2);n.exports=i}).call(e,t(1))},function(n,e){"use strict";var t=function(n,e,t){Array.isArray(n)?n.forEach(e,t):n&&e.call(t,n)};n.exports=t},function(n,e){"use strict";function t(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,0===e&&13===t&&(e=13)):e=t,e>=32||13===e?e:0}n.exports=t},function(n,e){"use strict";function t(n){var e=this,t=e.nativeEvent;if(t.getModifierState)return t.getModifierState(n);var i=o[n];return i?!!t[i]:!1}function i(n){return t}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};n.exports=i},function(n,e){"use strict";function t(n){var e=n.target||n.srcElement||window;return 3===e.nodeType?e.parentNode:e}n.exports=t},function(n,e,t){(function(e){"use strict";function i(n){return"function"==typeof n&&"function"==typeof n.prototype.mountComponent&&"function"==typeof n.prototype.receiveComponent}function o(n,t){var o;if((null===n||n===!1)&&(n=a.emptyElement),"object"==typeof n){var r=n;"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?u(r&&("function"==typeof r.type||"string"==typeof r.type),"Only functions or strings can be mounted as React components."):null),o=t===r.type&&"string"==typeof r.type?s.createInternalComponent(r):i(r.type)?new r.type(r):new d}else"string"==typeof n||"number"==typeof n?o=s.createInstanceForText(n):"production"!==e.env.NODE_ENV?c(!1,"Encountered invalid React node of type %s",typeof n):c(!1);return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?u("function"==typeof o.construct&&"function"==typeof o.mountComponent&&"function"==typeof o.receiveComponent&&"function"==typeof o.unmountComponent,"Only React Components can be mounted."):null),o.construct(n),o._mountIndex=0,o._mountImage=null,"production"!==e.env.NODE_ENV&&(o._isOwnerNecessary=!1,o._warnedAboutRefsInRender=!1),"production"!==e.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(o),o}var r=t(98),a=t(54),s=t(55),l=t(5),c=t(2),u=t(7),d=function(){};l(d.prototype,r.Mixin,{_instantiateReactComponent:o}),n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function i(n,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,i=t in document;if(!i){var a=document.createElement("div");a.setAttribute(t,"return;"),i="function"==typeof a[t]}return!i&&o&&"wheel"===n&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var o,r=t(11);r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),n.exports=i},function(n,e,t){"use strict";var i=t(11),o=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(n,e){n.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(n,e){MSApp.execUnsafeLocalFunction(function(){n.innerHTML=e})}),i.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(n,e){if(n.parentNode&&n.parentNode.replaceChild(n,n),o.test(e)||"<"===e[0]&&r.test(e)){n.innerHTML="\ufeff"+e;var t=n.firstChild;1===t.data.length?n.removeChild(t):t.deleteData(0,1)}else n.innerHTML=e})}n.exports=a},function(n,e,t){(function(e){"use strict";function i(n,t){if(null!=n&&null!=t){var i=typeof n,r=typeof t;if("string"===i||"number"===i)return"string"===r||"number"===r;if("object"===r&&n.type===t.type&&n.key===t.key){var a=n._owner===t._owner,s=null,l=null,c=null;return"production"!==e.env.NODE_ENV&&(a||(null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(s=n._owner.getPublicInstance().constructor.displayName),null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(l=t._owner.getPublicInstance().constructor.displayName),null!=t.type&&null!=t.type.displayName&&(c=t.type.displayName),null!=t.type&&"string"==typeof t.type&&(c=t.type),("string"!=typeof t.type||"input"===t.type||"textarea"===t.type)&&(null!=n._owner&&n._owner._isOwnerNecessary===!1||null!=t._owner&&t._owner._isOwnerNecessary===!1)&&(null!=n._owner&&(n._owner._isOwnerNecessary=!0),null!=t._owner&&(t._owner._isOwnerNecessary=!0),"production"!==e.env.NODE_ENV?o(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",c||"Unknown Component",s||"[Unknown]",l||"[Unknown]",n.key):null))),a}}return!1}var o=t(7);n.exports=i}).call(e,t(1))},function(n,e){e.createdStores=[],e.createdActions=[],e.reset=function(){for(;e.createdStores.length;)e.createdStores.pop();for(;e.createdActions.length;)e.createdActions.pop()}},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function n(n,e){var t=[],i=!0,o=!1,r=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!e||t.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(o)throw r}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t(38),a=i(r),s=t(10),l=i(s),c={floatToRatio:function(n){var e=1e-6,t=1,i=0,o=0,r=1,a=n;do{var s=Math.floor(a),l=t;t=s*t+i,i=l,l=o,o=s*o+r,r=l,a=1/(a-s)}while(Math.abs(n-t/o)>n*e);return t+"/"+o},toArray:function(n){return a["default"].isArray(n)?n:[n]},loadCss:function(n,e,t){var i=c._urlFinder(n,e,t),o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=i,(0,l["default"])("head").append(o)},_urlFinder:function(n,e,t){var i=void 0,o=document.getElementsByTagName("script"),r=void 0,a=void 0,s=void 0;for(r=0;a=o[r];r++)s=a.src,s.indexOf(n)>=0&&(i=s.substring(0,s.indexOf(n)));var l=i.substr(0,i.indexOf(e))+t;return l},mixin:function(){for(var n=arguments.length,e=Array(n),t=0;n>t;t++)e[t]=arguments[t];return a["default"].extend.apply(null,e.map(a["default"].clone))},forceRepaint:function(n){n.style.display="none",c.nextTick(function(){return n.style.display=""})},isMobile:function(){return/android|webos|ipad|iphone|ipod|blackberry|iemobile|opera mini|windows ce|windows phone/i.test(navigator.userAgent.toLowerCase())},isTouchDevice:function(){return"ontouchstart"in window||"onmsgesturechange"in window},environment:function(){var n=["proddev","staging","qa00","qa01","qa02"],e="";return l["default"].each(n,function(n,t){1===l["default"].inArray(t,window.location.host.split("."))&&(e=t)}),e},getParams:function(n){var e=n||window.location.search.substring(1);return e?a["default"].chain(e.split("&")).map(function(n){return a["default"].map(n.split("="),decodeURIComponent)}).zipObject().value():{}},urlToJSONP:function(n){var e=n.split("?"),t=o(e,2),i=t[0],r=t[1];return i+=r?"?"+r+"&":"?",i+="callback=?"},envCheck:function(){var n="";return-1!==window.location.href.indexOf(".staging.")?n=null!==window.location.href.match(/\.qa\d\d/)?".staging"+window.location.href.match(/\.qa\d\d/)[0]:".staging":-1!==window.location.href.indexOf(".proddev.")?n=".proddev":null!==window.location.href.match(/\.qa\d\d/)&&(n+=window.location.href.match(/\.qa\d\d/)[0]),n},imageServer:function(n){var e=n?n:c.envCheck(),t=["www.medscape.com","www.medscape.org","reference.medscape.com","education.webmd.com"],i=t.some(function(n){return-1!==window.location.host.indexOf(n)});return i?"http://img.medscapestatic.com":"override"===n?"":""===e&&c.isLocal()?"http://img.qa01.medscapestatic.com":"http://img"+e+".medscapestatic.com"},isLocal:function(){return window.location.href.match(/localhost/)},isRetina:function(){return window.devicePixelRatio>1},isIpad:function(){return null!==navigator.userAgent.match(/iPad/i)},isIOS:function u(n){var u=c.isIpad()||navigator.userAgent.match(/iPhone/i);return n&&(u=u&&navigator.userAgent.match(new RegExp("OS "+n))),u},isSafari:function(){return c.isIOS()&&navigator.userAgent.indexOf("Safari")>-1},isApp:function(){return!!navigator.userAgent.toLowerCase().match("medscape")},nextTick:function(n){setTimeout(n,0)},getXhr:function(n){var e=t(128);return new e(function(e,t){var i=new XMLHttpRequest;i.open("GET",n),i.onload=function(){200===i.status?e(i.response):t(Error(i.statusText))},i.onerror=function(){t(Error("Network Error"))},i.send()})}};e["default"]=c,n.exports=e["default"]},function(n,e){/*!
	* screenfull
	* v2.0.0 - 2014-12-22
	* (c) Sindre Sorhus; MIT License
	*/
!function(){"use strict";var e="undefined"!=typeof n&&n.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var n,e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,o=t.length,r={};o>i;i++)if(n=t[i],n&&n[1]in document){for(i=0,e=n.length;e>i;i++)r[t[0][i]]=n[i];return r}return!1}(),o={request:function(n){var e=i.requestFullscreen;n=n||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?n[e]():n[e](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(n){this.isFullscreen?this.exit():this.request(n)},raw:i};return i?(Object.defineProperties(o,{isFullscreen:{get:function(){return!!document[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[i.fullscreenEnabled]}}}),void(e?(n.exports=o,window.screenfull=o):window.screenfull=o)):void(e?(n.exports=!1,window.screenfull=!1):window.screenfull=!1)}(),n.exports=window.screenfull},function(n,e,t){(function(n,i){function o(n,e){this._id=n,this._clearFn=e}var r=t(1).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(n){n.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(n,e){clearTimeout(n._idleTimeoutId),n._idleTimeout=e},e.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},e._unrefActive=e.active=function(n){clearTimeout(n._idleTimeoutId);var e=n._idleTimeout;e>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},e))},e.setImmediate="function"==typeof n?n:function(n){var t=c++,i=arguments.length<2?!1:s.call(arguments,1);return l[t]=!0,r(function(){l[t]&&(i?n.apply(null,i):n.call(null),e.clearImmediate(t))}),t},e.clearImmediate="function"==typeof i?i:function(n){delete l[n]}}).call(e,t(86).setImmediate,t(86).clearImmediate)},function(n,e){"use strict";function t(n){this.type=n}t.prototype.initEvent=function(n,e,t){return this.type=n,this.bubbles=e,this.cancelable=t,this.timeStamp=+new Date,this},t.prototype.stopPropagation=function(){},t.prototype.preventDefault=function(){},t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,n.exports=t},function(n,e,t){(function(e){"use strict";var i=t(4),o=t(141),r=t(90);n.exports=function(n){function t(e,t){o.call(this,n.transportName,e,t)}return i(t,o),t.enabled=function(t,i){if(!e.document)return!1;var a=r.extend({},i);return a.sameOrigin=!0,n.enabled(a)&&o.enabled()},t.transportName="iframe-"+n.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+n.roundTrips-1,t.facadeTransport=n,t}}).call(e,function(){return this}())},function(n,e,t){(function(e,i){"use strict";function o(n,e,t){u(n,e);var i=this;r.call(this),setTimeout(function(){i._start(n,e,t)},0)}var r=t(12).EventEmitter,a=t(4),s=t(30),l=t(51),c=t(18),u=function(){};"production"!==e.env.NODE_ENV&&(u=t(9)("sockjs-client:sender:xdr")),a(o,r),o.prototype._start=function(n,e,t){u("_start");var o=this,r=new i.XDomainRequest;e=c.addQuery(e,"t="+ +new Date),r.onerror=function(){u("onerror"),o._error()},r.ontimeout=function(){u("ontimeout"),o._error()},r.onprogress=function(){u("progress",r.responseText),o.emit("chunk",200,r.responseText)},r.onload=function(){u("load"),o.emit("finish",200,r.responseText),o._cleanup(!1)},this.xdr=r,this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xdr.open(n,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(t)}catch(a){this._error()}},o.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},o.prototype._cleanup=function(n){if(u("cleanup",n),this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,n)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},o.prototype.close=function(){u("close"),this._cleanup(!0)},o.enabled=!(!i.XDomainRequest||!l.hasDomain()),n.exports=o}).call(e,t(1),function(){return this}())},function(n,e){"use strict";n.exports={isObject:function(n){var e=typeof n;return"function"===e||"object"===e&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var e,t,i=1,o=arguments.length;o>i;i++){e=arguments[i];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}}},function(n,e,t){"use strict";function i(n,e,t){if(!(this instanceof i))return new i(n,e,t);var c,u,d,p,f=s.test(n),h=typeof e,m=this,y=0;for("object"!==h&&"string"!==h&&(t=e,e=null),t&&"function"!=typeof t&&(t=a.parse),e=r(e);y<l.length;y++)u=l[y],c=u[0],p=u[1],c!==c?m[p]=n:"string"==typeof c?~(d=n.indexOf(c))&&("number"==typeof u[2]?(m[p]=n.slice(0,d),n=n.slice(d+u[2])):(m[p]=n.slice(d),n=n.slice(0,d))):(d=c.exec(n))&&(m[p]=d[1],n=n.slice(0,n.length-d[0].length)),m[p]=m[p]||(u[3]||"port"===p&&f?e[p]||"":""),u[4]&&(m[p]=m[p].toLowerCase());t&&(m.query=t(m.query)),o(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(u=m.auth.split(":"),m.username=u[0]||"",m.password=u[1]||""),m.href=m.toString()}var o=t(320),r=t(318),a=t(319),s=/^\/(?!\/)/,l=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];i.prototype.set=function(n,e,t){var i=this;return"query"===n?("string"==typeof e&&e.length&&(e=(t||a.parse)(e)),i[n]=e):"port"===n?(i[n]=e,o(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[n]="")):"hostname"===n?(i[n]=e,i.port&&(e+=":"+i.port),i.host=e):"host"===n?(i[n]=e,/\:\d+/.test(e)&&(e=e.split(":"),i.hostname=e[0],i.port=e[1])):i[n]=e,i.href=i.toString(),i},i.prototype.toString=function(n){n&&"function"==typeof n||(n=a.stringify);var e,t=this,i=t.protocol+"//";return t.username&&(i+=t.username,t.password&&(i+=":"+t.password),i+="@"),i+=t.hostname,t.port&&(i+=":"+t.port),i+=t.pathname,e="object"==typeof t.query?n(t.query):t.query,e&&(i+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(i+=t.hash),i},i.qs=a,i.location=r,n.exports=i},function(n,e,t){(function(e){!function(){var i=t(258),o=t(127).utf8,r=t(127).bin,a=function(n,t){n.constructor==String?n=t&&"binary"===t.encoding?r.stringToBytes(n):o.stringToBytes(n):"undefined"!=typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var s=i.bytesToWords(n),l=8*n.length,c=1732584193,u=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[l>>>5]|=128<<l%32,s[(l+64>>>9<<4)+14]=l;for(var h=a._ff,m=a._gg,y=a._hh,g=a._ii,f=0;f<s.length;f+=16){var v=c,_=u,C=d,E=p;c=h(c,u,d,p,s[f+0],7,-680876936),p=h(p,c,u,d,s[f+1],12,-389564586),d=h(d,p,c,u,s[f+2],17,606105819),u=h(u,d,p,c,s[f+3],22,-1044525330),c=h(c,u,d,p,s[f+4],7,-176418897),p=h(p,c,u,d,s[f+5],12,1200080426),d=h(d,p,c,u,s[f+6],17,-1473231341),u=h(u,d,p,c,s[f+7],22,-45705983),c=h(c,u,d,p,s[f+8],7,1770035416),p=h(p,c,u,d,s[f+9],12,-1958414417),d=h(d,p,c,u,s[f+10],17,-42063),u=h(u,d,p,c,s[f+11],22,-1990404162),c=h(c,u,d,p,s[f+12],7,1804603682),p=h(p,c,u,d,s[f+13],12,-40341101),d=h(d,p,c,u,s[f+14],17,-1502002290),u=h(u,d,p,c,s[f+15],22,1236535329),c=m(c,u,d,p,s[f+1],5,-165796510),p=m(p,c,u,d,s[f+6],9,-1069501632),d=m(d,p,c,u,s[f+11],14,643717713),u=m(u,d,p,c,s[f+0],20,-373897302),c=m(c,u,d,p,s[f+5],5,-701558691),p=m(p,c,u,d,s[f+10],9,38016083),d=m(d,p,c,u,s[f+15],14,-660478335),u=m(u,d,p,c,s[f+4],20,-405537848),c=m(c,u,d,p,s[f+9],5,568446438),p=m(p,c,u,d,s[f+14],9,-1019803690),d=m(d,p,c,u,s[f+3],14,-187363961),u=m(u,d,p,c,s[f+8],20,1163531501),c=m(c,u,d,p,s[f+13],5,-1444681467),p=m(p,c,u,d,s[f+2],9,-51403784),d=m(d,p,c,u,s[f+7],14,1735328473),u=m(u,d,p,c,s[f+12],20,-1926607734),c=y(c,u,d,p,s[f+5],4,-378558),p=y(p,c,u,d,s[f+8],11,-2022574463),d=y(d,p,c,u,s[f+11],16,1839030562),u=y(u,d,p,c,s[f+14],23,-35309556),c=y(c,u,d,p,s[f+1],4,-1530992060),p=y(p,c,u,d,s[f+4],11,1272893353),d=y(d,p,c,u,s[f+7],16,-155497632),u=y(u,d,p,c,s[f+10],23,-1094730640),c=y(c,u,d,p,s[f+13],4,681279174),p=y(p,c,u,d,s[f+0],11,-358537222),d=y(d,p,c,u,s[f+3],16,-722521979),u=y(u,d,p,c,s[f+6],23,76029189),c=y(c,u,d,p,s[f+9],4,-640364487),p=y(p,c,u,d,s[f+12],11,-421815835),d=y(d,p,c,u,s[f+15],16,530742520),u=y(u,d,p,c,s[f+2],23,-995338651),c=g(c,u,d,p,s[f+0],6,-198630844),p=g(p,c,u,d,s[f+7],10,1126891415),d=g(d,p,c,u,s[f+14],15,-1416354905),u=g(u,d,p,c,s[f+5],21,-57434055),c=g(c,u,d,p,s[f+12],6,1700485571),p=g(p,c,u,d,s[f+3],10,-1894986606),d=g(d,p,c,u,s[f+10],15,-1051523),u=g(u,d,p,c,s[f+1],21,-2054922799),c=g(c,u,d,p,s[f+8],6,1873313359),p=g(p,c,u,d,s[f+15],10,-30611744),d=g(d,p,c,u,s[f+6],15,-1560198380),u=g(u,d,p,c,s[f+13],21,1309151649),c=g(c,u,d,p,s[f+4],6,-145523070),p=g(p,c,u,d,s[f+11],10,-1120210379),d=g(d,p,c,u,s[f+2],15,718787259),u=g(u,d,p,c,s[f+9],21,-343485551),c=c+v>>>0,u=u+_>>>0,d=d+C>>>0,p=p+E>>>0}return i.endian([c,u,d,p])};a._ff=function(n,e,t,i,o,r,a){var s=n+(e&t|~e&i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},a._gg=function(n,e,t,i,o,r,a){var s=n+(e&i|t&~i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},a._hh=function(n,e,t,i,o,r,a){var s=n+(e^t^i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},a._ii=function(n,e,t,i,o,r,a){var s=n+(t^(e|~i))+(o>>>0)+a;return(s<<r|s>>>32-r)+e},a._blocksize=16,a._digestsize=16,n.exports=function(n,e){if("undefined"!=typeof n){var t=i.wordsToBytes(a(n,e));return e&&e.asBytes?t:e&&e.asString?r.bytesToString(t):i.bytesToHex(t)}}}()}).call(e,t(129).Buffer)},function(n,e){"use strict";function t(n,e){return n+e.charAt(0).toUpperCase()+e.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(n){o.forEach(function(e){i[t(e,n)]=i[n]})});var r={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:r};n.exports=a},function(n,e,t){(function(e){"use strict";var i=t(93),o=t(11),r=t(209),a=t(214),s=t(221),l=t(225),c=t(7),u=l(function(n){return s(n)}),d="cssFloat";if(o.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(d="styleFloat"),"production"!==e.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,f=/;\s*$/,h={},m={},y=function(n){h.hasOwnProperty(n)&&h[n]||(h[n]=!0,"production"!==e.env.NODE_ENV?c(!1,"Unsupported style property %s. Did you mean %s?",n,r(n)):null)},g=function(n){h.hasOwnProperty(n)&&h[n]||(h[n]=!0,"production"!==e.env.NODE_ENV?c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",n,n.charAt(0).toUpperCase()+n.slice(1)):null)},v=function(n,t){m.hasOwnProperty(t)&&m[t]||(m[t]=!0,"production"!==e.env.NODE_ENV?c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',n,t.replace(f,"")):null)},_=function(n,e){n.indexOf("-")>-1?y(n):p.test(n)?g(n):f.test(e)&&v(n,e)};var C={createMarkupForStyles:function(n){var t="";for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];"production"!==e.env.NODE_ENV&&_(i,o),null!=o&&(t+=u(i)+":",t+=a(i,o)+";")}return t||null},setValueForStyles:function(n,t){var o=n.style;for(var r in t)if(t.hasOwnProperty(r)){"production"!==e.env.NODE_ENV&&_(r,t[r]);var s=a(r,t[r]);if("float"===r&&(r=d),s)o[r]=s;else{var l=i.shorthandPropertyExpansions[r];if(l)for(var c in l)o[c]="";else o[r]=""}}}};n.exports=C}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(){if(s)for(var n in l){var t=l[n],i=s.indexOf(n);if("production"!==e.env.NODE_ENV?a(i>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",n):a(i>-1),!c.plugins[i]){"production"!==e.env.NODE_ENV?a(t.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",n):a(t.extractEvents),c.plugins[i]=t;var r=t.eventTypes;for(var u in r)"production"!==e.env.NODE_ENV?a(o(r[u],t,u),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",u,n):a(o(r[u],t,u))}}}function o(n,t,i){"production"!==e.env.NODE_ENV?a(!c.eventNameDispatchConfigs.hasOwnProperty(i),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):a(!c.eventNameDispatchConfigs.hasOwnProperty(i)),c.eventNameDispatchConfigs[i]=n;var o=n.phasedRegistrationNames;if(o){for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];r(l,t,i)}return!0}return n.registrationName?(r(n.registrationName,t,i),!0):!1}function r(n,t,i){"production"!==e.env.NODE_ENV?a(!c.registrationNameModules[n],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",n):a(!c.registrationNameModules[n]),c.registrationNameModules[n]=t,c.registrationNameDependencies[n]=t.eventTypes[i].dependencies}var a=t(2),s=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(n){"production"!==e.env.NODE_ENV?a(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):a(!s),s=Array.prototype.slice.call(n),i()},injectEventPluginsByName:function(n){var t=!1;for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];l.hasOwnProperty(o)&&l[o]===r||("production"!==e.env.NODE_ENV?a(!l[o],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):a(!l[o]),l[o]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(n){var e=n.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var t in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(t)){var i=c.registrationNameModules[e.phasedRegistrationNames[t]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var n in l)l.hasOwnProperty(n)&&delete l[n];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var t in e)e.hasOwnProperty(t)&&delete e[t];var i=c.registrationNameModules;for(var o in i)i.hasOwnProperty(o)&&delete i[o]}};n.exports=c}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e){this.forEachFunction=n,this.forEachContext=e}function o(n,e,t,i){var o=n;o.forEachFunction.call(o.forEachContext,e,i)}function r(n,e,t){if(null==n)return n;var r=i.getPooled(e,t);f(n,o,r),i.release(r)}function a(n,e,t){this.mapResult=n,this.mapFunction=e,this.mapContext=t}function s(n,t,i,o){var r=n,a=r.mapResult,s=!a.hasOwnProperty(i);if("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?h(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):null),s){var l=r.mapFunction.call(r.mapContext,t,o);a[i]=l}}function l(n,e,t){if(null==n)return n;var i={},o=a.getPooled(i,e,t);return f(n,s,o),a.release(o),p.create(i)}function c(n,e,t,i){return null}function u(n,e){return f(n,c,null)}var d=t(24),p=t(41),f=t(122),h=t(7),m=d.twoArgumentPooler,y=d.threeArgumentPooler;d.addPoolingTo(i,m),d.addPoolingTo(a,y);var g={forEach:r,map:l,count:u};n.exports=g}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e){this.props=n,this.context=e}var o=t(73),r=t(2),a=t(7);if(i.prototype.setState=function(n,t){"production"!==e.env.NODE_ENV?r("object"==typeof n||"function"==typeof n||null==n,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):r("object"==typeof n||"function"==typeof n||null==n),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?a(null!=n,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),o.enqueueSetState(this,n),t&&o.enqueueCallback(this,t)},i.prototype.forceUpdate=function(n){o.enqueueForceUpdate(this),n&&o.enqueueCallback(this,n)},"production"!==e.env.NODE_ENV){var s={getDOMNode:"getDOMNode",isMounted:"isMounted",replaceProps:"replaceProps",replaceState:"replaceState",setProps:"setProps"},l=function(n,t){try{Object.defineProperty(i.prototype,n,{get:function(){"production"!==e.env.NODE_ENV?a(!1,"%s(...) is deprecated in plain JavaScript React classes.",t):null}})}catch(o){}};for(var c in s)s.hasOwnProperty(c)&&l(c,s[c])}n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){var e=n._currentElement._owner||null;if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var o=t(68),r=t(69),a=t(26),s=t(6),l=t(46),c=t(35),u=t(71),d=t(55),p=t(28),f=t(72),h=t(56),m=t(42),y=t(17),g=t(5),v=t(59),_=t(2),C=t(82),E=t(7),P=1,A={construct:function(n){this._currentElement=n,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(n,t,i){this._context=i,this._mountOrder=P++,this._rootNodeID=n;var o=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),a=d.getComponentClassForElement(this._currentElement),s=new a(o,r);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(null!=s.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"):null),s.props=o,s.context=r,s.refs=v,this._instance=s,c.set(s,this),"production"!==e.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,i),"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E(!s.getInitialState||s.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!s.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E(!s.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==e.env.NODE_ENV?E("function"!=typeof s.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var l=s.state;void 0===l&&(s.state=l=null),"production"!==e.env.NODE_ENV?_("object"==typeof l&&!Array.isArray(l),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):_("object"==typeof l&&!Array.isArray(l)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,f=u.currentlyMountingInstance;u.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),p=this._renderValidatedComponent()}finally{u.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(p,this._currentElement.type);var h=m.mountComponent(this._renderedComponent,n,t,this._processChildContext(i));return s.componentDidMount&&t.getReactMountReady().enqueue(s.componentDidMount,s),h},unmountComponent:function(){var n=this._instance;if(n.componentWillUnmount){var e=u.currentlyUnmountingInstance;u.currentlyUnmountingInstance=this;try{n.componentWillUnmount()}finally{u.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,c.remove(n)},_setPropsInternal:function(n,e){var t=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(t,g({},t.props,n)),y.enqueueUpdate(this,e)},_maskContext:function(n){var e=null;if("string"==typeof this._currentElement.type)return v;var t=this._currentElement.type.contextTypes;if(!t)return v;e={};for(var i in t)e[i]=n[i];return e},_processContext:function(n){var t=this._maskContext(n);if("production"!==e.env.NODE_ENV){var i=d.getComponentClassForElement(this._currentElement);i.contextTypes&&this._checkPropTypes(i.contextTypes,t,f.context)}return t},_processChildContext:function(n){var t=this._instance,i=t.getChildContext&&t.getChildContext();if(i){"production"!==e.env.NODE_ENV?_("object"==typeof t.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):_("object"==typeof t.constructor.childContextTypes),"production"!==e.env.NODE_ENV&&this._checkPropTypes(t.constructor.childContextTypes,i,f.childContext);for(var o in i)"production"!==e.env.NODE_ENV?_(o in t.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o):_(o in t.constructor.childContextTypes);return g({},n,i)}return n},_processProps:function(n){if("production"!==e.env.NODE_ENV){var t=d.getComponentClassForElement(this._currentElement);t.propTypes&&this._checkPropTypes(t.propTypes,n,f.prop)}return n},_checkPropTypes:function(n,t,o){var r=this.getName();for(var a in n)if(n.hasOwnProperty(a)){var s;try{"production"!==e.env.NODE_ENV?_("function"==typeof n[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",h[o],a):_("function"==typeof n[a]),s=n[a](t,a,r,o)}catch(l){s=l}if(s instanceof Error){var c=i(this);o===f.prop?"production"!==e.env.NODE_ENV?E(!1,"Failed Composite propType: %s%s",s.message,c):null:"production"!==e.env.NODE_ENV?E(!1,"Failed Context Types: %s%s",s.message,c):null}}},receiveComponent:function(n,e,t){var i=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(e,i,n,o,t)},performUpdateIfNecessary:function(n){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,n,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==e.env.NODE_ENV&&l.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(n,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(n,t){n=this._maskContext(n),t=this._maskContext(t);for(var i=Object.keys(t).sort(),o=this.getName()||"ReactCompositeComponent",r=0;r<i.length;r++){var a=i[r];"production"!==e.env.NODE_ENV?E(n[a]===t[a],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",n[a],t[a],a,o):null}},updateComponent:function(n,t,i,o,r){var a=this._instance,s=a.context,l=a.props;t!==i&&(s=this._processContext(i._context),l=this._processProps(i.props),"production"!==e.env.NODE_ENV&&null!=r&&this._warnIfContextsDiffer(i._context,r),a.componentWillReceiveProps&&a.componentWillReceiveProps(l,s));var c=this._processPendingState(l,s),u=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(l,c,s);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?E("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,l,c,s,n,r)):(this._currentElement=i,this._context=r,a.props=l,a.state=c,a.context=s)},_processPendingState:function(n,e){var t=this._instance,i=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return t.state;for(var r=g({},o?i[0]:t.state),a=o?1:0;a<i.length;a++){var s=i[a];g(r,"function"==typeof s?s.call(t,r,n,e):s)}return r},_performComponentUpdate:function(n,e,t,i,o,r){var a=this._instance,s=a.props,l=a.state,c=a.context;a.componentWillUpdate&&a.componentWillUpdate(e,t,i),this._currentElement=n,this._context=r,a.props=e,a.state=t,a.context=i,this._updateRenderedComponent(o,r),a.componentDidUpdate&&o.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,l,c),a)},_updateRenderedComponent:function(n,e){var t=this._renderedComponent,i=t._currentElement,o=this._renderValidatedComponent();if(C(i,o))m.receiveComponent(t,o,n,this._processChildContext(e));else{var r=this._rootNodeID,a=t._rootNodeID;m.unmountComponent(t),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var s=m.mountComponent(this._renderedComponent,r,n,e);this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(n,e){o.replaceNodeWithMarkupByID(n,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var n=this._instance,t=n.render();return"production"!==e.env.NODE_ENV&&"undefined"==typeof t&&n.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var n,t=r.current;r.current=this._processChildContext(this._currentElement._context),a.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{r.current=t,a.current=null}return"production"!==e.env.NODE_ENV?_(null===n||n===!1||s.isValidElement(n),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):_(null===n||n===!1||s.isValidElement(n)),n},attachRef:function(n,e){var t=this.getPublicInstance(),i=t.refs===v?t.refs={}:t.refs;i[n]=e.getPublicInstance()},detachRef:function(n){var e=this.getPublicInstance().refs;delete e[n]},getName:function(){var n=this._currentElement.type,e=this._instance&&this._instance.constructor;return n.displayName||e&&e.displayName||n.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(A,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var x={Mixin:A};n.exports=x}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(94),o=t(152),r=t(45),a=t(8),s=t(28),l=t(2),c=t(81),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},d={updatePropertyByID:function(n,t,i){var o=a.getNode(n);"production"!==e.env.NODE_ENV?l(!u.hasOwnProperty(t),"updatePropertyByID(...): %s",u[t]):l(!u.hasOwnProperty(t)),null!=i?r.setValueForProperty(o,t,i):r.deleteValueForProperty(o,t)},deletePropertyByID:function(n,t,i){var o=a.getNode(n);"production"!==e.env.NODE_ENV?l(!u.hasOwnProperty(t),"updatePropertyByID(...): %s",u[t]):l(!u.hasOwnProperty(t)),r.deleteValueForProperty(o,t,i)},updateStylesByID:function(n,e){var t=a.getNode(n);i.setValueForStyles(t,e)},updateInnerHTMLByID:function(n,e){var t=a.getNode(n);c(t,e)},updateTextContentByID:function(n,e){var t=a.getNode(n);o.updateTextContent(t,e)},dangerouslyReplaceNodeWithMarkupByID:function(n,e){var t=a.getNode(n);o.dangerouslyReplaceNodeWithMarkup(t,e)},dangerouslyProcessChildrenUpdates:function(n,e){for(var t=0;t<n.length;t++)n[t].parentNode=a.getNode(n[t].parentID);o.processUpdates(n,e)}};s.measureMethods(d,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),n.exports=d}).call(e,t(1))},function(n,e,t){"use strict";var i=t(45),o=t(67),r=t(70),a=t(5),s=t(60),l=function(n){};a(l.prototype,{construct:function(n){this._currentElement=n,this._stringText=""+n,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(n,e,t){this._rootNodeID=n;var o=s(this._stringText);return e.renderToStaticMarkup?o:"<span "+i.createMarkupForID(n)+">"+o+"</span>"},receiveComponent:function(n,e){if(n!==this._currentElement){this._currentElement=n;var t=""+n;t!==this._stringText&&(this._stringText=t,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),n.exports=l},function(n,e,t){"use strict";function i(n){return Math.floor(100*n)/100}function o(n,e,t){n[e]=(n[e]||0)+t}var r=t(31),a=t(177),s=t(8),l=t(28),c=t(227),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(n){n=n||u._allMeasurements;var e=a.getExclusiveSummary(n);console.table(e.map(function(n){return{"Component class name":n.componentName,"Total inclusive time (ms)":i(n.inclusive),"Exclusive mount time (ms)":i(n.exclusive),"Exclusive render time (ms)":i(n.render),"Mount time per instance (ms)":i(n.exclusive/n.count),"Render time per instance (ms)":i(n.render/n.count),Instances:n.count}}))},printInclusive:function(n){n=n||u._allMeasurements;var e=a.getInclusiveSummary(n);console.table(e.map(function(n){return{"Owner > component":n.componentName,"Inclusive time (ms)":i(n.time),Instances:n.count}})),console.log("Total time:",a.getTotalTime(n).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(n){var e=a.getInclusiveSummary(n,!0);return e.map(function(n){return{"Owner > component":n.componentName,"Wasted time (ms)":n.time,Instances:n.count}})},printWasted:function(n){n=n||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(n)),console.log("Total time:",a.getTotalTime(n).toFixed(2)+" ms")},printDOM:function(n){n=n||u._allMeasurements;var e=a.getDOMSummary(n);console.table(e.map(function(n){var e={};return e[r.ID_ATTRIBUTE_NAME]=n.id,e.type=n.type,e.args=JSON.stringify(n.args),e})),console.log("Total time:",a.getTotalTime(n).toFixed(2)+" ms")},_recordWrite:function(n,e,t,i){var o=u._allMeasurements[u._allMeasurements.length-1].writes;o[n]=o[n]||[],o[n].push({type:e,time:t,args:i})},measure:function(n,e,t){return function(){for(var i=[],r=0,a=arguments.length;a>r;r++)i.push(arguments[r]);var l,d,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),
p=c(),d=t.apply(this,i),u._allMeasurements[u._allMeasurements.length-1].totalTime=c()-p,d;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===n){if(p=c(),d=t.apply(this,i),l=c()-p,"_mountImageIntoNode"===e){var f=s.getID(i[1]);u._recordWrite(f,e,l,i[0])}else"dangerouslyProcessChildrenUpdates"===e?i[0].forEach(function(n){var e={};null!==n.fromIndex&&(e.fromIndex=n.fromIndex),null!==n.toIndex&&(e.toIndex=n.toIndex),null!==n.textContent&&(e.textContent=n.textContent),null!==n.markupIndex&&(e.markup=i[1][n.markupIndex]),u._recordWrite(n.parentID,n.type,l,e)}):u._recordWrite(i[0],e,l,Array.prototype.slice.call(i,1));return d}if("ReactCompositeComponent"!==n||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return t.apply(this,i);if("string"==typeof this._currentElement.type)return t.apply(this,i);var h="mountComponent"===e?i[0]:this._rootNodeID,m="_renderValidatedComponent"===e,y="mountComponent"===e,g=u._mountStack,v=u._allMeasurements[u._allMeasurements.length-1];if(m?o(v.counts,h,1):y&&g.push(0),p=c(),d=t.apply(this,i),l=c()-p,m)o(v.render,h,l);else if(y){var _=g.pop();g[g.length-1]+=l,o(v.exclusive,h,l-_),o(v.inclusive,h,l)}else o(v.inclusive,h,l);return v.displayNames[h]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},d}}};n.exports=u},function(n,e,t){"use strict";function i(n){return r(document.documentElement,n)}var o=t(173),r=t(111),a=t(113),s=t(114),l={hasSelectionCapabilities:function(n){return n&&("INPUT"===n.nodeName&&"text"===n.type||"TEXTAREA"===n.nodeName||"true"===n.contentEditable)},getSelectionInformation:function(){var n=s();return{focusedElem:n,selectionRange:l.hasSelectionCapabilities(n)?l.getSelection(n):null}},restoreSelection:function(n){var e=s(),t=n.focusedElem,o=n.selectionRange;e!==t&&i(t)&&(l.hasSelectionCapabilities(t)&&l.setSelection(t,o),a(t))},getSelection:function(n){var e;if("selectionStart"in n)e={start:n.selectionStart,end:n.selectionEnd};else if(document.selection&&"INPUT"===n.nodeName){var t=document.selection.createRange();t.parentElement()===n&&(e={start:-t.moveStart("character",-n.value.length),end:-t.moveEnd("character",-n.value.length)})}else e=o.getOffsets(n);return e||{start:0,end:0}},setSelection:function(n,e){var t=e.start,i=e.end;if("undefined"==typeof i&&(i=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(i,n.value.length);else if(document.selection&&"INPUT"===n.nodeName){var r=n.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",i-t),r.select()}else o.setOffsets(n,e)}};n.exports=l},function(n,e,t){"use strict";var i=t(207),o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(n){var e=i(n);return n.replace(">"," "+o.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(n,e){var t=e.getAttribute(o.CHECKSUM_ATTR_NAME);t=t&&parseInt(t,10);var r=i(n);return r===t}};n.exports=o},function(n,e,t){"use strict";var i=t(48),o=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});n.exports=o},function(n,e,t){"use strict";function i(n){function e(e,t,i,o,r){if(o=o||E,null==t[i]){var a=_[r];return e?new Error("Required "+a+" `"+i+"` was not specified in "+("`"+o+"`.")):null}return n(t,i,o,r)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function o(n){function e(e,t,i,o){var r=e[t],a=m(r);if(a!==n){var s=_[o],l=y(r);return new Error("Invalid "+s+" `"+t+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `"+n+"`."))}return null}return i(e)}function r(){return i(C.thatReturns(null))}function a(n){function e(e,t,i,o){var r=e[t];if(!Array.isArray(r)){var a=_[o],s=m(r);return new Error("Invalid "+a+" `"+t+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an array."))}for(var l=0;l<r.length;l++){var c=n(r,l,i,o);if(c instanceof Error)return c}return null}return i(e)}function s(){function n(n,e,t,i){if(!g.isValidElement(n[e])){var o=_[i];return new Error("Invalid "+o+" `"+e+"` supplied to "+("`"+t+"`, expected a ReactElement."))}return null}return i(n)}function l(n){function e(e,t,i,o){if(!(e[t]instanceof n)){var r=_[o],a=n.name||E;return new Error("Invalid "+r+" `"+t+"` supplied to "+("`"+i+"`, expected instance of `"+a+"`."))}return null}return i(e)}function c(n){function e(e,t,i,o){for(var r=e[t],a=0;a<n.length;a++)if(r===n[a])return null;var s=_[o],l=JSON.stringify(n);return new Error("Invalid "+s+" `"+t+"` of value `"+r+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return i(e)}function u(n){function e(e,t,i,o){var r=e[t],a=m(r);if("object"!==a){var s=_[o];return new Error("Invalid "+s+" `"+t+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an object."))}for(var l in r)if(r.hasOwnProperty(l)){var c=n(r,l,i,o);if(c instanceof Error)return c}return null}return i(e)}function d(n){function e(e,t,i,o){for(var r=0;r<n.length;r++){var a=n[r];if(null==a(e,t,i,o))return null}var s=_[o];return new Error("Invalid "+s+" `"+t+"` supplied to "+("`"+i+"`."))}return i(e)}function p(){function n(n,e,t,i){if(!h(n[e])){var o=_[i];return new Error("Invalid "+o+" `"+e+"` supplied to "+("`"+t+"`, expected a ReactNode."))}return null}return i(n)}function f(n){function e(e,t,i,o){var r=e[t],a=m(r);if("object"!==a){var s=_[o];return new Error("Invalid "+s+" `"+t+"` of type `"+a+"` "+("supplied to `"+i+"`, expected `object`."))}for(var l in n){var c=n[l];if(c){var u=c(r,l,i,o);if(u)return u}}return null}return i(e)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||g.isValidElement(n))return!0;n=v.extractIfFragment(n);for(var e in n)if(!h(n[e]))return!1;return!0;default:return!1}}function m(n){var e=typeof n;return Array.isArray(n)?"array":n instanceof RegExp?"object":e}function y(n){var e=m(n);if("object"===e){if(n instanceof Date)return"date";if(n instanceof RegExp)return"regexp"}return e}var g=t(6),v=t(41),_=t(56),C=t(19),E="<<anonymous>>",P=s(),A=p(),x={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:r(),arrayOf:a,element:P,instanceOf:l,node:A,objectOf:u,oneOf:c,oneOfType:d,shape:f};n.exports=x},function(n,e,t){"use strict";function i(){this.listenersToPut=[]}var o=t(24),r=t(33),a=t(5);a(i.prototype,{enqueuePutListener:function(n,e,t){this.listenersToPut.push({rootNodeID:n,propKey:e,propValue:t})},putListeners:function(){for(var n=0;n<this.listenersToPut.length;n++){var e=this.listenersToPut[n];r.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),o.addPoolingTo(i),n.exports=i},function(n,e){"use strict";var t={injectCreateReactRootIndex:function(n){i.createReactRootIndex=n}},i={createReactRootIndex:null,injection:t};n.exports=i},function(n,e,t){"use strict";var i=t(32),o=t(192),r=t(5),a=t(110),s=t(19),l=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var n=this.state.children;for(var e in n)n[e]&&this.performAppear(e)},componentWillReceiveProps:function(n){var e=o.getChildMapping(n.children),t=this.state.children;this.setState({children:o.mergeChildMappings(t,e)});var i;for(i in e){var r=t&&t.hasOwnProperty(i);!e[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in t){var a=e&&e.hasOwnProperty(i);!t[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentDidUpdate:function(){var n=this.keysToEnter;this.keysToEnter=[],n.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(n){this.currentlyTransitioningKeys[n]=!0;var e=this.refs[n];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,n)):this._handleDoneAppearing(n)},_handleDoneAppearing:function(n){var e=this.refs[n];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[n];var t=o.getChildMapping(this.props.children);t&&t.hasOwnProperty(n)||this.performLeave(n)},performEnter:function(n){this.currentlyTransitioningKeys[n]=!0;var e=this.refs[n];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,n)):this._handleDoneEntering(n)},_handleDoneEntering:function(n){var e=this.refs[n];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[n];var t=o.getChildMapping(this.props.children);t&&t.hasOwnProperty(n)||this.performLeave(n)},performLeave:function(n){this.currentlyTransitioningKeys[n]=!0;var e=this.refs[n];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,n)):this._handleDoneLeaving(n)},_handleDoneLeaving:function(n){var e=this.refs[n];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[n];var t=o.getChildMapping(this.props.children);if(t&&t.hasOwnProperty(n))this.performEnter(n);else{var i=r({},this.state.children);delete i[n],this.setState({children:i})}},render:function(){var n=[];for(var e in this.state.children){var t=this.state.children[e];t&&n.push(a(this.props.childFactory(t),{ref:e,key:e}))}return i.createElement(this.props.component,this.props,n)}});n.exports=l},function(n,e){"use strict";var t={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(n){t.currentScrollLeft=n.x,t.currentScrollTop=n.y}};n.exports=t},function(n,e,t){(function(e){"use strict";function i(n,t){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?s(!n.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent."):null);var i=r.mergeProps(t,n.props);return!i.hasOwnProperty(l)&&n.props.hasOwnProperty(l)&&(i.children=n.props.children),o.createElement(n.type,i)}var o=t(6),r=t(185),a=t(20),s=t(7),l=a({children:null});n.exports=i}).call(e,t(1))},function(n,e,t){function i(n,e){return n&&e?n===e?!0:o(n)?!1:o(e)?i(n,e.parentNode):n.contains?n.contains(e):n.compareDocumentPosition?!!(16&n.compareDocumentPosition(e)):!1:!1}var o=t(222);n.exports=i},function(n,e,t){(function(e){"use strict";function i(n){if("production"!==e.env.NODE_ENV){var t=o.current;null!==t&&("production"!==e.env.NODE_ENV?c(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"):null,t._warnedAboutRefsInRender=!0)}return null==n?null:l(n)?n:r.has(n)?a.getNodeFromInstance(n):("production"!==e.env.NODE_ENV?s(null==n.render||"function"!=typeof n.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(n)):s(null==n.render||"function"!=typeof n.render),void("production"!==e.env.NODE_ENV?s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(n)):s(!1)))}var o=t(26),r=t(35),a=t(8),s=t(2),l=t(118),c=t(7);n.exports=i}).call(e,t(1))},function(n,e){"use strict";function t(n){try{n.focus()}catch(e){}}n.exports=t},function(n,e){function t(){try{return document.activeElement||document.body}catch(n){return document.body}}n.exports=t},function(n,e){"use strict";function t(n){var e=n&&(i&&n[i]||n[o]);return"function"==typeof e?e:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";n.exports=t},function(n,e,t){(function(e){function i(n){return"production"!==e.env.NODE_ENV?r(!!a,"Markup wrapping node not initialized"):r(!!a),p.hasOwnProperty(n)||(n="*"),s.hasOwnProperty(n)||("*"===n?a.innerHTML="<link />":a.innerHTML="<"+n+"></"+n+">",s[n]=!a.firstChild),s[n]?p[n]:null}var o=t(11),r=t(2),a=o.canUseDOM?document.createElement("div"):null,s={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u,circle:d,defs:d,ellipse:d,g:d,line:d,linearGradient:d,path:d,polygon:d,polyline:d,radialGradient:d,rect:d,stop:d,text:d};n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(){return!r&&o.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var o=t(11),r=null;n.exports=i},function(n,e){function t(n){return!(!n||!("function"==typeof Node?n instanceof Node:"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName))}n.exports=t},function(n,e){"use strict";function t(n){return n&&("INPUT"===n.nodeName&&i[n.type]||"TEXTAREA"===n.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};n.exports=t},function(n,e,t){(function(e){"use strict";function i(n){return"production"!==e.env.NODE_ENV?r(o.isValidElement(n),"onlyChild must be passed a children with exactly one child."):r(o.isValidElement(n)),n}var o=t(6),r=t(2);n.exports=i}).call(e,t(1))},function(n,e){"use strict";function t(n,e){if(n===e)return!0;var t;for(t in n)if(n.hasOwnProperty(t)&&(!e.hasOwnProperty(t)||n[t]!==e[t]))return!1;for(t in e)if(e.hasOwnProperty(t)&&!n.hasOwnProperty(t))return!1;return!0}n.exports=t},function(n,e,t){(function(e){"use strict";function i(n){return g[n]}function o(n,e){return n&&null!=n.key?a(n.key):e.toString(36)}function r(n){return(""+n).replace(v,i)}function a(n){return"$"+r(n)}function s(n,t,i,r,l){var d=typeof n;if(("undefined"===d||"boolean"===d)&&(n=null),null===n||"string"===d||"number"===d||c.isValidElement(n))return r(l,n,""===t?m+o(n,0):t,i),1;var g,v,C,E=0;if(Array.isArray(n))for(var P=0;P<n.length;P++)g=n[P],v=(""!==t?t+y:m)+o(g,P),C=i+E,E+=s(g,v,C,r,l);else{var A=p(n);if(A){var x,N=A.call(n);if(A!==n.entries)for(var b=0;!(x=N.next()).done;)g=x.value,v=(""!==t?t+y:m)+o(g,b++),C=i+E,E+=s(g,v,C,r,l);else for("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?h(_,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,_=!0);!(x=N.next()).done;){var T=x.value;T&&(g=T[1],v=(""!==t?t+y:m)+a(T[0])+y+o(g,0),C=i+E,E+=s(g,v,C,r,l))}}else if("object"===d){"production"!==e.env.NODE_ENV?f(1!==n.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):f(1!==n.nodeType);var M=u.extract(n);for(var S in M)M.hasOwnProperty(S)&&(g=M[S],v=(""!==t?t+y:m)+a(S)+y+o(g,0),C=i+E,E+=s(g,v,C,r,l))}}return E}function l(n,e,t){return null==n?0:s(n,"",0,e,t)}var c=t(6),u=t(41),d=t(34),p=t(115),f=t(2),h=t(7),m=d.SEPARATOR,y=":",g={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g,_=!1;n.exports=l}).call(e,t(1))},function(n,e,t){var i=t(13),o=t(125).instanceJoinCreator,r=function(n){for(var e,t=0,i={};t<(n.children||[]).length;++t)e=n.children[t],n[e]&&(i[e]=n[e]);return i},a=function(n){var e={};for(var t in n){var o=n[t],s=r(o),l=a(s);e[t]=o;for(var c in l){var u=l[c];e[t+i.capitalize(c)]=u}}return e};n.exports={hasListener:function(n){for(var e,t,i,o=0;o<(this.subscriptions||[]).length;++o)for(i=[].concat(this.subscriptions[o].listenable),e=0;e<i.length;e++)if(t=i[e],t===n||t.hasListener&&t.hasListener(n))return!0;return!1},listenToMany:function(n){var e=a(n);for(var t in e){var o=i.callbackName(t),r=this[o]?o:this[t]?t:void 0;r&&this.listenTo(e[t],r,this[o+"Default"]||this[r+"Default"]||r)}},validateListening:function(n){return n===this?"Listener is not able to listen to itself":i.isFunction(n.listen)?n.hasListener&&n.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:n+" is missing a listen method"},listenTo:function(n,e,t){var o,r,a,s=this.subscriptions=this.subscriptions||[];return i.throwIf(this.validateListening(n)),this.fetchInitialState(n,t),o=n.listen(this[e]||e,this),r=function(){var n=s.indexOf(a);i.throwIf(-1===n,"Tried to remove listen already gone from subscriptions list!"),s.splice(n,1),o()},a={stop:r,listenable:n},s.push(a),a},stopListeningTo:function(n){for(var e,t=0,o=this.subscriptions||[];t<o.length;t++)if(e=o[t],e.listenable===n)return e.stop(),i.throwIf(-1!==o.indexOf(e),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var n,e=this.subscriptions||[];n=e.length;)e[0].stop(),i.throwIf(e.length!==n-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(n,e){e=e&&this[e]||e;var t=this;if(i.isFunction(e)&&i.isFunction(n.getInitialState)){var o=n.getInitialState();o&&i.isFunction(o.then)?o.then(function(){e.apply(t,arguments)}):e.call(this,o)}},joinTrailing:o("last"),joinLeading:o("first"),joinConcat:o("all"),joinStrict:o("strict")}},function(n,e,t){var i=t(13),o=t(36),r=t(83),a=t(242),s={preEmit:1,shouldEmit:1},l=t(236);n.exports=function(n){function e(){var e,t=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",l(this,n),this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);t<e.length;t++)this.listenToMany(e[t])}n=n||{};for(var t in o.StoreMethods)if(!s[t]&&(o.PublisherMethods[t]||o.ListenerMethods[t]))throw new Error("Cannot override API method "+t+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var c in n)if(!s[c]&&(o.PublisherMethods[c]||o.ListenerMethods[c]))throw new Error("Cannot override API method "+c+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");n=a(n),i.extend(e.prototype,o.ListenerMethods,o.PublisherMethods,o.StoreMethods,n);var u=new e;return r.createdStores.push(u),u}},function(n,e,t){function i(n,e,t){return function(){var i,o=t.subscriptions,r=o?o.indexOf(n):-1;for(l.throwIf(-1===r,"Tried to remove join already gone from subscriptions list!"),i=0;i<e.length;i++)e[i]();o.splice(r,1)}}function o(n){n.listenablesEmitted=new Array(n.numberOfListenables),n.args=new Array(n.numberOfListenables)}function r(n,e){return function(){var t=s.call(arguments);if(e.listenablesEmitted[n])switch(e.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":e.args[n]=t;break;case"all":e.args[n].push(t)}else e.listenablesEmitted[n]=!0,e.args[n]="all"===e.strategy?[t]:t;a(e)}}function a(n){for(var e=0;e<n.numberOfListenables;e++)if(!n.listenablesEmitted[e])return;n.callback.apply(n.listener,n.args),o(n)}var s=Array.prototype.slice,l=t(13),c=t(124),u={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};e.staticJoinCreator=function(n){return function(){var e=s.call(arguments);return c({init:function(){this[u[n]].apply(this,e.concat("triggerAsync"))}})}},e.instanceJoinCreator=function(n){return function(){l.throwIf(arguments.length<3,"Cannot create a join with less than 2 listenables!");var e,t,a=s.call(arguments),c=a.pop(),u=a.length,d={numberOfListenables:u,callback:this[c]||c,listener:this,strategy:n},p=[];for(e=0;u>e;e++)l.throwIf(this.validateListening(a[e]));for(e=0;u>e;e++)p.push(a[e].listen(r(e,d),this));return o(d),t={listenable:a},t.stop=i(t,p,this),this.subscriptions=(this.subscriptions||[]).concat(t),t}}},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a);e["default"]={createErrors:function(){return"true"===this.props.questionRequired&&0===(0,s["default"])(r["default"].findDOMNode(this)).find("input:checked").length?(this.setState({errors:["Please select an answer."]}),!1):(this.setState({errors:[]}),!0)},validate:function(){return this.createErrors()},renderQuestionExplanation:function(n){return this.props.questionIsDisabled&&0!==n.choiceExplanation.length?r["default"].createElement("div",{className:"qna-question-explanation"},n.choiceExplanation):null}},n.exports=e["default"]},function(n,e){var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(255&n.charCodeAt(t));return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};n.exports=t},function(n,e,t){var i;(function(o,r){/*! Native Promise Only
	    v0.8.1 (c) Kyle Simpson
	    MIT License: http://getify.mit-license.org
	*/
!function(o,r,a){r[o]=r[o]||a(),"undefined"!=typeof n&&n.exports?n.exports=r[o]:(i=function(){return r[o]}.call(e,t,e,n),!(void 0!==i&&(n.exports=i)))}("Promise","undefined"!=typeof o?o:this,function(){"use strict";function n(n,e){f.add(n,e),p||(p=m(f.drain))}function e(n){var e,t=typeof n;return null==n||"object"!=t&&"function"!=t||(e=n.then),"function"==typeof e?e:!1}function t(){for(var n=0;n<this.chain.length;n++)i(this,1===this.state?this.chain[n].success:this.chain[n].failure,this.chain[n]);this.chain.length=0}function i(n,t,i){var o,r;try{t===!1?i.reject(n.msg):(o=t===!0?n.msg:t.call(void 0,n.msg),o===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=e(o))?r.call(o,i.resolve,i.reject):i.resolve(o))}catch(a){i.reject(a)}}function o(i){var r,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(r=e(i))?n(function(){var n=new l(s);try{r.call(i,function(){o.apply(n,arguments)},function(){a.apply(n,arguments)})}catch(e){a.call(n,e)}}):(s.msg=i,s.state=1,s.chain.length>0&&n(t,s))}catch(c){a.call(new l(s),c)}}}function a(e){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=e,i.state=2,i.chain.length>0&&n(t,i))}function s(n,e,t,i){for(var o=0;o<e.length;o++)!function(o){n.resolve(e[o]).then(function(n){t(o,n)},i)}(o)}function l(n){this.def=n,this.triggered=!1}function c(n){this.promise=n,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new c(this);this.then=function(e,o){var r={success:"function"==typeof e?e:!0,failure:"function"==typeof o?o:!1};return r.promise=new this.constructor(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");r.resolve=n,r.reject=e}),i.chain.push(r),0!==i.state&&n(t,i),r.promise},this["catch"]=function(n){return this.then(void 0,n)};try{e.call(void 0,function(n){o.call(i,n)},function(n){a.call(i,n)})}catch(r){a.call(i,r)}}var d,p,f,h=Object.prototype.toString,m="undefined"!=typeof r?function(n){return r(n)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(n,e,t,i){return Object.defineProperty(n,e,{value:t,writable:!0,configurable:i!==!1})}}catch(y){d=function(n,e,t){return n[e]=t,n}}f=function(){function n(n,e){this.fn=n,this.self=e,this.next=void 0}var e,t,i;return{add:function(o,r){i=new n(o,r),t?t.next=i:e=i,t=i,i=void 0},drain:function(){var n=e;for(e=t=p=void 0;n;)n.fn.call(n.self),n=n.next}}}();var g=d({},"constructor",u,!1);return u.prototype=g,d(g,"__NPO__",0,!1),d(u,"resolve",function(n){var e=this;return n&&"object"==typeof n&&1===n.__NPO__?n:new e(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)})}),d(u,"reject",function(n){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)})}),d(u,"all",function(n){var e=this;return"[object Array]"!=h.call(n)?e.reject(TypeError("Not an array")):0===n.length?e.resolve([]):new e(function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");var o=n.length,r=Array(o),a=0;s(e,n,function(n,e){r[n]=e,++a===o&&t(r)},i)})}),d(u,"race",function(n){var e=this;return"[object Array]"!=h.call(n)?e.reject(TypeError("Not an array")):new e(function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");s(e,n,function(n,e){t(e)},i)})}),u})}).call(e,function(){return this}(),t(86).setImmediate)},function(n,e,t){(function(n,i){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function n(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=n,42===e.foo()&&e.constructor===n&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function r(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e){return this instanceof n?(n.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new n(e,arguments[1]):new n(e)}function a(e,t){if(e=m(e,0>t?0:0|y(t)),!n.TYPED_ARRAY_SUPPORT)for(var i=0;t>i;i++)e[i]=0;return e}function s(n,e,t){("string"!=typeof t||""===t)&&(t="utf8");var i=0|v(e,t);return n=m(n,i),n.write(e,t),n}function l(e,t){if(n.isBuffer(t))return c(e,t);if(Q(t))return u(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return d(e,t);if(t instanceof ArrayBuffer)return p(e,t)}return t.length?f(e,t):h(e,t)}function c(n,e){var t=0|y(e.length);return n=m(n,t),e.copy(n,0,0,t),n}function u(n,e){var t=0|y(e.length);n=m(n,t);for(var i=0;t>i;i+=1)n[i]=255&e[i];return n}function d(n,e){var t=0|y(e.length);n=m(n,t);for(var i=0;t>i;i+=1)n[i]=255&e[i];return n}function p(e,t){return n.TYPED_ARRAY_SUPPORT?(t.byteLength,e=n._augment(new Uint8Array(t))):e=d(e,new Uint8Array(t)),e}function f(n,e){var t=0|y(e.length);n=m(n,t);for(var i=0;t>i;i+=1)n[i]=255&e[i];return n}function h(n,e){var t,i=0;"Buffer"===e.type&&Q(e.data)&&(t=e.data,i=0|y(t.length)),n=m(n,i);for(var o=0;i>o;o+=1)n[o]=255&t[o];return n}function m(e,t){n.TYPED_ARRAY_SUPPORT?(e=n._augment(new Uint8Array(t)),e.__proto__=n.prototype):(e.length=t,e._isBuffer=!0);var i=0!==t&&t<=n.poolSize>>>1;return i&&(e.parent=$),e}function y(n){if(n>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|n}function g(e,t){if(!(this instanceof g))return new g(e,t);var i=new n(e,t);return delete i.parent,i}function v(n,e){"string"!=typeof n&&(n=""+n);var t=n.length;if(0===t)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return t;case"utf8":case"utf-8":return G(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return z(n).length;default:if(i)return G(n).length;e=(""+e).toLowerCase(),i=!0}}function _(n,e,t){var i=!1;if(e=0|e,t=void 0===t||t===1/0?this.length:0|t,n||(n="utf8"),0>e&&(e=0),t>this.length&&(t=this.length),e>=t)return"";for(;;)switch(n){case"hex":return I(this,e,t);case"utf8":case"utf-8":return T(this,e,t);case"ascii":return S(this,e,t);case"binary":return k(this,e,t);case"base64":return b(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}function C(n,e,t,i){t=Number(t)||0;var o=n.length-t;i?(i=Number(i),i>o&&(i=o)):i=o;var r=e.length;if(r%2!==0)throw new Error("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;i>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");n[t+a]=s}return a}function E(n,e,t,i){return Y(G(e,n.length-t),n,t,i)}function P(n,e,t,i){return Y(W(e),n,t,i)}function A(n,e,t,i){return P(n,e,t,i)}function x(n,e,t,i){return Y(z(e),n,t,i)}function N(n,e,t,i){return Y(q(e,n.length-t),n,t,i)}function b(n,e,t){return 0===e&&t===n.length?K.fromByteArray(n):K.fromByteArray(n.slice(e,t))}function T(n,e,t){t=Math.min(n.length,t);for(var i=[],o=e;t>o;){var r=n[o],a=null,s=r>239?4:r>223?3:r>191?2:1;if(t>=o+s){var l,c,u,d;switch(s){case 1:128>r&&(a=r);break;case 2:l=n[o+1],128===(192&l)&&(d=(31&r)<<6|63&l,d>127&&(a=d));break;case 3:l=n[o+1],c=n[o+2],128===(192&l)&&128===(192&c)&&(d=(15&r)<<12|(63&l)<<6|63&c,d>2047&&(55296>d||d>57343)&&(a=d));break;case 4:l=n[o+1],c=n[o+2],u=n[o+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&r)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&1114112>d&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),o+=s}return M(i)}function M(n){var e=n.length;if(J>=e)return String.fromCharCode.apply(String,n);for(var t="",i=0;e>i;)t+=String.fromCharCode.apply(String,n.slice(i,i+=J));return t}function S(n,e,t){var i="";t=Math.min(n.length,t);for(var o=e;t>o;o++)i+=String.fromCharCode(127&n[o]);return i}function k(n,e,t){var i="";t=Math.min(n.length,t);for(var o=e;t>o;o++)i+=String.fromCharCode(n[o]);return i}function I(n,e,t){var i=n.length;(!e||0>e)&&(e=0),(!t||0>t||t>i)&&(t=i);for(var o="",r=e;t>r;r++)o+=j(n[r]);return o}function w(n,e,t){for(var i=n.slice(e,t),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function D(n,e,t){if(n%1!==0||0>n)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,i,o,r,a){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>r||a>t)throw new RangeError("value is out of bounds");if(i+o>e.length)throw new RangeError("index out of range")}function R(n,e,t,i){0>e&&(e=65535+e+1);for(var o=0,r=Math.min(n.length-t,2);r>o;o++)n[t+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function L(n,e,t,i){0>e&&(e=4294967295+e+1);for(var o=0,r=Math.min(n.length-t,4);r>o;o++)n[t+o]=e>>>8*(i?o:3-o)&255}function V(n,e,t,i,o,r){if(e>o||r>e)throw new RangeError("value is out of bounds");if(t+i>n.length)throw new RangeError("index out of range");if(0>t)throw new RangeError("index out of range")}function U(n,e,t,i,o){return o||V(n,e,t,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(n,e,t,i,23,4),t+4}function F(n,e,t,i,o){return o||V(n,e,t,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(n,e,t,i,52,8),t+8}function H(n){if(n=B(n).replace(nn,""),n.length<2)return"";for(;n.length%4!==0;)n+="=";return n}function B(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function j(n){return 16>n?"0"+n.toString(16):n.toString(16)}function G(n,e){e=e||1/0;for(var t,i=n.length,o=null,r=[],a=0;i>a;a++){if(t=n.charCodeAt(a),t>55295&&57344>t){if(!o){if(t>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=t;continue}if(56320>t){(e-=3)>-1&&r.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,128>t){if((e-=1)<0)break;r.push(t)}else if(2048>t){if((e-=2)<0)break;r.push(t>>6|192,63&t|128)}else if(65536>t){if((e-=3)<0)break;r.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(1114112>t))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return r}function W(n){for(var e=[],t=0;t<n.length;t++)e.push(255&n.charCodeAt(t));return e}function q(n,e){for(var t,i,o,r=[],a=0;a<n.length&&!((e-=2)<0);a++)t=n.charCodeAt(a),i=t>>8,o=t%256,r.push(o),r.push(i);return r}function z(n){return K.toByteArray(H(n))}function Y(n,e,t,i){for(var o=0;i>o&&!(o+t>=e.length||o>=n.length);o++)e[o+t]=n[o];return o}var K=t(260),X=t(261),Q=t(262);e.Buffer=n,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,n.poolSize=8192;var $={};n.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:o(),n.TYPED_ARRAY_SUPPORT?(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array):(n.prototype.length=void 0,n.prototype.parent=void 0),n.isBuffer=function(n){return!(null==n||!n._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,o=t.length,r=0,a=Math.min(i,o);a>r&&e[r]===t[r];)++r;return r!==a&&(i=e[r],o=t[r]),o>i?-1:i>o?1:0},n.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new n(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;i++)t+=e[i].length;var o=new n(t),r=0;for(i=0;i<e.length;i++){var a=e[i];a.copy(o,r),r+=a.length}return o},n.byteLength=v,n.prototype.toString=function(){var n=0|this.length;return 0===n?"":0===arguments.length?T(this,0,n):_.apply(this,arguments)},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===n.compare(this,e)},n.prototype.inspect=function(){var n="",t=e.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(n+=" ... ")),"<Buffer "+n+">"},n.prototype.compare=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:n.compare(this,e)},n.prototype.indexOf=function(e,t){function i(n,e,t){for(var i=-1,o=0;t+o<n.length;o++)if(n[t+o]===e[-1===i?0:o-i]){if(-1===i&&(i=o),o-i+1===e.length)return t+i}else i=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(n.isBuffer(e))return i(this,e,t);if("number"==typeof e)return n.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):i(this,[e],t);throw new TypeError("val must be string, number or Buffer")},n.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)},n.prototype.set=function(n,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,e)},n.prototype.write=function(n,e,t,i){if(void 0===e)i="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)i=e,t=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(t)?(t=0|t,void 0===i&&(i="utf8")):(i=t,t=void 0);else{var o=i;i=e,e=0|t,t=o}var r=this.length-e;if((void 0===t||t>r)&&(t=r),n.length>0&&(0>t||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return C(this,n,e,t);case"utf8":case"utf-8":return E(this,n,e,t);case"ascii":return P(this,n,e,t);case"binary":return A(this,n,e,t);case"base64":return x(this,n,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,n,e,t);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;n.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,0>e?(e+=i,0>e&&(e=0)):e>i&&(e=i),0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),e>t&&(t=e);var o;if(n.TYPED_ARRAY_SUPPORT)o=n._augment(this.subarray(e,t));else{var r=t-e;o=new n(r,void 0);for(var a=0;r>a;a++)o[a]=this[a+e]}return o.length&&(o.parent=this.parent||this),o},n.prototype.readUIntLE=function(n,e,t){n=0|n,e=0|e,t||D(n,e,this.length);for(var i=this[n],o=1,r=0;++r<e&&(o*=256);)i+=this[n+r]*o;return i},n.prototype.readUIntBE=function(n,e,t){n=0|n,e=0|e,t||D(n,e,this.length);for(var i=this[n+--e],o=1;e>0&&(o*=256);)i+=this[n+--e]*o;return i},n.prototype.readUInt8=function(n,e){return e||D(n,1,this.length),this[n]},n.prototype.readUInt16LE=function(n,e){return e||D(n,2,this.length),this[n]|this[n+1]<<8},n.prototype.readUInt16BE=function(n,e){return e||D(n,2,this.length),this[n]<<8|this[n+1]},n.prototype.readUInt32LE=function(n,e){return e||D(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},n.prototype.readUInt32BE=function(n,e){return e||D(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},n.prototype.readIntLE=function(n,e,t){n=0|n,e=0|e,t||D(n,e,this.length);for(var i=this[n],o=1,r=0;++r<e&&(o*=256);)i+=this[n+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},n.prototype.readIntBE=function(n,e,t){n=0|n,e=0|e,t||D(n,e,this.length);for(var i=e,o=1,r=this[n+--i];i>0&&(o*=256);)r+=this[n+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},n.prototype.readInt8=function(n,e){return e||D(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},n.prototype.readInt16LE=function(n,e){e||D(n,2,this.length);var t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},n.prototype.readInt16BE=function(n,e){e||D(n,2,this.length);var t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},n.prototype.readInt32LE=function(n,e){return e||D(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},n.prototype.readInt32BE=function(n,e){return e||D(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},n.prototype.readFloatLE=function(n,e){return e||D(n,4,this.length),X.read(this,n,!0,23,4)},n.prototype.readFloatBE=function(n,e){return e||D(n,4,this.length),X.read(this,n,!1,23,4)},n.prototype.readDoubleLE=function(n,e){return e||D(n,8,this.length),X.read(this,n,!0,52,8)},n.prototype.readDoubleBE=function(n,e){return e||D(n,8,this.length),X.read(this,n,!1,52,8)},n.prototype.writeUIntLE=function(n,e,t,i){n=+n,e=0|e,t=0|t,i||O(this,n,e,t,Math.pow(2,8*t),0);var o=1,r=0;for(this[e]=255&n;++r<t&&(o*=256);)this[e+r]=n/o&255;return e+t},n.prototype.writeUIntBE=function(n,e,t,i){n=+n,e=0|e,t=0|t,i||O(this,n,e,t,Math.pow(2,8*t),0);var o=t-1,r=1;for(this[e+o]=255&n;--o>=0&&(r*=256);)this[e+o]=n/r&255;return e+t},n.prototype.writeUInt8=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},n.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},n.prototype.writeIntLE=function(n,e,t,i){if(n=+n,e=0|e,!i){var o=Math.pow(2,8*t-1);O(this,n,e,t,o-1,-o)}var r=0,a=1,s=0>n?1:0;for(this[e]=255&n;++r<t&&(a*=256);)this[e+r]=(n/a>>0)-s&255;return e+t},n.prototype.writeIntBE=function(n,e,t,i){if(n=+n,e=0|e,!i){var o=Math.pow(2,8*t-1);O(this,n,e,t,o-1,-o)}var r=t-1,a=1,s=0>n?1:0;for(this[e+r]=255&n;--r>=0&&(a*=256);)this[e+r]=(n/a>>0)-s&255;return e+t},n.prototype.writeInt8=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,i){return e=+e,t=0|t,i||O(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(n,e,t){return U(this,n,e,!0,t)},n.prototype.writeFloatBE=function(n,e,t){return U(this,n,e,!1,t)},n.prototype.writeDoubleLE=function(n,e,t){return F(this,n,e,!0,t)},n.prototype.writeDoubleBE=function(n,e,t){return F(this,n,e,!1,t)},n.prototype.copy=function(e,t,i,o){if(i||(i=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&i>o&&(o=i),o===i)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-i&&(o=e.length-t+i);var r,a=o-i;if(this===e&&t>i&&o>t)for(r=a-1;r>=0;r--)e[r+t]=this[r+i];else if(1e3>a||!n.TYPED_ARRAY_SUPPORT)for(r=0;a>r;r++)e[r+t]=this[r+i];else e._set(this.subarray(i,i+a),t);return a},n.prototype.fill=function(n,e,t){if(n||(n=0),e||(e=0),t||(t=this.length),e>t)throw new RangeError("end < start");if(t!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>t||t>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof n)for(i=e;t>i;i++)this[i]=n;else{var o=G(n.toString()),r=o.length;for(i=e;t>i;i++)this[i]=o[i%r]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,i=e.length;i>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=n.prototype;n._augment=function(e){return e.constructor=n,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var nn=/[^+\/0-9A-Za-z-_]/g}).call(e,t(129).Buffer,function(){return this}())},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o);e["default"]={renderPercentBar:function(n){var e=null;if(this.props.questionIsDisabled&&"true"===this.props.questionShowTable){var t={width:n+"%"};e=r["default"].createElement("span",{className:"qna-question-percentage-bar",style:t})}return e},renderPercentNumber:function(n){var e=null;return this.props.questionIsDisabled&&"true"===this.props.questionShowTable&&(e=r["default"].createElement("span",{className:"qna-question-percentage"},n,"%")),e},calcPercent:function(n){var e=parseInt(n.totalResponse,10);return(0>e||isNaN(e))&&(e=0),e>100&&(e=100),e}},n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to renders_perecentage_bar.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(275),s=i(a),l=t(271),c=i(l),u=t(277),d=i(u),p=t(276),f=i(p);e["default"]={renderQuestion:function(n,e,t){var i=void 0,o=e+1+" of  "+t.length;switch(n.displayRule){case"radio":case"RadioButton":i=r["default"].createElement(s["default"],{key:e,ref:n._id,questionTotalResponse:n.totalResponse,questionIsDisabled:n.isDisabled,questionChoices:n.choice,questionId:n._id,questionPage:o,questionRequired:n._required,questionText:n.questionText,questionShowTable:n._showAnsTable,questionIntro:n.questionIntro});break;case"checkbox":case"CheckBox":i=r["default"].createElement(c["default"],{key:e,ref:n._id,questionTotalResponse:n.totalResponse,questionIsDisabled:n.isDisabled,questionChoices:n.choice,questionId:n._id,questionPage:o,questionRequired:n._required,questionText:n.questionText,questionShowTable:n._showAnsTable,questionIntro:n.questionIntro});break;case"textbox":case"TextBox":i=r["default"].createElement(d["default"],{key:e,ref:n._id,questionIsDisabled:n.isDisabled,questionId:n._id,questionPage:o,questionRequired:n._required,questionText:n.questionText});break;case"textarea":case"TextArea":i=r["default"].createElement(f["default"],{key:e,ref:n._id,questionIsDisabled:n.isDisabled,questionId:n._id,questionPage:o,questionRequired:n._required,questionText:n.questionText});break;default:console.warn("Error invalid question type")}return i}},n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to renders_question_components.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e){function t(n){var e=n.prototype;return e?"function"==typeof e.render:!1}function i(n,e){if(!e.Component)return!1;for(var t=Object.getPrototypeOf(n);t;){if(t===e.Component)return!0;t=Object.getPrototypeOf(t)}return!1}function o(n,e){return"function"!=typeof n?!1:t(n)||i(n,e)?!0:n.type&&t(n.type)?!0:!1}n.exports=o},function(n,e){"use strict";function t(){this._listeners={}}t.prototype.addEventListener=function(n,e){n in this._listeners||(this._listeners[n]=[]);var t=this._listeners[n];-1===t.indexOf(e)&&(t=t.concat([e])),this._listeners[n]=t},t.prototype.removeEventListener=function(n,e){var t=this._listeners[n];if(t){var i=t.indexOf(e);return-1!==i?void(t.length>1?this._listeners[n]=t.slice(0,i).concat(t.slice(i+1)):delete this._listeners[n]):void 0}},t.prototype.dispatchEvent=function(n){var e=n.type,t=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,t),e in this._listeners)for(var i=this._listeners[e],o=0;o<i.length;o++)i[o].apply(this,t)},n.exports=t},function(n,e,t){(function(e){"use strict";function i(n,e){o.call(this);var t=this,i=+new Date;this.xo=new e("GET",n),this.xo.once("finish",function(n,e){var o,r;if(200===n){if(r=+new Date-i,e)try{o=a.parse(e)}catch(c){l("bad json",e)}s.isObject(o)||(o={})}t.emit("finish",o,r),t.removeAllListeners()})}var o=t(12).EventEmitter,r=t(4),a=t(27),s=t(90),l=function(){};"production"!==e.env.NODE_ENV&&(l=t(9)("sockjs-client:info-ajax")),r(i,o),i.prototype.close=function(){this.removeAllListeners(),this.xo.close()},n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n){var e=this;r.call(this),this.ir=new l(n,s),this.ir.once("finish",function(n,t){e.ir=null,e.emit("message",a.stringify([n,t]))})}var o=t(4),r=t(12).EventEmitter,a=t(27),s=t(50),l=t(134);o(i,r),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},n.exports=i},function(n,e){(function(e){"use strict";n.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(e,function(){return this}())},function(n,e,t){(function(e,i){"use strict";function o(n,e,t,i){u(n,e);var o=this;r.call(this),setTimeout(function(){o._start(n,e,t,i)},0)}var r=t(12).EventEmitter,a=t(4),s=t(30),l=t(18),c=e.XMLHttpRequest,u=function(){};"production"!==i.env.NODE_ENV&&(u=t(9)("sockjs-client:browser:xhr")),a(o,r),o.prototype._start=function(n,e,t,i){var r=this;try{this.xhr=new c}catch(a){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=l.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){u("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(n,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(d){return u("exception",d),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!o.supportsCORS||(u("withCredentials"),this.xhr.withCredentials="true"),i&&i.headers)for(var p in i.headers)this.xhr.setRequestHeader(p,i.headers[p]);this.xhr.onreadystatechange=function(){if(r.xhr){var n,e,t=r.xhr;switch(u("readyState",t.readyState),t.readyState){case 3:try{e=t.status,n=t.responseText}catch(i){}u("status",e),1223===e&&(e=204),200===e&&n&&n.length>0&&(u("chunk"),r.emit("chunk",e,n));break;case 4:e=t.status,u("status",e),1223===e&&(e=204),(12005===e||12029===e)&&(e=0),u("finish",e,t.responseText),r.emit("finish",e,t.responseText),r._cleanup(!1)}}};try{r.xhr.send(t)}catch(d){r.emit("finish",0,""),r._cleanup(!1)}},o.prototype._cleanup=function(n){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),n)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},o.prototype.close=function(){u("close"),this._cleanup(!0)},o.enabled=!!c;var d=["Active"].concat("Object").join("X");!o.enabled&&d in e&&(u("overriding xmlhttprequest"),c=function(){try{return new e[d]("Microsoft.XMLHTTP")}catch(n){return null}},o.enabled=!!new c);var p=!1;try{p="withCredentials"in new c}catch(f){}o.supportsCORS=p,n.exports=o}).call(e,function(){return this}(),t(1))},function(n,e){(function(e){n.exports=e.EventSource}).call(e,function(){return this}())},function(n,e,t){"use strict";function i(n){if(!i.enabled())throw new Error("Transport created when disabled");r.call(this,n,"/eventsource",a,s)}var o=t(4),r=t(43),a=t(304),s=t(62),l=t(138);o(i,r),i.enabled=function(){return!!l},i.transportName="eventsource",i.roundTrips=2,n.exports=i},function(n,e,t){"use strict";function i(n){if(!r.enabled)throw new Error("Transport created when disabled");s.call(this,n,"/htmlfile",r,a)}var o=t(4),r=t(305),a=t(50),s=t(43);o(i,s),i.enabled=function(n){return r.enabled&&n.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,n.exports=i},function(n,e,t){(function(e){"use strict";function i(n,e,t){if(!i.enabled())throw new Error("Transport created when disabled");a.call(this);var o=this;this.origin=l.getOrigin(t),this.baseUrl=t,this.transUrl=e,this.transport=n,this.windowId=d.string(8);var r=l.addPath(t,"/iframe.html")+"#"+this.windowId;p(n,e,r),this.iframeObj=c.createIframe(r,function(n){p("err callback"),o.emit("close",1006,"Unable to load an iframe ("+n+")"),o.close()}),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}var o=t(4),r=t(27),a=t(12).EventEmitter,s=t(145),l=t(18),c=t(52),u=t(30),d=t(44),p=function(){};"production"!==e.env.NODE_ENV&&(p=t(9)("sockjs-client:transport:iframe")),o(i,a),i.prototype.close=function(){if(p("close"),this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(n){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},i.prototype._message=function(n){if(p("message",n.data),!l.isOriginEqual(n.origin,this.origin))return void p("not same origin",n.origin,this.origin);var e;try{e=r.parse(n.data)}catch(t){return void p("bad json",n.data)}if(e.windowId!==this.windowId)return void p("mismatched window id",e.windowId,this.windowId);switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",r.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var i;try{i=r.parse(e.data)}catch(t){return void p("bad json",e.data)}this.emit("close",i[0],i[1]),this.close()}},i.prototype.postMessage=function(n,e){p("postMessage",n,e),this.iframeObj.post(r.stringify({windowId:this.windowId,type:n,data:e||""}),this.origin)},i.prototype.send=function(n){p("send",n),this.postMessage("m",n)},i.enabled=function(){return c.iframeEnabled},i.transportName="iframe",i.roundTrips=2,n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e,t,i,o){var c=r.addPath(n,e);l(c);var u=this;a.call(this,n,t),this.poll=new s(i,c,o),this.poll.on("message",function(n){l("poll message",n),u.emit("message",n)}),this.poll.once("close",function(n,e){l("poll close",n,e),u.poll=null,u.emit("close",n,e),u.close()})}var o=t(4),r=t(18),a=t(302),s=t(303),l=function(){};"production"!==e.env.NODE_ENV&&(l=t(9)("sockjs-client:sender-receiver")),o(i,a),i.prototype.close=function(){l("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n){if(!s.enabled)throw new Error("Transport created when disabled");r.call(this,n,"/xhr_streaming",a,s)}var o=t(4),r=t(43),a=t(61),s=t(89);o(i,r),i.enabled=function(n){return n.cookie_needed||n.nullOrigin?!1:s.enabled&&n.sameScheme},i.transportName="xdr-streaming",i.roundTrips=2,n.exports=i},function(n,e,t){"use strict";function i(n){if(!l.enabled&&!s.enabled)throw new Error("Transport created when disabled");r.call(this,n,"/xhr",a,s)}var o=t(4),r=t(43),a=t(61),s=t(62),l=t(50);o(i,r),i.enabled=function(n){return n.nullOrigin?!1:l.enabled&&n.sameOrigin?!0:s.enabled},i.transportName="xhr-polling",i.roundTrips=2,n.exports=i},function(n,e){n.exports="1.0.3"},function(n,e){n.exports=function(n){function e(){void 0===n.escapeMode&&(n.escapeMode=!0),n.attributePrefix=n.attributePrefix||"_",n.arrayAccessForm=n.arrayAccessForm||"none",n.emptyNodeForm=n.emptyNodeForm||"text",void 0===n.enableToStringFunc&&(n.enableToStringFunc=!0),n.arrayAccessFormPaths=n.arrayAccessFormPaths||[],void 0===n.skipEmptyTextNodesForObj&&(n.skipEmptyTextNodesForObj=!0)}function t(n){var e=n.localName;return null==e&&(e=n.baseName),(null==e||""==e)&&(e=n.nodeName),e}function i(n){return n.prefix}function o(n){return"string"==typeof n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):n}function r(n){return n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function a(e,t,i){switch(n.arrayAccessForm){case"property":e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]}if(!(e[t]instanceof Array)&&n.arrayAccessFormPaths.length>0){for(var o=0;o<n.arrayAccessFormPaths.length;o++){var r=n.arrayAccessFormPaths[o];if("string"==typeof r){if(r==i)break}else if(r instanceof RegExp){if(r.test(i))break}else if("function"==typeof r&&r(e,t,i))break}o!=n.arrayAccessFormPaths.length&&(e[t]=[e[t]])}}function s(e,o){if(e.nodeType==_.DOCUMENT_NODE){for(var l=new Object,c=e.childNodes,u=0;u<c.length;u++){var d=c.item(u);if(d.nodeType==_.ELEMENT_NODE){var p=t(d);l[p]=s(d,p)}}return l}if(e.nodeType==_.ELEMENT_NODE){var l=new Object;l.__cnt=0;for(var c=e.childNodes,u=0;u<c.length;u++){var d=c.item(u),p=t(d);d.nodeType!=_.COMMENT_NODE&&(l.__cnt++,null==l[p]?(l[p]=s(d,o+"."+p),a(l,p,o+"."+p)):(null!=l[p]&&(l[p]instanceof Array||(l[p]=[l[p]],a(l,p,o+"."+p))),l[p][l[p].length]=s(d,o+"."+p)))}for(var f=0;f<e.attributes.length;f++){var h=e.attributes.item(f);l.__cnt++,l[n.attributePrefix+h.name]=h.value}var m=i(e);return null!=m&&""!=m&&(l.__cnt++,l.__prefix=m),
null!=l["#text"]&&(l.__text=l["#text"],l.__text instanceof Array&&(l.__text=l.__text.join("\n")),n.escapeMode&&(l.__text=r(l.__text)),delete l["#text"],"property"==n.arrayAccessForm&&delete l["#text_asArray"]),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],"property"==n.arrayAccessForm&&delete l["#cdata-section_asArray"]),1==l.__cnt&&null!=l.__text?l=l.__text:0==l.__cnt&&"text"==n.emptyNodeForm?l="":l.__cnt>1&&null!=l.__text&&n.skipEmptyTextNodesForObj&&""==l.__text.trim()&&delete l.__text,delete l.__cnt,(n.enableToStringFunc&&null!=l.__text||null!=l.__cdata)&&(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}return e.nodeType==_.TEXT_NODE||e.nodeType==_.CDATA_SECTION_NODE?e.nodeValue:void 0}function l(e,t,i,o){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=i)for(var a=0;a<i.length;a++){var s=i[a],l=e[s];r+=" "+s.substr(n.attributePrefix.length)+"='"+l+"'"}return r+=o?"/>":">"}function c(n,e){return"</"+(null!=n.__prefix?n.__prefix+":":"")+e+">"}function u(n,e){return-1!==n.indexOf(e,n.length-e.length)}function d(e,t){return"property"==n.arrayAccessForm&&u(t.toString(),"_asArray")||0==t.toString().indexOf(n.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function?!0:!1}function p(n){var e=0;if(n instanceof Object)for(var t in n)d(n,t)||e++;return e}function f(e){var t=[];if(e instanceof Object)for(var i in e)-1==i.toString().indexOf("__")&&0==i.toString().indexOf(n.attributePrefix)&&t.push(i);return t}function h(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=n.escapeMode?o(e.__text):e.__text),t}function m(e){var t="";return e instanceof Object?t+=h(e):null!=e&&(t+=n.escapeMode?o(e):e),t}function y(n,e,t){var i="";if(0==n.length)i+=l(n,e,t,!0);else for(var o=0;o<n.length;o++)i+=l(n[o],e,f(n[o]),!1),i+=g(n[o]),i+=c(n[o],e);return i}function g(n){var e="",t=p(n);if(t>0)for(var i in n)if(!d(n,i)){var o=n[i],r=f(o);if(null==o||void 0==o)e+=l(o,i,r,!0);else if(o instanceof Object)if(o instanceof Array)e+=y(o,i,r);else{var a=p(o);a>0||null!=o.__text||null!=o.__cdata?(e+=l(o,i,r,!1),e+=g(o),e+=c(o,i)):e+=l(o,i,r,!0)}else e+=l(o,i,r,!1),e+=m(o),e+=c(o,i)}return e+=m(n)}var v="1.1.3";n=n||{},e();var _={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){if(void 0===n)return null;var e;if(window.DOMParser){var t=new window.DOMParser;e=t.parseFromString(n,"text/xml")}else 0==n.indexOf("<?")&&(n=n.substr(n.indexOf("?>")+2)),e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(n);return e},this.asArray=function(n){return n instanceof Array?n:[n]},this.xml2json=function(n){return s(n)},this.xml_str2json=function(n){var e=this.parseXmlString(n);return this.xml2json(e)},this.json2xml_str=function(n){return g(n)},this.json2xml=function(n){var e=this.json2xml_str(n);return this.parseXmlString(e)},this.getVersion=function(){return v}}},function(n,e,t){n.exports=t(194)},function(n,e,t){"use strict";function i(){var n=window.opera;return"object"==typeof n&&"function"==typeof n.version&&parseInt(n.version(),10)<=12}function o(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function r(n){switch(n){case M.topCompositionStart:return S.compositionStart;case M.topCompositionEnd:return S.compositionEnd;case M.topCompositionUpdate:return S.compositionUpdate}}function a(n,e){return n===M.topKeyDown&&e.keyCode===E}function s(n,e){switch(n){case M.topKeyUp:return-1!==C.indexOf(e.keyCode);case M.topKeyDown:return e.keyCode!==E;case M.topKeyPress:case M.topMouseDown:case M.topBlur:return!0;default:return!1}}function l(n){var e=n.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(n,e,t,i){var o,c;if(P?o=r(n):I?s(n,i)&&(o=S.compositionEnd):a(n,i)&&(o=S.compositionStart),!o)return null;N&&(I||o!==S.compositionStart?o===S.compositionEnd&&I&&(c=I.getData()):I=y.getPooled(e));var u=g.getPooled(o,t,i);if(c)u.data=c;else{var d=l(i);null!==d&&(u.data=d)}return h.accumulateTwoPhaseDispatches(u),u}function u(n,e){switch(n){case M.topCompositionEnd:return l(e);case M.topKeyPress:var t=e.which;return t!==b?null:(k=!0,T);case M.topTextInput:var i=e.data;return i===T&&k?null:i;default:return null}}function d(n,e){if(I){if(n===M.topCompositionEnd||s(n,e)){var t=I.getData();return y.release(I),I=null,t}return null}switch(n){case M.topPaste:return null;case M.topKeyPress:return e.which&&!o(e)?String.fromCharCode(e.which):null;case M.topCompositionEnd:return N?null:e.data;default:return null}}function p(n,e,t,i){var o;if(o=x?u(n,i):d(n,i),!o)return null;var r=v.getPooled(S.beforeInput,t,i);return r.data=o,h.accumulateTwoPhaseDispatches(r),r}var f=t(15),h=t(40),m=t(11),y=t(157),g=t(200),v=t(203),_=t(20),C=[9,13,27,32],E=229,P=m.canUseDOM&&"CompositionEvent"in window,A=null;m.canUseDOM&&"documentMode"in document&&(A=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!A&&!i(),N=m.canUseDOM&&(!P||A&&A>8&&11>=A),b=32,T=String.fromCharCode(b),M=f.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[M.topCompositionEnd,M.topKeyPress,M.topTextInput,M.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[M.topBlur,M.topCompositionEnd,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[M.topBlur,M.topCompositionStart,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[M.topBlur,M.topCompositionUpdate,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]}},k=!1,I=null,w={eventTypes:S,extractEvents:function(n,e,t,i){return[c(n,e,t,i),p(n,e,t,i)]}};n.exports=w},function(n,e,t){(function(e){var i=t(2),o={addClass:function(n,t){return"production"!==e.env.NODE_ENV?i(!/\s/.test(t),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t):i(!/\s/.test(t)),t&&(n.classList?n.classList.add(t):o.hasClass(n,t)||(n.className=n.className+" "+t)),n},removeClass:function(n,t){return"production"!==e.env.NODE_ENV?i(!/\s/.test(t),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t):i(!/\s/.test(t)),t&&(n.classList?n.classList.remove(t):o.hasClass(n,t)&&(n.className=n.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),n},conditionClass:function(n,e,t){return(t?o.addClass:o.removeClass)(n,e)},hasClass:function(n,t){return"production"!==e.env.NODE_ENV?i(!/\s/.test(t),"CSS.hasClass takes only a single class name."):i(!/\s/.test(t)),n.classList?!!t&&n.classList.contains(t):(" "+n.className+" ").indexOf(" "+t+" ")>-1}};n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";function i(n){return"SELECT"===n.nodeName||"INPUT"===n.nodeName&&"file"===n.type}function o(n){var e=A.getPooled(M.change,k,n);C.accumulateTwoPhaseDispatches(e),P.batchedUpdates(r,e)}function r(n){_.enqueueEvents(n),_.processEventQueue()}function a(n,e){S=n,k=e,S.attachEvent("onchange",o)}function s(){S&&(S.detachEvent("onchange",o),S=null,k=null)}function l(n,e,t){return n===T.topChange?t:void 0}function c(n,e,t){n===T.topFocus?(s(),a(e,t)):n===T.topBlur&&s()}function u(n,e){S=n,k=e,I=n.value,w=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value"),Object.defineProperty(S,"value",R),S.attachEvent("onpropertychange",p)}function d(){S&&(delete S.value,S.detachEvent("onpropertychange",p),S=null,k=null,I=null,w=null)}function p(n){if("value"===n.propertyName){var e=n.srcElement.value;e!==I&&(I=e,o(n))}}function f(n,e,t){return n===T.topInput?t:void 0}function h(n,e,t){n===T.topFocus?(d(),u(e,t)):n===T.topBlur&&d()}function m(n,e,t){return n!==T.topSelectionChange&&n!==T.topKeyUp&&n!==T.topKeyDown||!S||S.value===I?void 0:(I=S.value,k)}function y(n){return"INPUT"===n.nodeName&&("checkbox"===n.type||"radio"===n.type)}function g(n,e,t){return n===T.topClick?t:void 0}var v=t(15),_=t(39),C=t(40),E=t(11),P=t(17),A=t(29),x=t(80),N=t(119),b=t(20),T=v.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:b({onChange:null}),captured:b({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},S=null,k=null,I=null,w=null,D=!1;E.canUseDOM&&(D=x("change")&&(!("documentMode"in document)||document.documentMode>8));var O=!1;E.canUseDOM&&(O=x("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return w.get.call(this)},set:function(n){I=""+n,w.set.call(this,n)}},L={eventTypes:M,extractEvents:function(n,e,t,o){var r,a;if(i(e)?D?r=l:a=c:N(e)?O?r=f:(r=m,a=h):y(e)&&(r=g),r){var s=r(n,e,t);if(s){var u=A.getPooled(M.change,s,o);return C.accumulateTwoPhaseDispatches(u),u}}a&&a(n,e,t)}};n.exports=L},function(n,e){"use strict";var t=0,i={createReactRootIndex:function(){return t++}};n.exports=i},function(n,e,t){(function(e){"use strict";function i(n,e,t){n.insertBefore(e,n.childNodes[t]||null)}var o=t(153),r=t(104),a=t(229),s=t(2),l={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(n,t){for(var l,c=null,u=null,d=0;d<n.length;d++)if(l=n[d],l.type===r.MOVE_EXISTING||l.type===r.REMOVE_NODE){var p=l.fromIndex,f=l.parentNode.childNodes[p],h=l.parentID;"production"!==e.env.NODE_ENV?s(f,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,h):s(f),c=c||{},c[h]=c[h]||[],c[h][p]=f,u=u||[],u.push(f)}var m=o.dangerouslyRenderMarkup(t);if(u)for(var y=0;y<u.length;y++)u[y].parentNode.removeChild(u[y]);for(var g=0;g<n.length;g++)switch(l=n[g],l.type){case r.INSERT_MARKUP:i(l.parentNode,m[l.markupIndex],l.toIndex);break;case r.MOVE_EXISTING:i(l.parentNode,c[l.parentID][l.fromIndex],l.toIndex);break;case r.TEXT_CONTENT:a(l.parentNode,l.textContent);break;case r.REMOVE_NODE:}}};n.exports=l}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){return n.substring(1,n.indexOf(" "))}var o=t(11),r=t(212),a=t(19),s=t(116),l=t(2),c=/^(<[^ \/>]+)/,u="data-danger-index",d={dangerouslyRenderMarkup:function(n){"production"!==e.env.NODE_ENV?l(o.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):l(o.canUseDOM);for(var t,d={},p=0;p<n.length;p++)"production"!==e.env.NODE_ENV?l(n[p],"dangerouslyRenderMarkup(...): Missing markup."):l(n[p]),t=i(n[p]),t=s(t)?t:"*",d[t]=d[t]||[],d[t][p]=n[p];var f=[],h=0;for(t in d)if(d.hasOwnProperty(t)){var m,y=d[t];for(m in y)if(y.hasOwnProperty(m)){var g=y[m];y[m]=g.replace(c,"$1 "+u+'="'+m+'" ')}for(var v=r(y.join(""),a),_=0;_<v.length;++_){var C=v[_];C.hasAttribute&&C.hasAttribute(u)?(m=+C.getAttribute(u),C.removeAttribute(u),"production"!==e.env.NODE_ENV?l(!f.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."):l(!f.hasOwnProperty(m)),f[m]=C,h+=1):"production"!==e.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",C)}}return"production"!==e.env.NODE_ENV?l(h===f.length,"Danger: Did not assign to every index of resultList."):l(h===f.length),"production"!==e.env.NODE_ENV?l(f.length===n.length,"Danger: Expected markup to render %s nodes, but rendered %s.",n.length,f.length):l(f.length===n.length),f},dangerouslyReplaceNodeWithMarkup:function(n,t){"production"!==e.env.NODE_ENV?l(o.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):l(o.canUseDOM),"production"!==e.env.NODE_ENV?l(t,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):l(t),"production"!==e.env.NODE_ENV?l("html"!==n.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):l("html"!==n.tagName.toLowerCase());var i=r(t,a)[0];n.parentNode.replaceChild(i,n)}};n.exports=d}).call(e,t(1))},function(n,e,t){"use strict";var i=t(20),o=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];n.exports=o},function(n,e,t){"use strict";var i=t(15),o=t(40),r=t(57),a=t(8),s=t(20),l=i.topLevelTypes,c=a.getFirstReactDOM,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],p={eventTypes:u,extractEvents:function(n,e,t,i){if(n===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(n!==l.topMouseOut&&n!==l.topMouseOver)return null;var s;if(e.window===e)s=e;else{var p=e.ownerDocument;s=p?p.defaultView||p.parentWindow:window}var f,h;if(n===l.topMouseOut?(f=e,h=c(i.relatedTarget||i.toElement)||s):(f=s,h=e),f===h)return null;var m=f?a.getID(f):"",y=h?a.getID(h):"",g=r.getPooled(u.mouseLeave,m,i);g.type="mouseleave",g.target=f,g.relatedTarget=h;var v=r.getPooled(u.mouseEnter,y,i);return v.type="mouseenter",v.target=h,v.relatedTarget=f,o.accumulateEnterLeaveDispatches(g,v,m,y),d[0]=g,d[1]=v,d}};n.exports=p},function(n,e,t){(function(e){var i=t(19),o={listen:function(n,e,t){return n.addEventListener?(n.addEventListener(e,t,!1),{remove:function(){n.removeEventListener(e,t,!1)}}):n.attachEvent?(n.attachEvent("on"+e,t),{remove:function(){n.detachEvent("on"+e,t)}}):void 0},capture:function(n,t,o){return n.addEventListener?(n.addEventListener(t,o,!0),{remove:function(){n.removeEventListener(t,o,!0)}}):("production"!==e.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";function i(n){this._root=n,this._startText=this.getText(),this._fallbackText=null}var o=t(24),r=t(5),a=t(117);r(i.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var n,e,t=this._startText,i=t.length,o=this.getText(),r=o.length;for(n=0;i>n&&t[n]===o[n];n++);var a=i-n;for(e=1;a>=e&&t[i-e]===o[r-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=o.slice(n,s),this._fallbackText}}),o.addPoolingTo(i),n.exports=i},function(n,e,t){"use strict";var i,o=t(31),r=t(11),a=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,l=o.injection.HAS_BOOLEAN_VALUE,c=o.injection.HAS_SIDE_EFFECTS,u=o.injection.HAS_NUMERIC_VALUE,d=o.injection.HAS_POSITIVE_NUMERIC_VALUE,p=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var f=document.implementation;i=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:a,checked:s|l,classID:a,className:i?a:s,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,defer:l,dir:null,disabled:a|l,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:l,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|l,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:a,loop:s|l,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|l,muted:s|l,name:null,noValidate:l,open:l,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:a|l,selected:s|l,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:u,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|l,itemType:a,itemID:a,itemRef:a,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};n.exports=h},function(n,e,t){"use strict";var i=t(182),o=t(190),r={linkState:function(n){return new i(this.state[n],o.createStateKeySetter(this,n))}};n.exports=r},function(n,e,t){"use strict";var i=t(15),o=t(19),r=i.topLevelTypes,a={eventTypes:null,extractEvents:function(n,e,t,i){if(n===r.topTouchStart){var a=i.target;a&&!a.onclick&&(a.onclick=o)}}};n.exports=a},function(n,e,t){"use strict";var i=t(32),o=t(5),r=i.createFactory(t(108)),a=i.createFactory(t(162)),s=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:i.PropTypes.string.isRequired,transitionAppear:i.PropTypes.bool,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(n){return a({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},n)},render:function(){return r(o({},this.props,{childFactory:this._wrapChild}))}});n.exports=s},function(n,e,t){(function(e){"use strict";var i=t(32),o=t(149),r=t(193),a=t(120),s=t(7),l=17,c=5e3,u=null;"production"!==e.env.NODE_ENV&&(u=function(){"production"!==e.env.NODE_ENV?s(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",c):null});var d=i.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(n,t){var i=this.getDOMNode(),a=this.props.name+"-"+n,s=a+"-active",l=null,d=function(n){n&&n.target!==i||("production"!==e.env.NODE_ENV&&clearTimeout(l),o.removeClass(i,a),o.removeClass(i,s),r.removeEndEventListener(i,d),t&&t())};r.addEndEventListener(i,d),o.addClass(i,a),this.queueClass(s),"production"!==e.env.NODE_ENV&&(l=setTimeout(u,c))},queueClass:function(n){this.classNameQueue.push(n),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(n){this.props.appear?this.transition("appear",n):n()},componentWillEnter:function(n){this.props.enter?this.transition("enter",n):n()},componentWillLeave:function(n){this.props.leave?this.transition("leave",n):n()},render:function(){return a(this.props.children)}});n.exports=d}).call(e,t(1))},function(n,e,t){"use strict";var i=t(42),o=t(215),r=t(79),a=t(82),s={instantiateChildren:function(n,e,t){var i=o(n);for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=r(s,null);i[a]=l}return i},updateChildren:function(n,e,t,s){var l=o(e);if(!l&&!n)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=n&&n[c],d=u&&u._currentElement,p=l[c];if(a(d,p))i.receiveComponent(u,p,t,s),l[c]=u;else{u&&i.unmountComponent(u,c);var f=r(p,null);l[c]=f}}for(c in n)!n.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||i.unmountComponent(n[c]);return l},unmountChildren:function(n){for(var e in n){var t=n[e];i.unmountComponent(t)}}};n.exports=s},function(n,e,t){"use strict";var i=t(121),o={shouldComponentUpdate:function(n,e){return!i(this.props,n)||!i(this.state,e)}};n.exports=o},function(n,e,t){(function(e){"use strict";function i(n){return"production"!==e.env.NODE_ENV?r.createFactory(n):o.createFactory(n)}var o=t(6),r=t(46),a=t(224),s=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);n.exports=s}).call(e,t(1))},function(n,e,t){"use strict";var i=t(53),o=t(25),r=t(16),a=t(6),s=t(48),l=a.createFactory("button"),c=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),u=r.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[i,o],render:function(){var n={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&c[e]||(n[e]=this.props[e]);return l(n,this.props.children)}});n.exports=u},function(n,e,t){"use strict";var i=t(15),o=t(66),r=t(25),a=t(16),s=t(6),l=s.createFactory("form"),c=a.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[r,o],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});n.exports=c},function(n,e,t){"use strict";var i=t(15),o=t(66),r=t(25),a=t(16),s=t(6),l=s.createFactory("iframe"),c=a.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[r,o],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load")}});n.exports=c},function(n,e,t){"use strict";var i=t(15),o=t(66),r=t(25),a=t(16),s=t(6),l=s.createFactory("img"),c=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[r,o],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});n.exports=c},function(n,e,t){(function(e){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var o=t(53),r=t(45),a=t(65),s=t(25),l=t(16),c=t(6),u=t(8),d=t(17),p=t(5),f=t(2),h=c.createFactory("input"),m={},y=l.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[o,a.Mixin,s],getInitialState:function(){var n=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=n?n:null}},render:function(){var n=p({},this.props);n.defaultChecked=null,n.defaultValue=null;var e=a.getValue(this);n.value=null!=e?e:this.state.initialValue;var t=a.getChecked(this);return n.checked=null!=t?t:this.state.initialChecked,n.onChange=this._handleChange,h(n,this.props.children)},componentDidMount:function(){var n=u.getID(this.getDOMNode());m[n]=this},componentWillUnmount:function(){var n=this.getDOMNode(),e=u.getID(n);delete m[e]},componentDidUpdate:function(n,e,t){var i=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(i,"checked",this.props.checked||!1);var o=a.getValue(this);null!=o&&r.setValueForProperty(i,"value",""+o)},_handleChange:function(n){var t,o=a.getOnChange(this);o&&(t=o.call(this,n)),d.asap(i,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var s=this.getDOMNode(),l=s;l.parentNode;)l=l.parentNode;for(var c=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),p=0,h=c.length;h>p;p++){var y=c[p];if(y!==s&&y.form===s.form){var g=u.getID(y);"production"!==e.env.NODE_ENV?f(g,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):f(g);var v=m[g];"production"!==e.env.NODE_ENV?f(v,"ReactDOMInput: Unknown radio button ID %s.",g):f(v),d.asap(i,v)}}}return t}});n.exports=y}).call(e,t(1))},function(n,e,t){(function(e){"use strict";var i=t(25),o=t(16),r=t(6),a=t(7),s=r.createFactory("option"),l=o.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[i],componentWillMount:function(){"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?a(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return s(this.props,this.props.children)}});n.exports=l}).call(e,t(1))},function(n,e,t){"use strict";function i(){if(this._pendingUpdate){this._pendingUpdate=!1;var n=s.getValue(this);null!=n&&this.isMounted()&&r(this,n)}}function o(n,e,t){if(null==n[e])return null;if(n.multiple){if(!Array.isArray(n[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(n[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(n,e){var t,i,o,r=n.getDOMNode().options;if(n.props.multiple){for(t={},i=0,o=e.length;o>i;i++)t[""+e[i]]=!0;for(i=0,o=r.length;o>i;i++){var a=t.hasOwnProperty(r[i].value);r[i].selected!==a&&(r[i].selected=a)}}else{for(t=""+e,i=0,o=r.length;o>i;i++)if(r[i].value===t)return void(r[i].selected=!0);r.length&&(r[0].selected=!0)}}var a=t(53),s=t(65),l=t(25),c=t(16),u=t(6),d=t(17),p=t(5),f=u.createFactory("select"),h=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[a,s.Mixin,l],propTypes:{defaultValue:o,value:o},render:function(){var n=p({},this.props);return n.onChange=this._handleChange,n.value=null,f(n,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var n=s.getValue(this);null!=n?r(this,n):null!=this.props.defaultValue&&r(this,this.props.defaultValue)},componentDidUpdate:function(n){var e=s.getValue(this);null!=e?(this._pendingUpdate=!1,r(this,e)):!n.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?r(this,this.props.defaultValue):r(this,this.props.multiple?[]:""))},_handleChange:function(n){var e,t=s.getOnChange(this);return t&&(e=t.call(this,n)),this._pendingUpdate=!0,d.asap(i,this),e}});n.exports=h},function(n,e,t){"use strict";function i(n,e,t,i){return n===t&&e===i}function o(n){var e=document.selection,t=e.createRange(),i=t.text.length,o=t.duplicate();o.moveToElementText(n),o.setEndPoint("EndToStart",t);var r=o.text.length,a=r+i;return{start:r,end:a}}function r(n){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var t=e.anchorNode,o=e.anchorOffset,r=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0),l=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(n),u.setEnd(s.startContainer,s.startOffset);var d=i(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:u.toString().length,f=p+c,h=document.createRange();h.setStart(t,o),h.setEnd(r,a);var m=h.collapsed;return{start:m?f:p,end:m?p:f}}function a(n,e){var t,i,o=document.selection.createRange().duplicate();"undefined"==typeof e.end?(t=e.start,i=t):e.start>e.end?(t=e.end,i=e.start):(t=e.start,i=e.end),o.moveToElementText(n),o.moveStart("character",t),o.setEndPoint("EndToStart",o),o.moveEnd("character",i-t),o.select()}function s(n,e){if(window.getSelection){var t=window.getSelection(),i=n[u()].length,o=Math.min(e.start,i),r="undefined"==typeof e.end?o:Math.min(e.end,i);if(!t.extend&&o>r){var a=r;r=o,o=a}var s=c(n,o),l=c(n,r);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(d),t.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),t.addRange(d))}}}var l=t(11),c=t(217),u=t(117),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?o:r,setOffsets:d?a:s};n.exports=p},function(n,e,t){(function(e){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var o=t(53),r=t(45),a=t(65),s=t(25),l=t(16),c=t(6),u=t(17),d=t(5),p=t(2),f=t(7),h=c.createFactory("textarea"),m=l.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[o,a.Mixin,s],getInitialState:function(){var n=this.props.defaultValue,t=this.props.children;null!=t&&("production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?f(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==e.env.NODE_ENV?p(null==n,"If you supply `defaultValue` on a <textarea>, do not pass children."):p(null==n),Array.isArray(t)&&("production"!==e.env.NODE_ENV?p(t.length<=1,"<textarea> can only have at most one child."):p(t.length<=1),t=t[0]),n=""+t),null==n&&(n="");var i=a.getValue(this);return{initialValue:""+(null!=i?i:n)}},render:function(){var n=d({},this.props);return"production"!==e.env.NODE_ENV?p(null==n.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):p(null==n.dangerouslySetInnerHTML),n.defaultValue=null,n.value=null,n.onChange=this._handleChange,h(n,this.state.initialValue)},componentDidUpdate:function(n,e,t){var i=a.getValue(this);if(null!=i){var o=this.getDOMNode();r.setValueForProperty(o,"value",""+i)}},_handleChange:function(n){var e,t=a.getOnChange(this);return t&&(e=t.call(this,n)),u.asap(i,this),e}});n.exports=m}).call(e,t(1))},function(n,e,t){"use strict";function i(){this.reinitializeTransaction()}var o=t(17),r=t(58),a=t(5),s=t(19),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:o.flushBatchedUpdates.bind(o)},u=[c,l];a(i.prototype,r.Mixin,{getTransactionWrappers:function(){return u}});var d=new i,p={isBatchingUpdates:!1,batchedUpdates:function(n,e,t,i,o){var r=p.isBatchingUpdates;p.isBatchingUpdates=!0,r?n(e,t,i,o):d.perform(n,null,e,t,i,o)}};n.exports=p},function(n,e,t){(function(e){"use strict";function i(n){return h.createClass({tagName:n.toUpperCase(),render:function(){return new M(n,null,null,null,null,this.props);
}})}function o(){if(k.EventEmitter.injectReactEventListener(S),k.EventPluginHub.injectEventPluginOrder(l),k.EventPluginHub.injectInstanceHandle(I),k.EventPluginHub.injectMount(w),k.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:L,EnterLeaveEventPlugin:c,ChangeEventPlugin:a,MobileSafariClickEventPlugin:p,SelectEventPlugin:O,BeforeInputEventPlugin:r}),k.NativeComponent.injectGenericComponentClass(g),k.NativeComponent.injectTextComponentClass(T),k.NativeComponent.injectAutoWrapper(i),k.Class.injectMixin(f),k.NativeComponent.injectComponentClasses({button:v,form:_,iframe:P,img:C,input:A,option:x,select:N,textarea:b,html:U("html"),head:U("head"),body:U("body")}),k.DOMProperty.injectDOMPropertyConfig(d),k.DOMProperty.injectDOMPropertyConfig(V),k.EmptyComponent.injectEmptyComponent("noscript"),k.Updates.injectReconcileTransaction(D),k.Updates.injectBatchingStrategy(y),k.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:R.createReactRootIndex),k.Component.injectEnvironment(m),k.DOMComponent.injectIDOperations(E),"production"!==e.env.NODE_ENV){var n=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(n)){var o=t(101);o.start()}}}var r=t(148),a=t(150),s=t(151),l=t(154),c=t(155),u=t(11),d=t(158),p=t(160),f=t(25),h=t(16),m=t(67),y=t(175),g=t(70),v=t(166),_=t(167),C=t(169),E=t(99),P=t(168),A=t(170),x=t(171),N=t(172),b=t(174),T=t(100),M=t(6),S=t(180),k=t(181),I=t(34),w=t(8),D=t(186),O=t(196),R=t(197),L=t(198),V=t(195),U=t(211);n.exports={inject:o}}).call(e,t(1))},function(n,e,t){function i(n){for(var e=0,t=0;t<n.length;t++){var i=n[t];e+=i.totalTime}return e}function o(n){for(var e=[],t=0;t<n.length;t++){var i,o=n[t];for(i in o.writes)o.writes[i].forEach(function(n){e.push({id:i,type:u[n.type]||n.type,args:n.args})})}return e}function r(n){for(var e,t={},i=0;i<n.length;i++){var o=n[i],r=l({},o.exclusive,o.inclusive);for(var a in r)e=o.displayNames[a].current,t[e]=t[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(t[e].render+=o.render[a]),o.exclusive[a]&&(t[e].exclusive+=o.exclusive[a]),o.inclusive[a]&&(t[e].inclusive+=o.inclusive[a]),o.counts[a]&&(t[e].count+=o.counts[a])}var s=[];for(e in t)t[e].exclusive>=c&&s.push(t[e]);return s.sort(function(n,e){return e.exclusive-n.exclusive}),s}function a(n,e){for(var t,i={},o=0;o<n.length;o++){var r,a=n[o],u=l({},a.exclusive,a.inclusive);e&&(r=s(a));for(var d in u)if(!e||r[d]){var p=a.displayNames[d];t=p.owner+" > "+p.current,i[t]=i[t]||{componentName:t,time:0,count:0},a.inclusive[d]&&(i[t].time+=a.inclusive[d]),a.counts[d]&&(i[t].count+=a.counts[d])}}var f=[];for(t in i)i[t].time>=c&&f.push(i[t]);return f.sort(function(n,e){return e.time-n.time}),f}function s(n){var e={},t=Object.keys(n.writes),i=l({},n.exclusive,n.inclusive);for(var o in i){for(var r=!1,a=0;a<t.length;a++)if(0===t[a].indexOf(o)){r=!0;break}!r&&n.counts[o]>0&&(e[o]=!0)}return e}var l=t(5),c=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},d={getExclusiveSummary:r,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:i};n.exports=d},function(n,e){"use strict";var t={guard:function(n,e){return n}};n.exports=t},function(n,e,t){"use strict";function i(n){o.enqueueEvents(n),o.processEventQueue()}var o=t(39),r={handleTopLevel:function(n,e,t,r){var a=o.extractEvents(n,e,t,r);i(a)}};n.exports=r},function(n,e,t){"use strict";function i(n){var e=d.getID(n),t=u.getReactRootIDFromNodeID(e),i=d.findReactContainerForID(t),o=d.getFirstReactDOM(i);return o}function o(n,e){this.topLevelType=n,this.nativeEvent=e,this.ancestors=[]}function r(n){for(var e=d.getFirstReactDOM(h(n.nativeEvent))||window,t=e;t;)n.ancestors.push(t),t=i(t);for(var o=0,r=n.ancestors.length;r>o;o++){e=n.ancestors[o];var a=d.getID(e)||"";y._handleTopLevel(n.topLevelType,e,a,n.nativeEvent)}}function a(n){var e=m(window);n(e)}var s=t(156),l=t(11),c=t(24),u=t(34),d=t(8),p=t(17),f=t(5),h=t(78),m=t(219);f(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var y={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(n){y._handleTopLevel=n},setEnabled:function(n){y._enabled=!!n},isEnabled:function(){return y._enabled},trapBubbledEvent:function(n,e,t){var i=t;return i?s.listen(i,e,y.dispatchEvent.bind(null,n)):null},trapCapturedEvent:function(n,e,t){var i=t;return i?s.capture(i,e,y.dispatchEvent.bind(null,n)):null},monitorScrollValue:function(n){var e=a.bind(null,n);s.listen(window,"scroll",e)},dispatchEvent:function(n,e){if(y._enabled){var t=o.getPooled(n,e);try{p.batchedUpdates(r,t)}finally{o.release(t)}}}};n.exports=y},function(n,e,t){"use strict";var i=t(31),o=t(39),r=t(68),a=t(16),s=t(54),l=t(33),c=t(55),u=t(70),d=t(28),p=t(107),f=t(17),h={Component:r.injection,Class:a.injection,DOMComponent:u.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:d.injection,RootIndex:p.injection,Updates:f.injection};n.exports=h},function(n,e,t){"use strict";function i(n,e){this.value=n,this.requestChange=e}function o(n){var e={value:"undefined"==typeof n?r.PropTypes.any.isRequired:n.isRequired,requestChange:r.PropTypes.func.isRequired};return r.PropTypes.shape(e)}var r=t(32);i.PropTypes={link:o},n.exports=i},function(n,e,t){"use strict";function i(n,e,t){h.push({parentID:n,parentNode:null,type:u.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:t})}function o(n,e,t){h.push({parentID:n,parentNode:null,type:u.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:t})}function r(n,e){h.push({parentID:n,parentNode:null,type:u.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function a(n,e){h.push({parentID:n,parentNode:null,type:u.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function s(){h.length&&(c.processChildrenUpdates(h,m),l())}function l(){h.length=0,m.length=0}var c=t(68),u=t(104),d=t(42),p=t(163),f=0,h=[],m=[],y={Mixin:{mountChildren:function(n,e,t){var i=p.instantiateChildren(n,e,t);this._renderedChildren=i;var o=[],r=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=this._rootNodeID+a,c=d.mountComponent(s,l,e,t);s._mountIndex=r,o.push(c),r++}return o},updateTextContent:function(n){f++;var e=!0;try{var t=this._renderedChildren;p.unmountChildren(t);for(var i in t)t.hasOwnProperty(i)&&this._unmountChildByName(t[i],i);this.setTextContent(n),e=!1}finally{f--,f||(e?l():s())}},updateChildren:function(n,e,t){f++;var i=!0;try{this._updateChildren(n,e,t),i=!1}finally{f--,f||(i?l():s())}},_updateChildren:function(n,e,t){var i=this._renderedChildren,o=p.updateChildren(i,n,e,t);if(this._renderedChildren=o,o||i){var r,a=0,s=0;for(r in o)if(o.hasOwnProperty(r)){var l=i&&i[r],c=o[r];l===c?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChildByName(l,r)),this._mountChildByNameAtIndex(c,r,s,e,t)),s++}for(r in i)!i.hasOwnProperty(r)||o&&o.hasOwnProperty(r)||this._unmountChildByName(i[r],r)}},unmountChildren:function(){var n=this._renderedChildren;p.unmountChildren(n),this._renderedChildren=null},moveChild:function(n,e,t){n._mountIndex<t&&o(this._rootNodeID,n._mountIndex,e)},createChild:function(n,e){i(this._rootNodeID,e,n._mountIndex)},removeChild:function(n){r(this._rootNodeID,n._mountIndex)},setTextContent:function(n){a(this._rootNodeID,n)},_mountChildByNameAtIndex:function(n,e,t,i,o){var r=this._rootNodeID+e,a=d.mountComponent(n,r,i,o);n._mountIndex=t,this.createChild(n,a)},_unmountChildByName:function(n,e){this.removeChild(n),n._mountIndex=null}}};n.exports=y},function(n,e,t){(function(e){"use strict";var i=t(2),o={isValidOwner:function(n){return!(!n||"function"!=typeof n.attachRef||"function"!=typeof n.detachRef)},addComponentAsRefTo:function(n,t,r){"production"!==e.env.NODE_ENV?i(o.isValidOwner(r),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):i(o.isValidOwner(r)),r.attachRef(t,n)},removeComponentAsRefFrom:function(n,t,r){"production"!==e.env.NODE_ENV?i(o.isValidOwner(r),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):i(o.isValidOwner(r)),r.getPublicInstance().refs[t]===n.getPublicInstance()&&r.detachRef(t)}};n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";function i(n){return function(e,t,i){e.hasOwnProperty(t)?e[t]=n(e[t],i):e[t]=i}}function o(n,e){for(var t in e)if(e.hasOwnProperty(t)){var i=c[t];i&&c.hasOwnProperty(t)?i(n,t,e[t]):n.hasOwnProperty(t)||(n[t]=e[t])}return n}var r=t(5),a=t(19),s=t(223),l=i(function(n,e){return r({},e,n)}),c={children:a,className:i(s),style:l},u={mergeProps:function(n,e){return o(r({},n),e)}};n.exports=u},function(n,e,t){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.putListenerQueue=l.getPooled()}var o=t(63),r=t(24),a=t(33),s=t(102),l=t(106),c=t(58),u=t(5),d={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var n=a.isEnabled();return a.setEnabled(!1),n},close:function(n){a.setEnabled(n)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[h,d,p,f],y={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};u(i.prototype,c.Mixin,y),r.addPoolingTo(i),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){"function"==typeof n?n(e.getPublicInstance()):r.addComponentAsRefTo(e,n,t)}function o(n,e,t){"function"==typeof n?n(null):r.removeComponentAsRefFrom(e,n,t)}var r=t(184),a={};a.attachRefs=function(n,e){var t=e.ref;null!=t&&i(t,n,e._owner)},a.shouldUpdateRefs=function(n,e){return e._owner!==n._owner||e.ref!==n.ref},a.detachRefs=function(n,e){var t=e.ref;null!=t&&o(t,n,e._owner)},n.exports=a},function(n,e,t){(function(e){"use strict";function i(n){"production"!==e.env.NODE_ENV?d(r.isValidElement(n),"renderToString(): You must pass a valid ReactElement."):d(r.isValidElement(n));var t;try{var i=a.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var e=u(n,null),o=e.mountComponent(i,t,c);return s.addChecksumToMarkup(o)},null)}finally{l.release(t)}}function o(n){"production"!==e.env.NODE_ENV?d(r.isValidElement(n),"renderToStaticMarkup(): You must pass a valid ReactElement."):d(r.isValidElement(n));var t;try{var i=a.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var e=u(n,null);return e.mountComponent(i,t,c)},null)}finally{l.release(t)}}var r=t(6),a=t(34),s=t(103),l=t(189),c=t(59),u=t(79),d=t(2);n.exports={renderToString:i,renderToStaticMarkup:o}}).call(e,t(1))},function(n,e,t){"use strict";function i(n){this.reinitializeTransaction(),this.renderToStaticMarkup=n,this.reactMountReady=r.getPooled(null),this.putListenerQueue=a.getPooled()}var o=t(24),r=t(63),a=t(106),s=t(58),l=t(5),c=t(19),u={initialize:function(){this.reactMountReady.reset()},close:c},d={initialize:function(){this.putListenerQueue.reset()},close:c},p=[d,u],f={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};l(i.prototype,s.Mixin,f),o.addPoolingTo(i),n.exports=i},function(n,e){"use strict";function t(n,e){var t={};return function(i){t[e]=i,n.setState(t)}}var i={createStateSetter:function(n,e){return function(t,i,o,r,a,s){var l=e.call(n,t,i,o,r,a,s);l&&n.setState(l)}},createStateKeySetter:function(n,e){var i=n.__keySetters||(n.__keySetters={});return i[e]||(i[e]=t(n,e))}};i.Mixin={createStateSetter:function(n){return i.createStateSetter(this,n)},createStateKeySetter:function(n){return i.createStateKeySetter(this,n)}},n.exports=i},function(n,e,t){"use strict";function i(n){}function o(n){return function(e,t){var o;P.isDOMComponent(e)?o=e.getDOMNode():e.tagName&&(o=e);var r=new i;r.target=o;var a=new _(f.eventNameDispatchConfigs[n],g.getID(o),r);C(a,t),c.accumulateTwoPhaseDispatches(a),v.batchedUpdates(function(){l.enqueueEvents(a),l.processEventQueue()})}}function r(){P.Simulate={};var n;for(n in f.eventNameDispatchConfigs)P.Simulate[n]=o(n)}function a(n){return function(e,t){var o=new i(n);C(o,t),P.isDOMComponent(e)?P.simulateNativeEventOnDOMComponent(n,e,o):e.tagName&&P.simulateNativeEventOnNode(n,e,o)}}var s=t(15),l=t(39),c=t(40),u=t(32),d=t(6),p=t(54),f=t(33),h=t(98),m=t(34),y=t(35),g=t(8),v=t(17),_=t(29),C=t(5),E=s.topLevelTypes,P={renderIntoDocument:function(n){var e=document.createElement("div");return u.render(n,e)},isElement:function(n){return d.isValidElement(n)},isElementOfType:function(n,e){return d.isValidElement(n)&&n.type===e},isDOMComponent:function(n){return!!(n&&n.tagName&&n.getDOMNode)},isDOMComponentElement:function(n){return!!(n&&d.isValidElement(n)&&n.tagName)},isCompositeComponent:function(n){return"function"==typeof n.render&&"function"==typeof n.setState},isCompositeComponentWithType:function(n,e){return!(!P.isCompositeComponent(n)||n.constructor!==e)},isCompositeComponentElement:function(n){if(!d.isValidElement(n))return!1;var e=n.type.prototype;return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentElementWithType:function(n,e){return!(!P.isCompositeComponentElement(n)||n.constructor!==e)},getRenderedChildOfCompositeComponent:function(n){if(!P.isCompositeComponent(n))return null;var e=y.get(n);return e._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(n,e){if(!n)return[];var t=e(n)?[n]:[];if(P.isDOMComponent(n)){var i,o=y.get(n),r=o._renderedComponent._renderedChildren;for(i in r)r.hasOwnProperty(i)&&r[i].getPublicInstance&&(t=t.concat(P.findAllInRenderedTree(r[i].getPublicInstance(),e)))}else P.isCompositeComponent(n)&&(t=t.concat(P.findAllInRenderedTree(P.getRenderedChildOfCompositeComponent(n),e)));return t},scryRenderedDOMComponentsWithClass:function(n,e){return P.findAllInRenderedTree(n,function(n){var t=n.props.className;return P.isDOMComponent(n)&&t&&-1!==(" "+t+" ").indexOf(" "+e+" ")})},findRenderedDOMComponentWithClass:function(n,e){var t=P.scryRenderedDOMComponentsWithClass(n,e);if(1!==t.length)throw new Error("Did not find exactly one match (found: "+t.length+") for class:"+e);return t[0]},scryRenderedDOMComponentsWithTag:function(n,e){return P.findAllInRenderedTree(n,function(n){return P.isDOMComponent(n)&&n.tagName===e.toUpperCase()})},findRenderedDOMComponentWithTag:function(n,e){var t=P.scryRenderedDOMComponentsWithTag(n,e);if(1!==t.length)throw new Error("Did not find exactly one match for tag:"+e);return t[0]},scryRenderedComponentsWithType:function(n,e){return P.findAllInRenderedTree(n,function(n){return P.isCompositeComponentWithType(n,e)})},findRenderedComponentWithType:function(n,e){var t=P.scryRenderedComponentsWithType(n,e);if(1!==t.length)throw new Error("Did not find exactly one match for componentType:"+e);return t[0]},mockComponent:function(n,e){return e=e||n.mockTagName||"div",n.prototype.render.mockImplementation(function(){return u.createElement(e,null,this.props.children)}),this},simulateNativeEventOnNode:function(n,e,t){t.target=e,f.ReactEventListener.dispatchEvent(n,t)},simulateNativeEventOnDOMComponent:function(n,e,t){P.simulateNativeEventOnNode(n,e.getDOMNode(),t)},nativeTouchData:function(n,e){return{touches:[{pageX:n,pageY:e}]}},createRenderer:function(){return new A},Simulate:null,SimulateNative:{}},A=function(){this._instance=null};A.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var x=function(n){this._renderedOutput=n,this._currentElement=null===n||n===!1?p.emptyElement:n};x.prototype={mountComponent:function(){},receiveComponent:function(n){this._renderedOutput=n,this._currentElement=null===n||n===!1?p.emptyElement:n},unmountComponent:function(){}};var N=function(){};C(N.prototype,h.Mixin,{_instantiateReactComponent:function(n){return new x(n)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:h.Mixin._renderValidatedComponentWithoutOwnerOrContext}),A.prototype.render=function(n,e){var t=v.ReactReconcileTransaction.getPooled();this._render(n,t,e),v.ReactReconcileTransaction.release(t)},A.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},A.prototype._render=function(n,e,t){if(this._instance)this._instance.receiveComponent(n,e,t);else{var i=m.createReactRootID(),o=new N(n.type);o.construct(n),o.mountComponent(i,e,t),this._instance=o}};var b=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){b.apply(this,arguments),r()};var T=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){T.apply(this,arguments),r()},r();var M;for(M in E){var S=0===M.indexOf("top")?M.charAt(3).toLowerCase()+M.substr(4):M;P.SimulateNative[S]=a(M)}n.exports=P},function(n,e,t){"use strict";var i=t(96),o=t(41),r={getChildMapping:function(n){return n?o.extract(i.map(n,function(n){return n})):n},mergeChildMappings:function(n,e){function t(t){return e.hasOwnProperty(t)?e[t]:n[t]}n=n||{},e=e||{};var i={},o=[];for(var r in n)e.hasOwnProperty(r)?o.length&&(i[r]=o,o=[]):o.push(r);var a,s={};for(var l in e){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var c=i[l][a];s[i[l][a]]=t(c)}s[l]=t(l)}for(a=0;a<o.length;a++)s[o[a]]=t(o[a]);return s}};n.exports=r},function(n,e,t){"use strict";function i(){var n=document.createElement("div"),e=n.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var t in s){var i=s[t];for(var o in i)if(o in e){l.push(i[o]);break}}}function o(n,e,t){n.addEventListener(e,t,!1)}function r(n,e,t){n.removeEventListener(e,t,!1)}var a=t(11),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];a.canUseDOM&&i();var c={addEndEventListener:function(n,e){return 0===l.length?void window.setTimeout(e,0):void l.forEach(function(t){o(n,t,e)})},removeEndEventListener:function(n,e){0!==l.length&&l.forEach(function(t){r(n,t,e)})}};n.exports=c},function(n,e,t){(function(e){"use strict";var i=t(159),o=t(32),r=t(164),a=t(161),s=t(41),l=t(108),c=t(17),u=t(213),d=t(110),p=t(231);o.addons={CSSTransitionGroup:a,LinkedStateMixin:i,PureRenderMixin:r,TransitionGroup:l,batchedUpdates:c.batchedUpdates,classSet:u,cloneWithProps:d,createFragment:s.create,update:p},"production"!==e.env.NODE_ENV&&(o.addons.Perf=t(101),o.addons.TestUtils=t(191)),n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";var i=t(31),o=i.injection.MUST_USE_ATTRIBUTE,r={Properties:{cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,y1:o,y2:o,y:o},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};n.exports=r},function(n,e,t){"use strict";function i(n){if("selectionStart"in n&&s.hasSelectionCapabilities(n))return{start:n.selectionStart,end:n.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var t=document.selection.createRange();return{parentElement:t.parentElement(),text:t.text,top:t.boundingTop,left:t.boundingLeft}}}function o(n){if(v||null==m||m!==c())return null;var e=i(m);if(!g||!p(g,e)){g=e;var t=l.getPooled(h.select,y,n);return t.type="select",t.target=m,a.accumulateTwoPhaseDispatches(t),t}}var r=t(15),a=t(40),s=t(102),l=t(29),c=t(114),u=t(119),d=t(20),p=t(121),f=r.topLevelTypes,h={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},m=null,y=null,g=null,v=!1,_={eventTypes:h,extractEvents:function(n,e,t,i){switch(n){case f.topFocus:(u(e)||"true"===e.contentEditable)&&(m=e,y=t,g=null);break;case f.topBlur:m=null,y=null,g=null;break;case f.topMouseDown:v=!0;break;case f.topContextMenu:case f.topMouseUp:return v=!1,o(i);case f.topSelectionChange:case f.topKeyDown:case f.topKeyUp:return o(i)}}};n.exports=_},function(n,e){"use strict";var t=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*t)}};n.exports=i},function(n,e,t){(function(e){"use strict";var i=t(15),o=t(64),r=t(40),a=t(199),s=t(29),l=t(202),c=t(204),u=t(57),d=t(201),p=t(205),f=t(47),h=t(206),m=t(76),y=t(2),g=t(20),v=t(7),_=i.topLevelTypes,C={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},E={topBlur:C.blur,topClick:C.click,topContextMenu:C.contextMenu,topCopy:C.copy,topCut:C.cut,topDoubleClick:C.doubleClick,topDrag:C.drag,topDragEnd:C.dragEnd,topDragEnter:C.dragEnter,topDragExit:C.dragExit,topDragLeave:C.dragLeave,topDragOver:C.dragOver,topDragStart:C.dragStart,topDrop:C.drop,topError:C.error,topFocus:C.focus,topInput:C.input,topKeyDown:C.keyDown,topKeyPress:C.keyPress,topKeyUp:C.keyUp,topLoad:C.load,topMouseDown:C.mouseDown,topMouseMove:C.mouseMove,topMouseOut:C.mouseOut,topMouseOver:C.mouseOver,topMouseUp:C.mouseUp,topPaste:C.paste,topReset:C.reset,topScroll:C.scroll,topSubmit:C.submit,topTouchCancel:C.touchCancel,topTouchEnd:C.touchEnd,topTouchMove:C.touchMove,topTouchStart:C.touchStart,topWheel:C.wheel};for(var P in E)E[P].dependencies=[P];var A={eventTypes:C,executeDispatch:function(n,t,i){var r=o.executeDispatch(n,t,i);"production"!==e.env.NODE_ENV?v("boolean"!=typeof r,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,r===!1&&(n.stopPropagation(),n.preventDefault())},extractEvents:function(n,t,i,o){var g=E[n];if(!g)return null;var v;switch(n){case _.topInput:case _.topLoad:case _.topError:case _.topReset:case _.topSubmit:v=s;break;case _.topKeyPress:if(0===m(o))return null;case _.topKeyDown:case _.topKeyUp:v=c;break;case _.topBlur:case _.topFocus:v=l;break;case _.topClick:if(2===o.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:v=u;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:v=d;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:v=p;break;case _.topScroll:v=f;break;case _.topWheel:v=h;break;case _.topCopy:case _.topCut:case _.topPaste:v=a}"production"!==e.env.NODE_ENV?y(v,"SimpleEventPlugin: Unhandled event type, `%s`.",n):y(v);var C=v.getPooled(g,i,o);return r.accumulateTwoPhaseDispatches(C),C}};n.exports=A}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(29),r={clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}};o.augmentClass(i,r),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(29),r={data:null};o.augmentClass(i,r),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(57),r={dataTransfer:null};o.augmentClass(i,r),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(47),r={relatedTarget:null};o.augmentClass(i,r),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(29),r={data:null};o.augmentClass(i,r),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(47),r=t(76),a=t(216),s=t(77),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(n){return"keypress"===n.type?r(n):0},keyCode:function(n){return"keydown"===n.type||"keyup"===n.type?n.keyCode:0},which:function(n){return"keypress"===n.type?r(n):"keydown"===n.type||"keyup"===n.type?n.keyCode:0}};o.augmentClass(i,l),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(47),r=t(77),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};o.augmentClass(i,a),n.exports=i},function(n,e,t){"use strict";function i(n,e,t){o.call(this,n,e,t)}var o=t(57),r={deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(i,r),n.exports=i},function(n,e){"use strict";function t(n){for(var e=1,t=0,o=0;o<n.length;o++)e=(e+n.charCodeAt(o))%i,t=(t+e)%i;return e|t<<16}var i=65521;n.exports=t},function(n,e){function t(n){return n.replace(i,function(n,e){return e.toUpperCase()})}var i=/-(.)/g;n.exports=t},function(n,e,t){"use strict";function i(n){return o(n.replace(r,"ms-"))}var o=t(208),r=/^-ms-/;n.exports=i},function(n,e,t){function i(n){return!!n&&("object"==typeof n||"function"==typeof n)&&"length"in n&&!("setInterval"in n)&&"number"!=typeof n.nodeType&&(Array.isArray(n)||"callee"in n||"item"in n)}function o(n){return i(n)?Array.isArray(n)?n.slice():r(n):[n]}var r=t(230);n.exports=o},function(n,e,t){(function(e){"use strict";function i(n){var t=r.createFactory(n),i=o.createClass({tagName:n.toUpperCase(),displayName:"ReactFullPageComponent"+n,componentWillUnmount:function(){"production"!==e.env.NODE_ENV?a(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):a(!1)},render:function(){return t(this.props)}});return i}var o=t(16),r=t(6),a=t(2);n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){function i(n){var e=n.match(u);return e&&e[1].toLowerCase()}function o(n,t){var o=c;"production"!==e.env.NODE_ENV?l(!!c,"createNodesFromMarkup dummy not initialized"):l(!!c);var r=i(n),u=r&&s(r);if(u){o.innerHTML=u[1]+n+u[2];for(var d=u[0];d--;)o=o.lastChild}else o.innerHTML=n;var p=o.getElementsByTagName("script");p.length&&("production"!==e.env.NODE_ENV?l(t,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(t),a(p).forEach(t));for(var f=a(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return f}var r=t(11),a=t(210),s=t(116),l=t(2),c=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;
n.exports=o}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){return"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?o(r,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"):null,r=!0),"object"==typeof n?Object.keys(n).filter(function(e){return n[e]}).join(" "):Array.prototype.join.call(arguments," ")}var o=t(7),r=!1;n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n,e){var t=null==e||"boolean"==typeof e||""===e;if(t)return"";var i=isNaN(e);return i||0===e||r.hasOwnProperty(n)&&r[n]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var o=t(93),r=o.isUnitlessNumber;n.exports=i},function(n,e,t){(function(e){"use strict";function i(n,t,i){var o=n,r=!o.hasOwnProperty(i);"production"!==e.env.NODE_ENV&&("production"!==e.env.NODE_ENV?a(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):null),r&&null!=t&&(o[i]=t)}function o(n){if(null==n)return n;var e={};return r(n,i,e),e}var r=t(122),a=t(7);n.exports=o}).call(e,t(1))},function(n,e,t){"use strict";function i(n){if(n.key){var e=r[n.key]||n.key;if("Unidentified"!==e)return e}if("keypress"===n.type){var t=o(n);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===n.type||"keyup"===n.type?a[n.keyCode]||"Unidentified":""}var o=t(76),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};n.exports=i},function(n,e){"use strict";function t(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function i(n){for(;n;){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function o(n,e){for(var o=t(n),r=0,a=0;o;){if(3===o.nodeType){if(a=r+o.textContent.length,e>=r&&a>=e)return{node:o,offset:e-r};r=a}o=t(i(o))}}n.exports=o},function(n,e){"use strict";function t(n){return n?n.nodeType===i?n.documentElement:n.firstChild:null}var i=9;n.exports=t},function(n,e){"use strict";function t(n){return n===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:n.scrollLeft,y:n.scrollTop}}n.exports=t},function(n,e){function t(n){return n.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;n.exports=t},function(n,e,t){"use strict";function i(n){return o(n).replace(r,"-ms-")}var o=t(220),r=/^ms-/;n.exports=i},function(n,e,t){function i(n){return o(n)&&3==n.nodeType}var o=t(118);n.exports=i},function(n,e){"use strict";function t(n){n||(n="");var e,t=arguments.length;if(t>1)for(var i=1;t>i;i++)e=arguments[i],e&&(n=(n?n+" ":"")+e);return n}n.exports=t},function(n,e){"use strict";function t(n,e,t){if(!n)return null;var o={};for(var r in n)i.call(n,r)&&(o[r]=e.call(t,n[r],r,n));return o}var i=Object.prototype.hasOwnProperty;n.exports=t},function(n,e){"use strict";function t(n){var e={};return function(t){return e.hasOwnProperty(t)||(e[t]=n.call(this,t)),e[t]}}n.exports=t},function(n,e,t){"use strict";var i,o=t(11);o.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),n.exports=i||{}},function(n,e,t){var i=t(226);i&&i.now||(i=Date);var o=i.now.bind(i);n.exports=o},function(n,e,t){"use strict";function i(n){return'"'+o(n)+'"'}var o=t(60);n.exports=i},function(n,e,t){"use strict";var i=t(11),o=t(60),r=t(81),a=function(n,e){n.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(a=function(n,e){r(n,o(e))})),n.exports=a},function(n,e,t){(function(e){function i(n){var t=n.length;if("production"!==e.env.NODE_ENV?o(!Array.isArray(n)&&("object"==typeof n||"function"==typeof n),"toArray: Array-like object expected"):o(!Array.isArray(n)&&("object"==typeof n||"function"==typeof n)),"production"!==e.env.NODE_ENV?o("number"==typeof t,"toArray: Object needs a length property"):o("number"==typeof t),"production"!==e.env.NODE_ENV?o(0===t||t-1 in n,"toArray: Object should have keys for indices"):o(0===t||t-1 in n),n.hasOwnProperty)try{return Array.prototype.slice.call(n)}catch(i){}for(var r=Array(t),a=0;t>a;a++)r[a]=n[a];return r}var o=t(2);n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){return Array.isArray(n)?n.concat():n&&"object"==typeof n?a(new n.constructor,n):n}function o(n,t,i){"production"!==e.env.NODE_ENV?l(Array.isArray(n),"update(): expected target of %s to be an array; got %s.",i,n):l(Array.isArray(n));var o=t[i];"production"!==e.env.NODE_ENV?l(Array.isArray(o),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",i,o):l(Array.isArray(o))}function r(n,t){if("production"!==e.env.NODE_ENV?l("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",m.join(", "),p):l("object"==typeof t),t.hasOwnProperty(p))return"production"!==e.env.NODE_ENV?l(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",p):l(1===Object.keys(t).length),t[p];var s=i(n);if(t.hasOwnProperty(f)){var g=t[f];"production"!==e.env.NODE_ENV?l(g&&"object"==typeof g,"update(): %s expects a spec of type 'object'; got %s",f,g):l(g&&"object"==typeof g),"production"!==e.env.NODE_ENV?l(s&&"object"==typeof s,"update(): %s expects a target of type 'object'; got %s",f,s):l(s&&"object"==typeof s),a(s,t[f])}t.hasOwnProperty(c)&&(o(n,t,c),t[c].forEach(function(n){s.push(n)})),t.hasOwnProperty(u)&&(o(n,t,u),t[u].forEach(function(n){s.unshift(n)})),t.hasOwnProperty(d)&&("production"!==e.env.NODE_ENV?l(Array.isArray(n),"Expected %s target to be an array; got %s",d,n):l(Array.isArray(n)),"production"!==e.env.NODE_ENV?l(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]):l(Array.isArray(t[d])),t[d].forEach(function(n){"production"!==e.env.NODE_ENV?l(Array.isArray(n),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]):l(Array.isArray(n)),s.splice.apply(s,n)})),t.hasOwnProperty(h)&&("production"!==e.env.NODE_ENV?l("function"==typeof t[h],"update(): expected spec of %s to be a function; got %s.",h,t[h]):l("function"==typeof t[h]),s=t[h](s));for(var v in t)y.hasOwnProperty(v)&&y[v]||(s[v]=r(n[v],t[v]));return s}var a=t(5),s=t(20),l=t(2),c=s({$push:null}),u=s({$unshift:null}),d=s({$splice:null}),p=s({$set:null}),f=s({$merge:null}),h=s({$apply:null}),m=[c,u,d,p,f,h],y={};m.forEach(function(n){y[n]=!0}),n.exports=r}).call(e,t(1))},function(n,e){n.exports={}},function(n,e,t){var i=t(13),o=t(123);n.exports=i.extend({componentWillUnmount:o.stopListeningToAll},o)},function(n,e,t){var i=t(13);n.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(n,e){e=e||this;var t=function(t){o||n.apply(e,t)},i=this,o=!1;return this.emitter.addListener(this.eventLabel,t),function(){o=!0,i.emitter.removeListener(i.eventLabel,t)}},promise:function(n){var e=this,t=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!t)throw new Error('Publisher must have "completed" and "failed" child publishers');n.then(function(n){return e.completed(n)},function(n){return e.failed(n)})},listenAndPromise:function(n,e){var t=this;e=e||this,this.willCallPromise=(this.willCallPromise||0)+1;var i=this.listen(function(){if(!n)throw new Error("Expected a function returning a promise but got "+n);var i=arguments,o=n.apply(e,i);return t.promise.call(t,o)},e);return function(){t.willCallPromise--,i.call(t)}},trigger:function(){var n=arguments,e=this.preEmit.apply(this,n);n=void 0===e?n:i.isArguments(e)?e:[].concat(e),this.shouldEmit.apply(this,n)&&this.emitter.emit(this.eventLabel,n)},triggerAsync:function(){var n=arguments,e=this;i.nextTick(function(){e.trigger.apply(e,n)})},triggerPromise:function(){var n=this,e=arguments,t=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,o=i.createPromise(function(o,r){if(n.willCallPromise)return void i.nextTick(function(){var t=n.promise;n.promise=function(e){return e.then(o,r),n.promise=t,n.promise.apply(n,arguments)},n.trigger.apply(n,e)});if(t)var a=n.completed.listen(function(n){a(),s(),o(n)}),s=n.failed.listen(function(n){a(),s(),r(n)});n.triggerAsync.apply(n,e),t||o()});return o}}},function(n,e){n.exports={}},function(n,e){n.exports=function(n,e){for(var t in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var i=Object.getOwnPropertyDescriptor(e,t);if(!i.value||"function"!=typeof i.value||!e.hasOwnProperty(t))continue;n[t]=e[t].bind(n)}else{var o=e[t];if("function"!=typeof o||!e.hasOwnProperty(t))continue;n[t]=o.bind(n)}return n}},function(n,e,t){var i=t(36),o=t(13);n.exports=function(n,e){return{getInitialState:function(){return o.isFunction(n.getInitialState)?void 0===e?n.getInitialState():o.object([e],[n.getInitialState()]):{}},componentDidMount:function(){o.extend(this,i.ListenerMethods);var t=this,r=void 0===e?this.setState:function(n){t.setState(o.object([e],[n]))};this.listenTo(n,r)},componentWillUnmount:i.ListenerMixin.componentWillUnmount}}},function(n,e,t){var i=t(36),o=t(13);n.exports=function(n,e,t){return t=o.isFunction(e)?e:t,{getInitialState:function(){if(o.isFunction(n.getInitialState)){if(o.isFunction(e))return t.call(this,n.getInitialState());var i=t.call(this,n.getInitialState());return i?o.object([e],[i]):{}}return{}},componentDidMount:function(){o.extend(this,i.ListenerMethods);var r=this,a=function(n){if(o.isFunction(e))r.setState(t.call(r,n));else{var i=t.call(r,n);r.setState(o.object([e],[i]))}};this.listenTo(n,a)},componentWillUnmount:i.ListenerMixin.componentWillUnmount}}},function(n,e,t){var i=t(13),o=t(36),r=t(83),a={preEmit:1,shouldEmit:1},s=function(n){n=n||{},i.isObject(n)||(n={actionName:n});for(var e in o.ActionMethods)if(!a[e]&&o.PublisherMethods[e])throw new Error("Cannot override API method "+e+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var t in n)if(!a[t]&&o.PublisherMethods[t])throw new Error("Cannot override API method "+t+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");n.children=n.children||[],n.asyncResult&&(n.children=n.children.concat(["completed","failed"]));for(var l=0,c={};l<n.children.length;l++){var u=n.children[l];c[u]=s(u)}var d=i.extend({eventLabel:"action",emitter:new i.EventEmitter,_isAction:!0},o.PublisherMethods,o.ActionMethods,n),p=function(){return p[p.sync?"trigger":"triggerPromise"].apply(p,arguments)};return i.extend(p,c,d),r.createdActions.push(p),p};n.exports=s},function(n,e,t){var i=t(36);n.exports=function(n,e,t){return{componentDidMount:function(){for(var o in i.ListenerMethods)if(this[o]!==i.ListenerMethods[o]){if(this[o])throw"Can't have other property '"+o+"' when using Reflux.listenTo!";this[o]=i.ListenerMethods[o]}this.listenTo(n,e,t)},componentWillUnmount:i.ListenerMethods.stopListeningToAll}}},function(n,e,t){var i=t(36);n.exports=function(n){return{componentDidMount:function(){for(var e in i.ListenerMethods)if(this[e]!==i.ListenerMethods[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=i.ListenerMethods[e]}this.listenToMany(n)},componentWillUnmount:i.ListenerMethods.stopListeningToAll}}},function(n,e,t){var i=t(13);n.exports=function(n){var e={init:[],preEmit:[],shouldEmit:[]},t=function o(n){var t={};return n.mixins&&n.mixins.forEach(function(n){i.extend(t,o(n))}),i.extend(t,n),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&e[t].push(n[t])}),t}(n);return e.init.length>1&&(t.init=function(){var n=arguments;e.init.forEach(function(e){e.apply(this,n)},this)}),e.preEmit.length>1&&(t.preEmit=function(){return e.preEmit.reduce(function(n,e){var t=e.apply(this,n);return void 0===t?n:[t]}.bind(this),arguments)}),e.shouldEmit.length>1&&(t.shouldEmit=function(){var n=arguments;return!e.shouldEmit.some(function(e){return!e.apply(this,n)},this)}),Object.keys(e).forEach(function(n){1===e[n].length&&(t[n]=e[n][0])}),t}},function(n,e){"use strict";!function(){brandAdvance2.init()}()},function(n,e,t){(function(e,t){"use strict";n.exports=function(){var n={};return n.ba2Constructor=function(n){return this.initFlag=!0,this.settings={scrollIndex:-1,scrollPosition:0,cpConsole:!0,cpEnable:!0,cpTrkObj:{},ippTrkObj:{},ippConsole:!0,ippEnable:!0,configElements:e(".scroll-indicator-1"),cur_scene:0,rememberMeObj:e("meta[data-engagement]").data(),rememberMeFlg:!0,originUrl:location.href.replace(location.hash,""),nextSceneNumber:0,isFullScreen:!1,app:window.navigator.userAgent.indexOf("medscapeapp")},this.settings=e.extend(this.settings,n),this},n.init=function(){var t=this;if(!t.initFlag)return t.ba2Constructor(),"undefined"!=typeof t.tracking?t.tracking.init():console.log("tracking object is not well-formed/parseable"),(t.directLinkFn()||e("meta[data-engagement]").length<=0||"false"===t.settings.rememberMeObj.engagement.feature)&&(t.settings.rememberMeFlg=!1),t.cpValidation(),t.ippValidation(),e(document).ready(function(){t.progressBar(),t.trackJumpLinks(),0===e("[data-qnaFormId]").length&&t.trackScene(),t.isiToggleButtons(),t.isiContentPosition(),t.settings.cpEnable&&(t.cpStart(),t.cpDropOff()),t.settings.ippEnable&&t.ippDropOff(),t.autoScrollIsi(),t.isiFinalState(),t.expandableButton(),t.configElementsFn(),t.orientationChange(),0===e("[data-qnaFormId]").length&&t.rememberMe()}),window.addEventListener("load",function(){t.settings.cpEnable&&t.cpLoad(),t.settings.ippEnable&&t.trackIpp("startPresentation"),e(".isi").hasClass("is-expanded")&&(e("body").addClass("no-scroll"),window.matchMedia("(max-width: 800px)").matches&&(n.settings.scrollPosition=e("body").scrollTop(),e(".scene").hide())),t.inputIsiBind()}),t},n.expandableButton=function(){e(".js-expandable-button").on("click touchend",function(n){n.preventDefault(),e(this).parent().toggleClass("is-expanded")})},n.toggleIsi=function(){e(".isi").toggleClass("is-expanded"),e("body").toggleClass("no-scroll"),window.matchMedia("(max-width: 800px)").matches&&(e(".isi").hasClass("is-expanded")?(n.settings.scrollPosition=e("body").scrollTop(),e(".scene").hide()):(e(".scene").show(),e("body").scrollTop(n.settings.scrollPosition)))},n.isiToggleButtons=function(){var n=this;e(".js-isi-toggle").length>0?e(".js-isi-toggle").on("click touchend",n.toggleIsi):console.log("The class to support the ISI toggle functionality is missing")},n.isiContentPosition=function(){var n=this;e(".isi-header").on("click",function(){e(".isi").hasClass("is-expanded")||n.isiAnchorFn(e(".scene"),n.settings.scrollIndex)})},n.cpValidation=function(){e("[data-cp]").length>0?this.settings.cpTrkObj=e("[data-cp]").data():this.settings.cpConsole&&(console.log('"data-cp" meta tag not well-formed/parseable, please check formatting for tracking.'),this.settings.cpEnable=!1,this.settings.cpConsole=!1)},n.cpStart=function(){this.settings.cpTrkObj.cp.appname="ippevent",this.settings.cpTrkObj.cp.activityName="requestCSD",postCp(this.settings.cpTrkObj.cp)},n.cpLoad=function(){this.settings.cpTrkObj.cp.appname="ippevent",this.settings.cpTrkObj.cp.activityName="participation",postCp(this.settings.cpTrkObj.cp)},n.cpScene=function(n,e){this.settings.cpTrkObj.cp.appname="ippcontent",this.settings.cpTrkObj.cp.activityName="scn"+(n+e+1),postCp(this.settings.cpTrkObj.cp)},n.cpLastScene=function(){this.settings.cpTrkObj.cp.appname="ippevent",this.settings.cpTrkObj.cp.activityName="completion",postCp(this.settings.cpTrkObj.cp)},n.dropOff=function(){var n=e("[data-cp]").data();n.cp.appname="ippevent",n.cp.activityName="drop-off",postCp(n.cp)},n.postCpString=function(){var n,t,i,o="",r=new XMLHttpRequest,a=e("[data-cp]").data();a.cp.appname="ippevent",a.cp.activityName="drop-off",a.date=(new Date).getTime(),i=JSON.stringify(a.cp),("undefined"!=typeof s_registered_user_id||"undefined"!=typeof a.uid)&&("undefined"==typeof a.uid&&(a.uid=s_registered_user_id),"undefined"==typeof a.url&&(a.url=encodeURIComponent(window.location.href.split("?")[0]))),-1!=window.location.href.indexOf(".staging.")&&(o=".staging"),null!==window.location.href.match(/\.qa\d\d/)&&(o+=window.location.href.match(/\.qa\d\d/)[0]),n="http://api"+o+".medscape.com/cp/events.json?event="+i,r.open("GET",n,!1),r.send(),t=r.responseText,console.log("Ajax Call Status: ",r.status),console.log("Ajax Response: "+t)},n.cpDropOff=function(){var n=this;try{opera.setOverrideHistoryNavigationMode("compatible"),history.navigationMode="compatible"}catch(t){}/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?e(window).on("pagehide",function(){n.postCpString()}):e(window).bind("beforeunload",n.dropOff)},n.hideOnDelay=function(n){if(e("[data-hide-after-load]").length<=0)console.log("Data attribute missing for hidding by time");else{var t=0,i=e(n).data("hide-after-load-time");if(isNaN(i)||e(n).data("hide-after-load")===!1||0===i)return void console.log("Please verify Data attribute value for hidding by time");clearTimeout(t),t=setTimeout(function(){e(n).addClass("is-invisible"),e(n).removeClass("is-visible")},1e3*i)}},n.hideOnScroll=function(n){return e(n).data("hide-when-scroll")===!1?void console.log("Data attribute used to disable hidding on scoll"):void e(window).on("scroll touchstart",function(){var t=window.pageYOffset,i=1;t>i&&e(n).hasClass("is-invisible")===!1&&e(n).addClass("is-invisible")})},n.inactiveScreen=function(n){function t(){i++,e("[data-show-when-idle]").each(function(t,o){var r=e(n).data("show-when-idle-time");return isNaN(r)||e(n).data("show-when-idle")===!1||0===r?void console.log("Please varify Data attribute value for hidding on scoll"):void(i>=r&&e(n).hasClass("is-invisible")&&e(n).removeClass("is-invisible"))})}if(e("[data-show-when-idle]").length<=0)console.log("Data attribute for inactivity missing");else{var i=0;e(document).on("click mousemove keypress scroll touchmove touchstart",function(){i=0}),window.setInterval(t,1e3)}},n.scrollIndicatorAtScene=function(n,t){var i=this;e(n[t]).hasClass("scene js-show-scroll-indicator")?(e(i.settings.configElements).removeClass("is-invisible"),e(i.settings.configElements).addClass("is-visible"),e(i.settings.configElements).each(function(n,e){i.hideOnDelay(this)})):e(i.settings.configElements).removeClass("is-visible")},n.configElementsFn=function(){var t=this;n.settings.configElements.length>0&&e(n.settings.configElements).each(function(n,e){t.scrollIndicatorAtScene(this),t.hideOnDelay(this),t.hideOnScroll(this),t.inactiveScreen(this)})},n.progressBar=function(){e(window).scroll(function(){var n=e(window).scrollTop(),t=e(document).height(),i=e(window).height(),o=n/(t-i)*100;e(".progressPosition").css("width",o+"%")})},n.trackScene=function(){var n=e(".scene"),t=new Array(n.length),i=this;if(i.directLinkFn()){var o=i.directLinkFn();i.settings.scrollIndex-o!==-1&&(i.eleScrollTopFn("#scene"+o),o===e(".scene").length?i.lastSceneTrack():(i.settings.cpEnable&&(i.cpScene(0,o-1),"undefined"!=i.tracking&&i.tracking.trackScn(0,o-1)),i.settings.cur_scene=o,console.log("Top of Scene: "+o),e(document).trigger("currentScene")),i.settings.scrollIndex=o-1)}e(document).scroll(function(){var o=e(window).scrollTop(),r=[],a=[];e(".scene").each(function(n,t){r.push(e(this).height()),a.push(e(this).offset())});for(var s=0;s<n.length;s++)t[s]=o-(a[s].top-a[0].top),t[0]>-25&&t[0]<25&&0!==i.settings.scrollIndex&&(i.isiAnchorFn(n,0),i.firstSceneTrack()),t[s]+e(window).height()/2<25&&t[s]+e(window).height()/2>-25&&s!==i.settings.scrollIndex&&(i.isiAnchorFn(n,s),s+1===n.length?i.lastSceneTrack():(i.settings.cpEnable&&(i.cpScene(0,s),"undefined"!=i.tracking&&i.tracking.trackScn(0,s)),i.settings.cur_scene=s+1,console.log("Top of Scene: "+(s+1)),e(document).trigger("currentScene"),i.scrollIndicatorAtScene(n,s)),i.settings.scrollIndex=s)})},n.autoScroll=function(n){e(".isi").hasClass("is-expanded")&&(e(".isi").on("click touchend",function(){e(".isi-content").stop()}),e(".isi-content").animate({scrollTop:e(".isi-content")[0].scrollHeight},1e3*n,"linear"))},n.autoScrollIsi=function(){var n=this;if(e("[data-autoscroll]").length>0){var t=e("[data-autoscroll]").data("autoscroll");Boolean(t)?e(".isi").one("click touchend",function(){setTimeout(function(){n.autoScroll(t)},500)}):console.log("Please varify data attribute to autoscroll isi content")}else console.log("Data attribute missing to support feature to autoscroll isi content is missing")},n.isiFinalState=function(){if(void 0!==e("#isi").data("final-state-time")&&e("#isi").data("final-state-time")>0){var n=e("#isi").data("final-state-time"),t=0;e(".isi").hasClass("is-expanded")?(e("body").addClass("no-scroll"),clearTimeout(t),t=setTimeout(function(){e("#isi").removeClass("is-expanded"),e("#isi").addClass("is-final-state"),e("body").removeClass("no-scroll")},1e3*n)):(clearTimeout(t),t=setTimeout(function(){e("#isi").addClass("is-final-state")},1e3*n))}else 0===e("#isi").data("final-state-time")?e(window).on("scroll touchstart",function(){var n=window.pageYOffset,t=1;n>t&&e("#isi").addClass("is-final-state")}):console.log("Final state time is not added to isi");if(e(".isi").hasClass("is-expanded")&&e("#isiArea").attr("data-accept")&&0===e("#isi").data("final-state-time")){var i=e("#isiArea").data("accept"),o=e(".isi-header-text-expanded").text();e("body").addClass("no-scroll"),e(".isi-header-text-expanded").text(i),e(".isi-header").on("click",function(){e(".isi-header-text-expanded").text(o)})}},n.blockerScreen=function(n){var i=this,o=e(document.body).find("#blocker"),r="scene-"+i.settings.cur_scene,a=document.domain,s=i.tracking.settings.pamProductName,l=i.tracking.settings.sfNumObj.tracking.version,c=i.tracking.settings.sfNumObj.tracking.sfNum;hashValueLndscp=t.MD5(c+"_"+l+"_"+r+"_LNDSCP"),hashValuePtrt=t.MD5(c+"_"+l+"_"+r+"_PTRT"),pNameLndscp=a+"/"+s+"/"+c+"/"+hashValueLndscp+"/",pNamePtrt=a+"/"+s+"/"+c+"/"+hashValuePtrt+"/",o&&o.length>0&&("landscape-blocker"===e("#blocker").attr("class")?window.matchMedia("(orientation: landscape)").matches?(console.log("Landscape Blocker available"),"undefined"!=i.tracking&&i.tracking.omniPageView(r,pNameLndscp),e("html, body").off("touchstart touchmove scroll"),e("html, body").on("touchstart touchmove scroll",function(n){n.preventDefault()})):(console.log("Portrait mode active."),e("html, body").off("touchstart touchmove scroll"),e("html, body").on("touchstart touchmove scroll",function(n){return!0})):"portrait-blocker"===e("#blocker").attr("class")?window.matchMedia("(orientation: portrait)").matches?(console.log("Portrait Blocker available"),"undefined"!=i.tracking&&i.tracking.omniPageView(r,pNamePtrt),e("html, body").off("touchstart touchmove scroll"),e("html, body").on("touchstart touchmove scroll",function(n){n.preventDefault()})):(console.log("Landscape mode active."),e("html, body").off("touchstart touchmove scroll"),e("html, body").on("touchstart touchmove scroll",function(n){return!0})):console.log("There is no Blocker Class Added"))},n.orientationChange=function(e){var t="onorientationchange"in window,i=t?"orientationchange":"resize";window.addEventListener(i,function(){n.blockerScreen()},!1)},n.ippValidation=function(){e("[data-ipp]").length>0?this.settings.ippTrkObj=e("[data-ipp]").data():this.settings.ippConsole&&(console.log('"data-ipp" meta tag not well-formed/parseable, please check formatting for tracking.'),this.settings.ippEnable=!1,this.settings.ippConsole=!1)},n.trackIpp=function(n){var e=this;if("undefined"!=typeof e.settings.ippTrkObj.ipp.wpUrl&&"undefined"!=typeof e.settings.ippTrkObj.ipp.parIdE&&"undefined"!=typeof e.settings.ippTrkObj.ipp.activityId){var t=new Image(1,1);"undefined"!=typeof e.settings.ippTrkObj.ipp.tacticId?t.src="http://"+e.settings.ippTrkObj.ipp.wpUrl+"/activity/viewpresentation?action="+n+"&activityId="+e.settings.ippTrkObj.ipp.activityId+"&parId="+e.settings.ippTrkObj.ipp.parIdE+"&tacticId="+e.settings.ippTrkObj.ipp.tacticId:t.src="http://"+e.settings.ippTrkObj.ipp.wpUrl+"/activity/viewpresentation?action="+n+"&activityId="+e.settings.ippTrkObj.ipp.activityId+"&parId="+e.settings.ippTrkObj.ipp.parIdE}},n.ippDropOff=function(){var n=this,t="";try{opera.setOverrideHistoryNavigationMode("compatible"),history.navigationMode="compatible"}catch(i){}t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"pagehide":"beforeunload",e(window).on(t,function(){n.trackIpp("logBrowserClose")})},n.rememberMe=function(){var n=this,t="";window.location.host.split(".").length>3&&(t=window.location.host.split(".")[1]+".");try{e.ajax({type:"GET",contentType:"application/jsonp",url:"http://api."+t+"medscape.com/cp/ipplastvisit/user/"+Number(s_registered_user_id)/27+"/activities/"+n.settings.ippTrkObj.ipp.activityId,dataType:"jsonp",timeout:1e3,success:function(t){if("undefined"!=typeof t.activities[0].scene&&(t.activities[0].lastscene=Number(t.activities[0].scene.name.split("scn")[1])),n.settings.rememberMeFlg){if("true"===n.settings.rememberMeObj.engagement.toastAlert){var i=2500;if(("undefined"!=typeof n.settings.rememberMeObj.engagement.toastAlertTime||n.settings.rememberMeObj.engagement.toastAlertTime>0)&&(i=1e3*n.settings.rememberMeObj.engagement.toastAlertTime),e(".restart-resume").children().length>0)return;e(".restart-resume").append("<div>You last viewed this program on </div>"+n.readableDate(t.activities[0].participation.lastEventDate)),e(".restart-resume").addClass("is-visible"),setTimeout(function(){e(".restart-resume").addClass("is-invisible"),e(".restart-resume").removeClass("is-visible")},i)}"false"===n.settings.rememberMeObj.engagement.defaultStart&&n.getBookmark(t.activities[0])}},error:function(n){console.log("ipp last visit call failed")}}),window.addEventListener("load",function(){e(window).scrollTop()<25&&0!==n.settings.scrollIndex&&n.firstSceneTrack()})}catch(i){console.log(i)}},n.getBookmark=function(n){try{var t=this;if(null!==t.settings.rememberMeObj)for(var i in t.settings.rememberMeObj.engagement)Number(i.split("scn")[1])===n.lastscene&&(t.settings.nextSceneNumber=t.settings.rememberMeObj.engagement[i].split("scn")[1]);if("undefined"!=typeof n.completion&&e(".scene").length===n.lastscene)t.eleScrollTopFn("#scene1"),0!==t.settings.scrollIndex&&t.firstSceneTrack();else if("undefined"!=typeof n.participation&&e(".scene").length!==n.lastscene){var o=-1;o=0!==t.settings.nextSceneNumber?t.settings.nextSceneNumber:n.lastscene+1,e("#scene"+o)[0].scrollIntoView(),e(".scene").length!==o&&(document.body.scrollTop-=e("#header").height(),document.documentElement.scrollTop-=e("#header").height()),o!==t.settings.scrollIndex+1&&(o===e(".scene").length?t.lastSceneTrack():(t.settings.cpEnable&&(t.cpScene(0,o-1),"undefined"!=t.tracking&&t.tracking.trackScn(0,o-1)),t.settings.cur_scene=o,console.log("Top of Scene: "+o),e(document).trigger("currentScene")),t.settings.scrollIndex=o-1)}}catch(r){console.log(r)}},n.readableDate=function(n){var e=new Date(Number(n)).toDateString(),t=e.split(" ")[0];switch(t){case"Sun":t="Sunday";break;case"Mon":t="Monday";break;case"Tue":t="Tuesday";break;case"Wed":t="Wednesday";break;case"Thu":t="Thursday";break;case"Fri":t="Friday";break;case"Sat":t="Saturday"}var i=e.split(" ")[1];switch(i){case"Jan":i="January";break;case"Feb":i="February";break;case"Mar":i="March";break;case"Apr":i="April";break;case"May":i="May";break;case"Jun":i="June";break;case"Jul":i="July";break;case"Aug":i="August";break;case"Sep":i="September";break;case"Oct":i="October";break;case"Nov":i="November";break;case"Dec":i="December"}var o=e.split(" ")[2];return 2==o.length&&"1"==o[0]?o+="th":null!==o[o.length-1].match(/0|4-9/)?o+="th":"1"==o[o.length-1]?o+="st":"2"==o[o.length-1]?o+="nd":"3"==o[o.length-1]&&(o+="rd"),String(t+", "+i+" "+o+", "+e.split(" ")[3])},n.isiAnchorFn=function(n,t){if("undefined"!=typeof e(".isi-content")){var i=e("[data-anchor="+e(n[t]).attr("id")+"]");e(".isi-content")[0].scrollTop=0,e(i).length>0&&(e("#header").has("#isi").length>0?e(".isi-content")[0].scrollTop=e(i).position().top-2*e(".chrome-header").height():e(".isi-content")[0].scrollTop=e(i).position().top)}},n.trackJumpLinks=function(){var n=this;e("a").each(function(t,i){var o=this.href;if(o.indexOf(n.settings.originUrl)>-1&&!e(this).hasClass("js-expandable-button")){var r=e(this).data("jump-scene");e(this).on("click",function(t){t.preventDefault(),n.eleScrollTopFn(this.hash),r===e(".scene").length?n.lastSceneTrack():(n.settings.cpEnable&&(n.cpScene(0,r-1),"undefined"!=n.tracking&&n.tracking.trackScn(0,r-1)),n.settings.cur_scene=r,console.log("Top of Scene: "+r),e(document).trigger("currentScene")),n.settings.scrollIndex=r-1})}})},n.directLinkFn=function(){var n=window.location.href.split("&");for(var e in n)if(n[e].indexOf("scene")>-1){var t=Number(n[e].split("=")[1]);return t}},n.eleScrollTopFn=function(n){e(n)[0].scrollIntoView(),document.body.scrollTop-=e("#header").height(),document.documentElement.scrollTop-=e("#header").height()},n.firstSceneTrack=function(){var n=this;if(e(document).on("mozfullscreenchange webkitfullscreenchange MSFullscreenChange fullscreenchange",function(e){n.settings.isFullScreen=!0}),!e(".isi").hasClass("is-expanded")&&!n.settings.isFullScreen){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;t||(n.settings.cpEnable&&(n.cpScene(0,0),"undefined"!=n.tracking&&n.tracking.trackScn(0,0)),n.settings.cur_scene=1,console.log("Top of Scene: 1"),e(document).trigger("currentScene"),n.settings.scrollIndex=0)}},n.lastSceneTrack=function(){var n=this,t=e(".scene").length;n.settings.cpEnable&&(n.cpScene(0,t-1),n.cpLastScene()),n.settings.ippEnable&&(n.trackIpp("endActivity"),"undefined"!=n.tracking&&n.tracking.trackScn(0,t-1)),n.settings.cur_scene=t,console.log("Top of Last Scene "),e(document).trigger("currentScene")},n.inputIsiBind=function(){var n=this;e("input").each(function(e,t){t.addEventListener("focus",function(){n.hideIsiOnMobile()}),t.addEventListener("blur",function(){n.unHideIsiOnMobile()})})},n.hideIsiOnMobile=function(){window.matchMedia("(max-width: 800px)").matches&&(e(".isi").hide(),this.settings.app>0&&e("#header").css("position","absolute"))},n.unHideIsiOnMobile=function(){window.matchMedia("(max-width: 800px)").matches&&(e(".isi").show(),this.settings.app>0&&e("#header").css("position","fixed"))},n}}).call(e,t(10),t(92))},function(module,exports,__webpack_require__){(function($){"use strict";module.exports=function(){return brandAdvance2.tracking={settings:{type:"tracking",omnitureEnable:!0,vptrackEnable:!0,vpUrl:window.location.href.split("?")[0].split("#")[0].replace(/\/$/,""),omniPagenameDefault:window.location.href.split("://")[1].split("?")[0].split("#")[0].replace("www.",""),pamProductName:"brandadvance2",pamHashArray:[],iOsDropOffFlag:!1,appRequestCSD:!1,appDropOff:!1,sfNumObj:{}},startListeners:function startListeners(){var self=this;$(document).on("TrackBind",function(event,param){var activeFunc=eval("self."+param[0]);param.shift(),activeFunc.apply(self,param)}),$(document).on("PageNamePAM",function(n,e){s_md.pageName=document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+self.settings.pamProductName+"/"+self.settings.ippObj.sfNum+"/"+window.CryptoJS.MD5(self.settings.ippObj.sfNum+"_"+e)+"/",self.settings.omniPagenameDefault=document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+self.settings.pamProductName+"/"+self.settings.ippObj.sfNum+"/"+window.CryptoJS.MD5(self.settings.ippObj.sfNum+"_"+e)+"/"})},init:function(){var n=this;return n.startListeners(),n.sfValidation(),n.createHashTable(),window.addEventListener("load",function(){
if(n.trackScn(0,-1),$("#isi").hasClass("is-expanded")){var e="SCENE-0_ROADBLOCK",t="N/A",i=n.settings.sfNumObj.tracking.sfNum,o=i+"_"+e,r=window.CryptoJS.MD5(o),a=document.domain,s=a+"/"+n.settings.pamProductName+"/"+i+"/"+r+"/";n.omniPageLink(t,s)}}),$(window).on("pagehide beforeunload",function(e){var t="vsp-close_bc",i=n.settings.sfNumObj.tracking.sfNum,o=document.domain,r=i+"-scene-0";hashValue=window.CryptoJS.MD5(r),pName=o+"/"+n.settings.pamProductName+"/"+i+"/"+hashValue+"/",n.omniPageLink(t,pName)}),"#getHash"===window.location.hash&&n.getHashTable(),this},sfValidation:function(){$("meta[data-tracking]").length>0?this.settings.sfNumObj=$("meta[data-tracking]").data():console.log("The SF number is missing")},createHashTable:function(){for(var n=this,e="",t="",i="",o=document.domain,r=(n.settings.sfNumObj.tracking.version,""),a=n.settings.sfNumObj.tracking.sfNum,s="",l=[25,50,75],c="",u="",d="",p="",f=0;f<=$(".scene").length;f++)e="scene-"+f,t=a+"-"+e,r=window.CryptoJS.MD5(t),n.getHashValues(t,r,"N/A","N/A");c="Close",i="vsp-close_bc",u=a+"-scene-0",d=window.CryptoJS.MD5(u),n.getHashValues(u,d,i,c),$("body").find(".video-scene").each(function(i,o){e="scene-"+$(this).children("div").attr("data-scene"),t=a+"-"+e,r=window.CryptoJS.MD5(t);for(var s=0;s<l.length;s++)n.getHashValues(t,r,"vidsvp-video"+l[s],"N/A");n.getHashValues(t,r,"vidsvp-video100","N/A"),n.getHashValues(t,r,"vidsvp-videostart","N/A"),n.getHashValues(t,r,"vidsvp-videopause","N/A")}),i="scene-0_ROADBLOCK",u=a+"_"+i,d=window.CryptoJS.MD5(u),n.getHashValues(u,d,i,"N/A"),$("body").find("[data-idTracking]").each(function(t,i){if($(this).hasClass("js-expandable-button"))f="Expand",h="vsp-expnd",s=$(this).data("idtracking"),h=h+"_"+s,e=$(this).data("scene"),r=a+"-"+e+"_REFERENCES",p=a+"-scene-"+e,l=window.CryptoJS.MD5(p),n.getHashValues(r,l,h,f),f="Collapse",h="vsp-collpse_"+s,n.getHashValues(r,l,h,f),$(this).on("click",function(){var t=this;setTimeout(function(){d="",h="",s=$(t).data("idtracking"),h=$(t).parent().hasClass("is-expanded")?"vsp-expnd_"+s:"vsp-collpse_"+s,e=brandAdvance2.settings.cur_scene,r=a+"-"+e+"_REFERENCES",p=a+"-scene-"+e,l=window.CryptoJS.MD5(p),l=n.hashOverride(r,h,l),c=o+"/"+n.settings.pamProductName+"/"+a+"/"+l+"/",n.omniPageLink(h,c)},250)});else if($(this).hasClass("isi-header"))f="Expand ISI",h="vsp-expnd_ISI",r=a+"_ISI",l=window.CryptoJS.MD5(r),n.getHashValues(r,l,h,f),f="Collapse ISI",h="vsp-collpse_ISI",n.getHashValues(r,l,h,f),$(".isi-header").on("click touchmove touchstart",function(){setTimeout(function(){d="",h="",h=$(".isi").hasClass("is-expanded")?"vsp-expnd_ISI":"vsp-collpse_ISI",l=n.hashOverride(r,h,l),c=o+"/"+n.settings.pamProductName+"/"+a+"/"+l+"/",n.omniPageLink(h,c)},250)});else if("A"===$(this).prop("tagName")){if($(this).hasClass("js-expandable-button"))return;var r="",l="",c="",u="",d="",f=this.text,h="",m=this.href;u=n.linkType(m),d=u[0],h=u[1],s=$(this).data("idtracking"),-1===m.indexOf(window.location.pathname)&&("EXTLINK_"===d?h=h+"_"+s:"INTLINK_"===d&&(h=h+"_"+s),r=a+"-scene-0",l=window.CryptoJS.MD5(r),"http://www.medscape.com/"===this.href&&(h="vsp-close_rtm"),n.getHashValues(r,l,h,f),l=n.hashOverride(r,h,l),c=o+"/"+n.settings.pamProductName+"/"+a+"/"+l+"/",$(this).on("click",function(){n.omniPageLink(h,c)}))}}),$("[data-animation]").each(function(e,t){var i=a+"-scene-"+$(t).data("animation"),o=window.CryptoJS.MD5(i),r="vsp-anim";n.getHashValues(i,o,r,"N/A")})},trackScn:function(n,e){var t=this,i="",o=n+e+1,r=t.settings.sfNumObj.tracking.sfNum,a="",s="",l="",c=document.domain,u="N/A";i="scene-"+(n+e+1),u=r+"-"+i,s=window.CryptoJS.MD5(u),s=t.hashOverride(u,a,s),l=c+"/"+t.settings.pamProductName+"/"+r+"/"+s+"/",t.omniPageView(o,l)},linkType:function(n){var e="medscape",t=n.indexOf(e),i="",o="";return"#"!==n.charAt(0)&&(t>-1?(i="INTLINK_",o="vsp-intlink"):(i="EXTLINK_",o="vsp-extlink")),[i,o]},omniPageView:function(n,e){try{this.settings.omnitureEnable&&("object"==typeof e&&(e=void 0),"undefined"!=typeof wmdPageview&&("undefined"!=typeof e?wmdPageview(e,n):wmdPageview("",n),"undefined"!=typeof e&&(s_md.pageName=this.settings.omniPagenameDefault)))}catch(t){console.log(t)}},omniPageLink:function(n,e){try{this.settings.omnitureEnable&&("object"==typeof e&&(e=void 0),"undefined"!=typeof wmdPageLink&&("undefined"!=typeof e&&(s_md.pageName=e),wmdPageLink(n),"undefined"!=typeof e&&(s_md.pageName=this.settings.omniPagenameDefault)))}catch(t){console.log(t)}},hashOverride:function(n,e,t){if($("[data-hash]").length>0){var i=$("[data-hash]").data("hash");n in i?t=i[n]:e in i&&(t=i[e])}return t},getHashValues:function(n,e,t,i){var o=this;e=o.hashOverride(n,t,e),-1==$.inArray("<tr><td>"+n+"</td><td>"+e+"</td><td>"+t+"</td><td>"+i+"</td></tr>",o.settings.pamHashArray)&&o.settings.pamHashArray.push("<tr><td>"+n+"</td><td>"+e+"</td><td>"+t+"</td><td>"+i+"</td></tr>")},getHashTable:function(){try{var n=window.open();n.document.write('<table cellpadding="3" border="1" cellspacing="3">'),n.document.write("<tr><th>ASSET</th><th>HASH</th><th>MODULE NAME</th><th>LINK TEXT</th></tr>"),$(this.settings.pamHashArray).each(function(){n.document.write(this)}),n.document.write("</table>"),n.document.close()}catch(e){console.log(e)}}},brandAdvance2.tracking}}).call(exports,__webpack_require__(10))},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(10),r=i(o),a=t(49),s=i(a),l=function(){var n=s["default"].createActions({cancel:{},close:{},reset:{},hideLayer:{},requestQnaXml:{asyncResult:!0,children:["completed","failed"]},showQuestion:{},hideQuestion:{},post:{},completed:{},failed:{},open:{},validate:{},complete:{}});return n.requestQnaXml.shouldEmit=function(){return n.ajaxRequest&&1===n.ajaxRequest.readyState?!1:!0},n.requestQnaXml.listen(function(e){var t=void 0,i=window.location.hostname;t=i.match(/www/)?"http://"+i+"/qnaService?questionnaireID="+e:i.match(/api./)?"http://www."+i.replace("api.","")+"/qnaService?questionnaireID="+e:i.match(/localhost/)?"http://localhost:8080/assets/xml/qna/local.xml":"http://"+i+"/activity/qnaService?questionnaireID="+e,n.ajaxRequest=r["default"].ajax({type:"get",url:t,dataType:"text",statusCode:{404:function(){console.log("404")}}}).done(this.completed).fail(this.failed)}),n};e["default"]=l,n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(10),r=i(o),a=t(49),s=i(a),l=s["default"].createActions({cancel:{},close:{},reset:{},hideLayer:{},requestQnaXml:{asyncResult:!0,children:["completed","failed"]},showQuestion:{},hideQuestion:{},post:{},completed:{},failed:{},open:{},validate:{},complete:{}});l.requestQnaXml.shouldEmit=function(){return l.ajaxRequest&&1===l.ajaxRequest.readyState?!1:!0},l.requestQnaXml.listen(function(n){var e=void 0,t=window.location.hostname,i=n[0].qaidFormPage.split("/")[0];e=t.match(/www/)?"http://"+t+"/qnaService?questionnaireID="+i:t.match(/api./)?"http://www."+t.replace("api.","")+"/qnaService?questionnaireID="+i:t.match(/localhost/)?"http://localhost:8080/assets/xml/qna/local.xml":"http://"+t+"/activity/qnaService?questionnaireID="+i,l.ajaxRequest=r["default"].ajax({type:"get",url:e,dataType:"text",statusCode:{404:function(){console.log("404")}}}).done(this.completed).fail(this.failed)}),l.post.listen(function(n){var e=void 0,t=window.location.hostname;e=t.match(/www/)?"http://"+window.location.hostname+"/qna/AddQAResponsesClassic?":"http://"+window.location.hostname+"/activity/qna/AddQAResponsesClassic?",e+=n,r["default"].ajax({type:"POST",url:e,statusCode:{200:function(){console.log("200")}}}).done(this.completed).fail(this.failed)}),e["default"]=l,n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(49),r=i(o),a=r["default"].createActions(["load","enable","disable","selectVideo","start","end","toggle","replay","pause","subtitle","setVolume","setCurrentTime","mute","unmute","fullScreen","stopAutoplay","setClosedCaptioning","selectLanguage","exitFullScreen","deleteQna"]);e["default"]=a,n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(38),r=i(o);e["default"]={secondsFromPrettyTime:function(n){return r["default"].reduce(n.split(":").reverse(),function(n,e){return{seconds:n.seconds+parseInt(e,10)*n.multiplier,multiplier:60*n.multiplier}},{seconds:0,multiplier:1}).seconds},secondsToPrettyTime:function(n,e){var t=Math.floor(n/3600),i=Math.floor((n-3600*t)/60),o=[t,i,Math.floor(n-3600*t-60*i)],a=void 0;return a=e?o.length-e:n>3600?0:1,r["default"].map(o.slice(a),function(n){return isNaN(n)?"00":10>n?"0"+n:n.toString()}).join(":")}},n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}Object.defineProperty(e,"__esModule",{value:!0});var r=t(147),a=i(r),s=a["default"].addons.update;e["default"]={init:function(){this.state=this._getInitialState()},_getInitialState:function(){return this.getInitialState?this.getInitialState():this.initialState?this.initialState:{}},resetState:function(){this.state=this.getInitialState()},setState:function(n){this.updateState({$merge:n})},updateState:function(n){this.state=s(this.state,n),Object.freeze(this.state),this.stateNamespace?this.trigger(o({},this.stateNamespace,this.state)):this.trigger(this.state)},getState:function(){return this.state}},n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(49),r=i(o),a=t(146),s=i(a),l=t(250),c=i(l),u=t(38),d=t(84),p=function(n){return r["default"].createStore({mixins:[c["default"]],listenables:n,stateNamespace:"quiz",onRequestQnaXml:function(n,e){this.setState({qid:n,page:e,requesting:!0,isChartVisible:!1,isQuestionVisible:!1,qna:n+"/"+e,completedQuestions:[]})},onHideLayer:function(n){var e=(0,u.clone)(this.getState(),!0);e[n]=!1,this.setState(e)},onReset:function(){this.setState({qid:null,page:null,isQuestionVisible:!1,isChartVisible:!1})},onHideQuestion:function(n,e){this.setState({qid:n,page:e,isQuestionVisible:!1,isChartVisible:!0})},onShowQuestion:function(n,e){if(-1!==this.state.completedQuestions.indexOf(e))return!1;if(!this.state.isChartVisible&&!this.state.isQuestionVisible){var t=this.state.questionnaire.page.filter(function(n){return n._id===e}),i=!1;(0,u.isEmpty)(t)||(i=t[0].question.some(function(n){return"true"===n._showAnsTable})),this.setState({qid:n,page:e,isChartVisible:i,isQuestionVisible:!(0,u.isEmpty)(t)})}},getChartVisibility:function(n){return n.questions.some(function(n){return"true"===n._showAnsTable})},onRequestQnaXmlCompleted:function(n){var e=this,t=new s["default"],i=t.parseXmlString(n),o=void 0;i=t.xml2json(i),o=(0,u.clone)(this.getState(),!0),i.questionnaire.page.length||(i.questionnaire.page=[i.questionnaire.page]),i.questionnaire.page=i.questionnaire.page.filter(function(n){return n.question=(0,d.toArray)(n.question),n._id===e.state.page}),o.questionnaire=i.questionnaire,o.isChartVisible=i.questionnaire.page[0].question.some(function(n){return"true"===n.responded}),this.setState(o)},onClose:function(){this.setState({isChartVisible:!1,isQuestionVisible:!1,index:null})},onPost:function(n,e,t){var i=[].concat(this.state.completedQuestions,t);this.setState({index:null,completedQuestions:i,isChartVisible:!0})}})};e["default"]=p,n.exports=e["default"]},function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}var o=function(){function n(n,e){var t=[],i=!0,o=!1,r=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!e||t.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(o)throw r}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t(255),a=i(r),s=t(10),l=i(s),c=t(3),u=i(c),d=t(274),p=i(d),f=t(85),h=(i(f),t(244)),m=t(245);window.brandAdvance2=h(),window.ba2Tracking=m(),t(243),window.SA=a["default"],document.addEventListener("DOMContentLoaded",function(){var n=[];window.videoPlayer=new Array((0,l["default"])(".video-container").length),(0,l["default"])(".video-container").each(function(e,t){videoPlayer[e]=new a["default"],videoPlayer[e].create(t,e),n.push(!0)}),"undefined"!=typeof brandAdvance2&&!function(){var e=(0,l["default"])("[data-autoplay]").length,t=(0,l["default"])("[data-autoplay]"),i=new Array(e),o=new Array(e),r=(0,l["default"])("#header").height()||0,a=(0,l["default"])("#isi")[0].clientHeight/2||0,s=(0,l["default"])(window).height();(0,l["default"])("[data-autoplay]").each(function(e,c){var u=this,d=Number(u.getAttribute("id").split("-")[1]);i.push(0),o.push(0),window.matchMedia("(min-width: 800px)").matches&&(0,l["default"])(document).on("scroll",function(){var c=(0,l["default"])(window).scrollTop();i[e]=c-(0,l["default"])((0,l["default"])(t)[e]).offset().top+r,o[e]=c-(0,l["default"])((0,l["default"])(t)[e]).offset().top-(0,l["default"])((0,l["default"])(t)[e]).height()+s-a,i[d]<0&&o[d]>0&&n[d]&&(0,l["default"])(u).data("autoplay")&&(videoPlayer[d].mediaApi.play(),n[d]=!1),(i[d]>0||o[d]<0)&&(0,l["default"])(u).data("autopause")&&!screenfull.isFullscreen&&videoPlayer[d].mediaApi._v.mediaElement.pause()})})}(),videoPlayer.forEach(function(n){n.mediaApi._v.mediaElement.onplaying=function(){(0,l["default"])(".isi").length>0&&(0,l["default"])(".isi-header").on("click touchend",function(){n.mediaApi._v.mediaElement.pause()}),videoPlayer.forEach(function(e){e!==n&&e.mediaApi._v.mediaElement.pause()})}}),(0,l["default"])("[data-qnaFormId]").each(function(n,e){var t=e.getAttribute("data-qnaFormId").split("/"),i=o(t,2),r=i[0],a=i[1],s=new p["default"](r,a);u["default"].render(u["default"].createElement(s,{qid:r,page:a}),e)})})},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t(269);e["default"]=function(n,e){return{domain:"webmd.com",paths:{player:e,resources:e},resources:[],params:{},controls:{mode:"auto"},fullscreen:{enabled:!0,"native":!0},branding:{id:"logo",logo:"http://nkalaiya.mediadev.edgesuite.net/webmd_overlay.png"},playoverlay:{enabled:!0},flash:{swf:e+"AkamaiPremierPlayer.swf",debug:e+"AkamaiPremierPlayer-debug.swf",vars:{core_ads_enabled:!1,auto_play_override:!1},xml:i.replace(/\{baseSkinUrl\}/g,e)},mediaanalytics:{resources:[{type:"text/javascript",src:"http://79423.analytics.edgesuite.net/html5/akamaihtml5-min.js"}],plugin:{swf:"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf"},config:"http://ma1-r.analytics.edgesuite.net/config/beacon-3018.xml?setVideoObject=1",dimensions:{title:"#{media.title}",playerId:"#{player.mode} Player"}},locales:{es:{MSG_RECOMMENDATIONS_TITLE:"Recomendado",MSG_CHROMECAST_MESSAGE:"Video playing on another screen",MSG_RU:"Ruso",MSG_IT:"Italiano",MSG_FR:"Francés",MSG_DE:"Alemán",MSG_ES:"Español",MSG_EN:"Inglés",MSG_CC:"CC",MSG_VIDEO:" vídeos",MSG_VIEW_ALL:"Ver todos ",MSG_RECOMMENDED:"Recomendado",MSG_NEXT_VIDEO:"El próximo video comienza en: ",MSG_REPLAY:"Repetir",MSG_GO_LIVE:"IR A VIVIR",MSG_NOT_AVAILABLE:"No está disponible",MSG_MAX_BITRATE_AVAILABLE:"Tasa de bits máxima disponible",MSG_CURRENT_BITRATE_PLAYING:"Tasa de bits de reproducción actual",MSG_CURRENT_WORKING_BANDWIDTH:"Ancho de banda actual de trabajo",MSG_STREAM_NOT_FOUND:"Stream que no se encuentra",MSG_ERROR_PREFIX:"Se produjo un error:",MSG_DEFAULT_ERROR_MESSAGE:"Lo sentimos, no hemos podido jugar los medios de comunicación seleccionados. Por favor, inténtelo de nuevo, o seleccionar los medios de comunicación alternativos.",MSG_LIVE:"EN VIVO",MSG_SEEK_TO:"Tratar de",MSG_CURRENT:"corriente",MSG_PREVIEW:"vista previa",MSG_PAUSE:"romper",MSG_CUSTOMIZE_CLIP_POINTS:"Personalizar el inicio y el punto final del video.",MSG_BUFFERING_TEXT:"el almacenamiento en búfer",MSG_VERSION_TEXT:"versión",MSG_SHARE_CONTENT_DISABLED:"Compartir e incrustar están desactivados.",MSG_SHARE_CONNECT_FAILURE:"No se puede conectar. Por favor, inténtelo de nuevo.",MSG_LINK_TEXT:"enlace",MSG_EMBED_TEXT:"incrustar",MSG_POST_TEXT:"enviar",MSG_SHARE_VIDEO_TEXT:"Comparte este vídeo...",MSG_EMAIL_SEND_SUCCESS_MESSAGE:"Tu email ha sido enviado!",MSG_EMAIL_SEND_FAILURE:"El mensaje no pudo ser enviado.",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:"personajes de la izquierda",MSG_EMAIL_MESSAGE_INVALID:"Por favor limite su mensaje a 500 caracteres o menos.",MSG_EMAIL_ADDRESS_INVALID:"Dirección de correo electrónico no válida",MSG_EMAIL_MESSAGE:"mensaje",MSG_EMAIL_MESSAGE_DEFAULT:"Echa un vistazo a este video de xxx",MSG_EMAIL_VIDEO:"Enviar este vídeo",MSG_EMAIL_FROM:"de",MSG_EMAIL_TO:"a"},en:{MSG_RECOMMENDATIONS_TITLE:"Recommended",MSG_CHROMECAST_MESSAGE:"Video playing on another screen",MSG_RU:"Russian",MSG_IT:"Italian",MSG_FR:"French",MSG_DE:"German",MSG_ES:"Spanish",MSG_EN:"English",MSG_CC_APPLY:"Apply",MSG_CC_CANCEL:"Cancel",MSG_CC_RESET:"Default",MSG_CC_HIDE_ADVANCED:"Hide Advanced Settings",MSG_CC_SHOW_ADVANCED:"Show Advanced Settings",MSG_CC_OPACITY:"Opacity :",MSG_CC_WINDOW:"Window :",MSG_CC_BACKGROUND:"Background :",MSG_CC_COLOR:"Color :",MSG_CC_SCROLL:"Scroll :",MSG_CC_SIZE:"Size :",MSG_CC_EDGE:"Edge :",MSG_CC_FONT:"Font :",MSG_CC_PRESETS:"Presets :",MSG_CC_LANGUAGE:"Track :",MSG_CC_TITLE:"Captions",MSG_CC:"CC",MSG_VIDEO:" videos",MSG_VIEW_ALL:"View all ",MSG_RECOMMENDED:"Recommended",MSG_NEXT_VIDEO:"Next video starts in: ",MSG_REPLAY:"Replay",MSG_GO_LIVE:"GO LIVE",MSG_NOT_AVAILABLE:"Not Available",MSG_MAX_BITRATE_AVAILABLE:"Max bitrate available",MSG_CURRENT_BITRATE_PLAYING:"Current bitrate playing",MSG_CURRENT_WORKING_BANDWIDTH:"Current working bandwidth",MSG_STREAM_NOT_FOUND:"Stream not found",MSG_ERROR_PREFIX:"Error encountered:",MSG_DEFAULT_ERROR_MESSAGE:"Sorry, we were unable to play the media you selected. Please try again, or select alternate media.",MSG_LIVE:"LIVE",MSG_SEEK_TO:"Seek to",MSG_CURRENT:"Currrent",MSG_PREVIEW:"Preview",MSG_PAUSE:"Pause",MSG_CUSTOMIZE_CLIP_POINTS:"Customize the start and end point of the video.",MSG_BUFFERING_TEXT:"buffering",MSG_VERSION_TEXT:"Version",MSG_SHARE_CONTENT_DISABLED:"Share and embed are disabled.",MSG_SHARE_CONNECT_FAILURE:"Unable to connect. Please try again.",MSG_LINK_TEXT:"Link",MSG_EMBED_TEXT:"Embed",MSG_POST_TEXT:"Post",MSG_SHARE_VIDEO_TEXT:"Share this video...",MSG_EMAIL_SEND_SUCCESS_MESSAGE:"Your email has been sent!",MSG_EMAIL_SEND_FAILURE:"Message could not be sent.",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:" characters left",MSG_EMAIL_MESSAGE_INVALID:"Please limit your message to 500 characters or less.",MSG_EMAIL_ADDRESS_INVALID:"Invalid Email Address",MSG_EMAIL_MESSAGE:"Message",MSG_EMAIL_MESSAGE_DEFAULT:"Check out this video from xxx",MSG_EMAIL_VIDEO:"Email this video",MSG_EMAIL_FROM:"From",MSG_EMAIL_TO:"To"}}}},n.exports=e["default"]},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={media:{source:[],autoplay:!1},debug:!1,autoplay:!1,controls:{"native":!0,mode:"none"},branding:{id:"logo",logo:null},playoverlay:{enabled:!0},captioning:{enabled:!0},webmd:{chapterData:[]},mode:"html"},n.exports=e["default"]},function(n,e,t){(function(i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}Object.defineProperty(e,"__esModule",{value:!0});var a=t(257),s=o(a),l=t(253),c=o(l),u=t(254),d=o(u),p=t(84),f=t(38),h=t(256),m=o(h),y=t(85),g=(o(y),t(3)),v=o(g),_=t(278),C=o(_),E=function(){this.create=function(n,e){var t=this;if(n.setAttribute("id","video_player_screen-"+e),"undefined"==typeof s_pageview_id){var o=(new Date).getTime()/1e3,a=Math.round(o).toString(),l=Math.random().toString().substr(2,8);window.s_pageview_id=a+l}var u=!1,h="/amp-premier/",y=h+"plugins/",g=(0,p.isLocal)()?h:"http://img"+(0,p.envCheck)()+".medscape.com/pi/core"+h,_=(0,p.isLocal)()?y:"http://img"+(0,p.envCheck)()+".medscape.com/pi/core"+y,E=(0,f.extend)((0,c["default"])(_,g),d["default"]),P=function(n){var o,a=n[e],l=n.ccInfo,c="http://webmd-vh.akamaihd.net",d="http://webmd-a.akamaihd.net",h="750k",y=(0,p.imageServer)()+"/"+a.ccFileRoot.replace(/^en\//,"");E.autoplay=a.autoplay,E.media.source=[{src:c+"/i/delivery"+a.source+".csmil/master.m3u8",type:"application/x-mpegURL"},{src:c+"/z/delivery"+a.source+".csmil/manifest.f4m",type:"video/f4m"},{src:d+"/delivery"+a.source.split(",")[0]+h+".mp4",type:"video/mp4"}],t.pageLink=function(n,e){if("undefined"!=typeof addLinkTrackVars){addLinkTrackVars((0,f.keys)(e));try{(0,f.assign)(s_md,e),wmdPageLink(n)}finally{remLinkTrackVars((0,f.keys)(e))}}},E.media.track=(0,f.map)(l,function(n,e){return{kind:"captions",type:"application/ttml+xml",srclang:e.toLowerCase(),src:""+y+n}}),E.media.poster=(0,p.imageServer)()+"/"+a.poster.replace(/^en\//,""),t.mediaApi=new s["default"]("video_player_screen-"+e,E),t.mediaApi.init(),(0,p.isMobile)()||(t.mediaApi._v.mediaElement.controls=!1),t.tracking=new m["default"],t.mediaApi.setCaptionLanguage("en",!0),t.getPlayerName=function(n){var e=n||window.location.host,t={"www.medscape.com":"mscp","www.qa00.medscape.com":"mscp","www.qa01.medscape.com":"mscp","www.staging.medscape.com":"mscp","www.medscape.org":"edu","www.qa00.medscape.org":"edu","www.qa01.medscape.org":"edu","www.staging.medscape.org":"edu","reference.medscape.com":"ref","reference.qa00.medscape.com":"ref","reference.qa01.medscape.com":"ref","education.webmd.com":"wbmdedu","education.qa00.webmd.com":"wbmdedu","education.qa01.webmd.com":"wbmdedu","localhost:8080":"mscp"},i=t[e]||"default";return""+i},t.percentages=(o={},r(o,25,!0),r(o,50,!0),r(o,75,!0),o),t.onStarted=function(){var n=!t.hasStarted||t.hasEnded;if("undefined"==typeof brandAdvance2){var e=i(t.mediaApi._v.mediaElement).parents("[data-slide]").data("slide");t.tracking.scene=e,t.tracking.slide="SLIDE"+e}else{var o=i(t.mediaApi._v.mediaElement).parents("[data-scene]").data("scene");t.tracking.scene=o,t.tracking.slide="scene-"+o}t.hasStarted||t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_play"),((0,p.isMobile)()||n)&&t.hasEnded&&(u=!0,t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_rep")),n&&(t.hasStarted=!0,t.hasEnded=!1,t.ended=!1,t.tracking.pamTrack(t.tracking.slide,"vidsvp_start"),(0,p.isMobile)()&&i(".akamai-play").hide(),t.resetDurationTracking(),t.isFirstPlay&&(t.isFirstPlay=!1))},t.onEnded=function(){(0,p.isMobile)()&&i(".akamai-play").show(),t.tracking.pamTrack(t.tracking.slide,"allvideo_100pct"),t.hasEnded=!0,t.ended=!0},t.onReady=function(){if(i(".akamai-controls").remove(),i(".akamai-replay").remove(),(0,p.isMobile)())i(".akamai-play").hide();else{var n="video_player_control-"+e;i(t.mediaApi._v.viewComponent).children(".akamai-error").after('<div class="control-container"></div>'),t.mediaApi.viewControlElm=i(t.mediaApi._v.viewComponent).find(".control-container")[0],v["default"].render(v["default"].createElement(C["default"],{playerId:n,iterator:e}),t.mediaApi.viewControlElm)}var o=t.mediaApi._v.getMediaElement();i(o).bind("volumechange",function(){0===t.mediaApi.getVolume()||o.muted===!0?(t.tracking.pamTrack(t.tracking.slide,"vidsvp_ctl_mute"),t.ismuted=!0):t.ismuted===!0&&(t.ismuted=!1,t.tracking.pamTrack(t.tracking.slide,"vidsvp_ctl_unmute"))}),o.addEventListener("play",function(){t.hasStarted&&t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_play")}),o.addEventListener("pause",function(){t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_pause")}),screenfull&&(i(document).off(screenfull.raw.fullscreenchange+"."+t.tracking.slide),i(document).on(screenfull.raw.fullscreenchange+"."+t.tracking.slide,function(){screenfull.isFullscreen?t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_bigr"):t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_smalr")}))},t.resetDurationTracking=function(){var n;t.percentages=(n={},r(n,25,!0),r(n,50,!0),r(n,75,!0),n)},t.onProgress=function(){var n=t.mediaApi.getCurrentTime()/t.mediaApi.getDuration()*100;[25,50,75].forEach(function(e){n>e&&t.percentages[e]&&(u=!1,t.percentages[e]=!1,t.tracking.pamTrack(t.tracking.slide,"vidsvp-video"+(e+"pct"),t))})},t.onScrub=function(){this.tracking.pamTrack(this.tracking.slide,"vidsvp-ctl_scrb")},t.onBuffering=function(){var n=window.navigator.userAgent.indexOf("MSIE ");(n>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&(t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_rep"),t.tracking.pamTrack(t.tracking.slide,"vidsvp-videostart"),t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_play")),t.hasEnded||u||t.tracking.pamTrack(t.tracking.slide,"vidsvp-ctl_scrb")},t.onVolumeChanged=function(){};var g={playing:"onStarted",canplay:"onCanPlay",paused:"onPause",ended:"onEnded",ready:"onReady",durationchange:"onProgress",timeupdate:"onProgress",seeking:"onBuffering",volumechange:"onVolumeChanged",scrub:"onScrub"};(0,f.keys)(g).forEach(function(n){t.mediaApi.removeEventListener(n)}),(0,f.forEach)(g,function(n,e){t.mediaApi._v.addEventListener(e,t[n],t)})};P(dataVideo,e)}};e["default"]=E,n.exports=e["default"]}).call(e,t(10))},function(n,e,t){(function(i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var r=t(92),a=o(r),s=function(){var n=this,e=window.location.href.split("://")[1].split("?")[0].split("#")[0].replace("www.",""),t="",o=!0,r={};i("meta[data-ipp]").length>0&&(r=i("meta[data-ipp]").data()),this.omni=function(e,t,r){"object"==typeof t&&(r=t,t=void 0),o&&("undefined"!=typeof r&&"object"==typeof r?"undefined"!=typeof r.href?null!==r.href.match(/:\/\//)&&r.href.match(/:\/\/[^\/]+\//)[0].split("/")[2]!==document.domain||i.trim(r.href)===window.location.href.split("#")[0]+"#"?n.omniPageLink(e,t):n.omniTrack(e,t):"undefined"!=typeof r.action?null!==r.action.match(/:\/\//)&&r.action.match(/:\/\/[^\/]+\//)[0].split("/")[2]!==document.domain||i.trim(r.action)===window.location.href.split("#")[0]+"#"?n.omniPageLink(e,t):n.omniTrack(e,t):n.omniPageLink(e,t):n.omniPageLink(e,t))},this.omniTrack=function(n,t){o&&("object"==typeof t&&(t=void 0),"undefined"!=typeof wmdTrack&&("undefined"!=typeof t&&(s_md.pageName=t),wmdTrack(n),"undefined"!=typeof t&&(s_md.pageName=e)))},this.omniPageLink=function(n,t){o&&("object"==typeof t&&(t=void 0),"undefined"!=typeof wmdPageLink&&("undefined"!=typeof t&&(s_md.pageName=t),wmdPageLink(n),"undefined"!=typeof t&&(s_md.pageName=e)))},this.omniPageview=function(n,t){o&&("object"==typeof t&&(t=void 0),"undefined"!=typeof wmdPageview&&("undefined"!=typeof t?wmdPageview(t,n):wmdPageview("",n),"undefined"!=typeof t&&(s_md.pageName=e)))},this.pamTrack=function(n,e,i){var o="";o="undefined"==typeof brandAdvance2?(0,a["default"])(r.ipp.sfNum+"_"+n):(0,a["default"])(r.ipp.sfNum+"-"+n),"object"==typeof i?"number"==typeof e?this.omniPageview(e,document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+t+"/"+r.ipp.sfNum+"/"+o+"/",i):this.omni(e,document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+t+"/"+r.ipp.sfNum+"/"+o+"/",i):"number"==typeof e?this.omniPageview(e,document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+t+"/"+r.ipp.sfNum+"/"+o+"/"):this.omni(e,document.domain.replace("wp.","").replace(/www\.(.+\.com)/,"$1")+"/"+t+"/"+r.ipp.sfNum+"/"+o+"/")}};e["default"]=s,n.exports=e["default"]}).call(e,t(10))},function(n,e,t){var i,o;(function(r){"use strict";i=[t(288),t(248)],o=function(n,e){function t(n,e,t){var i=this,o=i.isMobile();this._v,this._t=null,this._id=n,this._isLoaded=!1,this._isMuted=!1,this._cbs=[],this.adPlaying=!1,this.setEvents={},this._config=r.extend({autoplay:!1,media:{autoplay:!1},controls:{mode:o?"auto":"none","native":o?!0:!1},captioning:{enabled:!0},mode:"auto"},e)}return t.prototype.init=function(n){var e=this,t=!(null==window.mozInnerScreenX),i=window.navigator.userAgent.indexOf("MSIE ")>0||!!window.navigator.userAgent.match(/Trident.*rv\:11\./),o=window.image_server_url||"//img.preview.webmd.com/dtmcms/preview",a=window.location.host.indexOf("localhost")>-1?"/resources/plugins/":o+"/webmd/consumer_assets/site_images/amd_modules/video2/1/lib/",s=window.location.host.indexOf("localhost")>-1?"/amp/":o+"/webmd/consumer_assets/site_images/amd_modules/video2/1/lib/",l=e._config;for(l.flash.vars.auto_play_override=e._config.autoplay||!1;-1!==l.flash.xml.indexOf("{basePluginUrl}");)l.flash.xml=l.flash.xml.replace("{basePluginUrl}",a);for(;-1!==l.flash.xml.indexOf("{baseSkinUrl}");)l.flash.xml=l.flash.xml.replace("{baseSkinUrl}",s);l=r.extend(!0,l,e._config),(t===!0||i===!0)&&(l.flash.params={wmode:"transparent"}),e._v=akamai.amp.AMP.create(e._id,l,function(){n&&n(),e._cbs.forEach(function(n){n()}),e._isLoaded=!0})},t.prototype.ready=function(n){console.log(this);var e=this;return e._isLoaded?void n():void this._cbs.push(n)},t.prototype.pause=function(){this._v.pause()},t.prototype.destroy=function(){document.getElementById(this._id).innerHTML="",null!=this._v&&this._v.destroy(),this._v=null},t.prototype.play=function(){this._v.play()},t.prototype.replay=function(){this._v.replay()},t.prototype.setVolume=function(n){n>1&&(n=parseFloat(n)/100),this._v.setVolume(n)},t.prototype.setCurrentTime=function(n){this._v.setCurrentTime(n)},t.prototype.setMedia=function(n){this._v.setMedia(n)},t.prototype.setClosedCaption=function(n){"undefined"!=typeof this._v.captioning?this._v.captioning.setHidden(n):console.log("error","The closed captioning feature is disabled, please enable it before turning it on!")},t.prototype.turnClosedCaptionOn=function(){this.setClosedCaption(!1)},t.prototype.turnClosedCaptionOff=function(){this.setClosedCaption(!0)},t.prototype.enterFullScreen=function(){this._v.enterFullScreen()},t.prototype.exitFullScreen=function(){this._v.exitFullScreen()},t.prototype.mute=function(){this.setMuted(!0)},t.prototype.unmute=function(){this.setMuted(!1)},t.prototype.setMuted=function(n){this._v.setMuted(n)},t.prototype.setCaptionLanguage=function(n,e){var t=this.getConfig();if("undefined"==typeof t.media)return void console.log("error","There is no media definition in your config");if("undefined"==typeof t.media.track)return void console.log("error","There is no track definition in your media config");for(var i in t.media.track)if("undefined"!=typeof t.media.track[i]&&t.media.track[i].srclang==n)return this._v.captioning.selectTrackByLanguage(n),e&&this.turnClosedCaptionOn(),!0;return console.log("error","Could not find the language "+n+" in your media track definition"),!1},t.prototype.end=function(){this._v.end()},t.prototype.getClosedCaption=function(){return null!==this._v?!this._v.captioning.getHidden():null},t.prototype.getVolume=function(){return null!==this._v?this._v.getVolume():0},t.prototype.getCurrentTime=function(){return null!==this._v?this._v.getCurrentTime():0},t.prototype.getDuration=function(){return null!==this._v?this._v.getDuration():0},t.prototype.getMedia=function(){return null!==this._v?this._v.getMedia():0},t.prototype.getConfig=function(){return this._config},t.prototype.getId=function(){return this._id},t.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.prototype.isIpad=function(){return/iPad/i.test(navigator.userAgent)},t.prototype.isSmartPhone=function(){var n,e,t=navigator.userAgent;return n=t.indexOf("Android")>-1&&t.indexOf("Mobile")>-1,e=/iPhone|iPod|BlackBerry|IEMobile/i.test(t),n===!0||e===!0},t.prototype.isAutoplay=function(){return this.getConfig().autoplay||this.getConfig().media.autoplay?!0:!1},t.prototype.getTitle=function(){return this.getConfig().title||null},t.prototype.addEventListener=function(n,t){var i=this,o=r(i._v),a=n.toString().split(".")[0];if(this.isMobile(),"undefined"==typeof this.setEvents[a])switch(this.setEvents[a]=!0,
a){case"volumechange":case"mute":case"unmute":o.on("volumechange",function(n){"undefined"==typeof n.detail&&"undefined"!=typeof n.originalEvent.detail&&(n.detail=n.originalEvent.detail),r(document.getElementById(i._id)).trigger("volumechange",{detail:n})}),this.setEvents.volumechange=!0,this.setEvents.mute=!0,this.setEvents.unmute=!0;break;case"play":i.isMobile()?o.on("playing",function(n){r(document.getElementById(i._id)).trigger("play",{detail:n}),i.adPlaying&&r(document.getElementById(i._id)).trigger("ad-play",{detail:n})}):o.on("playing",function(n){r(document.getElementById(i._id)).trigger("play",{detail:n}),i.adPlaying&&r(document.getElementById(i._id)).trigger("ad-play",{detail:n})});break;case"pause":i.isMobile()?o.on("pause",function(n){e.pause(),i.adPlaying&&r(document.getElementById(i._id)).trigger("ad-pause",{detail:n})}):o.on("pause",function(n){e.pause(),i.adPlaying&&r(document.getElementById(i._id)).trigger("ad-pause",{detail:n})});break;case"ended":o.on("ended",function(n){r(document.getElementById(i._id)).trigger("ended",{detail:n}),i._v.setAutoplay(!0)});break;case"visibilitychange":case"closedcaption-off":case"closedcaption-on":"undefined"!=typeof i._v.captioning&&r(i._v.captioning).on("visibilitychange",function(n){r(document.getElementById(i._id)).trigger("visibilitychange",{detail:n}),n.originalEvent.detail?r(document.getElementById(i._id)).trigger("closedcaption-on",{detail:n}):r(document.getElementById(i._id)).trigger("closedcaption-off",{detail:n})}),this.setEvents.visibilitychange=!0,this.setEvents["closedcaption-off"]=!0,this.setEvents["closedcaption-on"]=!0;break;case"ad-started":i.ready(function(){"undefined"!=typeof i._v.ads&&r(i._v.ads).on("started",function(n){var e;i.isMobile()&&(e=r(document.getElementById(i._id)).find("video"),e.length>0&&(e.get(0).controls=!1)),i.adPlaying=!0,r(document.getElementById(i._id)).trigger("ad-started",{detail:n})})});break;case"ad-ended":i.ready(function(){"undefined"!=typeof i._v.ads&&r(i._v.ads).on("breakend",function(n){var e;i.isMobile()&&(e=r(document.getElementById(i._id)).find("video"),e.length>0&&(e.get(0).controls=!0)),i.adPlaying=!1,r(document.getElementById(i._id)).trigger("ad-ended",{detail:n})})});break;case"ad-error":i.ready(function(){"undefined"!=typeof i._v.ads&&r(i._v.ads).on("error",function(n){r(document.getElementById(i._id)).trigger("ad-error",{detail:n})})});break;case"companion":i.ready(function(){"undefined"!=typeof i._v.ads&&r(i._v.ads).on("companion",function(n){r(document.getElementById(i._id)).trigger("ad-companion",{detail:n})})});break;case"offline":r(window).on("offline",function(n){r(document.getElementById(i._id)).trigger("offline",{detail:n})});break;default:o.on(a,function(n){r(document.getElementById(i._id)).trigger(a,{detail:n})})}r(document.getElementById(this._id)).on(n,t)},t.prototype.triggerEvent=function(n){r(document.getElementById(this._id)).trigger(n)},t.prototype.removeEventListener=function(n){r(document.getElementById(this._id)).off(n)},t}.apply(e,i),!(void 0!==o&&(n.exports=o))}).call(e,t(10))},function(n,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,e){return n<<e|n>>>32-e},rotr:function(n,e){return n<<32-e|n>>>e},endian:function(n){if(n.constructor==Number)return 16711935&t.rotl(n,8)|4278255360&t.rotl(n,24);for(var e=0;e<n.length;e++)n[e]=t.endian(n[e]);return n},randomBytes:function(n){for(var e=[];n>0;n--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(n){for(var e=[],t=0,i=0;t<n.length;t++,i+=8)e[i>>>5]|=n[t]<<24-i%32;return e},wordsToBytes:function(n){for(var e=[],t=0;t<32*n.length;t+=8)e.push(n[t>>>5]>>>24-t%32&255);return e},bytesToHex:function(n){for(var e=[],t=0;t<n.length;t++)e.push((n[t]>>>4).toString(16)),e.push((15&n[t]).toString(16));return e.join("")},hexToBytes:function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(parseInt(n.substr(t,2),16));return e},bytesToBase64:function(n){for(var t=[],i=0;i<n.length;i+=3)for(var o=n[i]<<16|n[i+1]<<8|n[i+2],r=0;4>r;r++)8*i+6*r<=8*n.length?t.push(e.charAt(o>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],i=0,o=0;i<n.length;o=++i%4)0!=o&&t.push((e.indexOf(n.charAt(i-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(n.charAt(i))>>>6-2*o);return t}};n.exports=t}()},function(n,e,t){"use strict";function i(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function o(){}var r="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.listeners=function(n,e){var t=r?r+n:n,i=this._events&&this._events[t];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);a>o;o++)s[o]=i[o].fn;return s},o.prototype.emit=function(n,e,t,i,o,a){var s=r?r+n:n;if(!this._events||!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(n,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,t),!0;case 4:return u.fn.call(u.context,e,t,i),!0;case 5:return u.fn.call(u.context,e,t,i,o),!0;case 6:return u.fn.call(u.context,e,t,i,o,a),!0}for(c=1,l=new Array(d-1);d>c;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;f>c;c++)switch(u[c].once&&this.removeListener(n,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,t);break;default:if(!l)for(p=1,l=new Array(d-1);d>p;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(n,e,t){var o=new i(e,t||this),a=r?r+n:n;return this._events||(this._events=r?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.once=function(n,e,t){var o=new i(e,t||this,!0),a=r?r+n:n;return this._events||(this._events=r?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.removeListener=function(n,e,t,i){var o=r?r+n:n;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(e)if(a.fn)(a.fn!==e||i&&!a.once||t&&a.context!==t)&&s.push(a);else for(var l=0,c=a.length;c>l;l++)(a[l].fn!==e||i&&!a[l].once||t&&a[l].context!==t)&&s.push(a[l]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},o.prototype.removeAllListeners=function(n){return this._events?(n?delete this._events[r?r+n:n]:this._events=r?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,n.exports=o},function(n,e,t){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(n){"use strict";function e(n){var e=n.charCodeAt(0);return e===a||e===d?62:e===s||e===p?63:l>e?-1:l+10>e?e-l+26+26:u+26>e?e-u:c+26>e?e-c+26:void 0}function t(n){function t(n){c[d++]=n}var i,o,a,s,l,c;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=n.length;l="="===n.charAt(u-2)?2:"="===n.charAt(u-1)?1:0,c=new r(3*n.length/4-l),a=l>0?n.length-4:n.length;var d=0;for(i=0,o=0;a>i;i+=4,o+=3)s=e(n.charAt(i))<<18|e(n.charAt(i+1))<<12|e(n.charAt(i+2))<<6|e(n.charAt(i+3)),t((16711680&s)>>16),t((65280&s)>>8),t(255&s);return 2===l?(s=e(n.charAt(i))<<2|e(n.charAt(i+1))>>4,t(255&s)):1===l&&(s=e(n.charAt(i))<<10|e(n.charAt(i+1))<<4|e(n.charAt(i+2))>>2,t(s>>8&255),t(255&s)),c}function o(n){function e(n){return i.charAt(n)}function t(n){return e(n>>18&63)+e(n>>12&63)+e(n>>6&63)+e(63&n)}var o,r,a,s=n.length%3,l="";for(o=0,a=n.length-s;a>o;o+=3)r=(n[o]<<16)+(n[o+1]<<8)+n[o+2],l+=t(r);switch(s){case 1:r=n[n.length-1],l+=e(r>>2),l+=e(r<<4&63),l+="==";break;case 2:r=(n[n.length-2]<<8)+n[n.length-1],l+=e(r>>10),l+=e(r>>4&63),l+=e(r<<2&63),l+="="}return l}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),d="-".charCodeAt(0),p="_".charCodeAt(0);n.toByteArray=t,n.fromByteArray=o}(e)},function(n,e){e.read=function(n,e,t,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=t?o-1:0,p=t?-1:1,f=n[e+d];for(d+=p,r=f&(1<<-u)-1,f>>=-u,u+=s;u>0;r=256*r+n[e+d],d+=p,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+n[e+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,i),r-=c}return(f?-1:1)*a*Math.pow(2,r-i)},e.write=function(n,e,t,i,o,r){var a,s,l,c=8*r-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,h=i?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+d>=1?p/l:p*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;n[t+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;n[t+f]=255&a,f+=h,a/=256,c-=8);n[t+f-h]|=128*m}},function(n,e){var t={}.toString;n.exports=Array.isArray||function(n){return"[object Array]"==t.call(n)}},function(n,e,t){var i;(function(n,o){!function(r){function a(n){throw RangeError(w[n])}function s(n,e){for(var t=n.length,i=[];t--;)i[t]=e(n[t]);return i}function l(n,e){var t=n.split("@"),i="";t.length>1&&(i=t[0]+"@",n=t[1]),n=n.replace(I,".");var o=n.split("."),r=s(o,e).join(".");return i+r}function c(n){for(var e,t,i=[],o=0,r=n.length;r>o;)e=n.charCodeAt(o++),e>=55296&&56319>=e&&r>o?(t=n.charCodeAt(o++),56320==(64512&t)?i.push(((1023&e)<<10)+(1023&t)+65536):(i.push(e),o--)):i.push(e);return i}function u(n){return s(n,function(n){var e="";return n>65535&&(n-=65536,e+=R(n>>>10&1023|55296),n=56320|1023&n),e+=R(n)}).join("")}function d(n){return 10>n-48?n-22:26>n-65?n-65:26>n-97?n-97:E}function p(n,e){return n+22+75*(26>n)-((0!=e)<<5)}function f(n,e,t){var i=0;for(n=t?O(n/N):n>>1,n+=O(n/e);n>D*A>>1;i+=E)n=O(n/D);return O(i+(D+1)*n/(n+x))}function h(n){var e,t,i,o,r,s,l,c,p,h,m=[],y=n.length,g=0,v=T,_=b;for(t=n.lastIndexOf(M),0>t&&(t=0),i=0;t>i;++i)n.charCodeAt(i)>=128&&a("not-basic"),m.push(n.charCodeAt(i));for(o=t>0?t+1:0;y>o;){for(r=g,s=1,l=E;o>=y&&a("invalid-input"),c=d(n.charCodeAt(o++)),(c>=E||c>O((C-g)/s))&&a("overflow"),g+=c*s,p=_>=l?P:l>=_+A?A:l-_,!(p>c);l+=E)h=E-p,s>O(C/h)&&a("overflow"),s*=h;e=m.length+1,_=f(g-r,e,0==r),O(g/e)>C-v&&a("overflow"),v+=O(g/e),g%=e,m.splice(g++,0,v)}return u(m)}function m(n){var e,t,i,o,r,s,l,u,d,h,m,y,g,v,_,x=[];for(n=c(n),y=n.length,e=T,t=0,r=b,s=0;y>s;++s)m=n[s],128>m&&x.push(R(m));for(i=o=x.length,o&&x.push(M);y>i;){for(l=C,s=0;y>s;++s)m=n[s],m>=e&&l>m&&(l=m);for(g=i+1,l-e>O((C-t)/g)&&a("overflow"),t+=(l-e)*g,e=l,s=0;y>s;++s)if(m=n[s],e>m&&++t>C&&a("overflow"),m==e){for(u=t,d=E;h=r>=d?P:d>=r+A?A:d-r,!(h>u);d+=E)_=u-h,v=E-h,x.push(R(p(h+_%v,0))),u=O(_/v);x.push(R(p(u,0))),r=f(t,g,i==o),t=0,++i}++t,++e}return x.join("")}function y(n){return l(n,function(n){return S.test(n)?h(n.slice(4).toLowerCase()):n})}function g(n){return l(n,function(n){return k.test(n)?"xn--"+m(n):n})}var v=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof n&&n&&!n.nodeType&&n,"object"==typeof o&&o);(v.global===v||v.window===v||v.self===v)&&(r=v);var _,C=2147483647,E=36,P=1,A=26,x=38,N=700,b=72,T=128,M="-",S=/^xn--/,k=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=E-P,O=Math.floor,R=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:c,encode:u},decode:h,encode:m,toASCII:g,toUnicode:y},i=function(){return _}.call(e,t,e,n),!(void 0!==i&&(n.exports=i))}(this)}).call(e,t(14)(n),function(){return this}())},function(n,e){"use strict";function t(n,e){return Object.prototype.hasOwnProperty.call(n,e)}n.exports=function(n,e,i,o){e=e||"&",i=i||"=";var r={};if("string"!=typeof n||0===n.length)return r;var a=/\+/g;n=n.split(e);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=n.length;s>0&&l>s&&(l=s);for(var c=0;l>c;++c){var u,d,p,f,h=n[c].replace(a,"%20"),m=h.indexOf(i);m>=0?(u=h.substr(0,m),d=h.substr(m+1)):(u=h,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),t(r,p)?Array.isArray(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r}},function(n,e){"use strict";var t=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};n.exports=function(n,e,i,o){return e=e||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(o){var r=encodeURIComponent(t(o))+i;return Array.isArray(n[o])?n[o].map(function(n){return r+encodeURIComponent(t(n))}).join(e):r+encodeURIComponent(t(n[o]))}).join(e):o?encodeURIComponent(t(o))+i+encodeURIComponent(t(n)):""}},function(n,e,t){"use strict";e.decode=e.parse=t(264),e.encode=e.stringify=t(265)},function(n,e,t){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(n,e,t){if(n&&c(n)&&n instanceof i)return n;var o=new i;return o.parse(n,e,t),o}function r(n){return l(n)&&(n=o(n)),n instanceof i?n.format():i.prototype.format.call(n)}function a(n,e){return o(n,!1,!0).resolve(e)}function s(n,e){return n?o(n,!1,!0).resolveObject(e):e}function l(n){return"string"==typeof n}function c(n){return"object"==typeof n&&null!==n}function u(n){return null===n}function d(n){return null==n}var p=t(263);e.parse=o,e.resolve=a,e.resolveObject=s,e.format=r,e.Url=i;var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(m),g=["'"].concat(y),v=["%","/","?",";","#"].concat(g),_=["/","?","#"],C=255,E=/^[a-z0-9A-Z_-]{0,63}$/,P=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=t(266);i.prototype.parse=function(n,e,t){if(!l(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n;i=i.trim();var o=f.exec(i);if(o){o=o[0];var r=o.toLowerCase();this.protocol=r,i=i.substr(o.length)}if(t||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===i.substr(0,2);!a||o&&x[o]||(i=i.substr(2),this.slashes=!0)}if(!x[o]&&(a||o&&!N[o])){for(var s=-1,c=0;c<_.length;c++){var u=i.indexOf(_[c]);-1!==u&&(-1===s||s>u)&&(s=u)}var d,h;h=-1===s?i.lastIndexOf("@"):i.lastIndexOf("@",s),-1!==h&&(d=i.slice(0,h),i=i.slice(h+1),this.auth=decodeURIComponent(d)),s=-1;for(var c=0;c<v.length;c++){var u=i.indexOf(v[c]);-1!==u&&(-1===s||s>u)&&(s=u)}-1===s&&(s=i.length),this.host=i.slice(0,s),i=i.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var y=this.hostname.split(/\./),c=0,T=y.length;T>c;c++){var M=y[c];if(M&&!M.match(E)){for(var S="",k=0,I=M.length;I>k;k++)S+=M.charCodeAt(k)>127?"x":M[k];if(!S.match(E)){var w=y.slice(0,c),D=y.slice(c+1),O=M.match(P);O&&(w.push(O[1]),D.unshift(O[2])),D.length&&(i="/"+D.join(".")+i),this.hostname=w.join(".");break}}}if(this.hostname.length>C?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var R=this.hostname.split("."),L=[],c=0;c<R.length;++c){var V=R[c];L.push(V.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(V):V)}this.hostname=L.join(".")}var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!A[r])for(var c=0,T=g.length;T>c;c++){var H=g[c],B=encodeURIComponent(H);B===H&&(B=escape(H)),i=i.split(H).join(B)}var j=i.indexOf("#");-1!==j&&(this.hash=i.substr(j),i=i.slice(0,j));var G=i.indexOf("?");if(-1!==G?(this.search=i.substr(G),this.query=i.substr(G+1),e&&(this.query=b.parse(this.query)),i=i.slice(0,G)):e&&(this.search="",this.query={}),i&&(this.pathname=i),N[r]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",V=this.search||"";this.path=U+V}return this.href=this.format(),this},i.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=n+this.host:this.hostname&&(o=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(r=b.stringify(this.query));var a=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||N[e])&&o!==!1?(o="//"+(o||""),t&&"/"!==t.charAt(0)&&(t="/"+t)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t=t.replace(/[?#]/g,function(n){return encodeURIComponent(n)}),a=a.replace("#","%23"),e+o+t+a+i},i.prototype.resolve=function(n){return this.resolveObject(o(n,!1,!0)).format()},i.prototype.resolveObject=function(n){if(l(n)){var e=new i;e.parse(n,!1,!0),n=e}var t=new i;if(Object.keys(this).forEach(function(n){t[n]=this[n]},this),t.hash=n.hash,""===n.href)return t.href=t.format(),t;if(n.slashes&&!n.protocol)return Object.keys(n).forEach(function(e){"protocol"!==e&&(t[e]=n[e])}),N[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t;if(n.protocol&&n.protocol!==t.protocol){if(!N[n.protocol])return Object.keys(n).forEach(function(e){t[e]=n[e]}),t.href=t.format(),t;if(t.protocol=n.protocol,n.host||x[n.protocol])t.pathname=n.pathname;else{for(var o=(n.pathname||"").split("/");o.length&&!(n.host=o.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),t.pathname=o.join("/")}if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var r=t.pathname||"",a=t.search||"";t.path=r+a}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var s=t.pathname&&"/"===t.pathname.charAt(0),c=n.host||n.pathname&&"/"===n.pathname.charAt(0),p=c||s||t.host&&n.pathname,f=p,h=t.pathname&&t.pathname.split("/")||[],o=n.pathname&&n.pathname.split("/")||[],m=t.protocol&&!N[t.protocol];if(m&&(t.hostname="",t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===o[0]?o[0]=n.host:o.unshift(n.host)),n.host=null),p=p&&(""===o[0]||""===h[0])),c)t.host=n.host||""===n.host?n.host:t.host,t.hostname=n.hostname||""===n.hostname?n.hostname:t.hostname,t.search=n.search,t.query=n.query,h=o;else if(o.length)h||(h=[]),h.pop(),h=h.concat(o),t.search=n.search,t.query=n.query;else if(!d(n.search)){if(m){t.hostname=t.host=h.shift();var y=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;y&&(t.auth=y.shift(),t.host=t.hostname=y.shift())}return t.search=n.search,t.query=n.query,u(t.pathname)&&u(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!h.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var g=h.slice(-1)[0],v=(t.host||n.host)&&("."===g||".."===g)||""===g,_=0,C=h.length;C>=0;C--)g=h[C],"."==g?h.splice(C,1):".."===g?(h.splice(C,1),_++):_&&(h.splice(C,1),_--);if(!p&&!f)for(;_--;_)h.unshift("..");!p||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),v&&"/"!==h.join("/").substr(-1)&&h.push("");var E=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(m){t.hostname=t.host=E?"":h.length?h.shift():"";var y=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;y&&(t.auth=y.shift(),t.host=t.hostname=y.shift())}return p=p||t.host&&h.length,p&&!E&&h.unshift(""),h.length?t.pathname=h.join("/"):(t.pathname=null,t.path=null),u(t.pathname)&&u(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t},i.prototype.parseHost=function(){var n=this.host,e=h.exec(n);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)}},function(n,e){n.exports='Array.prototype.indexOf||(Array.prototype.indexOf=function(c,a){if(void 0===this||null===this)throw new TypeError(\'"this" is null or not defined\');var b=this.length>>>0;a=+a||0;Infinity===Math.abs(a)&&(a=0);0>a&&(a+=b,0>a&&(a=0));for(;a<b;a++)if(this[a]===c)return a;return-1});\nDate.now||(Date.now=function(){return +new Date});\nif(!Function.prototype.bind){Function.prototype.bind=function(e){function s(){}if(typeof this!=="function"){throw new TypeError("Bind must be called on a function")}var t=[].slice,n=t.call(arguments,1),r=this,i=function(){return r.apply(this instanceof s?this:e||{},n.concat(t.call(arguments)))};s.prototype=r.prototype;i.prototype=new s;return i}}\nif(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?\'"\'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+string+\'"\'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\\n"+gap+partial.join(",\\n"+gap)+"\\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\\n"+gap+partial.join(",\\n"+gap)+"\\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").replace(/(?:^|:|,)(?:\\s*\\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());\n(function(n){function i(a,d){this.setNotifyMethod(a);this.setNotifyContext(d)}function j(a,d,b){this.name=a;this.body=d;this.type=b}function k(){}function m(){}function l(){this.subCommands=[];this.initializeMacroCommand()}function g(a,d){this.mediatorName=a||this.constructor.NAME;this.viewComponent=d}function h(a,d){this.proxyName=a||this.constructor.NAME;null!=d&&this.setData(d)}function b(a){if(null!=b.instanceMap[a])throw Error(b.MULTITON_MSG);this.initializeNotifier(a);b.instanceMap[a]=this;\nthis.initializeFacade()}function c(a){if(null!=c.instanceMap[a])throw Error(c.MULTITON_MSG);this.multitonKey=a;c.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}function e(a){if(e.instanceMap[a])throw Error(e.MULTITON_MSG);this.multitonKey=a;e.instanceMap[a]=this;this.proxyMap=[];this.initializeModel()}function f(a){if(null!=f.instanceMap[a])throw Error(f.MULTITON_MSG);this.multitonKey=a;f.instanceMap[this.multitonKey]=this;this.commandMap=[];this.initializeController()}\nfunction p(a,d,b){for(var a=a.split("."),b=b||o.global,c,e,f=0,g=a.length;f<g;f++)c=b,e=a[f],b=null==b[e]?b[e]={}:b[e];return null==d?b:c[e]=d}null==n&&(n=window);if(!n.puremvc){i.prototype.setNotifyMethod=function(a){this.notify=a};i.prototype.setNotifyContext=function(a){this.context=a};i.prototype.getNotifyMethod=function(){return this.notify};i.prototype.getNotifyContext=function(){return this.context};i.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),\na)};i.prototype.compareNotifyContext=function(a){return a===this.context};i.prototype.notify=null;i.prototype.context=null;j.prototype.getName=function(){return this.name};j.prototype.setBody=function(a){this.body=a};j.prototype.getBody=function(){return this.body};j.prototype.setType=function(a){this.type=a};j.prototype.getType=function(){return this.type};j.prototype.toString=function(){var a="Notification Name: "+this.getName(),a=a+("\\nBody:"+(null==this.body?"null":this.body.toString()));return a+=\n"\\nType:"+(null==this.type?"null":this.type)};j.prototype.name=null;j.prototype.type=null;j.prototype.body=null;k.prototype.sendNotification=function(a,d,b){var c=this.getFacade();c&&c.sendNotification(a,d,b)};k.prototype.initializeNotifier=function(a){this.multitonKey=""+a;this.facade=this.getFacade()};k.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(k.MULTITON_MSG);return b.getInstance(this.multitonKey)};k.prototype.multitonKey=null;k.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";\nm.prototype=new k;m.prototype.constructor=m;m.prototype.execute=function(){};l.prototype=new k;l.prototype.constructor=l;l.prototype.subCommands=null;l.prototype.initializeMacroCommand=function(){};l.prototype.addSubCommand=function(a){this.subCommands.push(a)};l.prototype.execute=function(a){for(;0<this.subCommands.length;){var d=new (this.subCommands.shift());d.initializeNotifier(this.multitonKey);d.execute(a)}};g.NAME="Mediator";g.prototype=new k;g.prototype.constructor=g;g.prototype.getMediatorName=\nfunction(){return this.mediatorName};g.prototype.setViewComponent=function(a){this.viewComponent=a};g.prototype.getViewComponent=function(){return this.viewComponent};g.prototype.listNotificationInterests=function(){return[]};g.prototype.handleNotification=function(){};g.prototype.onRegister=function(){};g.prototype.onRemove=function(){};g.prototype.mediatorName=null;g.prototype.viewComponent=null;h.NAME="Proxy";h.prototype=new k;h.prototype.constructor=h;h.prototype.getProxyName=function(){return this.proxyName};\nh.prototype.setData=function(a){this.data=a};h.prototype.getData=function(){return this.data};h.prototype.onRegister=function(){};h.prototype.onRemove=function(){};h.prototype.proxyName=null;h.prototype.data=null;b.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};b.getInstance=function(a){if(null==a)return null;null==b.instanceMap[a]&&(b.instanceMap[a]=new b(a));return b.instanceMap[a]};b.prototype.initializeController=function(){if(null==\nthis.controller)this.controller=f.getInstance(this.multitonKey)};b.prototype.initializeModel=function(){if(null==this.model)this.model=e.getInstance(this.multitonKey)};b.prototype.initializeView=function(){if(null==this.view)this.view=c.getInstance(this.multitonKey)};b.prototype.registerCommand=function(a,d){this.controller.registerCommand(a,d)};b.prototype.removeCommand=function(a){this.controller.removeCommand(a)};b.prototype.hasCommand=function(a){return this.controller.hasCommand(a)};b.prototype.registerProxy=\nfunction(a){this.model.registerProxy(a)};b.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)};b.prototype.removeProxy=function(a){var d=null;null!=this.model&&(d=this.model.removeProxy(a));return d};b.prototype.hasProxy=function(a){return this.model.hasProxy(a)};b.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)};b.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)};b.prototype.removeMediator=function(a){var d=null;\nnull!=this.view&&(d=this.view.removeMediator(a));return d};b.prototype.hasMediator=function(a){return this.view.hasMediator(a)};b.prototype.sendNotification=function(a,d,b){this.notifyObservers(new j(a,d,b))};b.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)};b.prototype.initializeNotifier=function(a){this.multitonKey=a};b.hasCore=function(a){return null!=b.instanceMap[a]};b.removeCore=function(a){null!=b.instanceMap[a]&&(e.removeModel(a),c.removeView(a),f.removeController(a),\ndelete b.instanceMap[a])};b.prototype.controller=null;b.prototype.model=null;b.prototype.view=null;b.prototype.multitonKey=null;b.instanceMap=[];b.MULTITON_MSG="Facade instance for this Multiton key already constructed!";c.prototype.initializeView=function(){};c.getInstance=function(a){if(null==a)return null;null==c.instanceMap[a]&&(c.instanceMap[a]=new c(a));return c.instanceMap[a]};c.prototype.registerObserver=function(a,d){null!=this.observerMap[a]?this.observerMap[a].push(d):this.observerMap[a]=\n[d]};c.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var d=this.observerMap[a.getName()],b=[],c,e=0;e<d.length;e++)c=d[e],b.push(c);for(e=0;e<b.length;e++)c=b[e],c.notifyObserver(a)}};c.prototype.removeObserver=function(a,d){for(var b=this.observerMap[a],c=0;c<b.length;c++)if(!0==b[c].compareNotifyContext(d)){b.splice(c,1);break}0==b.length&&delete this.observerMap[a]};c.prototype.registerMediator=function(a){if(null==this.mediatorMap[a.getMediatorName()]){a.initializeNotifier(this.multitonKey);\nthis.mediatorMap[a.getMediatorName()]=a;var d=a.listNotificationInterests();if(0<d.length)for(var b=new i(a.handleNotification,a),c=0;c<d.length;c++)this.registerObserver(d[c],b);a.onRegister()}};c.prototype.retrieveMediator=function(a){return this.mediatorMap[a]};c.prototype.removeMediator=function(a){var d=this.mediatorMap[a];if(d){for(var b=d.listNotificationInterests(),c=0;c<b.length;c++)this.removeObserver(b[c],d);delete this.mediatorMap[a];d.onRemove()}return d};c.prototype.hasMediator=function(a){return null!=\nthis.mediatorMap[a]};c.removeView=function(a){delete c.instanceMap[a]};c.prototype.mediatorMap=null;c.prototype.observerMap=null;c.instanceMap=[];c.prototype.multitonKey=null;c.MULTITON_MSG="View instance for this Multiton key already constructed!";e.prototype.initializeModel=function(){};e.getInstance=function(a){if(null==a)return null;null==e.instanceMap[a]&&(e.instanceMap[a]=new e(a));return e.instanceMap[a]};e.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey);this.proxyMap[a.getProxyName()]=\na;a.onRegister()};e.prototype.retrieveProxy=function(a){return this.proxyMap[a]};e.prototype.hasProxy=function(a){return null!=this.proxyMap[a]};e.prototype.removeProxy=function(a){var b=this.proxyMap[a];b&&(this.proxyMap[a]=null,b.onRemove());return b};e.removeModel=function(a){delete e.instanceMap[a]};e.prototype.proxyMap=null;e.instanceMap=[];e.MULTITON_MSG="Model instance for this Multiton key already constructed!";f.prototype.initializeController=function(){this.view=c.getInstance(this.multitonKey)};\nf.getInstance=function(a){if(null==a)return null;null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a));return this.instanceMap[a]};f.prototype.executeCommand=function(a){var b=this.commandMap[a.getName()];null!=b&&(b=new b,b.initializeNotifier(this.multitonKey),b.execute(a))};f.prototype.registerCommand=function(a,b){null==this.commandMap[a]&&this.view.registerObserver(a,new i(this.executeCommand,this));this.commandMap[a]=b};f.prototype.hasCommand=function(a){return null!=this.commandMap[a]};\nf.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)};f.removeController=function(a){delete this.instanceMap[a]};f.prototype.view=null;f.prototype.commandMap=null;f.prototype.multitonKey=null;f.instanceMap=[];f.MULTITON_MSG="controller key for this Multiton key already constructed";var o={global:function(){return this}(),extend:function(a,b){if("function"!==typeof a)throw new TypeError("#extend- child should be Function");if("function"!==\ntypeof b)throw new TypeError("#extend- parent should be Function");if(b!==a){var c=new Function;c.prototype=b.prototype;a.prototype=new c;return a.prototype.constructor=a}},decorate:function(a,b){for(var c in b)a[c]=b[c];return a}};n.puremvc={View:c,Model:e,Controller:f,SimpleCommand:m,MacroCommand:l,Facade:b,Mediator:g,Observer:i,Notification:j,Notifier:k,Proxy:h,define:function(a,b,c){a||(a={});var e=a.name,f=a.parent,g="function"===typeof f,h=a.scope||null;if("parent"in a&&!g)throw new TypeError("Class parent must be Function");\nif(a.hasOwnProperty("constructor")){if(a=a.constructor,"function"!==typeof a)throw new TypeError("Class constructor must be Function");}else a=g?function(){f.apply(this,arguments)}:new Function;g&&o.extend(a,f);if(b)g=a.prototype,o.decorate(g,b),g.constructor=a;c&&o.decorate(a,c);if(e){if("string"!==typeof e)throw new TypeError("Class name must be primitive string");p(e,a,h)}return a},declare:p}}})(this);\n/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> \n	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\nvar swfobject=function(){function u(){if(!v){try{var a=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}v=!0;for(var a=z.length,c=0;c<a;c++)z[c]()}}function M(a){v?a():z[z.length]=a}function N(a){if("undefined"!=typeof n.addEventListener)n.addEventListener("load",a,!1);else if("undefined"!=typeof d.addEventListener)d.addEventListener("load",a,!1);else if("undefined"!=typeof n.attachEvent)U(n,"onload",a);else if("function"==typeof n.onload){var b=\nn.onload;n.onload=function(){b();a()}}else n.onload=a}function V(){var a=d.getElementsByTagName("body")[0],b=d.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var c=a.appendChild(b);if(c){var f=0;(function(){if("undefined"!=typeof c.GetVariable){var g=c.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),e.pv=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}else if(10>f){f++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;E()})()}else E()}\nfunction E(){var a=r.length;if(0<a)for(var b=0;b<a;b++){var c=r[b].id,f=r[b].callbackFn,g={success:!1,id:c};if(0<e.pv[0]){var d=p(c);if(d)if(!A(r[b].swfVersion)||e.wk&&312>e.wk)if(r[b].expressInstall&&F()){g={};g.data=r[b].expressInstall;g.width=d.getAttribute("width")||"0";g.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(g.styleclass=d.getAttribute("class"));d.getAttribute("align")&&(g.align=d.getAttribute("align"));for(var h={},d=d.getElementsByTagName("param"),k=d.length,l=0;l<\nk;l++)"movie"!=d[l].getAttribute("name").toLowerCase()&&(h[d[l].getAttribute("name")]=d[l].getAttribute("value"));G(g,h,c,f)}else W(d),f&&f(g);else w(c,!0),f&&(g.success=!0,g.ref=H(c),f(g))}else w(c,!0),f&&((c=H(c))&&"undefined"!=typeof c.SetVariable&&(g.success=!0,g.ref=c),f(g))}}function H(a){var b=null;(a=p(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&(b=a));return b}function F(){return!B&&A("6.0.65")&&(e.win||e.mac)&&!(e.wk&&312>e.wk)}\nfunction G(a,b,c,f){B=!0;I=f||null;O={success:!1,id:c};var g=p(c);if(g){"OBJECT"==g.nodeName?(y=J(g),C=null):(y=g,C=c);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";f=e.ie&&e.win?"ActiveX":"PlugIn";f="MMredirectURL="+encodeURI(n.location).toString().replace(/&/g,"%26")+"&MMplayerType="+\nf+"&MMdoctitle="+d.title;b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("&"+f):f;e.ie&&e.win&&4!=g.readyState&&(f=d.createElement("div"),c+="SWFObjectNew",f.setAttribute("id",c),g.parentNode.insertBefore(f,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());K(a,b,c)}}function W(a){if(e.ie&&e.win&&4!=a.readyState){var b=d.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(J(a),b);a.style.display="none";\n(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(J(a),a)}function J(a){var b=d.createElement("div");if(e.win&&e.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName("object")[0])if(a=a.childNodes)for(var c=a.length,f=0;f<c;f++)1==a[f].nodeType&&"PARAM"==a[f].nodeName||8==a[f].nodeType||b.appendChild(a[f].cloneNode(!0));return b}function K(a,b,c){var f,g=p(c);if(e.wk&&312>e.wk)return f;if(g)if("undefined"==typeof a.id&&\n(a.id=c),e.ie&&e.win){var q="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?q+=\' class="\'+a[h]+\'"\':"classid"!=h.toLowerCase()&&(q+=" "+h+\'="\'+a[h]+\'"\'));h="";for(var k in b)b[k]!=Object.prototype[k]&&(h+=\'<param name="\'+k+\'" value="\'+b[k]+\'" />\');g.outerHTML=\'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"\'+q+">"+h+"</object>";D[D.length]=a.id;f=p(a.id)}else{k=d.createElement("object");k.setAttribute("type","application/x-shockwave-flash");\nfor(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(q in b)b[q]!=Object.prototype[q]&&"movie"!=q.toLowerCase()&&(a=k,h=q,l=b[q],c=d.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",l),a.appendChild(c));g.parentNode.replaceChild(k,g);f=k}return f}function P(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(e.ie&&e.win?(b.style.display="none",function(){if(4==b.readyState){var c=p(a);\nif(c){for(var f in c)"function"==typeof c[f]&&(c[f]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=null;try{b=d.getElementById(a)}catch(c){}return b}function U(a,b,c){a.attachEvent(b,c);x[x.length]=[a,b,c]}function A(a){var b=e.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function Q(a,b,c,f){if(!e.ie||\n!e.mac){var g=d.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",f&&(L=m=null),m&&L==c||(f=d.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("media",c),m=g.appendChild(f),e.ie&&e.win&&"undefined"!=typeof d.styleSheets&&0<d.styleSheets.length&&(m=d.styleSheets[d.styleSheets.length-1]),L=c),e.ie&&e.win?m&&"object"==typeof m.addRule&&m.addRule(a,b):m&&"undefined"!=typeof d.createTextNode&&m.appendChild(d.createTextNode(a+" {"+b+"}")))}}function w(a,b){if(R){var c=\nb?"visible":"hidden";v&&p(a)?p(a).style.visibility=c:Q("#"+a,"visibility:"+c)}}function S(a){return null!=/[\\\\\\"<>\\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var n=window,d=document,t=navigator,T=!1,z=[function(){T?V():E()}],r=[],D=[],x=[],y,C,I,O,v=!1,B=!1,m,L,R=!0,e=function(){var a="undefined"!=typeof d.getElementById&&"undefined"!=typeof d.getElementsByTagName&&"undefined"!=typeof d.createElement,b=t.userAgent.toLowerCase(),c=t.platform.toLowerCase(),f=c?/win/.test(c):\n/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,"$1")):!1,g=!+"\\v1",e=[0,0,0],h=null;if("undefined"!=typeof t.plugins&&"object"==typeof t.plugins["Shockwave Flash"])!(h=t.plugins["Shockwave Flash"].description)||"undefined"!=typeof t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&!t.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(T=!0,g=!1,h=h.replace(/^.*\\s+(\\S+\\s+\\S+$)/,"$1"),e[0]=parseInt(h.replace(/^(.*)\\..*$/,\n"$1"),10),e[1]=parseInt(h.replace(/^.*\\.(.*)\\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof n.ActiveXObject)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(g=!0,h=h.split(" ")[1].split(","),e=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{w3:a,pv:e,wk:b,ie:g,win:f,mac:c}}();(function(){e.w3&&(("undefined"!=typeof d.readyState&&"complete"==d.readyState||\n"undefined"==typeof d.readyState&&(d.getElementsByTagName("body")[0]||d.body))&&u(),v||("undefined"!=typeof d.addEventListener&&d.addEventListener("DOMContentLoaded",u,!1),e.ie&&e.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),u())}),n==top&&function(){if(!v){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}u()}}()),e.wk&&function(){v||(/loaded|complete/.test(d.readyState)?u():\nsetTimeout(arguments.callee,0))}(),N(u)))})();(function(){e.ie&&e.win&&window.attachEvent("onunload",function(){for(var a=x.length,b=0;b<a;b++)x[b][0].detachEvent(x[b][1],x[b][2]);a=D.length;for(b=0;b<a;b++)P(D[b]);for(var c in e)e[c]=null;e=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})})();return{registerObject:function(a,b,c,f){if(e.w3&&a&&b){var d={};d.id=a;d.swfVersion=b;d.expressInstall=c;d.callbackFn=f;r[r.length]=d;w(a,!1)}else f&&f({success:!1,id:a})},getObjectById:function(a){if(e.w3)return H(a)},\nembedSWF:function(a,b,c,d,g,q,h,k,l,n){var p={success:!1,id:b};e.w3&&!(e.wk&&312>e.wk)&&a&&b&&c&&d&&g?(w(b,!1),M(function(){c+="";d+="";var e={};if(l&&"object"===typeof l)for(var m in l)e[m]=l[m];e.data=a;e.width=c;e.height=d;m={};if(k&&"object"===typeof k)for(var r in k)m[r]=k[r];if(h&&"object"===typeof h)for(var t in h)m.flashvars="undefined"!=typeof m.flashvars?m.flashvars+("&"+t+"="+h[t]):t+"="+h[t];if(A(g))r=K(e,m,b),e.id==b&&w(b,!0),p.success=!0,p.ref=r;else{if(q&&F()){e.data=q;G(e,m,b,n);return}w(b,\n!0)}n&&n(p)})):n&&n(p)},switchOffAutoHideShow:function(){R=!1},ua:e,getFlashPlayerVersion:function(){return{major:e.pv[0],minor:e.pv[1],release:e.pv[2]}},hasFlashPlayerVersion:A,createSWF:function(a,b,c){if(e.w3)return K(a,b,c)},showExpressInstall:function(a,b,c,d){e.w3&&F()&&G(a,b,c,d)},removeSWF:function(a){e.w3&&P(a)},createCSS:function(a,b,c,d){e.w3&&Q(a,b,c,d)},addDomLoadEvent:M,addLoadEvent:N,callDomLoadFunctions:u,getQueryParamValue:function(a){var b=d.location.search||d.location.hash;if(b){/\\?/.test(b)&&\n(b=b.split("?")[1]);if(null==a)return S(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return S(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(B){var a=p("SWFObjectExprInst");a&&y&&(a.parentNode.replaceChild(y,a),C&&(w(C,!0),e.ie&&e.win&&(y.style.display="block")),I&&I(O));B=!1}}}}();\n\n(function() {\nvar  global, version, _ref;\n\n\n  function AkamaiSDKManager() {\n    var legacyCheck, sdk, versions,\n      _this = this;\n    sdk = null;\n    this.getSDK = function() {\n      return sdk;\n    };\n    this.setSDK = function(newSDK) {\n      var key, value;\n      sdk = newSDK;\n      legacyCheck();\n      for (key in sdk) {\n        value = sdk[key];\n        window[key] = value;\n      }\n      return sdk;\n    };\n    this.saveSDK = function(version, object) {\n      var key, value, _ref;\n      if (!(object != null) || !(version != null) || version === "") {\n        return;\n      }\n      if (!(object.main != null)) {\n        for (key in object) {\n          value = object[key];\n          if (!((value != null ? value.VERSION : void 0) === version)) {\n            continue;\n          }\n          object.main = value;\n          break;\n        }\n      }\n      if ((_ref = object.version) == null) {\n        object.version = version;\n      }\n      versions.push(object);\n      this[version] = object;\n      return object;\n    };\n    versions = [];\n    this.getVersions = function() {\n      return versions.slice();\n    };\n    this.getVersion = function(version) {\n      return this[version];\n    };\n    this.setVersion = function(version) {\n      sdk = this.getVersion(version);\n      if (!(sdk != null)) {\n        return null;\n      }\n      this.setSDK(sdk);\n      return sdk;\n    };\n    this.revert = function() {\n      return this.setSDK(versions[0]);\n    };\n    this.noConflict = function() {\n      var current;\n      current = this.getSDK();\n      this.revert();\n      return current;\n    };\n    this.create = (function() {\n      var Creator;\n      Creator = function(cls, args) {\n        this.prototype = cls.prototype;\n        return cls.apply(this, args);\n      };\n      return function(args) {\n        return new Creator(sdk.main, arguments);\n      };\n    })();\n    legacyCheck = function() {\n      var key, obj, value, _ref, _ref1;\n      if ((_ref = window.com) != null ? (_ref1 = _ref.akamai) != null ? _ref1.amp : void 0 : void 0) {\n        for (key in window) {\n          value = window[key];\n          if ((value === window.AMP || value === window.AMPremier) && ((value != null ? value.VERSION : void 0) != null) && value.VERSION !== "" && value.VERSION !== (sdk != null ? sdk.version : void 0) && (!(_this[value.VERSION] != null))) {\n            obj = {};\n            obj.main = value;\n            obj.com = window.com;\n            if (window.AMP) {\n              obj.AMP = window.AMP;\n            }\n            if (window.AMPPremier) {\n              obj.AMPremier = window.AMPPremier;\n            }\n            if (window.Utils) {\n              obj.Utils = window.Utils;\n            }\n            if (window.QueryString) {\n              obj.QueryString = window.QueryString;\n            }\n            if (window.QueryParams) {\n              obj.QueryParams = window.QueryParams;\n            }\n            _this.saveSDK(value.VERSION, obj);\n            break;\n          }\n        }\n      }\n    };\n    legacyCheck();\n  }\n\n  \nif ((_ref = window.AKAMAI_MEDIA_PLAYER) == null) {\n  window.AKAMAI_MEDIA_PLAYER = new AkamaiSDKManager();\n}\nversion = "AMP - Premier : WebMD v0.30.0.0002";\nif (!(window.AKAMAI_MEDIA_PLAYER[version] != null)) {\n  global = window.AKAMAI_MEDIA_PLAYER[version] = {};\n  /* Start JS Lib\n  */\n  function __hasProp(prop) {\n	return {}["hasOwnProperty"](prop);\n}\n\nfunction __extends(child, parent) {\n	for (var key in parent) {\n		if (__hasProp["call"](parent, key))\n			child[key] = parent[key];\n	}\n	function ctor() {\n		this.constructor = child;\n	}\n\n	ctor.prototype = parent.prototype;\n	child.prototype = new ctor;\n	child.__super__ = parent.prototype;\n	return child;\n}\n\nfunction __indexOf(item) {\n	for (var i = 0, l = this.length; i < l; i++) {\n		if ( i in this && this[i] === item)\n			return i;\n	}\n	return -1;\n}\n\nfunction __bind(fn, me) {\n	return function() {\n		return fn["apply"](me, arguments);\n	};\n}\n\n\n\n\n\n\n\n\n/**\n * Creates a new instance of MediaProxy. Used to track player configuration settings.\n * \n * @param {Object} data The config object.\n * @constructor\n * @private\n * @extends {puremvc.Proxy}\n*/\nfunction ModuleProxy(data, name) {\n  this.config = data;\n  ModuleProxy.__super__.constructor.call(this, name);\n}\n\n\n__extends(ModuleProxy, puremvc.Proxy);\n\n\n/** @static\n*/\nModuleProxy.NAME = "ModuleProxy";\n\n/** @private\n*/\nModuleProxy.prototype.defaults = null;\n\nModuleProxy.prototype.config = null;\n\n/** @override\n*/\nModuleProxy.prototype.initializeNotifier = function(key) {\n  ModuleProxy.__super__.initializeNotifier.call(this, key);\n  this.createData();\n};\n\n/**\n*/\nModuleProxy.prototype.createData = function() {\n  this.setData(this.config);\n};\n\n/**\n * Sets the data for this proxy.\n * \n * @param {Object} value \n *    The new data for this proxy\n * @override\n*/\nModuleProxy.prototype.setData = function(data) {\n  var dflt, key, obj, value, _ref;\n  if (data == null) {\n    data = {};\n  }\n  obj = {};\n  _ref = this.defaults;\n  for (key in _ref) {\n    dflt = _ref[key];\n    value = key in data ? data[key] : dflt;\n    obj[key] = value;\n  }\n  ModuleProxy.__super__.setData.call(this, obj);\n  return data;\n};\n\n/** \n * The Module class.\n *   \n * @param {Object}  config        The configuration object\n * @param {Object}  viewComponent The player\'s container element\n * @constructor\n * @private\n * @extends {puremvc.Facade}\n*/\nfunction Module(viewComponent) {\n  this.viewComponent = viewComponent;\n  Module.__super__.constructor.call(this, this.getModuleName() + "-" + Date.now());\n  this.dispatcher = new EventDispatcher(this);\n  this.logger = Logger;\n  this.moduleMap = {};\n}\n\n\n__extends(Module, puremvc.Facade);\n\n\nModule.prototype.logger = null;\n\nModule.prototype.config = null;\n\nModule.prototype.moduleName = null;\n\nModule.prototype.moduleMap = null;\n\nModule.prototype.viewComponent = null;\n\nModule.prototype.dispatcher = null;\n\nModule.prototype.oninitialized = null;\n\nModule.prototype.parentModule = null;\n\n/**\n * Initialization function.\n * \n * @param {Object}  config  The plugin\'s configuration object.\n*/\nModule.prototype.initialize = function(config, parentModule) {\n  this.config = config;\n  this.parentModule = parentModule;\n  this.loadResources();\n};\n\n/**\n*/\nModule.prototype.loadResources = function() {\n  var resource, _i, _len, _ref, _ref1;\n  if (!((_ref = this.config.resources) != null ? _ref.length : void 0) > 0) {\n    this.resourcesLoaded();\n    return;\n  }\n  _ref1 = this.config.resources;\n  for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n    resource = _ref1[_i];\n    resource.src = this.evaluatePaths(resource.src);\n  }\n  AMP.addResources(this.config.resources, this.resourcesLoaded.bind(this));\n};\n\n/**\n*/\nModule.prototype.evaluatePaths = function(path) {\n  var paths, _ref, _ref1;\n  paths = this.config.paths || ((_ref = this.parentModule) != null ? (_ref1 = _ref.config) != null ? _ref1.paths : void 0 : void 0);\n  if (paths != null) {\n    return DataBinding["eval"](path, null, null, null, paths);\n  } else {\n    return path;\n  }\n};\n\n/** \n * The resources have finished loaded, load the extensions.\n * \n * @param {akamai.amp.Player} player\n * @param {Object} config\n * @private\n*/\nModule.prototype.resourcesLoaded = function() {\n  this.createFramework();\n  if (typeof this.oninitialized === "function") {\n    this.oninitialized(this);\n  }\n};\n\n/**\n * Framework based initialization function for defining default\n * mvc classes. Meant to be overwritten by base classes.\n*/\nModule.prototype.createFramework = function() {\n  this.createModel();\n  this.createController();\n  this.createView();\n};\n\n/**\n*/\nModule.prototype.createModel = function() {\n  this.registerProxy(new ModuleProxy(this.config));\n};\n\n/**\n*/\nModule.prototype.createView = function() {};\n\n/**\n*/\nModule.prototype.createController = function() {\n  this.registerCommand(Notifications.DISPATCH_EVENT, DispatchEventCommand);\n};\n\n/**\n*/\nModule.prototype.getModuleName = function() {\n  return this.moduleName;\n};\n\n/**\n * @return {Object} The configuration object.\n * @expose\n*/\nModule.prototype.getConfig = function() {\n  return this.config;\n};\n\n/**\n*/\nModule.prototype.hasModule = function(moduleName) {\n  return this.moduleMap[moduleName] != null;\n};\n\n/**\n*/\nModule.prototype.getModules = function() {\n  var key, modules, value, _ref;\n  modules = {};\n  _ref = this.moduleMap;\n  for (key in _ref) {\n    value = _ref[key];\n    modules[key] = value.module;\n  }\n  return modules;\n};\n\n/**\n*/\nModule.prototype.registerModule = function(module) {\n  var adaptor, moduleName;\n  moduleName = module.getModuleName();\n  if (!(module != null) || (this.moduleMap[moduleName] != null)) {\n    return;\n  }\n  adaptor = new ModuleAdapter(module);\n  this.moduleMap[moduleName] = adaptor;\n  this.registerMediator(adaptor);\n  module.onRegister();\n};\n\n/**\n*/\nModule.prototype.retrieveModule = function(moduleName) {\n  return this.moduleMap[moduleName].module;\n};\n\n/**\n*/\nModule.prototype.removeModule = function(moduleName) {\n  var adaptor;\n  adaptor = this.moduleMap[moduleName];\n  if (!(adaptor != null)) {\n    return;\n  }\n  delete this.moduleMap[moduleName];\n  this.removeMediator(moduleName);\n  adaptor.module.onRemove();\n  return adaptor.module;\n};\n\n/** List INotification interests.\n*/\nModule.prototype.listNotificationInterests = function() {\n  return [];\n};\n\n/** List Notification publications\n*/\nModule.prototype.listNotificationPublications = function() {\n  return [];\n};\n\n/** Get the IMediator\'s view component.\n*/\nModule.prototype.getViewComponent = function() {\n  return this.viewComponent;\n};\n\n/** Set the IMediator\'s view component.\n*/\nModule.prototype.setViewComponent = function(viewComponent) {\n  this.viewComponent = viewComponent;\n  return viewComponent;\n};\n\n/** Called by the parent module when the Module is registered\n*/\nModule.prototype.onRegister = function() {};\n\n/** Called by the parent module when the Module is removed\n*/\nModule.prototype.onRemove = function() {};\n\n/** Destroys the module\n*/\nModule.prototype.destroy = function() {\n  var key, module, _i, _len, _ref;\n  if (this.viewComponent != null) {\n    this.viewComponent.innerHTML = "";\n    this.viewComponent.className = "";\n  }\n  _ref = this.getModules();\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    module = _ref[_i];\n    this.removeModule(module.getModuleName());\n    module.destroy();\n  }\n  puremvc.Facade.removeCore(this.multitonKey);\n  for (key in this) {\n    this[key] = null;\n    delete this[key];\n  }\n};\n\n/**\n * Adds a listener for a given event type.\n *\n * @param {!string}  type  A string representing the event\'s type.\n * @param {!Function} func  A function to call when the event is triggered.\n * @expose\n*/\nModule.prototype.addEventListener = function(type, func) {\n  this.dispatcher.addEventListener(type, func);\n};\n\n/**\n*/\nModule.prototype.logEvent = function(event) {\n  var prefix;\n  if (/(timeupdate)/.test(event.type) === true) {\n    return;\n  }\n  prefix = this.getModuleName().toUpperCase();\n  if (event.dispatcher) {\n    prefix += " " + event.dispatcher;\n  }\n  this.logger.log("[" + prefix + " EVENT]", event.type, event);\n};\n\n/**\n * Dispathes and event, triggering all event listener of the event\'s type.\n *\n * @param {!IEvent} event The event to dispatch.\n * @expose\n*/\nModule.prototype.dispatchEvent = function(event) {\n  this.logEvent(event);\n  this.dispatcher.dispatchEvent(event);\n};\n\n/**\n * Removes a listener for a given event type.\n *\n * @param {!string}  type  A string representing the event\'s type.\n * @param {!Function} func  A function to call when the event is triggered.\n * @return {?Function} the handler that was removed if any\n * @expose\n*/\nModule.prototype.removeEventListener = function(type, func) {\n  this.dispatcher.removeEventListener(type, func);\n};\n\nfunction XMLUtils() {}\n\nXMLUtils.createTextContent = function(xml, text) {\n  var node;\n  node = /[\\&<>]/.test(text) ? xml.createCDATASection(text) : xml.createTextNode(text);\n  return node;\n};\n\nXMLUtils.updateTextContent = function(node, str) {\n  var text;\n  text = XMLUtils.createTextContent(node.ownerDocument, str);\n  node.removeChild(node.childNodes[0]);\n  node.appendChild(text);\n  return node;\n};\n\nXMLUtils.serialize = function(xml) {\n  var serializer;\n  if (!(xml != null)) {\n    return;\n  }\n  if (typeof xml === "string") {\n    return xml;\n  }\n  try {\n    serializer = new XMLSerializer();\n    return serializer.serializeToString(xml);\n  } catch (err1) {\n    try {\n      serializer = document.implementation.createLSSerializer();\n      return xmlSerializer.writeToString(xml);\n    } catch (err3) {\n      try {\n        return xml.xml;\n      } catch (err2) {\n\n      }\n    }\n  }\n};\n\nXMLUtils.parse = function(text) {\n  var parser, xmlDoc;\n  if (window.DOMParser) {\n    parser = new DOMParser();\n    xmlDoc = parser.parseFromString(text, "text/xml");\n  } else {\n    xmlDoc = new ActiveXObject("Microsoft.XMLDOM");\n    xmlDoc.async = false;\n    xmlDoc.loadXML(text);\n  }\n  return xmlDoc;\n};\n\n/**\n * The PluginsInitializedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction PluginsInitializedCommand() {\n  PluginsInitializedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PluginsInitializedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPluginsInitializedCommand.prototype.execute = function(notification) {\n  var media, _ref;\n  this.sendNotification(Notifications.READY, this.facade.config);\n  media = (_ref = this.facade.config) != null ? _ref.media : void 0;\n  if (media != null) {\n    this.sendNotification(Notifications.SET_MEDIA, media);\n  }\n};\n\n/** \n * The InstallPlayer class.\n *   \n * @constructor\n * @private \n * @param {Object} viewComponent\n*/\nfunction InstallPlayer(viewComponent) {\n  var anchor, div, img, message;\n  viewComponent.className = Namespace.PREFIX + "player";\n  div = UI.create("install-flash", viewComponent);\n  message = UI.create(null, div, "p", "To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.");\n  anchor = UI.create(null, div, "a");\n  anchor.href = \'http://www.adobe.com/go/getflashplayer\';\n  img = UI.create(null, anchor, "img");\n  img.src = "//www.adobe.com/images/shared/download_buttons/get_flash_player.gif";\n  img.alt = "Get Adobe Flash player";\n}\n\n/**\n*/\nInstallPlayer.prototype.getModules = function() {\n  return [];\n};\n\n/**\n * @constructor\n * @private\n*/\nfunction Manager() {\n  this.map = {};\n}\n\n/** \n * @type {Object.<string, Object>}\n * @private\n*/\nManager.prototype.map = null;\n\n/**\n * @param {string} key\n *     The key\n * \n * @param {Object} value\n *     The value\n*/\nManager.prototype.add = function(key, value) {\n  this.map[key] = value;\n};\n\n/**\n * @param {string} key\n *     The module\'s key\n * \n * @return {Object}\n *     The item at the given key.\n*/\nManager.prototype.item = function(key) {\n  return this.map[key];\n};\n\n/**\n * @param {string} key\n *     The module\'s key\n * \n * @return {Object}\n *     The item.\n*/\nManager.prototype.remove = function(key) {\n  var item;\n  item = this.map[key];\n  if (item != null) {\n    this.map[key] = null;\n    delete this.map[key];\n  }\n  return item;\n};\n\n/**\n * @constructor\n * @extends {Manager}\n*/\nfunction ResourceManager() {\n  ResourceManager.__super__.constructor.call(this);\n}\n\n\n__extends(ResourceManager, Manager);\n\n\n/**\n * @override\n*/\nResourceManager.prototype.add = function(resource, callback) {\n  var parent;\n  if (this.item(resource.src) != null) {\n    callback();\n    return;\n  }\n  ResourceManager.__super__.add.call(this, resource.src, resource);\n  parent = document.body;\n  if (resource.type === Utils.mimeTypes.js) {\n    Utils.loadScript(resource.src, callback, parent);\n  } else if (resource.type === Utils.mimeTypes.css) {\n    Utils.loadStyleSheet(resource.src);\n    callback();\n  } else {\n    callback();\n  }\n};\n\n/**\n * @param {Array.<akamai.amp.Resource>} resource\n *    The resource\n * \n * @param {Function} callback\n*/\nResourceManager.prototype.addResources = function(resources, callback) {\n  var complete, index, next,\n    _this = this;\n  if (!(resources != null ? resources.length : void 0) > 0) {\n    callback();\n    return;\n  }\n  index = 0;\n  next = function() {\n    _this.add(resources[index], complete);\n  };\n  complete = function() {\n    index++;\n    if (index >= resources.length) {\n      callback();\n    } else {\n      next();\n    }\n  };\n  next();\n};\n\n/** \n * The PlayerCommand class. Base class for commands that need access \n * to the application state or the media\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction PlayerCommand() {\n  PlayerCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PlayerCommand, puremvc.SimpleCommand);\n\n\nPlayerCommand.prototype.applicationState = null;\n\nPlayerCommand.prototype.media = null;\n\nPlayerCommand.prototype.player = null;\n\nPlayerCommand.prototype.playback = null;\n\nPlayerCommand.prototype.config = null;\n\nPlayerCommand.prototype.logger = null;\n\nPlayerCommand.prototype.bindings = null;\n\nPlayerCommand.prototype.params = null;\n\nPlayerCommand.prototype.playerCore = null;\n\nPlayerCommand.prototype.security = null;\n\n/** @override\n*/\nPlayerCommand.prototype.initializeNotifier = function(key) {\n  var _ref;\n  PlayerCommand.__super__.initializeNotifier.call(this, key);\n  this.player = this.facade.player || this.facade;\n  this.applicationState = this.player.appState;\n  this.media = this.player.media;\n  this.config = this.player.configuration;\n  this.logger = this.player.logger;\n  this.bindings = this.player.bindings;\n  this.params = this.player.params;\n  this.playerCore = this.player.playerCore;\n  this.security = this.player.security;\n  this.playback = ((_ref = this.player.playerCore) != null ? _ref.getActivePlaybackCore() : void 0) || this.player.playback;\n};\n\n/**\n * The TogglePlayPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction TogglePlayPauseCommand() {\n  TogglePlayPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(TogglePlayPauseCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nTogglePlayPauseCommand.prototype.execute = function(notification) {\n  var note;\n  switch (this.applicationState.getPlayState()) {\n    case PlayState.ENDED:\n      note = Notifications.REPLAY;\n      break;\n    case PlayState.PAUSED:\n    case PlayState.READY:\n      note = Notifications.PLAY;\n      break;\n    case PlayState.PLAYING:\n      note = Notifications.PAUSE;\n      break;\n    case PlayState.WAITING:\n      if (this.facade.getMediaElement().paused === true) {\n        note = Notifications.PLAY;\n      }\n  }\n  this.sendNotification(note, true);\n};\n\n/**\n * The ToggleFullScreenCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ToggleFullScreenCommand() {\n  ToggleFullScreenCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ToggleFullScreenCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nToggleFullScreenCommand.prototype.execute = function(notification) {\n  var state;\n  state = this.applicationState.getDisplayState() === DisplayState.FULL_SCREEN ? DisplayState.NORMAL : DisplayState.FULL_SCREEN;\n  this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, state);\n};\n\n/** \n * The PlayerCommand class. Base class for commands that need access \n * to the application state or the media\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction PlayerEventCommand() {\n  PlayerEventCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PlayerEventCommand, PlayerCommand);\n\n\n/**\n *\n*/\nPlayerEventCommand.prototype.dispatchEvent = function(type, detail) {\n  var event;\n  if (typeof type !== "string") {\n    detail = type.getBody() || {};\n    type = type.getName();\n  }\n  event = new Event(type, detail);\n  this.sendNotification(Notifications.DISPATCH_EVENT, event);\n};\n\n/**\n *\n*/\nPlayerEventCommand.prototype.dispatchEventAfterCommand = function(type, detail) {\n  setTimeout(this.dispatchEvent.bind(this, type, detail), 0);\n};\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPlayerEventCommand.prototype.execute = function(notification) {\n  this.dispatchEvent(notification);\n};\n\n/**\n * The PlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.MacroCommand}\n*/\nfunction PlayingCommand() {\n  PlayingCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PlayingCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPlayingCommand.prototype.execute = function(notification) {\n  if (this.applicationState.getIsUserActive() === true) {\n    return;\n  }\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n  PlayingCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar FullscreenMode = {\n  /**\n   *\n  */\n\n  EXTERNAL: "external"\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar ControlsMode = {\n  /**\n   * Constant representing auto controls mode\n  */\n\n  AUTO: "auto",\n  /**\n   * Constant representing the persistent controls mode\n  */\n\n  PERSISTENT: "persistent",\n  /**\n   * Constant representing none controls mode\n  */\n\n  NONE: "none"\n};\n\n/**\n * The PauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction PauseCommand() {\n  PauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PauseCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPauseCommand.prototype.execute = function(notification) {\n  this.playback.pause();\n  this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n  PauseCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ChangeAutoplayCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeAutoplayCommand() {\n  ChangeAutoplayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeAutoplayCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeAutoplayCommand.prototype.execute = function(notification) {\n  this.config.setAutoplay(notification.getBody());\n};\n\n/**\n * The ChangeLoopCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeLoopCommand() {\n  ChangeLoopCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeLoopCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeLoopCommand.prototype.execute = function(notification) {\n  this.config.setLoop(notification.getBody());\n};\n\n/**\n * The ChangeVolumeCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeVolumeCommand() {\n  ChangeVolumeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeVolumeCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeVolumeCommand.prototype.execute = function(notification) {\n  this.playback.setVolume(notification.getBody());\n};\n\n/**\n * The MediaValidatedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaValidatedCommand() {\n  MediaValidatedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaValidatedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaValidatedCommand.prototype.execute = function(notification) {\n  var media;\n  media = notification.getBody();\n  this.sendNotification(Notifications.MEDIA_CHANGE, media);\n  if (this.facade.getAutoplay() === true) {\n    this.sendNotification(Notifications.PLAY);\n  }\n};\n\n/**\n * The SeekCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction SeekCommand() {\n  SeekCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SeekCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSeekCommand.prototype.execute = function(notification) {\n  var handler, time, video;\n  time = notification.getBody();\n  if (time === 0 && this.media.getType() === Utils.mimeTypes.m3u8) {\n    time = 0.25;\n  }\n  if (time === this.playback.getCurrentTime()) {\n    return;\n  }\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.WAITING);\n  this.sendNotification(Notifications.DISPLAY_TIME, {\n    currentTime: time,\n    duration: this.playback.getDuration()\n  });\n  this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n  video = this.facade.getMediaElement();\n  this.applicationState.pausedBeforeSeek = video.paused;\n  if (video.readyState === 0) {\n    handler = function(event) {\n      video.removeEventListener("loadedmetadata", handler, false);\n      this.playback.setCurrentTime(time);\n    };\n    video.addEventListener("loadedmetadata", handler, false);\n  } else {\n    this.playback.setCurrentTime(time);\n  }\n};\n\n/**\n * The SeekingCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction SeekingCommand() {\n  SeekingCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SeekingCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSeekingCommand.prototype.execute = function(notification) {\n  if (this.applicationState.getSeeking() === true) {\n    return;\n  }\n  this.applicationState.setSeeking(true);\n  SeekingCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The SeekedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction SeekedCommand() {\n  SeekedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SeekedCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSeekedCommand.prototype.execute = function(notification) {\n  var _this = this;\n  if (this.applicationState.getIsUserActive() === true) {\n    setTimeout(this.sendNotification.bind(this, notification.getName(), notification.getBody()), 100);\n    return;\n  }\n  setTimeout(function() {\n    var state;\n    _this.applicationState.setSeeking(false);\n    _this.dispatchEvent(notification);\n    state = _this.applicationState.pausedBeforeSeek === true ? PlayState.PAUSED : PlayState.PLAYING;\n    _this.sendNotification(Notifications.CHANGE_PLAY_STATE, state);\n  }, 1);\n};\n\n/**\n * The ReplayCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ReplayCommand() {\n  ReplayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ReplayCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nReplayCommand.prototype.execute = function(notification) {\n  this.playback.setCurrentTime(0.25);\n  this.sendNotification(Notifications.PLAY);\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n};\n\n/**\n * The EndCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction EndCommand() {\n  EndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(EndCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nEndCommand.prototype.execute = function(notification) {\n  this.playback.pause();\n  if (this.playback.getCurrentTime() !== this.playback.getDuration()) {\n    this.playback.setCurrentTime(this.playback.getDuration());\n  }\n};\n\n/**\n * The EndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction EndedCommand() {\n  EndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(EndedCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nEndedCommand.prototype.execute = function(notification) {\n  if (this.config.getLoop() === true) {\n    EndedCommand.__super__.execute.call(this, notification);\n    this.sendNotification(Notifications.REPLAY);\n  } else {\n    this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.ENDED);\n    this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n    EndedCommand.__super__.execute.call(this, notification);\n  }\n};\n\n/**\n * The StartCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction StartCommand() {\n  StartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(StartCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nStartCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.DISPLAY_TIME, {\n    currentTime: 0,\n    duration: this.media.getDuration()\n  });\n  this.sendNotification(Notifications.STARTED, notification.getBody());\n};\n\n/**\n * The IsUserActiveCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction IsUserActiveCommand() {\n  IsUserActiveCommand.__super__.constructor.call(this);\n}\n\n\n__extends(IsUserActiveCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nIsUserActiveCommand.prototype.execute = function(notification) {\n  this.applicationState.setIsUserActive(notification.getBody());\n};\n\n/**\n * The WaitingCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction WaitingCommand() {\n  WaitingCommand.__super__.constructor.call(this);\n}\n\n\n__extends(WaitingCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nWaitingCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.WAITING);\n  WaitingCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ChangeMutedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeMutedCommand() {\n  ChangeMutedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeMutedCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeMutedCommand.prototype.execute = function(notification) {\n  this.playback.setMuted(notification.getBody());\n};\n\n/**\n * The CheckAuthorizationCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction CheckAuthorizationCommand() {\n  CheckAuthorizationCommand.__super__.constructor.call(this);\n}\n\n\n__extends(CheckAuthorizationCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nCheckAuthorizationCommand.prototype.execute = function(notification) {\n  var media;\n  media = notification.getBody();\n  this.security.setMedia(media);\n  if (this.security.getAuthorized() === false) {\n    this.sendNotification(SecurityNotifications.AUTHORIZE, media);\n  } else {\n    this.sendNotification(Notifications.MEDIA_VALIDATED, media);\n  }\n  CheckAuthorizationCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The AuthorizedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction AuthorizedCommand() {\n  AuthorizedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AuthorizedCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAuthorizedCommand.prototype.execute = function(notification) {\n  var src;\n  this.media.authorized = true;\n  src = this.security.createURL(this.media.getSrc());\n  this.media.setSrc(src);\n  this.sendNotification(Notifications.MEDIA_VALIDATED, this.media.getData());\n  AuthorizedCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The InitializedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction InitializedCommand() {\n  InitializedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(InitializedCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nInitializedCommand.prototype.execute = function(notification) {\n  this.playback.initialized = true;\n};\n\n/**\n * The RegisterPlaybackCoreCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction RegisterPlaybackCoreCommand() {\n  RegisterPlaybackCoreCommand.__super__.constructor.call(this);\n}\n\n\n__extends(RegisterPlaybackCoreCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nRegisterPlaybackCoreCommand.prototype.execute = function(notification) {\n  this.playerCore.registerPlaybackCore(notification.getBody());\n};\n\n/**\n * The RegisterPlaybackCoreCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction PlaybackTargetChangeCommand() {\n  PlaybackTargetChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PlaybackTargetChangeCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPlaybackTargetChangeCommand.prototype.execute = function(notification) {\n  var note;\n  if (notification.getBody().target === "amp") {\n    note = Notifications.REMOVE_APPLICATION_STATE;\n  } else {\n    note = Notifications.ADD_APPLICATION_STATE;\n  }\n  this.sendNotification(note, "remote-playback");\n  PlaybackTargetChangeCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The RecordContentChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction RecordContentChangeCommand() {\n  RecordContentChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(RecordContentChangeCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nRecordContentChangeCommand.prototype.execute = function(notification) {\n  var content;\n  content = notification.getBody();\n  this.sendNotification(Notifications.CHANGE_CONTENT, {\n    from: this.media.getData(),\n    to: content\n  });\n  this.media.updateData(content);\n  this.sendNotification(Notifications.UPDATE_DATA_BINDINGS);\n  this.sendNotification(Notifications.CHANGE_CONTENT, this.media.getData());\n};\n\n/**\n * The TimeupdateCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction TimeUpdateCommand() {\n  TimeUpdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(TimeUpdateCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nTimeUpdateCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.DISPLAY_TIME, {\n    currentTime: this.playback.getCurrentTime(),\n    duration: this.playback.getDuration()\n  });\n  TimeUpdateCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ToggleMutedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ToggleMutedCommand() {\n  ToggleMutedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ToggleMutedCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nToggleMutedCommand.prototype.execute = function(notification) {\n  this.playback.setMuted(!this.playback.getMuted());\n};\n\n/** \n * The ModuleMediator class.\n * \n * @param {string} name\n * @param {Object} viewComponent\n * @constructor\n * @private \n * @extends {puremvc.Mediator}\n*/\nfunction ModuleMediator(viewComponent) {\n  if (this.cssPrefix == null) {\n    this.cssPrefix = Namespace.PREFIX;\n  }\n  ModuleMediator.__super__.constructor.call(this, this.mediatorName, viewComponent);\n}\n\n\n__extends(ModuleMediator, puremvc.Mediator);\n\n\nModuleMediator.prototype.config = null;\n\nModuleMediator.prototype.cssPrefix = null;\n\nModuleMediator.prototype.classList = null;\n\n/** @override\n*/\nModuleMediator.prototype.initializeNotifier = function(key) {\n  var base;\n  ModuleMediator.__super__.initializeNotifier.call(this, key);\n  base = this.facade.player || this.facade;\n  this.config = base.retrieveProxy(ModuleProxy.NAME);\n  this.classList = {\n    prefix: this.cssPrefix,\n    element: this.viewComponent,\n    contains: function(className, element) {\n      var css, _ref;\n      if (element == null) {\n        element = this.element;\n      }\n      css = this.prefix + className;\n      if (((_ref = element.classList) != null ? _ref.contains : void 0) != null) {\n        return element.classList.contains(css);\n      } else {\n        return element.className.indexOf(css) !== -1;\n      }\n    },\n    add: function(className, element) {\n      var css, _ref;\n      if (element == null) {\n        element = this.element;\n      }\n      css = this.prefix + className;\n      if (((_ref = element.classList) != null ? _ref.add : void 0) != null) {\n        element.classList.add(css);\n      } else {\n        if (!this.contains(className, element)) {\n          if (element.className !== "") {\n            element.className += " " + css;\n          } else {\n            element.className = css;\n          }\n        }\n      }\n    },\n    remove: function(className, element) {\n      var css, regexp, _ref;\n      if (element == null) {\n        element = this.element;\n      }\n      css = this.prefix + className;\n      if (((_ref = element.classList) != null ? _ref.remove : void 0) != null) {\n        element.classList.remove(css);\n      } else {\n        if (this.contains(className, element)) {\n          regexp = new RegExp(" ?" + css);\n          element.className = element.className.replace(regexp, "");\n        }\n      }\n    },\n    toggle: function(className, element) {\n      var _ref;\n      if (element == null) {\n        element = this.element;\n      }\n      if (((_ref = element.classList) != null ? _ref.toggle : void 0) != null) {\n        return element.classList.toggle(this.prefix + className);\n      } else {\n        if (this.contains(className, element)) {\n          return this.remome(className, element);\n        } else {\n          return this.add(className, element);\n        }\n      }\n    }\n  };\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction LocalizedMediator(viewComponent) {\n  LocalizedMediator.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(LocalizedMediator, ModuleMediator);\n\n\nLocalizedMediator.prototype.localizationManager = null;\n\n/** @override\n*/\nLocalizedMediator.prototype.initializeNotifier = function(key) {\n  var target;\n  LocalizedMediator.__super__.initializeNotifier.call(this, key);\n  target = this.facade.player || this.facade;\n  this.localizationManager = target.retrieveProxy(LocalizationProxy.NAME);\n};\n\n/** \n * @constructor\n * @extends {LocalizedMediator}\n * @private\n*/\nfunction ComponentMediator(componentName, componentType, parent, element) {\n  this.componentName = componentName != null ? componentName : this.componentName;\n  this.componentType = componentType != null ? componentType : this.componentType;\n  this.viewComponent = this.createViewComponent(parent, element);\n  this.classList = this.viewComponent._classList;\n  if (this.mediatorName == null) {\n    this.mediatorName = this.createMediatorName();\n  }\n  ComponentMediator.__super__.constructor.call(this, this.viewComponent);\n}\n\n\n__extends(ComponentMediator, LocalizedMediator);\n\n\nComponentMediator.prototype.componentName = null;\n\nComponentMediator.prototype.componentType = null;\n\nComponentMediator.prototype.classList = null;\n\nComponentMediator.prototype.state = null;\n\nComponentMediator.prototype.disabled = false;\n\n/**\n*/\nComponentMediator.prototype.onRegister = function() {\n  UI.bindEvents(this.viewComponent, this);\n};\n\n/**\n*/\nComponentMediator.prototype.createViewComponent = function(parent, element) {\n  var type;\n  type = this.getTypeList();\n  return UI.create(type, parent, element);\n};\n\n/**\n*/\nComponentMediator.prototype.createMediatorName = function() {\n  var type;\n  type = this.getTypeList();\n  type.push("mediator");\n  type.push(UI.createUID());\n  return type.join("-");\n};\n\n/**\n*/\nComponentMediator.prototype.getTypeList = function() {\n  var type;\n  type = [];\n  if (this.componentName != null) {\n    type.push(this.componentName);\n  }\n  if (this.componentType != null) {\n    type = type.concat(this.componentType);\n  }\n  return type;\n};\n\n/**\n*/\nComponentMediator.prototype.create = function(type, parent, element, text) {\n  if (parent == null) {\n    parent = this;\n  }\n  if (parent === false) {\n    parent = null;\n  }\n  return UI.create(type, parent, element, text);\n};\n\n/**\n*/\nComponentMediator.prototype.createText = function(type, text, parent, element) {\n  if (parent == null) {\n    parent = this;\n  }\n  return UI.create(type, parent, element, text);\n};\n\n/**\n*/\nComponentMediator.prototype.setState = function(value) {\n  if (value === this.state) {\n    return;\n  }\n  if (this.state != null) {\n    this.classList.remove(this.state);\n  }\n  this.state = value;\n  if (this.state != null) {\n    this.classList.add(this.state);\n  }\n  return value;\n};\n\n/**\n*/\nComponentMediator.prototype.getState = function() {\n  return this.state;\n};\n\n/**\n*/\nComponentMediator.prototype.setDisabled = function(value) {\n  if (value === this.disabled) {\n    return;\n  }\n  this.disabled = value;\n  if (this.disabled) {\n    this.classList.add("disabled");\n  } else {\n    this.classList.remove("disabled");\n  }\n  return value;\n};\n\n/**\n*/\nComponentMediator.prototype.getDisabled = function() {\n  return this.disabled;\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction OverlayMediator() {\n  OverlayMediator.__super__.constructor.call(this, null, null, null, null);\n}\n\n\n__extends(OverlayMediator, ComponentMediator);\n\n\nOverlayMediator.prototype.componentType = "overlay";\n\n/**\n * Registers the overlay.\n * \n * @override\n*/\nOverlayMediator.prototype.onRegister = function() {\n  OverlayMediator.__super__.onRegister.call(this);\n  this.registerOverlay();\n};\n\n/**\n * Removes the overlay.\n * \n * @override\n*/\nOverlayMediator.prototype.onRemove = function() {\n  OverlayMediator.__super__.onRemove.call(this);\n  this.removeOverlay();\n};\n\n/**\n *\n*/\nOverlayMediator.prototype.registerOverlay = function() {\n  this.sendNotification(Notifications.ADD_OVERLAY, this.viewComponent);\n};\n\n/**\n *\n*/\nOverlayMediator.prototype.removeOverlay = function() {\n  this.sendNotification(Notifications.REMOVE_OVERLAY, this.viewComponent);\n};\n\n/**\n * @constructor\n * @private\n * @extends {contextMenuMediator}\n*/\nfunction contextMenuMediator() {\n  contextMenuMediator.__super__.constructor.call(this);\n}\n\n\n__extends(contextMenuMediator, OverlayMediator);\n\n\ncontextMenuMediator.prototype.componentName = "context-menu";\n\ncontextMenuMediator.prototype.contextMenu = null;\n\n/**\n * @override\n*/\ncontextMenuMediator.prototype.onRegister = function() {\n  var _this = this;\n  contextMenuMediator.__super__.onRegister.call(this);\n  EventHandler.create(this.facade.viewComponent, EventHandler.CONTEXTMENU, function(event) {\n    event.preventDefault();\n    _this.contextMenuHandler(event);\n    return false;\n  });\n};\n\n/** Context Menu Click Handler\n*/\ncontextMenuMediator.prototype.contextMenuHandler = function(event) {\n  var contextItem,\n    _this = this;\n  if (this.contextMenu) {\n    this.removeContextMenu();\n  }\n  this.contextMenu = UI.create("context-menu", document.body, "ul");\n  contextItem = UI.create("context-item", this.contextMenu, "li", this.facade.getVersion());\n  this.contextMenu.style.top = event.pageY + "px";\n  this.contextMenu.style.left = event.pageX + "px";\n  EventHandler.create(document.body, EventHandler.CLICK, function(event) {\n    _this.removeContextMenu(event);\n    return false;\n  });\n};\n\n/** Remove ContextMenu Handler and DOM Object\n*/\ncontextMenuMediator.prototype.removeContextMenu = function(event) {\n  try {\n    EventHandler.clear(document.body, EventHandler.CLICK);\n    document.body.removeChild(this.contextMenu);\n    this.contextMenu = null;\n  } catch (_error) {}\n};\n\n/**\n*/\n/**\n * @constructor\n * @private\n*/\nfunction EndSlateMediator() {\n  EndSlateMediator.__super__.constructor.call(this);\n}\n\n\n__extends(EndSlateMediator, OverlayMediator);\n\n\nEndSlateMediator.prototype.componentName = "end-slate";\n\n/**\n * @override\n*/\nEndSlateMediator.prototype.onRegister = function() {\n  if (this.config.getEndSlate() != null) {\n    EndSlateMediator.__super__.onRegister.call(this);\n  }\n};\n\nEndSlateMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.MEDIA_CHANGE];\n};\n\nEndSlateMediator.prototype.handleNotification = function(notification) {\n  var endslate, html, media, src, viewComponent;\n  switch (notification.getName()) {\n    case Notifications.MEDIA_CHANGE:\n      media = notification.getBody();\n      endslate = this.config.getEndSlate();\n      viewComponent = this.getViewComponent();\n      html = "";\n      if (endslate != null) {\n        src = endslate.usePoster === true ? media.poster : endslate.url;\n        if ((src != null) && src !== "") {\n          html = "<img src=\\"" + src + "\\" class=\\"end-slate-image\\" />";\n        }\n      }\n      viewComponent.innerHTML = html;\n  }\n};\n\n/**\n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction WaitingOverlayMediator() {\n  WaitingOverlayMediator.__super__.constructor.call(this);\n}\n\n\n__extends(WaitingOverlayMediator, OverlayMediator);\n\n\nWaitingOverlayMediator.prototype.componentName = "waiting";\n\nWaitingOverlayMediator.prototype.bar = null;\n\nWaitingOverlayMediator.prototype.text = null;\n\nWaitingOverlayMediator.prototype.onRegister = function() {\n  this.bar = this.create("waiting-bar");\n  this.text = this.createText("waiting-text", this.localizationManager.getString(LocalizationConstants.MSG_BUFFERING));\n  WaitingOverlayMediator.__super__.onRegister.call(this);\n};\n\n/** \n * @constructor\n * @extends {OverlayMediator}\n * @private\n*/\nfunction LoadingOverlayMediator() {\n  LoadingOverlayMediator.__super__.constructor.call(this);\n}\n\n\n__extends(LoadingOverlayMediator, OverlayMediator);\n\n\nLoadingOverlayMediator.prototype.componentName = "loading";\n\nfunction LocalizationConstants() {}\n\nLocalizationConstants.MSG_LIVE = "MSG_LIVE";\n\nLocalizationConstants.MSG_REPLAY = "MSG_REPLAY";\n\nLocalizationConstants.MSG_BUFFERING = "MSG_BUFFERING_TEXT";\n\nLocalizationConstants.MSG_CC = "MSG_CC";\n\nLocalizationConstants.MSG_CC_TITLE = "MSG_CC_TITLE";\n\nLocalizationConstants.MSG_CC_LANGUAGE = "MSG_CC_LANGUAGE";\n\nLocalizationConstants.MSG_CC_PRESETS = "MSG_CC_PRESETS";\n\nLocalizationConstants.MSG_CC_FONT = "MSG_CC_FONT";\n\nLocalizationConstants.MSG_CC_EDGE = "MSG_CC_EDGE";\n\nLocalizationConstants.MSG_CC_SIZE = "MSG_CC_SIZE";\n\nLocalizationConstants.MSG_CC_SCROLL = "MSG_CC_SCROLL";\n\nLocalizationConstants.MSG_CC_COLOR = "MSG_CC_COLOR";\n\nLocalizationConstants.MSG_CC_BACKGROUND = "MSG_CC_BACKGROUND";\n\nLocalizationConstants.MSG_CC_EDGE = "MSG_CC_EDGE";\n\nLocalizationConstants.MSG_CC_WINDOW = "MSG_CC_WINDOW";\n\nLocalizationConstants.MSG_CC_OPACITY = "MSG_CC_OPACITY";\n\nLocalizationConstants.MSG_CC_SHOW_ADVANCED = "MSG_CC_SHOW_ADVANCED";\n\nLocalizationConstants.MSG_CC_HIDE_ADVANCED = "MSG_CC_HIDE_ADVANCED";\n\nLocalizationConstants.MSG_CC_RESET = "MSG_CC_RESET";\n\nLocalizationConstants.MSG_CC_CANCEL = "MSG_CC_CANCEL";\n\nLocalizationConstants.MSG_CC_APPLY = "MSG_CC_APPLY";\n\nLocalizationConstants.MSG_SECONDS = "MSG_SECONDS";\n\nLocalizationConstants.MSG_RECOMMENDATIONS_TITLE = "MSG_RECOMMENDATIONS_TITLE";\n\nLocalizationConstants.MSG_NEXT_VIDEO = "MSG_NEXT_VIDEO";\n\nLocalizationConstants.MSG_NEXT_AD = "MSG_NEXT_AD";\n\nLocalizationConstants.MSG_TIME_SEPARATOR = "MSG_TIME_SEPARATOR";\n\nLocalizationConstants.MSG_VIEW_ALL = "MSG_VIEW_ALL";\n\nLocalizationConstants.MSG_VIDEO = "MSG_VIDEO";\n\n/**\n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction ReplayOverlayMediator() {\n  ReplayOverlayMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ReplayOverlayMediator, OverlayMediator);\n\n\nReplayOverlayMediator.prototype.componentName = "replay";\n\nReplayOverlayMediator.prototype.replay = null;\n\nReplayOverlayMediator.prototype.icon = null;\n\nReplayOverlayMediator.prototype.label = null;\n\n/**\n * @override\n*/\nReplayOverlayMediator.prototype.onRegister = function() {\n  this.replay = this.create("replay-button");\n  this.replay.onclick = this.onclick.bind(this);\n  this.icon = this.create("replay-icon", this.replay);\n  this.label = this.createText("replay-label", this.localizationManager.getString(LocalizationConstants.MSG_REPLAY), this.replay);\n  ReplayOverlayMediator.__super__.onRegister.call(this);\n};\n\n/**\n*/\nReplayOverlayMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  this.sendNotification(Notifications.REPLAY);\n  return false;\n};\n\n/**\n * The ChangeActiveStateCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeActiveStateCommand() {\n  ChangeActiveStateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeActiveStateCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeActiveStateCommand.prototype.execute = function(notification) {\n  var state;\n  state = this.config.getControls().mode !== ControlsMode.PERSISTENT ? notification.getBody() : ActiveState.ACTIVE;\n  this.applicationState.setActiveState(state);\n};\n\n/**\n * The ChangeDisplayStateCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction ChangeDisplayStateCommand() {\n  ChangeDisplayStateCommand.__super__.constructor.call(this);\n  this.keyHandler = this.keypress.bind(this);\n}\n\n\n__extends(ChangeDisplayStateCommand, PlayerEventCommand);\n\n\nChangeDisplayStateCommand.interval = null;\n\nChangeDisplayStateCommand.keyHandler = null;\n\nChangeDisplayStateCommand.prototype.keypress = function(event) {\n  switch (event.keyCode) {\n    case 27:\n      break;\n    case 32:\n      if (!this.facade.getEnded()) {\n        if (this.facade.getPaused()) {\n          this.facade.play();\n        } else {\n          this.facade.pause();\n        }\n      }\n  }\n};\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeDisplayStateCommand.prototype.execute = function(notification) {\n  var core, fullscreen, state, view,\n    _this = this;\n  state = notification.getBody();\n  this.applicationState.setDisplayState(state);\n  if (this.config.getFullscreen().mode === FullscreenMode.EXTERNAL) {\n    this.sendNotifications(state);\n    return;\n  }\n  core = this.facade.getMediaElement();\n  view = this.facade.getViewComponent();\n  fullscreen = {};\n  if (view.webkitRequestFullScreen != null) {\n    fullscreen.enter = view.webkitRequestFullScreen.bind(view);\n    fullscreen.exit = document.webkitExitFullscreen != null ? document.webkitExitFullscreen.bind(document) : document.webkitCancelFullScreen.bind(document);\n    fullscreen.event = "onwebkitfullscreenchange";\n    fullscreen.element = "webkitFullscreenElement";\n    fullscreen.error = "webkitfullscreenerror";\n  } else if (view.requestFullscreen != null) {\n    fullscreen.enter = view.requestFullscreen.bind(view);\n    fullscreen.exit = document.exitFullscreen != null ? document.exitFullscreen.bind(document) : document.cancelFullscreen.bind(document);\n    fullscreen.event = "onfullscreenchange";\n    fullscreen.element = "fullscreenElement";\n    fullscreen.error = "fullscreenerror";\n  } else if (view.mozRequestFullScreen != null) {\n    fullscreen.enter = view.mozRequestFullScreen.bind(view);\n    fullscreen.exit = document.mozCancelFullScreen.bind(document);\n    fullscreen.event = "onmozfullscreenchange";\n    fullscreen.element = "mozFullscreenElement";\n    fullscreen.error = "mozfullscreenerror";\n  } else if (view.msRequestFullscreen != null) {\n    fullscreen.enter = view.msRequestFullscreen.bind(view);\n    fullscreen.exit = document.msExitFullscreen.bind(document);\n    fullscreen.event = "MSFullscreenChange";\n    fullscreen.element = "msFullscreenElement";\n    fullscreen.error = "MSFullscreenError";\n  } else if (core.webkitEnterFullscreen != null) {\n    fullscreen.enter = core.webkitEnterFullscreen.bind(core);\n    fullscreen.exit = core.webkitExitFullscreen.bind(core);\n    fullscreen.event = null;\n    fullscreen.error = null;\n  }\n  if (state === DisplayState.FULL_SCREEN) {\n    if (fullscreen.event != null) {\n      view[fullscreen.event] = function(event) {\n        if (!(document[fullscreen.element] != null)) {\n          _this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n        }\n      };\n    } else {\n      clearInterval(ChangeDisplayStateCommand.interval);\n      ChangeDisplayStateCommand.interval = setInterval(function() {\n        if (core.webkitDisplayingFullscreen !== true) {\n          _this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n          clearInterval(ChangeDisplayStateCommand.interval);\n        }\n      }, 100);\n    }\n    if (fullscreen.error != null) {\n      document.addEventListener(fullscreen.error, this.facade.logger.error.bind(this.facade.logger));\n    }\n    fullscreen.enter();\n    this.playback.keyHandler = this.keypress.bind(this);\n    window.addEventListener("keypress", this.playback.keyHandler);\n  } else if (state === DisplayState.NORMAL) {\n    window.removeEventListener("keypress", this.playback.keyHandler);\n    this.playback.keyHandler = null;\n    if (fullscreen != null) {\n      if (typeof fullscreen.exit === "function") {\n        fullscreen.exit();\n      }\n    }\n    core[fullscreen.event] = null;\n    clearInterval(ChangeDisplayStateCommand.interval);\n  }\n  this.sendNotifications(state);\n};\n\nChangeDisplayStateCommand.prototype.sendNotifications = function(state) {\n  setTimeout(this.sendNotification.bind(this, Notifications.FULL_SCREEN_CHANGE, state), 100);\n  this.dispatchEvent("fullscreenchange", state === DisplayState.FULL_SCREEN);\n};\n\n/**\n * The PlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction PlayCommand() {\n  PlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PlayCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPlayCommand.prototype.execute = function(notification) {\n  var userInitiated;\n  this.sendNotification(Notifications.PLAY_REQUEST);\n  userInitiated = notification.getBody();\n  if (userInitiated && this.playback.initialized !== true) {\n    this.sendNotification(Notifications.INITIALIZED);\n  }\n  if (this.playback.initialized !== true || (!this.media.getSrc() && !this.media.getSource())) {\n    return;\n  }\n  if (!this.playback.getStarted()) {\n    this.sendNotification(Notifications.START);\n  }\n  this.playback.play();\n  PlayCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ToggleActiveCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ToggleActiveCommand() {\n  ToggleActiveCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ToggleActiveCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nToggleActiveCommand.prototype.execute = function(notification) {\n  var state;\n  state = this.applicationState.getActiveState() === ActiveState.ACTIVE ? ActiveState.INACTIVE : ActiveState.ACTIVE;\n  this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, state);\n};\n\n/** \n * The base player class.\n *   \n * @param {Object} config\n * @param {Object} viewComponent\n * @constructor\n * @private\n * @extends {Module}\n*/\nfunction Player(viewComponent) {\n  Player.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(Player, Module);\n\n\nPlayer.prototype.moduleName = "amp";\n\nPlayer.prototype.playerType = null;\n\nPlayer.prototype.config = null;\n\nPlayer.prototype.mediaElement = null;\n\nPlayer.prototype.hidden = false;\n\nPlayer.prototype.l10n = null;\n\n/** @override\n*/\nPlayer.prototype.setViewComponent = function(viewComponent) {\n  viewComponent["amp"] = this;\n  return Player.__super__.setViewComponent.call(this, viewComponent);\n};\n\n/**\n*/\nPlayer.prototype.setMediaElement = function(mediaElement) {\n  this.mediaElement = mediaElement;\n  return mediaElement;\n};\n\n/**\n*/\nPlayer.prototype.getPlayerType = function() {\n  return this.playerType;\n};\n\n/**\n*/\nPlayer.prototype.getVersion = function() {\n  return AMP.getVersion();\n};\n\n/**\n*/\nPlayer.prototype.createPlugins = function() {\n  this.sendNotification(PluginNotifications.REGISTER_PLUGINS, this.config);\n};\n\n/**\n*/\nPlayer.prototype.createMediaElement = function() {\n  return null;\n};\n\n/** @override\n*/\nPlayer.prototype.createFramework = function() {\n  Player.__super__.createFramework.call(this);\n  this.mediaElement = this.createMediaElement();\n  this.createPlugins();\n};\n\n/**\n*/\nPlayer.prototype.getLanguage = function() {\n  return this.retrieveProxy(LocalizationProxy.NAME).getLanguage();\n};\n\n/**\n*/\nPlayer.prototype.setLanguage = function(value) {\n  this.retrieveProxy(LocalizationProxy.NAME).setLanguage(value);\n  return value;\n};\n\n/**\n * @return {HTMLObject|HTMLMediaElement} The media playback DOM element.\n*/\nPlayer.prototype.getMediaElement = function() {\n  return this.mediaElement;\n};\n\n/**\n * @return {HTMLElement} The container div.\n*/\nPlayer.prototype.getContainer = function() {\n  return this.getViewComponent();\n};\n\n/**\n * @param   {string}  binding\n *    A data bound string to evaluate.\n * \n * @return {Object} \n *    The evaluated result\n*/\nPlayer.prototype.evaluateBinding = function(binding) {};\n\n/**\n * Determines if the core can play a given mimeType.\n * \n * @param   {string}  type\n *    The mimetype to check.\n * \n * @return  {string}  "" \n *    if the core can\'t play the mimeType\n*/\nPlayer.prototype.canPlayType = function(type) {};\n\n/**\n * Loads the video.\n*/\nPlayer.prototype.load = function() {};\n\n/**\n * Plays the currently loaded video.\n*/\nPlayer.prototype.play = function() {};\n\n/**\n * Plays the currently loaded video from its start time.\n*/\nPlayer.prototype.replay = function() {};\n\n/**\n * Pauses the currently loaded video.\n*/\nPlayer.prototype.pause = function() {};\n\n/**\n * Ends video playback.\n*/\nPlayer.prototype.end = function() {};\n\n/**\n * Sets user params.\n * \n * @param {Object} value The user params object.\n*/\nPlayer.prototype.setParams = function(value) {};\n\n/**\n * Gets user params.\n * \n * @return {Object} The user params object.\n*/\nPlayer.prototype.getParams = function() {};\n\n/**\n * Sets auto play flag.\n * \n * @param {boolean} value The autoplay flash.\n*/\nPlayer.prototype.setAutoplay = function(value) {};\n\n/**\n * Gets auto play flag.\n * \n * @return {boolean} The autoplay flash.\n*/\nPlayer.prototype.getAutoplay = function() {};\n\n/**\n * Sets player\'s loop flag.\n * \n * @param {boolean} value The loop flag.\n*/\nPlayer.prototype.setLoop = function(value) {};\n\n/**\n * Gets player\'s loop flag.\n * \n * @return {boolean} The loop flag.\n*/\nPlayer.prototype.getLoop = function() {};\n\n/**\n * Sets player\'s muted value.\n * \n * @param {boolean} value The muted value.\n*/\nPlayer.prototype.setMuted = function(value) {};\n\n/**\n * Gets player\'s muted value.\n * \n * @return {boolean} The muted value.\n*/\nPlayer.prototype.getMuted = function() {};\n\n/**\n * Mutes the player.\n*/\nPlayer.prototype.mute = function() {\n  return this.setMuted(true);\n};\n\n/**\n * Unmutes the player.\n*/\nPlayer.prototype.unmute = function() {\n  return this.setMuted(false);\n};\n\n/**\n * Sets the media object.\n * \n * @param {Object} value The media object for the video to play.\n*/\nPlayer.prototype.setMedia = function(value) {\n  var source, src, _ref, _ref1;\n  src = value.src;\n  source = (_ref = value.source) != null ? (_ref1 = _ref[0]) != null ? _ref1.src : void 0 : void 0;\n  if ((!(src != null) || src === "") && (!(source != null) || source === "")) {\n    throw new Error("[AMP ERROR] Invalid Media");\n  }\n};\n\n/**\n * Gets the media object.\n * \n * @return {Object} The media object for the video to play.\n*/\nPlayer.prototype.getMedia = function() {};\n\n/**\n * Sets the current time of the video.\n * \n * @param {number} value The desired time to seek to.\n*/\nPlayer.prototype.setCurrentTime = function(value) {};\n\n/**\n * Gets the current time of the video.\n * \n * @return {number} The current playhead time.\n*/\nPlayer.prototype.getCurrentTime = function() {};\n\n/**\n * Gets the current time of the video.\n * \n * @return {number} The current time of the video.\n*/\nPlayer.prototype.getDuration = function() {};\n\n/**\n * Sets the source url of video.\n * \n * @param {string} value The source url of the video to play.\n*/\nPlayer.prototype.setSrc = function(value) {};\n\n/**\n * Gets the source url of video.\n * \n * @return {string} The source url of the video to play.\n*/\nPlayer.prototype.getSrc = function() {};\n\n/**\n * Sets the source url of video.\n * \n * @param {Array.<Object>} value An array of source objects to choose from.\n*/\nPlayer.prototype.setSource = function(value) {};\n\n/**\n * Gets the source url of video.\n * \n * @return {Array.<Object>} An array of source objects to choose from.\n*/\nPlayer.prototype.getSource = function() {};\n\n/**\n * Sets the source url of video.\n * \n * @param {number} value The source url of the video to play.\n*/\nPlayer.prototype.setVolume = function(value) {};\n\n/**\n * Gets the source url of video.\n * \n * @return {number} The volume a number between 0 and 1.\n*/\nPlayer.prototype.getVolume = function() {};\n\n/**\n * Gets the source url of video.\n * \n * @return {boolean} The source url of the video.\n*/\nPlayer.prototype.getSeeking = function() {};\n\n/**\n * Gets the source url of video.\n * \n * @return {boolean} The source url of the video.\n*/\nPlayer.prototype.getPaused = function() {};\n\n/**\n * Gets the source url of video.\n * \n * @return {number} The source url of the video.\n*/\nPlayer.prototype.getEnded = function() {};\n\n/**\n * Sets the player\'s display state.\n * \n * @param {DisplayState} value \n *    The display state.\n*/\nPlayer.prototype.setDisplayState = function(value) {};\n\n/**\n * Returns the player\'s display state.\n * \n * @return {DisplayState}\n *    The display state.\n*/\nPlayer.prototype.getDisplayState = function() {};\n\n/**\n * Enters the player into full screen mode.\n*/\nPlayer.prototype.enterFullScreen = function() {};\n\n/**\n * Exits the player out of full screen mode.\n*/\nPlayer.prototype.exitFullScreen = function() {};\n\n/** \n * Show the player\n*/\nPlayer.prototype.setHidden = function(value) {\n  var style;\n  if (value === this.hidden) {\n    return;\n  }\n  this.hidden = value;\n  style = this.viewComponent.style;\n  if (this.hidden) {\n    this.hiddenData = {\n      width: style.width,\n      height: style.height,\n      paused: this.getPaused()\n    };\n    style.width = style.height = "0px";\n    if (this.hiddenData.paused === false) {\n      this.pause();\n    }\n  } else {\n    style.width = this.hiddenData.width;\n    style.height = this.hiddenData.height;\n    if (this.hiddenData.paused === false) {\n      this.play();\n    }\n    this.hiddenData = null;\n  }\n};\n\n/** \n * Hide the player\n*/\nPlayer.prototype.getHidden = function() {\n  return this.hidden;\n};\n\n/** \n * Records a content change\n * \n * @param {Object} content\n *    An object representing the new content\n*/\nPlayer.prototype.recordContentChange = function(content) {};\n\n/** \n * Sets the rate of playback.\n*/\nPlayer.prototype.setPlaybackRate = function() {};\n\n/** \n * Gets the rate of playback.\n*/\nPlayer.prototype.getPlaybackRate = function() {};\n\n/** \n * The HTMLPlayer class.\n * \n * @param {Object} viewComponent\n * @constructor\n * @private\n * @extends {Player}\n*/\nfunction HTMLPlayer(viewComponent) {\n  HTMLPlayer.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(HTMLPlayer, Player);\n\n\nHTMLPlayer.prototype.playerType = "html";\n\nHTMLPlayer.prototype.media = null;\n\nHTMLPlayer.prototype.bindings = null;\n\nHTMLPlayer.prototype.configuration = null;\n\nHTMLPlayer.prototype.params = null;\n\nHTMLPlayer.prototype.appState = null;\n\nHTMLPlayer.prototype.security = null;\n\nHTMLPlayer.prototype.playerCore = null;\n\n/** @override\n*/\nHTMLPlayer.prototype.createMediaElement = function() {\n  var video, viewComponent;\n  video = new MediaElementMediator("html5", "video");\n  viewComponent = video.getViewComponent();\n  if (viewComponent.dataset == null) {\n    viewComponent.dataset = {};\n  }\n  this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE, video);\n  return viewComponent;\n};\n\n/** @override\n*/\nHTMLPlayer.prototype.createModel = function() {\n  var playbackProxy;\n  this.bindings = new DataBindingProxy();\n  this.registerProxy(this.bindings);\n  this.security = new SecurityProxy();\n  this.registerProxy(this.security);\n  this.configuration = new ConfigurationProxy(this.config);\n  this.registerProxy(this.configuration);\n  this.registerProxy(new LocalizationProxy(this.config));\n  this.appState = new ApplicationStateProxy();\n  this.registerProxy(this.appState);\n  this.appState.setRenderMode(RenderMode.HTML);\n  playbackProxy = new PlaybackProxy();\n  this.registerProxy(playbackProxy);\n  this.media = new MediaProxy();\n  this.registerProxy(this.media);\n  this.playerCore = new PlayerProxy(playbackProxy);\n  this.registerProxy(this.playerCore);\n  this.params = new ParamsProxy(this.config.params);\n  this.registerProxy(this.params);\n  this.bindings.initialize();\n};\n\n/** @override\n*/\nHTMLPlayer.prototype.createView = function() {\n  var overlay, _ref, _ref1;\n  this.registerMediator(new PlayerMediator("html5", this.getViewComponent()));\n  this.registerMediator(new PluginAdapter());\n  this.registerMediator(new VideoLayerMediator());\n  this.registerMediator(new PosterMediator());\n  overlay = new OverlayLayerMediator();\n  this.registerMediator(overlay);\n  this.registerMediator(new LoadingOverlayMediator());\n  if (((_ref = this.config.controls) != null ? _ref["native"] : void 0) !== true) {\n    this.registerMediator(new contextMenuMediator());\n  }\n  this.registerMediator(new WaitingOverlayMediator());\n  this.registerMediator(new ReplayOverlayMediator());\n  this.registerMediator(new EndSlateMediator());\n  if (((_ref1 = this.config.titlebar) != null ? _ref1.enabled : void 0) === true) {\n    this.registerMediator(new TitleBarMediator());\n  }\n  this.registerMediator(new ErrorLayerMediator());\n};\n\n/** @override\n*/\nHTMLPlayer.prototype.createController = function() {\n  HTMLPlayer.__super__.createController.call(this);\n  this.registerCommand(PluginNotifications.PLUGINS_INITIALIZED, PluginsInitializedCommand);\n  this.registerCommand(Notifications.PLAY, PlayCommand);\n  this.registerCommand(Notifications.PLAYING, PlayingCommand);\n  this.registerCommand(Notifications.PAUSE, PauseCommand);\n  this.registerCommand(Notifications.CHANGE_PLAY_STATE, ChangePlayStateCommand);\n  this.registerCommand(Notifications.TOGGLE_FULL_SCREEN, ToggleFullScreenCommand);\n  this.registerCommand(Notifications.CHANGE_DISPLAY_STATE, ChangeDisplayStateCommand);\n  this.registerCommand(Notifications.TOGGLE_ACTIVE, ToggleActiveCommand);\n  this.registerCommand(Notifications.CHANGE_ACTIVE_STATE, ChangeActiveStateCommand);\n  this.registerCommand(Notifications.SET_MEDIA, SetMediaCommand);\n  this.registerCommand(Notifications.CHANGE_MEDIA, ChangeMediaCommand);\n  this.registerCommand(Notifications.MEDIA_VALIDATED, MediaValidatedCommand);\n  this.registerCommand(Notifications.MEDIA_CHANGE, MediaChangeCommand);\n  this.registerCommand(Notifications.UPDATE_DATA_BINDINGS, UpdateDataBindingsCommand);\n  this.registerCommand(Notifications.START, StartCommand);\n  this.registerCommand(Notifications.SEEK, SeekCommand);\n  this.registerCommand(Notifications.SEEKING, SeekingCommand);\n  this.registerCommand(Notifications.SEEKED, SeekedCommand);\n  this.registerCommand(Notifications.CHANGE_VOLUME, ChangeVolumeCommand);\n  this.registerCommand(Notifications.CHANGE_MUTED, ChangeMutedCommand);\n  this.registerCommand(Notifications.CHANGE_AUTOPLAY, ChangeAutoplayCommand);\n  this.registerCommand(Notifications.CHANGE_LOOP, ChangeLoopCommand);\n  this.registerCommand(Notifications.END, EndCommand);\n  this.registerCommand(Notifications.ENDED, EndedCommand);\n  this.registerCommand(Notifications.REPLAY, ReplayCommand);\n  this.registerCommand(Notifications.ERROR, ErrorCommand);\n  this.registerCommand(Notifications.READY, ReadyCommand);\n  this.registerCommand(Notifications.WAITING, WaitingCommand);\n  this.registerCommand(Notifications.CHANGE_DURATION, ChangeDurationCommand);\n  this.registerCommand(Notifications.CHANGE_PARAMS, ChangeParamsCommand);\n  this.registerCommand(Notifications.IS_USER_ACTIVE, IsUserActiveCommand);\n  this.registerCommand(SecurityNotifications.CHECK_AUTHORIZATION, CheckAuthorizationCommand);\n  this.registerCommand(SecurityNotifications.AUTHORIZED, AuthorizedCommand);\n  this.registerCommand(SecurityNotifications.SET_KEY, SecuritySetKeyCommand);\n  this.registerCommand(SecurityNotifications.SET_TOKEN, SecuritySetTokenCommand);\n  this.registerCommand(Notifications.INITIALIZED, InitializedCommand);\n  this.registerCommand(Notifications.REGISTER_PLAYBACK_CORE, RegisterPlaybackCoreCommand);\n  this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, TogglePlayPauseCommand);\n  this.registerCommand(UserNotifications.SEEK, SeekCommand);\n  this.registerCommand(Notifications.PLAYBACK_TARGET_CHANGE, PlaybackTargetChangeCommand);\n  this.registerCommand(Notifications.RECORD_CONTENT_CHANGE, RecordContentChangeCommand);\n  this.registerCommand(Notifications.TIME_UPDATE, TimeUpdateCommand);\n  this.registerCommand(Notifications.TOGGLE_MUTED, ToggleMutedCommand);\n  this.registerCommand(Notifications.PLAY_STATE_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.PROGRESS, PlayerEventCommand);\n  this.registerCommand(Notifications.CAN_PLAY, PlayerEventCommand);\n  this.registerCommand(Notifications.CAN_PLAY_THROUGH, PlayerEventCommand);\n  this.registerCommand(Notifications.VOLUME_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.LOAD_START, PlayerEventCommand);\n  this.registerCommand(Notifications.STARTED, PlayerEventCommand);\n  this.registerCommand(Notifications.LOADED_METADATA, PlayerEventCommand);\n  this.registerCommand(Notifications.DURATION_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.MEDIUM_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.TEMPORAL_TYPE_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.LANGUAGE_CHANGE, PlayerEventCommand);\n  this.registerCommand(Notifications.PLAYBACK_TARGET_AVAILABLE, PlayerEventCommand);\n  this.registerCommand(SecurityNotifications.AUTHORIZE, PlayerEventCommand);\n  this.registerCommand(SecurityNotifications.AUTHORIZATION_FAILED, PlayerEventCommand);\n  this.registerCommand(Notifications.FAIL_OVER_ATTEMPT, PlayerEventCommand);\n  this.registerCommand(Notifications.PLAY_REQUEST, PlayerEventCommand);\n  this.registerCommand(Notifications.PAUSED, PlayerEventCommand);\n};\n\nHTMLPlayer.prototype.evaluateBinding = function(binding) {\n  return this.bindings.evaluateBinding(binding);\n};\n\nHTMLPlayer.prototype.recordContentChange = function(content) {\n  this.sendNotification(Notifications.RECORD_CONTENT_CHANGE, content);\n};\n\nHTMLPlayer.prototype.canPlayType = function(type) {\n  return this.retrieveProxy(PlaybackProxy.NAME).canPlayType(type);\n};\n\nHTMLPlayer.prototype.load = function() {\n  this.sendNotification(Notifications.LOAD);\n};\n\nHTMLPlayer.prototype.play = function() {\n  this.sendNotification(Notifications.PLAY, true);\n};\n\nHTMLPlayer.prototype.replay = function() {\n  this.sendNotification(Notifications.REPLAY);\n};\n\nHTMLPlayer.prototype.pause = function() {\n  this.sendNotification(Notifications.PAUSE);\n};\n\nHTMLPlayer.prototype.end = function() {\n  this.sendNotification(Notifications.END);\n};\n\nHTMLPlayer.prototype.setParams = function(value) {\n  this.sendNotification(Notifications.CHANGE_PARAMS, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getParams = function() {\n  return this.params.getData();\n};\n\nHTMLPlayer.prototype.setAutoplay = function(value) {\n  this.sendNotification(Notifications.CHANGE_AUTOPLAY, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getAutoplay = function() {\n  var autoPlay, playbackProxy, _ref;\n  playbackProxy = this.retrieveProxy(PlaybackProxy.NAME);\n  autoPlay = playbackProxy.initialized && (this.configuration.getAutoplay() || ((_ref = this.getMedia()) != null ? _ref.autoplay : void 0) === true);\n  return autoPlay;\n};\n\nHTMLPlayer.prototype.setLoop = function(value) {\n  this.sendNotification(Notifications.CHANGE_LOOP, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getLoop = function() {\n  return this.configuration.getLoop();\n};\n\nHTMLPlayer.prototype.setMuted = function(value) {\n  this.sendNotification(Notifications.CHANGE_MUTED, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getMuted = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getMuted();\n};\n\nHTMLPlayer.prototype.setMedia = function(value) {\n  HTMLPlayer.__super__.setMedia.call(this, value);\n  this.sendNotification(Notifications.SET_MEDIA, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getMedia = function() {\n  return this.media.getData();\n};\n\nHTMLPlayer.prototype.setCurrentTime = function(value) {\n  this.sendNotification(Notifications.SEEK, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getCurrentTime = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getCurrentTime();\n};\n\nHTMLPlayer.prototype.getDuration = function() {\n  return this.media.getDuration();\n};\n\nHTMLPlayer.prototype.setSrc = function(value) {\n  this.sendNotification(Notifications.SET_MEDIA, {\n    src: value\n  });\n  return value;\n};\n\nHTMLPlayer.prototype.getSrc = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getSrc();\n};\n\nHTMLPlayer.prototype.setSource = function(value) {\n  this.sendNotification(Notifications.SET_MEDIA, {\n    source: value\n  });\n  return value;\n};\n\nHTMLPlayer.prototype.getSource = function() {\n  return this.media.getSource();\n};\n\nHTMLPlayer.prototype.setVolume = function(value) {\n  this.sendNotification(Notifications.CHANGE_VOLUME, value);\n  return value;\n};\n\nHTMLPlayer.prototype.getVolume = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getVolume();\n};\n\nHTMLPlayer.prototype.getSeeking = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getSeeking();\n};\n\nHTMLPlayer.prototype.getPaused = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getPaused();\n};\n\nHTMLPlayer.prototype.getEnded = function() {\n  return this.retrieveProxy(PlaybackProxy.NAME).getEnded();\n};\n\nHTMLPlayer.prototype.setDisplayState = function(value) {\n  this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, value);\n};\n\nHTMLPlayer.prototype.getDisplayState = function(value) {\n  return this.appState.getDisplayState();\n};\n\nHTMLPlayer.prototype.enterFullScreen = function() {\n  this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.FULL_SCREEN);\n};\n\nHTMLPlayer.prototype.exitFullScreen = function() {\n  this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n};\n\nHTMLPlayer.prototype.setPlaybackRate = function(value) {\n  this.mediaElement.playbackRate = value;\n};\n\nHTMLPlayer.prototype.getPlaybackRate = function() {\n  return this.mediaElement.playbackRate;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar FlashNotifications = {\n  READY: "jsApiReady",\n  RESET: "mediaPlayerReset",\n  LOADING: "mediaPlayerLoading",\n  PLAYER_ERROR: "mediaPlayerError",\n  MEDIA_ERROR: "mediaError",\n  ERROR_STREAM_NOT_FOUND: "mediaPlayerErrorStreamNotFound",\n  CAPABILITY_CHANGE: "mediaPlayerCapabilityChange",\n  PLAYBACK_OPEN: "mediaPlayerPlaybackOpen",\n  PLAYBACK_CLOSE: "mediaPlayerPlaybackClose",\n  PLAYING: "mediaPlayerPlaying",\n  ENDED: "mediaPlayerPlaybackSequenceComplete",\n  PAUSED: "mediaPlayerPaused",\n  BUFFERING: "mediaPlayerBuffering",\n  DURATION_CHANGE: "mediaPlayerDurationChange",\n  TIME_UPDATE: "mediaPlayerPlayheadUpdate",\n  SEEKING_CHANGE: "mediaPlayerSeekingChange",\n  ERROR: "error",\n  VOLUME_CHANGE: "mediaPlayerVolumeChanged",\n  PLAY_STATE_CHANGE: "mediaPlayerPlayStateChange",\n  STATE_CHANGE: "mediaPlayerStateChange",\n  CAPTION_DATA_CHANGE: "mediaPlayerCaptiondataChange",\n  FAIL_OVER_ATTEMPT: "mediaPlayerFailoverAttempt",\n  ELEMENT_EVENT: "mediaPlayerElementEvent",\n  PLAY: "mediaPlayerResumeOrPausePlayback",\n  APPLICATION_STATE_CHANGE: "mediaPlayerApplicationStateChange",\n  INITIALIZED: "mediaPlayerInitialized",\n  LOAD_STATE_READY: "mediaLoadStateReady",\n  LOAD_STATE_LOADING: "mediaLoadStateLoading",\n  FULLSCREEN_CHANGE: "mediaPlayerFullscreenChange",\n  AUTHORIZE: "mediaPlayerAuthenticate",\n  CAPTIONING_REQUEST: "mediaPlayerCaptioningRequest",\n  CAPTION_LANG_CHANGE: "mediaPlayerCaptionLangChange",\n  RECOMMENDATIONS_LOADED: "mediaPlayerRecommendationsLoaded",\n  RECOMMENDATION_SELECTED: "mediaPlayerRecommendationSelected",\n  SHARE: "mediaPlayerShare",\n  SHARE_REQUEST: "mediaPlayerShareRequest",\n  AUTO_ADVANCE: "mediaPlayerAutoAdvance",\n  CREATE_FLASH_VARS: "createFlashVars",\n  CREATE_XML: "createXML",\n  FLASH_CREATED: "flashCreated",\n  PLAY_REQUEST: "mediaPlayerPlaybackSequenceInitiated",\n  FEED_LOADED: "mediaPlayerFeedLoaded"\n};\n\n/**\n * Creates a new instance of SecurityProxy.\n * \n * @constructor\n * @private\n * @extends {puremvc.Proxy}\n*/\nfunction SecurityProxy() {\n  SecurityProxy.__super__.constructor.call(this, this.constructor.NAME, {});\n  this.setupHDN1();\n}\n\n\n__extends(SecurityProxy, puremvc.Proxy);\n\n\n/** @static\n*/\nSecurityProxy.NAME = "SecurityProxy";\n\n/**\n*/\nSecurityProxy.prototype.setupHDN1 = function() {\n  var _this = this;\n  return window.retrieveToken = function(guid, url) {\n    var token;\n    try {\n      _this.facade.logger.debug("[AMP AUTH] HDN1: Token Requested", guid, url);\n      token = _this.getToken();\n      if (token != null) {\n        _this.facade.getMediaElement().tokenRetrievalSuccess("&primaryToken=" + token);\n      } else {\n        _this.sendNotification(SecurityNotifications.AUTHORIZE);\n      }\n    } catch (error) {\n      _this.facade.logger.error("[AMP AUTH ERROR]: Token Retrival Error", error);\n    }\n    return true;\n  };\n};\n\n/**\n*/\nSecurityProxy.prototype.getKey = function() {\n  return this.data.key;\n};\n\nSecurityProxy.prototype.setKey = function(value) {\n  this.data.key = value;\n  return value;\n};\n\n/**\n*/\nSecurityProxy.prototype.getToken = function() {\n  return this.data.token;\n};\n\nSecurityProxy.prototype.setToken = function(value) {\n  this.data.token = value;\n  return value;\n};\n\n/**\n*/\nSecurityProxy.prototype.getSecret = function() {\n  var secret;\n  if (!(this.data.token != null)) {\n    return null;\n  }\n  secret = "";\n  if (this.data.key != null) {\n    secret += this.data.key;\n  }\n  secret += this.data.token;\n  return secret;\n};\n\n/**\n*/\nSecurityProxy.prototype.createURL = function(url) {\n  var secret;\n  secret = this.getSecret();\n  if (secret != null) {\n    url += !/\\?/.test(url) ? "?" : "&";\n    url += secret;\n  }\n  return url;\n};\n\n/**\n*/\nSecurityProxy.prototype.getAuthorized = function() {\n  return this.data.authorized;\n};\n\nSecurityProxy.prototype.setAuthorized = function(value) {\n  this.data.authorized = value;\n  return value;\n};\n\n/**\n*/\nSecurityProxy.prototype.getProvider = function() {\n  return this.data.provider;\n};\n\nSecurityProxy.prototype.setProvider = function(value) {\n  this.data.provider = value;\n  return value;\n};\n\n/**\n * The DataBoundConfigurationProxy class.\n *   \n * @constructor\n * @private\n * @extends {ModuleProxy}\n * @param {Object} data\n*/\nfunction DataBoundConfigurationProxy(data) {\n  DataBoundConfigurationProxy.__super__.constructor.call(this, data);\n}\n\n\n__extends(DataBoundConfigurationProxy, ModuleProxy);\n\n\n/** @static\n*/\nDataBoundConfigurationProxy.NAME = ModuleProxy.NAME;\n\nDataBoundConfigurationProxy.prototype.bindings = null;\n\nDataBoundConfigurationProxy.prototype.configurationName = null;\n\nDataBoundConfigurationProxy.prototype.configurationData = null;\n\nDataBoundConfigurationProxy.prototype.contextName = null;\n\nDataBoundConfigurationProxy.prototype.contextData = null;\n\nDataBoundConfigurationProxy.prototype.value = null;\n\nDataBoundConfigurationProxy.prototype.getConfigurationName = function() {\n  return this.configurationName;\n};\n\nDataBoundConfigurationProxy.prototype.getConfigurationData = function() {\n  return this.configurationData.value || {};\n};\n\nDataBoundConfigurationProxy.prototype.getContextName = function() {\n  return this.contextName;\n};\n\nDataBoundConfigurationProxy.prototype.getContextData = function() {\n  return this.contextData;\n};\n\nDataBoundConfigurationProxy.prototype.onRegister = function() {\n  var base;\n  base = this.facade.player || this.facade;\n  if (!(this.configurationName != null)) {\n    this.configurationName = this.facade.moduleName;\n  }\n  this.bindings = base.retrieveProxy(DataBindingProxy.NAME);\n  this.bindings.registerConfiguration(this);\n};\n\nDataBoundConfigurationProxy.prototype.setData = function(data) {\n  var key, value, _ref;\n  if (data == null) {\n    data = {};\n  }\n  this.data = {};\n  _ref = this.defaults;\n  for (key in _ref) {\n    value = _ref[key];\n    this.data[key] = key in data ? data[key] : value;\n  }\n  this.configurationData = new TokenizedObject(this.data);\n  return this.data;\n};\n\nDataBoundConfigurationProxy.prototype.getValue = function(key) {\n  var _ref;\n  this.bindings.update();\n  this.value[key] = (_ref = this.configurationData.data[key]) != null ? _ref.compile(this.bindings.getData()) : void 0;\n  return this.value[key];\n};\n\nDataBoundConfigurationProxy.prototype.compile = function(context, suppressErrors) {\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  if (!(this.configurationData != null)) {\n    return null;\n  }\n  if (!(context != null)) {\n    context = this.bindings.getData();\n  }\n  if ((this.contextName != null) && (this.contextData != null)) {\n    context = Utils.clone(context);\n    context[this.contextName] = this.contextData;\n  }\n  this.configurationData.compile(context, suppressErrors);\n  this.value = this.configurationData.value;\n  return this.configurationData.value;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar MediaAnalyticsNotifications = {\n  SET_DIMENSIONS: "mediaanalytics:setDimensions"\n};\n\nfunction LocalizationWrapper(app, config) {\n  this.app = app;\n  this.config = config;\n  LocalizationWrapper.__super__.constructor.call(this, this.constructor.NAME);\n  this.proxy = new LocalizationProxy(this.config);\n  this.app.registerProxy(this.proxy);\n}\n\n\n__extends(LocalizationWrapper, puremvc.Mediator);\n\n\nLocalizationWrapper.prototype.player = null;\n\nLocalizationWrapper.prototype.config = null;\n\nLocalizationWrapper.prototype.proxy = null;\n\nLocalizationWrapper.NAME = "LocalizationWrapper";\n\n/**\n*/\nLocalizationWrapper.prototype.getString = function(key) {\n  return this.proxy.getString(key);\n};\n\n/** @override\n*/\nLocalizationWrapper.prototype.listNotificationInterests = function() {\n  return [FlashNotifications.CREATE_FLASH_VARS, FlashNotifications.CREATE_XML];\n};\n\n/**\n*/\nLocalizationWrapper.prototype.handleNotification = function(notification) {\n  var application, body, config, element, flashvars, key, lang, locale, locales, name, prop, text, value, xml, _ref;\n  LocalizationWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.CREATE_FLASH_VARS:\n      flashvars = body.flashvars;\n      config = body.config;\n      if (config.language != null) {\n        flashvars.locale_setting = config.language;\n      }\n      break;\n    case FlashNotifications.CREATE_XML:\n      xml = body.xml;\n      application = xml.firstChild;\n      locales = xml.getElementsByTagName("locales")[0];\n      if (!(locales != null)) {\n        locales = xml.createElement("locales");\n        application.appendChild(locales);\n      }\n      _ref = this.config.locales;\n      for (lang in _ref) {\n        locale = _ref[lang];\n        element = xml.createElement("locale");\n        element.setAttribute("id", lang);\n        locales.appendChild(element);\n        for (key in locale) {\n          value = locale[key];\n          prop = xml.createElement("property");\n          prop.setAttribute("key", key);\n          text = XMLUtils.createTextContent(xml, value);\n          prop.appendChild(text);\n          element.appendChild(prop);\n        }\n      }\n  }\n};\n\n/** \n * @constructor\n * @private\n * @extends {ComponentMediator}\n*/\nfunction MediaElementMediator(componentName, viewComponent) {\n  this.mediatorName = "#@{getComponentType()}-mediator";\n  MediaElementMediator.__super__.constructor.call(this, componentName, null, null, viewComponent);\n}\n\n\n__extends(MediaElementMediator, ComponentMediator);\n\n\nMediaElementMediator.prototype.componentType = "media-element";\n\n/** \n * @constructor\n * @private\n*/\nfunction LayerMediator() {\n  LayerMediator.__super__.constructor.call(this);\n}\n\n\n__extends(LayerMediator, ComponentMediator);\n\n\nLayerMediator.prototype.componentType = "layer";\n\n/**\n * Registers the layer\n * \n * @override\n*/\nLayerMediator.prototype.onRegister = function() {\n  LayerMediator.__super__.onRegister.call(this);\n  this.registerLayer();\n};\n\n/**\n * Removes the layer\n * \n * @override\n*/\nLayerMediator.prototype.onRemove = function() {\n  LayerMediator.__super__.onRemove.call(this);\n  this.removeLayer();\n};\n\n/**\n *\n*/\nLayerMediator.prototype.registerLayer = function() {\n  this.sendNotification(Notifications.ADD_LAYER, this.viewComponent);\n};\n\n/**\n *\n*/\nLayerMediator.prototype.removeLayer = function() {\n  this.sendNotification(Notifications.REMOVE_LAYER, this.viewComponent);\n};\n\n/** \n * @constructor\n * @extends {LayerMediator} \n * @private\n*/\nfunction VideoLayerMediator() {\n  VideoLayerMediator.__super__.constructor.call(this);\n}\n\n\n__extends(VideoLayerMediator, LayerMediator);\n\n\nVideoLayerMediator.prototype.componentName = "video";\n\n/** @override\n*/\nVideoLayerMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.PLAYBACK_CORE_CHANGE];\n};\n\n/** @override\n*/\nVideoLayerMediator.prototype.handleNotification = function(notification) {\n  var body, name, viewComponent;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.PLAYBACK_CORE_CHANGE:\n      viewComponent = this.facade.getMediaElement();\n      if (viewComponent != null) {\n        this.viewComponent.removeChild(viewComponent);\n      }\n      viewComponent = (body != null ? typeof body.getViewComponent === "function" ? body.getViewComponent() : void 0 : void 0) || body;\n      this.facade.setMediaElement(viewComponent);\n      if (viewComponent != null) {\n        this.viewComponent.appendChild(viewComponent);\n      }\n  }\n};\n\n/** \n * @constructor\n * @private\n * @extends {ModuleMediator}\n*/\nfunction PlayerMediator(componentName, viewComponent) {\n  this.componentName = componentName;\n  this.layers = [];\n  PlayerMediator.__super__.constructor.call(this, null, null, null, viewComponent);\n}\n\n\n__extends(PlayerMediator, ComponentMediator);\n\n\nPlayerMediator.prototype.componentType = "player";\n\nPlayerMediator.prototype.core = null;\n\nPlayerMediator.prototype.medium = null;\n\nPlayerMediator.prototype.layers = null;\n\nPlayerMediator.prototype.ready = false;\n\n/** @override\n*/\nPlayerMediator.prototype.onRegister = function() {\n  var device;\n  PlayerMediator.__super__.onRegister.call(this);\n  device = Utils.getDevice();\n  if ((device != null)) {\n    this.classList.add(device);\n  }\n};\n\n/** @override\n*/\nPlayerMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.DISPLAY_STATE_CHANGE, Notifications.ACTIVE_STATE_CHANGE, Notifications.PLAY_STATE_CHANGE, Notifications.ADD_APPLICATION_STATE, Notifications.REMOVE_APPLICATION_STATE, Notifications.MEDIUM_CHANGE, Notifications.DURATION_CHANGE, Notifications.TEMPORAL_TYPE_CHANGE, Notifications.ADD_LAYER, Notifications.REMOVE_LAYER, Notifications.READY];\n};\n\n/** @override\n*/\nPlayerMediator.prototype.handleNotification = function(notification) {\n  var body, name, newState, oldState, state, states;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.ACTIVE_STATE_CHANGE:\n    case Notifications.PLAY_STATE_CHANGE:\n    case Notifications.DISPLAY_STATE_CHANGE:\n    case Notifications.MEDIUM_CHANGE:\n      states = body;\n      newState = states.newState;\n      oldState = states.oldState;\n      if ((oldState != null) && this.classList.contains(oldState)) {\n        this.classList.remove(oldState);\n      }\n      if (newState != null) {\n        this.classList.add(newState);\n      }\n      break;\n    case Notifications.ADD_APPLICATION_STATE:\n      state = body;\n      this.classList.add(state);\n      break;\n    case Notifications.REMOVE_APPLICATION_STATE:\n      state = body;\n      this.classList.remove(state);\n      break;\n    case Notifications.TEMPORAL_TYPE_CHANGE:\n      if (body === "live") {\n        this.sendNotification(Notifications.ADD_APPLICATION_STATE, "live");\n      } else {\n        this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "live");\n      }\n      break;\n    case Notifications.DURATION_CHANGE:\n      if (body > 3600) {\n        this.sendNotification(Notifications.ADD_APPLICATION_STATE, "long-form");\n      } else {\n        this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "long-form");\n      }\n      break;\n    case Notifications.ADD_LAYER:\n      this.addLayer(body);\n      break;\n    case Notifications.REMOVE_LAYER:\n      this.removeLayer(body);\n      break;\n    case Notifications.READY:\n      this.initialize();\n  }\n};\n\n/**\n*/\nPlayerMediator.prototype.initialize = function() {\n  var layer, _i, _len, _ref;\n  this.ready = true;\n  _ref = this.layers;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    layer = _ref[_i];\n    if (!this.viewComponent.contains(layer)) {\n      this.viewComponent.appendChild(layer);\n    }\n  }\n};\n\n/**\n*/\nPlayerMediator.prototype.addLayer = function(layer) {\n  this.layers.push(layer);\n  if (this.ready) {\n    this.viewComponent.appendChild(layer);\n  }\n};\n\n/**\n*/\nPlayerMediator.prototype.removeLayer = function(layer) {\n  var index;\n  if (this.viewComponent.contains(layer)) {\n    this.viewComponent.removeChild(layer);\n  }\n  index = this.layers.indexOf(layer);\n  if (index >= 0) {\n    this.layers.splice(index, 1);\n  }\n};\n\n/** \n * @param {Object} viewComponent\n * @constructor\n * @private \n * @extends {PlayerMeditator}\n*/\nfunction FlashPlayerMediator(viewComponent) {\n  FlashPlayerMediator.__super__.constructor.call(this, this.type, viewComponent);\n}\n\n\n__extends(FlashPlayerMediator, PlayerMediator);\n\n\n/**\n * The name of the this Mediator.\n * \n * @static\n * @type {String}\n*/\nFlashPlayerMediator.NAME = "FlashPlayerMediator";\n\nFlashPlayerMediator.prototype.type = "flash";\n\n/** @override\n*/\nFlashPlayerMediator.prototype.listNotificationInterests = function() {\n  return FlashPlayerMediator.__super__.listNotificationInterests.call(this).concat([PluginNotifications.PLUGINS_INITIALIZED]);\n};\n\n/** @override\n*/\nFlashPlayerMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.READY:\n      return;\n    case PluginNotifications.PLUGINS_INITIALIZED:\n      this.initialize();\n      return;\n  }\n  FlashPlayerMediator.__super__.handleNotification.call(this, notification);\n};\n\n/**\n * The SecuritySetToken class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction SecuritySetKeyCommand() {\n  SecuritySetKeyCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SecuritySetKeyCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSecuritySetKeyCommand.prototype.execute = function(notification) {\n  this.security.setKey(notification.getBody());\n  SecuritySetKeyCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The SecuritySetToken class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction SecuritySetTokenCommand() {\n  SecuritySetTokenCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SecuritySetTokenCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSecuritySetTokenCommand.prototype.execute = function(notification) {\n  this.security.setToken(notification.getBody());\n  this.security.setAuthorized(true);\n  SecuritySetTokenCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar AISNotifications = {\n  START_AUTHENTICATION: "aisauthenticationstarted",\n  AUTHENTICATED: "aisauthenticated",\n  AUTHENTICATING: "aisauthenticating",\n  AUTHENTICATION_COMPLETE: "aisauthenticationcomplete",\n  CHOOSE_AUTH_PROVIDER: "aischooseprovider",\n  CHOOSE_PLAY_OPTIONS: "aischooseplayoptions",\n  LAUNCH_IDP_LOGIN: "aislaunchidplogin"\n};\n\n/**\n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction PluginCommand() {\n  PluginCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PluginCommand, PlayerCommand);\n\n\nPluginCommand.prototype.plugin = null;\n\nPluginCommand.prototype.proxy = null;\n\n/** @override\n*/\nPluginCommand.prototype.initializeNotifier = function(key) {\n  PluginCommand.__super__.initializeNotifier.call(this, key);\n  this.proxy = this.facade.retrieveProxy(ModuleProxy.NAME);\n  this.plugin = this.facade;\n};\n\n/**\n * The AISEndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AISEndedCommand() {\n  AISEndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISEndedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISEndedCommand.prototype.execute = function(notification) {\n  this.proxy().vcsSet(0);\n};\n\nfunction Cookies() {}\n\nCookies.setCookie = function(name, value, days, path, domain) {\n  var expires;\n  value = escape(value);\n  if (days != null) {\n    expires = new Date();\n    expires.setDate(expires.getDate() + days);\n    value += "; expires=" + expires.toUTCString();\n  }\n  if (domain != null) {\n    value += "; domain=" + domain;\n  }\n  if (path != null) {\n    value += "; path=" + path;\n  }\n  return document.cookie = name + "=" + value;\n};\n\nCookies.getCookie = function(name) {\n  var cookie, cookies, index, key, value, _i, _len;\n  cookies = document.cookie.split(";");\n  for (_i = 0, _len = cookies.length; _i < _len; _i++) {\n    cookie = cookies[_i];\n    index = cookie.indexOf("=");\n    key = cookie.substr(0, index).replace(/^\\s+|\\s+$/g, "");\n    value = unescape(cookie.substr(index + 1));\n    if (key === name) {\n      return value;\n    }\n  }\n};\n\nCookies.deleteCookie = function(name) {\n  return this.setCookie(name, "", -1);\n};\n\n/**\n * The AISPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AISPauseCommand() {\n  AISPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISPauseCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISPauseCommand.prototype.execute = function(notification) {\n  this.proxy.vcsSet(this.proxy.currentTime);\n};\n\n/**\n * The AISTimeUpdateCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AISTimeUpdateCommand() {\n  AISTimeUpdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISTimeUpdateCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISTimeUpdateCommand.prototype.execute = function(notification) {\n  var currentTime;\n  currentTime = Math.floor(notification.getBody());\n  if (currentTime !== 0 && currentTime % 30 === 0 && currentTime !== this.proxy.currentTime) {\n    this.proxy.vcsSet(currentTime);\n  }\n  this.proxy.currentTime = currentTime;\n};\n\n/** \n * The PluginProxy class.\n *   \n * @param {Object} config\n * @constructor\n * @private\n * @extends {DataBoundConfigurationProxy}\n*/\nfunction PluginProxy(config) {\n  PluginProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(PluginProxy, DataBoundConfigurationProxy);\n\n\n/** @static\n*/\nPluginProxy.NAME = ModuleProxy.NAME;\n\nPluginProxy.prototype.enabled = true;\n\nPluginProxy.prototype.plugin = null;\n\n/**\n*/\nPluginProxy.prototype.setEnabled = function(value) {\n  this.enabled = value;\n  return value;\n};\n\nPluginProxy.prototype.getEnabled = function() {\n  return this.enabled;\n};\n\n/**\n*/\nPluginProxy.prototype.createPlugin = function() {};\n\n/**\n*/\nPluginProxy.prototype.initialize = function() {\n  this.plugin = this.createPlugin();\n};\n\n/**\n*/\nPluginProxy.prototype.error = function(err) {\n  this.facade.logger.error("[AMP " + (this.facade.getModuleName().toUpperCase()) + " Error]", err);\n};\n\n/** \n * @constructor\n * @private \n * @extends {PluginProxy}\n*/\nfunction AISProxy(config) {\n  AISProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AISProxy, PluginProxy);\n\n\n/** @static\n*/\nAISProxy.NAME = ModuleProxy.NAME;\n\nAISProxy.prototype.client = null;\n\nAISProxy.prototype.currentTime = null;\n\nAISProxy.prototype.idps = null;\n\nAISProxy.prototype.idp = null;\n\nAISProxy.prototype.token = null;\n\nAISProxy.prototype.authz = null;\n\nAISProxy.prototype.defaults = {\n  platformID: null,\n  resourceID: null,\n  contentID: null,\n  responseTargets: null,\n  logos: {\n    base: null,\n    group: null,\n    key: "full"\n  }\n};\n\n/** @override\n*/\nAISProxy.prototype.getScript = function() {\n  return this.value.plugin;\n};\n\n/**\n*/\nAISProxy.prototype.initialize = function() {\n  this.client = window.ais_client;\n  this.client.setLogging(this.facade.logger.enabled);\n  this.client.setPlatformId(this.value.platformID);\n  this.client.setUseCache(!/MSIE [7-8]/.test(navigator.userAgent));\n  this.client.assignhandler(\'bounce\', this.bounceHandler.bind(this));\n  this.client.assignhandler(\'chooser\', this.chooserHandler.bind(this));\n  this.client.assignhandler(\'init\', this.initHandler.bind(this));\n  this.client.assignhandler(\'authz_query\', this.authz_queryHandler.bind(this));\n  this.client.assignhandler(\'identity\', this.identityHandler.bind(this));\n  this.client.assignhandler(\'logout_result\', this.logoutHandler.bind(this));\n  this.client.assignhandler(\'vcs\', this.vcsHandler.bind(this));\n  window.onunload = function() {};\n};\n\n/**\n*/\nAISProxy.prototype.authorize = function() {\n  this.authz = null;\n  this.token = null;\n  this.disengage();\n  this.sendNotification(AISNotifications.START_AUTHENTICATION);\n};\n\n/**\n*/\nAISProxy.prototype.authorized = function(token) {\n  if (token == null) {\n    token = this.token;\n  }\n  this.engage();\n  this.sendNotification(AISNotifications.AUTHENTICATION_COMPLETE);\n  this.sendNotification(SecurityNotifications.AUTHORIZED, token);\n};\n\n/**\n*/\nAISProxy.prototype.play = function(time) {\n  this.sendNotification(Notifications.INITIALIZED);\n  this.sendNotification(Notifications.PLAY);\n  if (time != null) {\n    return this.sendNotification(Notifications.SEEK, time);\n  }\n};\n\n/**\n*/\nAISProxy.prototype.engage = function() {\n  this.facade.registerCommand(Notifications.TIME_UPDATE, AISTimeUpdateCommand);\n  this.facade.registerCommand(Notifications.PAUSE, AISPauseCommand);\n  this.facade.registerCommand(Notifications.ENDED, AISEndedCommand);\n};\n\n/**\n*/\nAISProxy.prototype.disengage = function() {\n  this.facade.removeCommand(Notifications.TIME_UPDATE);\n  this.facade.removeCommand(Notifications.PAUSE);\n  this.facade.removeCommand(Notifications.ENDED);\n};\n\n/**\n*/\nAISProxy.prototype.logout = function() {\n  var height, method, target, width, _ref;\n  method = ((_ref = this.idp.window_display) != null ? _ref.method : void 0) || "redirect";\n  target = this.getTarget(method);\n  this.setRedirect(method);\n  switch (method) {\n    case "redirect":\n      window.open(this.client.logoutFormat(target), "_top");\n      break;\n    case "popup":\n      width = this.idp.window_display.width || 320;\n      height = this.idp.window_display.height || 240;\n      window.open(this.client.logoutFormat(target), \'ais_popup\', \'width=\' + width + \',height=\' + height);\n  }\n};\n\n/**\n*/\nAISProxy.prototype.bounce = function(resource) {\n  this.client.bounce();\n};\n\n/**\n*/\nAISProxy.prototype.init = function(resource) {\n  this.client.init();\n};\n\n/**\n*/\nAISProxy.prototype.choose = function() {\n  this.client.chooser();\n};\n\n/**\n*/\nAISProxy.prototype.resourceAccess = function(resource) {\n  if (resource == null) {\n    resource = this.value.resourceID;\n  }\n  this.client.resourceAccess(resource);\n};\n\n/**\n*/\nAISProxy.prototype.vcsSet = function(time) {\n  time = Utils.formatTimecode(time);\n  return this.client.vcsSet(this.value.contentID, time);\n};\n\n/**\n*/\nAISProxy.prototype.bounceHandler = function(type, resp) {\n  var auth;\n  auth = resp[\'authenticated\'].toString() === \'true\';\n  if (auth === false) {\n    this.sendNotification(Notifications.DISPATCH_EVENT, new Event("authenticationfailed"));\n    this.sendNotification(SecurityNotifications.AUTHORIZATION_FAILED);\n    this.choose();\n  } else if (auth === true) {\n    this.init();\n  }\n};\n\n/**\n*/\nAISProxy.prototype.initHandler = function(type, resp) {\n  var key, key2, value, value2, _ref;\n  this.idp = resp.idps;\n  this.facade.idps = {};\n  _ref = resp.idps;\n  for (key in _ref) {\n    value = _ref[key];\n    this.facade.idps.key = key;\n    for (key2 in value) {\n      value2 = value[key2];\n      this.facade.idps[key2] = value2;\n    }\n    break;\n  }\n  for (key in resp) {\n    value = resp[key];\n    if (key !== "idps" && (value != null)) {\n      this.facade[key] = value;\n    }\n  }\n  this.facade.idps.logo = this.value.logos.base + this.facade.idps.logos[this.value.logos.key];\n  this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "authenticating");\n  this.sendNotification(AISNotifications.AUTHENTICATED, this.facade.idps);\n  this.resourceAccess(this.value.resourceID);\n};\n\n/**\n*/\nAISProxy.prototype.chooserHandler = function(type, resp) {\n  this.facade.sendNotification(Notifications.ADD_APPLICATION_STATE, "authenticating");\n  resp.possible_idps = this.idps = this.sort(resp.possible_idps, \'value\', \'display_name\');\n  this.sendNotification(AISNotifications.CHOOSE_AUTH_PROVIDER, resp);\n};\n\nAISProxy.prototype.launchIDPLogin = function(idp_platform_id) {\n  var height, idp, method, target, width, _ref;\n  this.sendNotification(AISNotifications.AUTHENTICATING, true);\n  idp = this.idps[idp_platform_id];\n  method = ((_ref = idp.window_display) != null ? _ref.method : void 0) || "redirect";\n  target = this.getTarget(method);\n  this.setRedirect(method);\n  switch (method) {\n    case "redirect":\n      window.open(this.client.loginFormat(idp_platform_id, target), "_top");\n      break;\n    case "popup":\n      method = idp.window_display.method || "popup";\n      width = idp.window_display.width || 320;\n      height = idp.window_display.height || 240;\n      window.open(this.client.loginFormat(idp_platform_id, target), \'ais_popup\', \'width=\' + width + \',height=\' + height);\n  }\n};\n\n/**\n*/\nAISProxy.prototype.identityHandler = function(type, resp) {\n  var aisuid;\n  aisuid = resp[\'identity\'][\'attributes\'][\'aisuid\'];\n};\n\n/**\n*/\nAISProxy.prototype.authz_queryHandler = function(type, resp) {\n  var auth, dimensions, resource;\n  auth = resp[\'authorization\'].toString() === "true";\n  if (auth === false) {\n    this.sendNotification(SecurityNotifications.AUTHORIZATION_FAILED);\n    this.authorize();\n  } else if (auth === true) {\n    this.authz = resp;\n    dimensions = {\n      mvpdName: this.facade.idps.name,\n      viewerId: this.client.aisuid,\n      "std:viewerId": this.client.aisuid\n    };\n    this.facade.player.setParams({\n      "mvpdname": dimensions.mvpdName\n    });\n    this.facade.player.sendNotification(MediaAnalyticsNotifications.SET_DIMENSIONS, dimensions);\n    this.facade.viewerId = this.client.aisuid;\n    resource = resp[\'resource\'];\n    if (resource != null) {\n      this.facade.resource = resource;\n    }\n    this.token = "hdnea=" + resp[\'security_token\'];\n    this.sendNotification(SecurityNotifications.SET_KEY, "hdnea=");\n    this.sendNotification(SecurityNotifications.SET_TOKEN, resp[\'security_token\']);\n    this.sendNotification(AISNotifications.AUTHENTICATING, false);\n    if (this.value.contentID != null) {\n      this.client.vcsGet(this.value.contentID);\n    } else {\n      this.authorized(this.token);\n    }\n  }\n};\n\n/**\n*/\nAISProxy.prototype.logoutHandler = function(type, resp) {\n  top.location.href = top.location.href;\n};\n\n/**\n*/\nAISProxy.prototype.vcsHandler = function(type, resp) {\n  if (resp[\'operation\'] === \'get\') {\n    if (resp[\'ph_pos\'] === \'00:00:00\' || resp[\'ph_pos\'] === "00:00") {\n      this.client.vcsSet(this.value.contentID, resp[\'ph_pos\']);\n      this.authorized(this.token);\n    } else {\n      this.sendNotification(AISNotifications.CHOOSE_PLAY_OPTIONS, Utils.flattenTimecode(resp[\'ph_pos\']));\n    }\n  }\n};\n\n/**\n*/\nAISProxy.prototype.sort = function(obj, sortType, valueName) {\n  var data, index, item, key, returnObj, value, _i, _len;\n  returnObj = {};\n  data = [];\n  index = 0;\n  for (key in obj) {\n    value = obj[key];\n    data[index] = {\n      key: key,\n      value: value[valueName]\n    };\n    index++;\n  }\n  data.sort(function(a, b) {\n    var valueA, valueB;\n    valueA = sortType === \'value\' ? a.value.toLowerCase() : a.key.toLowercase();\n    valueB = sortType === \'value\' ? b.value.toLowerCase() : b.key.toLowercase();\n    if (valueA < valueB) {\n      return -1;\n    } else if (valueA > valueB) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n  for (index = _i = 0, _len = data.length; _i < _len; index = ++_i) {\n    item = data[index];\n    returnObj[item.key] = obj[item.key];\n  }\n  return returnObj;\n};\n\n/**\n*/\nAISProxy.prototype.setRedirect = function(method) {\n  var devToken, domain, loc;\n  try {\n    devToken = /\\/dev\\./;\n    loc = window.top.location.href || window.top.location;\n    domain = devToken.test(loc) ? loc.replace(devToken, "/") : null;\n    Cookies.setCookie(this.getTarget(method), loc, 1, "/", domain);\n  } catch (error) {\n\n  }\n};\n\n/**\n*/\nAISProxy.prototype.getTarget = function(method) {\n  if (method == null) {\n    method = "redirect";\n  }\n  return this.value.responseTargets[method];\n};\n\n/**\n * PlaybackProxy constructor.\n * \n * @constructor\n * @private\n * @extends {puremvc.Proxy}\n*/\nfunction PlaybackProxy() {\n  PlaybackProxy.__super__.constructor.call(this, PlaybackProxy.NAME);\n  this.data = {\n    core: null,\n    muted: false,\n    started: false,\n    volume: 1,\n    currentTime: 0,\n    duration: 0,\n    src: null,\n    ended: false,\n    paused: false,\n    seeking: false,\n    loading: false\n  };\n  if (Utils.getDevice() === "desktop") {\n    this.initialized = true;\n  }\n  this.handlers = {\n    "timeupdate": this.ontimeupdate.bind(this),\n    "durationchange": this.ondurationchange.bind(this),\n    "play": this.onplay.bind(this),\n    "playing": this.onplaying.bind(this),\n    "pause": this.onpause.bind(this),\n    "loadeddata": this.onloadeddata.bind(this),\n    "waiting": this.onwaiting.bind(this),\n    "seeking": this.onseeking.bind(this),\n    "seeked": this.onseeked.bind(this),\n    "ended": this.onended.bind(this),\n    "progress": this.onprogress.bind(this),\n    "error": this.onerror.bind(this),\n    "loadstart": this.onloadstart.bind(this),\n    "canplay": this.oncanplay.bind(this),\n    "canplaythrough": this.oncanplaythrough.bind(this),\n    "loadedmetadata": this.onloadedmetadata.bind(this)\n  };\n  this.resumeHandlers = {\n    "seeked": this.resumeseeked.bind(this),\n    "loadedmetadata": this.resumeloadedmetadata.bind(this)\n  };\n}\n\n\n__extends(PlaybackProxy, puremvc.Proxy);\n\n\n/**\n * The name of the this Proxy.\n * \n * @static\n * @type {string}\n*/\nPlaybackProxy.NAME = "PlaybackProxy";\n\n/** @private\n*/\nPlaybackProxy.prototype.data = null;\n\nPlaybackProxy.prototype.initialized = false;\n\nPlaybackProxy.prototype.enabled = null;\n\nPlaybackProxy.prototype.handlers = null;\n\nPlaybackProxy.prototype.resumeHandlers = null;\n\nPlaybackProxy.prototype.playWhenLoaded = false;\n\nPlaybackProxy.prototype.metadataloaded = false;\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nPlaybackProxy.prototype.getEnabled = function() {\n  return this.enabled;\n};\n\nPlaybackProxy.prototype.setEnabled = function(value) {\n  if (value === this.enabled) {\n    return;\n  }\n  this.enabled = value;\n  if (this.enabled === true) {\n    this.load();\n  } else {\n    this.applyHandlers(false);\n  }\n  return value;\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.applyHandlers = function(enabled) {\n  var action, handler, type, video, _ref;\n  if (enabled == null) {\n    enabled = true;\n  }\n  video = this.getMediaElement();\n  action = enabled ? "addEventListener" : "removeEventListener";\n  _ref = this.handlers;\n  for (type in _ref) {\n    handler = _ref[type];\n    video[action](type, handler);\n  }\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.resumeloadedmetadata = function(event) {\n  var video;\n  video = event.target;\n  video.removeEventListener("loadedmetadata", this.resumeHandlers.loadedmetadata);\n  this.handlers.durationchange(event);\n  if (this.data.currentTime > 0) {\n    video.addEventListener("seeked", this.resumeHandlers.seeked);\n    setTimeout(this.seek.bind(this), 0);\n  } else {\n    this.resumecomplete();\n  }\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.resumeseeked = function(event) {\n  var video;\n  video = event.target;\n  video.removeEventListener("seeked", this.resumeHandlers.seeked);\n  this.resumecomplete();\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.resumecomplete = function() {\n  this.data.loading = false;\n  this.applyHandlers(true);\n  if (this.playWhenLoaded === true) {\n    setTimeout(this.play.bind(this), 0);\n  }\n};\n\nPlaybackProxy.prototype.ontimeupdate = function(event) {\n  this.data.currentTime = event.target.currentTime;\n  this.sendNotification(Notifications.TIME_UPDATE, this.data.currentTime);\n};\n\nPlaybackProxy.prototype.ondurationchange = function(event) {\n  var duration;\n  duration = this.getMediaElement().duration;\n  if (duration === this.data.duration || duration === 0 || isNaN(duration)) {\n    return;\n  }\n  this.data.duration = duration;\n  if (/Android 4/.test(navigator.userAgent) && event.target.src.indexOf(".m3u8") !== -1) {\n    return;\n  }\n  this.sendNotification(Notifications.CHANGE_DURATION, duration);\n};\n\nPlaybackProxy.prototype.onplay = function(event) {\n  this.data.paused = false;\n};\n\nPlaybackProxy.prototype.onplaying = function(event) {\n  this.data.paused = false;\n  this.data.seeking = false;\n  this.sendNotification(Notifications.PLAYING);\n};\n\nPlaybackProxy.prototype.onpause = function(event) {\n  if (this.data.seeking === true) {\n    return;\n  }\n  this.data.paused = true;\n  if (event.target.readyState > 0) {\n    this.sendNotification(Notifications.PAUSED);\n    this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PAUSED);\n  }\n};\n\nPlaybackProxy.prototype.onloadeddata = function(event) {\n  this.sendNotification(Notifications.LOADED_DATA);\n};\n\nPlaybackProxy.prototype.onwaiting = function(event) {\n  this.sendNotification(Notifications.WAITING);\n};\n\nPlaybackProxy.prototype.onseeking = function(event) {\n  event.target.removeEventListener("timeupdate", this.handlers.timeupdate);\n  this.data.seeking = true;\n  this.sendNotification(Notifications.SEEKING);\n};\n\nPlaybackProxy.prototype.onseeked = function(event) {\n  this.data.seeking = false;\n  this.sendNotification(Notifications.SEEKED);\n  event.target.addEventListener("timeupdate", this.handlers.timeupdate);\n};\n\nPlaybackProxy.prototype.onended = function(event) {\n  this.data.ended = true;\n  this.sendNotification(Notifications.ENDED);\n};\n\nPlaybackProxy.prototype.onprogress = function(event) {\n  var buffered, video;\n  try {\n    video = event.target;\n    buffered = video.buffered;\n    this.sendNotification(Notifications.PROGRESS, buffered.end(buffered.length - 1) / video.duration);\n  } catch (error) {\n\n  }\n};\n\nPlaybackProxy.prototype.onerror = function(event) {\n  this.sendNotification(Notifications.ERROR, event.target.error);\n};\n\nPlaybackProxy.prototype.onloadstart = function(event) {\n  this.sendNotification(Notifications.LOAD_START);\n};\n\nPlaybackProxy.prototype.oncanplay = function(event) {\n  this.sendNotification(Notifications.CAN_PLAY);\n};\n\nPlaybackProxy.prototype.oncanplaythrough = function(event) {\n  this.sendNotification(Notifications.CAN_PLAY_THROUGH);\n  this.sendNotification(Notifications.PROGRESS, this.getDuration());\n};\n\nPlaybackProxy.prototype.onloadedmetadata = function(event) {\n  this.metadataloaded = true;\n  this.sendNotification(Notifications.ENABLE_FULL_SCREEN);\n  this.sendNotification(Notifications.LOADED_METADATA);\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.reset = function() {\n  this.data.currentTime = 0;\n  this.data.duration = 0;\n  this.data.src = null;\n  this.data.ended = false;\n  this.data.paused = false;\n  this.data.seeking = false;\n  this.data.started = false;\n  this.data.loading = false;\n};\n\n/**\n * @return {boolean}\n*/\nPlaybackProxy.prototype.getStarted = function() {\n  return this.data.started;\n};\n\n/**     \n * The playback core\n * \n * @param {HTMLVideoElement} value\n *    The new playback core\n * @returns {HTMLVideoElement} \n *    The playback core\n * @type {HTMLVideoElement}\n * \n * @private\n*/\nPlaybackProxy.prototype.getMediaElement = function() {\n  return this.facade.getMediaElement();\n};\n\n/**\n * Determines if the core can play a given mimeType.\n * \n * @return {String} "" if the core can\'t play the mimeType\n*/\nPlaybackProxy.prototype.canPlayType = function(mimeType) {\n  var canPlay;\n  canPlay = this.getMediaElement().canPlayType(mimeType) || "";\n  if ((/Android 4\\.[1-9]/.test(navigator.userAgent) || /Silk\\/3/.test(navigator.userAgent)) && mimeType === Utils.mimeTypes.m3u8) {\n    canPlay = "maybe";\n  }\n  if (canPlay === "probably" && /video\\/f4m|x-flv/.test(mimeType) && /UCBrowser/.test(navigator.userAgent)) {\n    canPlay = "";\n  }\n  return canPlay;\n};\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nPlaybackProxy.prototype.getPaused = function() {\n  return this.data.paused;\n};\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nPlaybackProxy.prototype.getEnded = function() {\n  return this.data.ended;\n};\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nPlaybackProxy.prototype.getSeeking = function() {\n  return this.data.seeking;\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nPlaybackProxy.prototype.getCurrentTime = function() {\n  return this.data.currentTime;\n};\n\nPlaybackProxy.prototype.setCurrentTime = function(value) {\n  if (value === this.data.currentTime) {\n    return;\n  }\n  this.data.currentTime = value;\n  if (this.getStarted()) {\n    this.seek(value);\n  }\n  return value;\n};\n\n/** @private\n*/\nPlaybackProxy.prototype.seek = function(value) {\n  if (value == null) {\n    value = this.data.currentTime;\n  }\n  this.getMediaElement().currentTime = value;\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nPlaybackProxy.prototype.getSrc = function() {\n  return this.data.src;\n};\n\nPlaybackProxy.prototype.setSrc = function(value) {\n  if (!(value != null) || value === "") {\n    this.sendNotification(Notifications.ERROR, "The value of src is not supported: " + value);\n  }\n  this.reset();\n  this.data.src = value;\n  return value;\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nPlaybackProxy.prototype.getVolume = function() {\n  return this.getMediaElement().volume;\n};\n\nPlaybackProxy.prototype.setVolume = function(value) {\n  if ((0 <= value && value <= 1) && value !== this.getMediaElement().volume) {\n    this.sendNotification(Notifications.VOLUME_CHANGE, this.getMediaElement().volume = value);\n  }\n  return value;\n};\n\n/**\n*/\nPlaybackProxy.prototype.getMuted = function() {\n  return this.data.muted;\n};\n\nPlaybackProxy.prototype.setMuted = function(value) {\n  var volume;\n  this.data.muted = value;\n  if (this.data.muted === true) {\n    this.data.volume = this.getVolume();\n    volume = 0;\n  } else {\n    volume = this.data.volume;\n  }\n  this.sendNotification(Notifications.CHANGE_VOLUME, volume);\n  return value;\n};\n\n/**\n * The duration of the video in seconds.\n *     \n * @returns {Number} \n *    The duration of the video\n * @type {Number}\n*/\nPlaybackProxy.prototype.getDuration = function() {\n  return this.data.duration;\n};\n\n/**\n * Instructs the core to play.\n*/\nPlaybackProxy.prototype.play = function() {\n  if (this.data.started !== true) {\n    this.data.started = true;\n    this.setEnabled(true);\n    this.playWhenLoaded = true;\n    if (this.metadataloaded === false) {\n      return;\n    }\n  } else if (this.data.loading === true) {\n    this.playWhenLoaded = true;\n    return;\n  }\n  this.getMediaElement().play();\n};\n\n/**\n * Instructs the core to pause.\n*/\nPlaybackProxy.prototype.pause = function() {\n  this.data.paused = true;\n  this.getMediaElement().pause();\n};\n\n/**\n * Instructs the core to load.\n*/\nPlaybackProxy.prototype.load = function() {\n  var element, _ref;\n  this.data.loading = true;\n  this.playWhenLoaded = false;\n  this.metadataloaded = false;\n  element = this.getMediaElement();\n  element.addEventListener("loadedmetadata", this.handlers.loadedmetadata);\n  element.addEventListener("loadedmetadata", this.resumeHandlers.loadedmetadata);\n  element.addEventListener("durationchange", this.handlers.durationchange);\n  element.addEventListener("canplaythrough", this.handlers.canplaythrough);\n  element.addEventListener("error", this.handlers.error);\n  element.src = this.data.src;\n  if (Utils.isIPad() && ((_ref = Utils.getIOSversion()) != null ? _ref[0] : void 0) < 8) {\n    setTimeout(element.load.bind(element), 100);\n  } else {\n    element.load();\n  }\n};\n\n/**\n * The AISFlashAuthenticatedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction FlashAuthorizedCommand() {\n  FlashAuthorizedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(FlashAuthorizedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nFlashAuthorizedCommand.prototype.execute = function(notification) {\n  var mediaProxy, securityProxy, src;\n  mediaProxy = this.facade.retrieveProxy(MediaProxy.NAME);\n  securityProxy = this.facade.retrieveProxy(SecurityProxy.NAME);\n  src = mediaProxy.getSrc() || "";\n  if (src.indexOf(".smil") === -1) {\n    src = securityProxy.createURL(src);\n  }\n  mediaProxy.setSrc(src);\n  this.facade.getMediaElement().authenticationComplete({\n    media: mediaProxy.getData()\n  });\n};\n\n/**\n * PlaybackCoreProxy constructor.\n * \n * @constructor\n * @private\n * @extends {PlaybackProxy}\n*/\nfunction PlaybackCoreProxy(supportedTypes) {\n  this.supportedTypes = supportedTypes != null ? supportedTypes : this.supportedTypes;\n  PlaybackCoreProxy.__super__.constructor.call(this);\n}\n\n\n__extends(PlaybackCoreProxy, PlaybackProxy);\n\n\nPlaybackCoreProxy.prototype.supportedTypes = null;\n\nPlaybackCoreProxy.prototype.playbackCoreName = null;\n\n/**\n*/\nPlaybackCoreProxy.prototype.getPlaybackCoreName = function() {\n  return this.playbackCoreName;\n};\n\n/**\n*/\nPlaybackCoreProxy.prototype.getSupportedTypes = function() {\n  return this.supportedTypes;\n};\n\n/**\n*/\nPlaybackCoreProxy.prototype.setSupportedTypes = function(types) {\n  this.supportedTypes = types;\n  return types;\n};\n\n/** @override\n*/\nPlaybackCoreProxy.prototype.canPlayType = function(mimeType) {\n  if (this.getSupportedTypes().indexOf(mimeType) !== -1) {\n    return "maybe";\n  }\n  return "";\n};\n\n/**\n * ChromeCastPlaybackProxy constructor.\n * \n * @constructor\n * @extends {PlaybackCoreProxy}\n * @private\n*/\nfunction FlashPlaybackProxy(player) {\n  this.player = player;\n  FlashPlaybackProxy.__super__.constructor.call(this);\n}\n\n\n__extends(FlashPlaybackProxy, PlaybackCoreProxy);\n\n\n/**\n * The name of the this Proxy.\n * \n * @static\n * @type {string}\n*/\nFlashPlaybackProxy.NAME = PlaybackProxy.NAME;\n\nFlashPlaybackProxy.prototype.player = null;\n\nFlashPlaybackProxy.prototype.initialized = true;\n\nFlashPlaybackProxy.prototype.playbackCoreName = "flash";\n\nFlashPlaybackProxy.prototype.supportedTypes = ["video/mp4", "video/x-flv", "video/f4m", "application/smil", "application/smil+xml"];\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nFlashPlaybackProxy.prototype.getPaused = function() {\n  return this.player.getPaused();\n};\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nFlashPlaybackProxy.prototype.getEnded = function() {\n  return this.player.getEnded();\n};\n\n/**     \n * Indicates whether or not the video is playing.\n * \n * @returns {Boolean} \n *    The playing value\n * @type {Boolean}\n*/\nFlashPlaybackProxy.prototype.getSeeking = function() {\n  return this.player.getSeeking();\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nFlashPlaybackProxy.prototype.getCurrentTime = function() {\n  return this.player.getCurrentTime();\n};\n\nFlashPlaybackProxy.prototype.setCurrentTime = function(value) {\n  this.player.setCurrentTime(value);\n  return value;\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nFlashPlaybackProxy.prototype.getSrc = function() {\n  return this.player.getSrc();\n};\n\nFlashPlaybackProxy.prototype.setSrc = function(value) {\n  this.player.setSrc(value);\n  return value;\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nFlashPlaybackProxy.prototype.getVolume = function() {\n  return this.player.getVolume();\n};\n\nFlashPlaybackProxy.prototype.setVolume = function(value) {\n  this.player.setVolume(value);\n  return value;\n};\n\n/**\n*/\nFlashPlaybackProxy.prototype.getMuted = function() {\n  return this.player.getMuted();\n};\n\nFlashPlaybackProxy.prototype.setMuted = function(value) {\n  this.player.setMuted(value);\n  return value;\n};\n\n/**\n * The duration of the video in seconds.\n *     \n * @returns {Number} \n *    The duration of the video\n * @type {Number}\n*/\nFlashPlaybackProxy.prototype.getDuration = function(value) {\n  return this.player.getDuration();\n};\n\n/**\n * Instructs the core to play.\n*/\nFlashPlaybackProxy.prototype.play = function() {\n  this.player.play();\n};\n\n/**\n * Instructs the core to pause.\n*/\nFlashPlaybackProxy.prototype.pause = function() {\n  this.player.pause();\n};\n\n/**\n * Instructs the core to load.\n*/\nFlashPlaybackProxy.prototype.load = function() {\n  this.player.load();\n};\n\n/** \n * The FlashPlayer class\n *   \n * @param {Object} viewComponent\n * @constructor\n * @private\n * @extends {Player}\n*/\nfunction FlashPlayer(viewComponent) {\n  this.flashObjectID += Date.now();\n  this.plugins = {};\n  this.displayState = DisplayState.NORMAL;\n  this.debug = /debug\\=true/.test(location.search);\n  FlashPlayer.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(FlashPlayer, Player);\n\n\n/**\n * @override\n*/\nFlashPlayer.prototype.initialize = function(config, parentModule) {\n  this.config = config;\n  this.parentModule = parentModule;\n  this.createDefaults();\n  FlashPlayer.__super__.initialize.call(this, this.config, this.parentModule);\n};\n\n/** @override\n*/\nFlashPlayer.prototype.createFramework = function() {\n  var attributes, expressInstallSWF, flash, params, swf, swfs, version, xml, _ref,\n    _this = this;\n  FlashPlayer.__super__.createFramework.call(this);\n  flash = this.config.flash || {};\n  swfs = ((_ref = flash["static"]) != null ? _ref.enabled : void 0) === true ? flash["static"] : flash;\n  swf = this.debug && (swfs.debug != null) ? swfs.debug : swfs.swf || "amp.swf";\n  version = flash.version || "10.1";\n  expressInstallSWF = this.evaluatePaths(flash.expressInstallSWF) || "playerProductInstall.swf";\n  params = this.createParams(flash);\n  attributes = this.createAttributes(flash);\n  this.flashvars = this.createFlashVars(flash);\n  if (!(this.flashvars.settings_url != null)) {\n    xml = this.createXML(this.config);\n    if (xml != null) {\n      this.flashvars.settings_xml = xml;\n    }\n  }\n  swfobject.embedSWF(this.evaluatePaths(swf), this.flashObjectID, "100%", "100%", version, expressInstallSWF, this.flashvars, params, attributes, function(obj) {\n    _this.createdHandler(obj);\n  });\n};\n\nFlashPlayer.prototype.playerType = "flash";\n\nFlashPlayer.prototype.flashObjectID = "flashObject";\n\nFlashPlayer.prototype.playState = null;\n\nFlashPlayer.prototype.loaded = false;\n\nFlashPlayer.prototype.flashvars = null;\n\nFlashPlayer.prototype.seeking = false;\n\nFlashPlayer.prototype.paused = false;\n\nFlashPlayer.prototype.ended = false;\n\nFlashPlayer.prototype.muted = false;\n\nFlashPlayer.prototype.plugins = null;\n\nFlashPlayer.prototype.debug = false;\n\nFlashPlayer.prototype.started = false;\n\nFlashPlayer.prototype.displayState = null;\n\nFlashPlayer.prototype.media = null;\n\nFlashPlayer.prototype.bindings = null;\n\nFlashPlayer.prototype.configuration = null;\n\nFlashPlayer.prototype.params = null;\n\nFlashPlayer.prototype.appState = null;\n\nFlashPlayer.prototype.security = null;\n\nFlashPlayer.prototype.playback = null;\n\nFlashPlayer.prototype.configuration = null;\n\nFlashPlayer.prototype.flashPluginIds = ["AkamaiAdvancedStreamingPlugin", "ErrorMessagingPlugin", "VideoMetricsViewPlugin", "VideoStatsInfoOverlayPlugin"];\n\n/** @override\n*/\nFlashPlayer.prototype.createModel = function() {\n  this.appState = new ApplicationStateProxy();\n  this.registerProxy(this.appState);\n  this.bindings = new DataBindingProxy();\n  this.registerProxy(this.bindings);\n  this.security = new SecurityProxy();\n  this.registerProxy(this.security);\n  this.media = new MediaProxy();\n  this.registerProxy(this.media);\n  this.playback = new FlashPlaybackProxy(this);\n  this.registerProxy(this.playback);\n  this.configuration = new ConfigurationProxy(this.config);\n  this.registerProxy(this.configuration);\n};\n\n/** @override\n*/\nFlashPlayer.prototype.createView = function() {\n  this.registerMediator(new FlashPlayerMediator(this.getViewComponent()));\n  this.registerMediator(new VideoLayerMediator());\n  this.registerMediator(new OverlayLayerMediator());\n  this.registerMediator(new LocalizationWrapper(this, this.config));\n};\n\n/** @override\n*/\nFlashPlayer.prototype.createController = function() {\n  FlashPlayer.__super__.createController.call(this);\n  this.registerCommand(SecurityNotifications.AUTHORIZED, FlashAuthorizedCommand);\n  this.registerCommand(SecurityNotifications.SET_TOKEN, SecuritySetTokenCommand);\n  this.registerCommand(SecurityNotifications.SET_KEY, SecuritySetKeyCommand);\n  this.registerCommand(Notifications.CHANGE_PLAY_STATE, ChangePlayStateCommand);\n  this.registerCommand(Notifications.PLAY_STATE_CHANGE, PlayerEventCommand);\n};\n\n/** @override\n*/\nFlashPlayer.prototype.createMediaElement = function() {\n  var video, viewComponent;\n  video = new MediaElementMediator("flash", "div");\n  viewComponent = video.getViewComponent();\n  viewComponent.id = viewComponent.name = this.flashObjectID;\n  this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE, video);\n  return viewComponent;\n};\n\n/**\n*/\nFlashPlayer.prototype.createDefaults = function() {\n  var id, plugin, resources, swf, _i, _len, _ref, _ref1;\n  if (!((_ref = this.flashPluginIds) != null ? _ref.length : void 0) > 0) {\n    return;\n  }\n  resources = this.config.resources || [];\n  swf = Utils.mimeTypes.swf;\n  _ref1 = this.flashPluginIds;\n  for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n    id = _ref1[_i];\n    plugin = AMP.defaults.flash[id];\n    if ((plugin != null) && resources.filter(function(resource) {\n      return resource.id === id;\n    }).length === 0) {\n      plugin.type = swf;\n      plugin.id = id;\n      resources.push(plugin);\n    }\n  }\n  this.config.resources = resources;\n};\n\n/**\n*/\nFlashPlayer.prototype.createParams = function(flash) {\n  var params;\n  params = {\n    allowFullScreen: true,\n    allowScriptAccess: "always",\n    wmode: "direct",\n    bgColor: "#000000"\n  };\n  if (flash.params != null) {\n    if (flash.params.allowFullScreen != null) {\n      params.allowFullScreen = flash.params.allowFullScreen;\n    }\n    if (flash.params.allowScriptAccess != null) {\n      params.allowScriptAccess = flash.params.allowScriptAccess;\n    }\n    if (flash.params.wmode != null) {\n      params.wmode = flash.params.wmode;\n    }\n    if (flash.params.bgColor != null) {\n      params.bgColor = flash.params.bgColor;\n    }\n  }\n  if (params.wmode === "direct" && /MSIE/.test(navigator.userAgent)) {\n    params.wmode = "transparent";\n  }\n  return params;\n};\n\n/** @override\n*/\nFlashPlayer.prototype.getModules = function() {\n  return this.plugins;\n};\n\n/** @override\n*/\nFlashPlayer.prototype.createPlugins = function() {\n  var def, feature, key, plugin, register, _ref;\n  _ref = AMP.plugins;\n  for (key in _ref) {\n    register = _ref[key];\n    if (!((key in this.config) && !(this.config[key].enabled === false))) {\n      continue;\n    }\n    def = register[this.getPlayerType()];\n    if (!(def != null)) {\n      this.logger.debug("[AMP FLASH]", "Plugin could not be found", key);\n      continue;\n    }\n    try {\n      plugin = this[key] = this.plugins[key] = new def(this, this.config[key]);\n      this.registerMediator(this.plugins[key]);\n      feature = typeof plugin.getFeatureName === "function" ? plugin.getFeatureName() : void 0;\n      if (feature != null) {\n        this[feature] = plugin;\n      }\n      this.logger.debug("[AMP FLASH]", "Plugin Registered", key);\n    } catch (error) {\n      this.error("Plugin Error: " + key + ": " + (error.message || error.toString()), error);\n      continue;\n    }\n  }\n  this.sendNotification(PluginNotifications.PLUGINS_INITIALIZED, this.plugins);\n};\n\n/**\n*/\nFlashPlayer.prototype.createAttributes = function(flash) {\n  var attributes;\n  attributes = {\n    id: this.flashObjectID,\n    name: this.flashObjectID\n  };\n  if (flash.attributes != null) {\n    if (flash.attributes.id != null) {\n      attributes.id = flash.attributes.id;\n    }\n    if (flash.attributes.name != null) {\n      attributes.name = flash.attributes.name;\n    }\n  }\n  return attributes;\n};\n\n/**\n*/\nFlashPlayer.prototype.createFlashJSON = function(config, spacer) {\n  var prepJSON, prepValue;\n  if (config == null) {\n    config = this.config;\n  }\n  config = JSON.stringify(config);\n  config = this.evaluatePaths(config);\n  config = JSON.parse(config);\n  prepValue = function(config, key, value) {\n    switch (typeof value) {\n      case "string":\n        config[key] = escape(value);\n        break;\n      case "object":\n        prepJSON(value);\n    }\n  };\n  prepJSON = function(config) {\n    var key, value, _i, _len;\n    if (config instanceof Array) {\n      for (key = _i = 0, _len = config.length; _i < _len; key = ++_i) {\n        value = config[key];\n        prepValue(config, key, value);\n      }\n    } else if (typeof config === "object") {\n      for (key in config) {\n        value = config[key];\n        prepValue(config, key, value);\n      }\n    }\n  };\n  prepJSON(config);\n  return escape(JSON.stringify(config, null, spacer));\n};\n\n/**\n*/\nFlashPlayer.prototype.createFlashVars = function(flash) {\n  var flashvars, key, settings, value, _ref, _ref1, _ref2, _ref3;\n  flashvars = {};\n  settings = JSON.parse(JSON.stringify(this.config));\n  settings.flash = null;\n  delete settings.flash;\n  settings.locales = null;\n  delete settings.locales;\n  settings.params = null;\n  delete settings.params;\n  settings.rules = null;\n  delete settings.rules;\n  flashvars.settings_json = this.createFlashJSON(settings);\n  if (this.config.autoplay != null) {\n    flashvars.auto_play = this.config.autoplay;\n  }\n  if ((this.config.rules != null)) {\n    Utils.mergeRules(this.config.rules);\n  }\n  flashvars.hinting_rules = escape(JSON.stringify(Utils.rules));\n  if (this.config.volume != null) {\n    flashvars.volume = Utils.clamp(this.config.volume, 0, 1);\n  }\n  if ((this.config.target != null)) {\n    flashvars.external_target = this.config.target;\n  }\n  if ((this.config.name != null)) {\n    flashvars.core_player_name = this.config.name;\n  }\n  if ((this.config.domain != null)) {\n    flashvars.embed_domain = flashvars.domain = this.config.domain;\n  }\n  flashvars.auto_replay = this.config.loop === true;\n  if (this.config.fullscreen != null) {\n    flashvars.fullscreen_enabled = this.config.fullscreen.enabled !== false && this.config.fullscreen.mode !== FullscreenMode.EXTERNAL;\n  }\n  if (this.config.titlebar != null) {\n    flashvars.titlebar_enabled = this.config.titlebar.enabled !== false;\n  }\n  if (this.config.params != null) {\n    flashvars.params = escape(JSON.stringify(this.config.params));\n  }\n  if (this.config.version != null) {\n    flashvars.context_menu_label = this.config.version;\n  }\n  if (((_ref = this.config.controls) != null ? _ref.displaySceneMarkers : void 0) != null) {\n    flashvars.displaySceneMarkers = this.config.controls.displaySceneMarkers;\n  }\n  if (this.config.media != null) {\n    if (this.config.media.src != null) {\n      this.setSrc(this.config.media.src);\n      flashvars.video_url = escape(this.config.media.src);\n    }\n    if ((this.config.media.source != null) && this.config.media.source.length > 0) {\n      this.setSource(this.config.media.source);\n      flashvars.video_url = escape(this.media.getSrc());\n    }\n    if (this.config.media.medium != null) {\n      this.setMedium(this.config.media.medium);\n      flashvars.medium = this.config.media.medium;\n    }\n    if (this.config.media.title != null) {\n      flashvars.title = escape(this.config.media.title);\n    }\n    if (this.config.media.poster != null) {\n      flashvars.poster = escape(this.config.media.poster);\n    }\n    if (this.config.media.temporalType != null) {\n      flashvars.temporalType = this.config.media.temporalType;\n    }\n  }\n  if (this.getMedium() === "audio") {\n    flashvars.controls = true;\n    flashvars.auto_hide = -1;\n  }\n  if (((_ref1 = this.config.ima) != null ? (_ref2 = _ref1.overlay) != null ? _ref2.delay : void 0 : void 0) != null) {\n    flashvars.overlay_ad_delay = this.config.ima.overlay.delay;\n  }\n  if ((this.config.ticker != null) && this.config.ticker.enabled !== false) {\n    if (this.config.ticker.url != null) {\n      flashvars.ticker_text_url = this.config.ticker.url;\n    }\n    if (this.config.ticker.interval != null) {\n      flashvars.ticker_polling_interval = this.config.ticker.interval;\n    }\n    if (this.config.ticker.speed != null) {\n      flashvars.ticker_speed = this.config.ticker.speed;\n    }\n  }\n  flashvars.show_play_button_overlay = false;\n  flashvars.auto_play_list = false;\n  flashvars.next_video_timer = 0;\n  if (flashvars.context_menu_mode == null) {\n    flashvars.context_menu_mode = this.debug === true ? "long" : "short";\n  }\n  this.sendNotification(FlashNotifications.CREATE_FLASH_VARS, {\n    flashvars: flashvars,\n    config: this.config\n  });\n  if (flash.vars != null) {\n    _ref3 = flash.vars;\n    for (key in _ref3) {\n      value = _ref3[key];\n      flashvars[key] = value;\n    }\n  }\n  return flashvars;\n};\n\n/**\n*/\nFlashPlayer.prototype.createXML = function(config) {\n  var app, element, elements, isStatic, key, mode, node, parent, parseResources, plugin, plugins, str, swf, value, xml, _i, _j, _len, _len1, _ref, _ref1, _ref2;\n  if (!((config != null ? (_ref = config.flash) != null ? _ref.xml : void 0 : void 0) != null)) {\n    return;\n  }\n  xml = XMLUtils.parse(config.flash.xml);\n  if (xml.childNodes.length > 1) {\n    xml.removeChild(xml.firstChild);\n  }\n  this.sendNotification(FlashNotifications.CREATE_XML, {\n    config: config,\n    xml: xml\n  });\n  parseResources = function(config) {\n    var key, plugins, resource, resources, value, _i, _len;\n    resources = config.resources;\n    plugins = [];\n    if ((resources instanceof Array) && ((resources != null ? resources.length : void 0) > 0)) {\n      for (_i = 0, _len = resources.length; _i < _len; _i++) {\n        resource = resources[_i];\n        if (!(resource.type === swf)) {\n          continue;\n        }\n        resource = Utils.clone(resource);\n        if (isStatic === true) {\n          if ((resource.main != null) && resource.main !== "") {\n            resource.src = resource.main;\n            resource.type = "static";\n          } else {\n            resource.type = "dynamic";\n          }\n        } else {\n          if ((resource.src != null) && resource.src !== "") {\n            resource.type = "dynamic";\n          } else {\n            resource.src = resource.main;\n            resource.type = "static";\n          }\n        }\n        delete resource.main;\n        plugins.push(resource);\n      }\n    }\n    for (key in config) {\n      value = config[key];\n      if (((resources = value != null ? value.resources : void 0) != null) && (resources instanceof Array) && (resources.length > 0)) {\n        plugins = plugins.concat(parseResources(value));\n      }\n    }\n    return plugins;\n  };\n  swf = Utils.mimeTypes.swf;\n  plugins = parseResources(this.config);\n  isStatic = ((_ref1 = config.flash["static"]) != null ? _ref1.enabled : void 0) === true;\n  if ((plugins != null ? plugins.length : void 0) > 0) {\n    parent = xml.getElementsByTagName("plugins");\n    if (parent.length < 1) {\n      parent = xml.createElement("plugins");\n      xml.firstChild.appendChild(parent);\n    } else {\n      parent = parent[0];\n    }\n    for (_i = 0, _len = plugins.length; _i < _len; _i++) {\n      plugin = plugins[_i];\n      node = xml.createElement("plugin");\n      for (key in plugin) {\n        value = plugin[key];\n        if (key !== "src") {\n          node.setAttribute(key, value);\n        } else {\n          if (key === "id" && value === "AkamaiAdvancedStreamingPlugin" && this.debug === true) {\n            value = value.replace("AkamaiAdvancedStreamingPlugin.swf", "AkamaiAdvancedStreamingPlugin-logging.swf");\n          }\n          node.appendChild(XMLUtils.createTextContent(xml, value));\n        }\n      }\n      parent.appendChild(node);\n    }\n  }\n  mode = (_ref2 = this.config.fullscreen) != null ? _ref2.mode : void 0;\n  if (mode != null) {\n    elements = xml.getElementsByTagName("element");\n    for (_j = 0, _len1 = elements.length; _j < _len1; _j++) {\n      element = elements[_j];\n      if (element.getAttribute("id") === "fullscreenBtn") {\n        element.setAttribute("action", "external");\n      }\n    }\n  }\n  str = XMLUtils.serialize(xml);\n  app = str.match(/<application>[\\w\\W\\s\\S\\d\\D]*<\\/application>/)[0] || str;\n  app = app.replace(/[\\n\\r\\t]/g, "");\n  app = this.evaluatePaths(app);\n  return escape(app);\n};\n\n/**\n*/\nFlashPlayer.prototype.createdHandler = function(obj) {\n  var _this = this;\n  this.mediaElement = obj.ref;\n  this.mediaElement.className = Namespace.PREFIX + MediaElementMediator.prototype.componentType;\n  this.mediaElement.eventHandler = function(eventName, body) {\n    return _this.eventHandler(eventName, body);\n  };\n  this.sendNotification(FlashNotifications.FLASH_CREATED);\n  if (this.getMedium() != null) {\n    this.setMedium(this.getMedium());\n  }\n};\n\n/**\n*/\nFlashPlayer.prototype.eventHandler = function(eventName, body) {\n  var error, event, state, type, _ref, _ref1;\n  try {\n    switch (eventName) {\n      case FlashNotifications.INITIALIZED:\n        type = state = "ready";\n        break;\n      case FlashNotifications.RESET:\n        if (!(body != null)) {\n          state = "ready";\n        }\n        this.started = false;\n        break;\n      case FlashNotifications.LOADING:\n        type = "loadstart";\n        break;\n      case FlashNotifications.PLAYER_ERROR:\n        type = state = "error";\n        break;\n      case FlashNotifications.MEDIA_ERROR:\n        type = state = "error";\n        break;\n      case FlashNotifications.ERROR_STREAM_NOT_FOUND:\n        type = state = "error";\n        break;\n      case FlashNotifications.CAPABILITY_CHANGE:\n        event = body.type;\n        if (event === "canPlayChange" && body.enabled === true) {\n          type = "canplay";\n          this.loaded = true;\n        } else if (event === "canSeekChange" && body.enabled === true) {\n          type = "canplaythrough";\n        } else if (event === "temporalChange" && body.enabled === true) {\n          type = "loadedmetadata";\n        }\n        break;\n      case FlashNotifications.PLAYBACK_OPEN:\n        type = "started";\n        this.started = true;\n        break;\n      case FlashNotifications.PLAYING:\n        if (!this.started) {\n          this.sendNotification(Notifications.PLAY, body);\n        }\n        type = state = "playing";\n        this.ended = false;\n        this.paused = false;\n        break;\n      case FlashNotifications.ELEMENT_EVENT:\n        if (body.element === "fullscreenBtn" && body.type === "click" && ((_ref = this.config) != null ? (_ref1 = _ref.fullscreen) != null ? _ref1.mode : void 0 : void 0) === FullscreenMode.EXTERNAL) {\n          state = this.getDisplayState() === DisplayState.FULL_SCREEN ? DisplayState.NORMAL : DisplayState.FULL_SCREEN;\n          this.setDisplayState(state);\n        }\n        break;\n      case FlashNotifications.PLAY_REQUEST:\n        type = "playrequest";\n        this.loaded = true;\n        break;\n      case FlashNotifications.PLAY:\n        if (this.playState !== "paused" && this.started) {\n          type = "play";\n        }\n        break;\n      case FlashNotifications.ENDED:\n        type = state = "ended";\n        this.ended = true;\n        break;\n      case FlashNotifications.PAUSED:\n        type = "pause";\n        state = "paused";\n        this.paused = true;\n        break;\n      case FlashNotifications.BUFFERING:\n        if (this.className !== "ended") {\n          type = state = "waiting";\n        }\n        break;\n      case FlashNotifications.DURATION_CHANGE:\n        if (!isNaN(body.time)) {\n          type = "durationchange";\n          body = body.time;\n        }\n        break;\n      case FlashNotifications.VOLUME_CHANGE:\n        type = "volumechange";\n        break;\n      case FlashNotifications.TIME_UPDATE:\n        type = "timeupdate";\n        break;\n      case FlashNotifications.SEEKING_CHANGE:\n        type = body.seeking ? "seeking" : "seeked";\n        this.seeking = body.seeking;\n        break;\n      case FlashNotifications.FULLSCREEN_CHANGE:\n        type = "fullscreenchange";\n        body = body.displayState === "fullScreen";\n        this.applyDisplayState(body ? DisplayState.FULL_SCREEN : DisplayState.NORMAL);\n        break;\n      case FlashNotifications.FAIL_OVER_ATTEMPT:\n        type = "failoverattempt";\n        body = body;\n        break;\n      case FlashNotifications.ERROR:\n        eventName = null;\n        break;\n      case FlashNotifications.AUTHORIZE:\n        type = SecurityNotifications.AUTHORIZE;\n    }\n    if ((eventName != null) && eventName !== type) {\n      event = new Event(eventName, body);\n      event.dispatcher = "FLASH";\n      this.sendNotification(Notifications.DISPATCH_EVENT, event);\n      this.sendNotification(eventName, body);\n    }\n    if (type != null) {\n      if (type === "error") {\n        error = body.error || body;\n        this.error("Flash Error", error);\n      }\n      this.sendNotification(type, body);\n      this.sendNotification(Notifications.DISPATCH_EVENT, new Event(type, body));\n    }\n    if (state != null) {\n      this.setPlayState(state);\n    }\n  } catch (error) {\n    this.error("Event Error: " + eventName, error);\n  }\n};\n\nFlashPlayer.prototype.error = function(msg, error) {\n  this.logger.error("[AMP FLASH ERROR]", msg, error);\n};\n\n/**\n*/\nFlashPlayer.prototype.excludedFlashEvents = /(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/;\n\nFlashPlayer.prototype.logFlashEvents = false;\n\nFlashPlayer.prototype.logEvent = function(event) {\n  if ((event.dispatcher === "FLASH" && this.logFlashEvents === false) || this.excludedFlashEvents.test(event.type) === true) {\n    return;\n  }\n  FlashPlayer.__super__.logEvent.call(this, event);\n};\n\n/**\n * Sets the player\'s play state and adds CSS class to player div\n*/\nFlashPlayer.prototype.setPlayState = function(state) {\n  var states;\n  if (state === this.playState) {\n    return;\n  }\n  states = {\n    newState: state,\n    oldState: this.playState\n  };\n  this.playState = state;\n  this.sendNotification(Notifications.PLAY_STATE_CHANGE, states);\n  return state;\n};\n\n/**\n * Initializes the player to a given set of parameters\n*/\nFlashPlayer.prototype.setMedia = function(value) {\n  FlashPlayer.__super__.setMedia.call(this, value);\n  if (this.playState != null) {\n    this.setPlayState("ready");\n  }\n  this.media.setData(value);\n  if (value.src != null) {\n    this.setSrc(value.src);\n  }\n  if ((value.source != null) && value.source.length > 0) {\n    this.setSource(value.source);\n  }\n  this.sendNotification(Notifications.MEDIA_CHANGE, value);\n  this.loaded = true;\n  this.mediaElement.loadURL(this.media.getSrc(), this.media.getData());\n  return value;\n};\n\n/**\n*/\nFlashPlayer.prototype.getMedia = function() {\n  return this.media.getData();\n};\n\n/**\n * Loads the video.\n *\n*/\nFlashPlayer.prototype.load = function() {\n  this.loaded = true;\n  this.mediaElement.loadURL(this.media.getSrc());\n};\n\n/**\n * Plays the currently loaded video.\n *\n*/\nFlashPlayer.prototype.play = function() {\n  if (!this.loaded) {\n    this.load();\n  }\n  this.mediaElement.unpause();\n};\n\n/**\n*/\nFlashPlayer.prototype.setMuted = function(value) {\n  this.muted = value;\n  try {\n    if (value === true) {\n      this.mediaElement.mute();\n    } else {\n      this.mediaElement.unmute();\n    }\n  } catch (error) {\n    this.error("Flash muted error", error);\n  }\n  return value;\n};\n\n/**\n*/\nFlashPlayer.prototype.getMuted = function() {\n  return this.muted;\n};\n\n/**\n * The source url of video.\n *\n * @param {String} value The source url of the video to play.\n*/\nFlashPlayer.prototype.getSrc = function(value) {\n  return this.mediaElement.getURL();\n};\n\nFlashPlayer.prototype.setSrc = function(value) {\n  this.media.setSrc(value);\n  this.loaded = false;\n  this.setMedium(Utils.getMimeType(value));\n  return value;\n};\n\n/**\n*/\nFlashPlayer.prototype.setAutoplay = function(value) {\n  this.mediaElement.setPlayerProperty("autoplay", value);\n  return value;\n};\n\nFlashPlayer.prototype.getAutoplay = function() {\n  return this.mediaElement.getPlayerProperty("autoplay");\n};\n\n/**\n * The url to the video.\n * \n * @param {String} value \n *    The new title of the video\n * @returns {Boolean} \n *    The title of the video\n * @type {String}\n*/\nFlashPlayer.prototype.getMedium = function() {\n  return this.media.getData().medium;\n};\n\nFlashPlayer.prototype.setMedium = function(value) {\n  var media, newState, oldState;\n  media = this.media.getData();\n  if (value === media.medium) {\n    return;\n  }\n  if (media.medium != null) {\n    oldState = "medium-" + media.medium;\n  }\n  newState = media.medium = /audio/.test(value) ? "audio" : "video";\n  this.sendNotification(Notifications.MEDIUM_CHANGE, {\n    newState: "medium-" + newState,\n    oldState: oldState\n  });\n  return value;\n};\n\n/**\n * Sets the source url of video.\n *\n * @param {String} value The source url of the video to play.\n*/\nFlashPlayer.prototype.setSource = function(value) {\n  var item, media,\n    _this = this;\n  if (!(value != null) || value.length < 1) {\n    return;\n  }\n  media = this.media.getData();\n  media.source = value;\n  this.loaded = false;\n  item = Utils.selectSource(value, function(type) {\n    return _this.canPlayType(type);\n  });\n  if (((item != null ? item.src : void 0) != null) && item.src !== "") {\n    this.setSrc(item.src);\n    if (typeof type !== "undefined" && type !== null) {\n      this.setMedium(type);\n    }\n  } else {\n    throw new Error("No valid source could be found");\n  }\n  return value;\n};\n\n/**\n * Gets the source url of video.\n *\n * @return {Number} The source url of the video.\n*/\nFlashPlayer.prototype.getSource = function(value) {\n  return this.media.getData().source;\n};\n\n/**\n * Gets the source url of video.\n *\n * @return {Number} The source url of the video.\n*/\nFlashPlayer.prototype.getSeeking = function() {\n  return this.seeking;\n};\n\n/**\n * Gets the source url of video.\n *\n * @return {Number} The source url of the video.\n*/\nFlashPlayer.prototype.getPaused = function() {\n  return this.paused;\n};\n\n/**\n * Gets the source url of video.\n *\n * @return {Number} The source url of the video.\n*/\nFlashPlayer.prototype.getEnded = function() {\n  return this.ended;\n};\n\n/**\n*/\nFlashPlayer.prototype.getFlashXML = function() {\n  var doc, xml;\n  xml = unescape(this.flashvars.settings_xml);\n  doc = XMLUtils.parse(xml);\n  doc.toString = function() {\n    return xml;\n  };\n  return doc;\n};\n\n/**\n*/\nFlashPlayer.prototype.getFlashVars = function() {\n  return this.flashvars;\n};\n\n/**\n*/\nFlashPlayer.prototype.getFlashJSON = function() {\n  return JSON.parse(unescape(this.flashvars.settings_json));\n};\n\nFlashPlayer.prototype.evaluateBinding = function(str) {\n  return this.mediaElement.evaluateBinding(str);\n};\n\nFlashPlayer.prototype.canPlayType = function(mimeType) {\n  if (__indexOf.call(Utils.flashTypes, mimeType) >= 0) {\n    return "maybe";\n  } else {\n    return "";\n  }\n};\n\nFlashPlayer.prototype.replay = function() {\n  this.mediaElement.replay();\n};\n\nFlashPlayer.prototype.pause = function() {\n  this.mediaElement.pause();\n};\n\nFlashPlayer.prototype.end = function() {\n  this.mediaElement.stopPlayer();\n};\n\nFlashPlayer.prototype.getCurrentTime = function(value) {\n  return this.mediaElement.getCurrentTime();\n};\n\nFlashPlayer.prototype.setCurrentTime = function(value) {\n  this.mediaElement.jumpToTime(value);\n  return value;\n};\n\nFlashPlayer.prototype.getParams = function() {\n  return this.mediaElement.getParams();\n};\n\nFlashPlayer.prototype.setParams = function(value) {\n  this.mediaElement.setParams(value);\n  return value;\n};\n\nFlashPlayer.prototype.getVolume = function() {\n  return this.mediaElement.getVolume();\n};\n\nFlashPlayer.prototype.setVolume = function(value, scope) {\n  this.mediaElement.setVolume(value, scope || "");\n  return value;\n};\n\nFlashPlayer.prototype.getDuration = function() {\n  return this.mediaElement.getDuration();\n};\n\nFlashPlayer.prototype.getDisplayState = function(value) {\n  return this.displayState;\n};\n\nFlashPlayer.prototype.setDisplayState = function(value) {\n  var _ref;\n  if (value === this.displayState) {\n    return;\n  }\n  this.applyDisplayState(value);\n  if (((_ref = this.config.fullscreen) != null ? _ref.mode : void 0) === FullscreenMode.EXTERNAL) {\n    return;\n  }\n  if (this.displayState === DisplayState.FULL_SCREEN) {\n    this.mediaElement.enterFullScreen();\n  } else {\n    this.mediaElement.exitFullScreen();\n  }\n  return value;\n};\n\nFlashPlayer.prototype.applyDisplayState = function(value) {\n  var states;\n  if (value === this.displayState) {\n    return;\n  }\n  states = {\n    newState: value,\n    oldState: this.displayState\n  };\n  this.displayState = value;\n  this.sendNotification(Notifications.DISPLAY_STATE_CHANGE, states);\n  this.sendNotification(Notifications.DISPATCH_EVENT, new Event("fullscreenchange", this.displayState === DisplayState.FULL_SCREEN));\n};\n\nFlashPlayer.prototype.enterFullScreen = function() {\n  this.setDisplayState(DisplayState.FULL_SCREEN);\n};\n\nFlashPlayer.prototype.exitFullScreen = function() {\n  this.setDisplayState(DisplayState.NORMAL);\n};\n\nFlashPlayer.prototype.recordContentChange = function(content) {\n  this.mediaElement.recordContentChange(content);\n};\n\n/**\n * The ModuleAdapter class.\n * \n * @param {Module} module\n * @constructor\n * @private\n * @extends {puremvc.Mediator}\n*/\nfunction ModuleAdapter(module) {\n  this.module = module;\n  ModuleAdapter.__super__.constructor.call(this, module.getModuleName(), this);\n}\n\n\n__extends(ModuleAdapter, puremvc.Mediator);\n\n\nModuleAdapter.prototype.module = null;\n\nModuleAdapter.prototype.mediator = null;\n\nModuleAdapter.prototype.initializeNotifier = function(key) {\n  var publications,\n    _this = this;\n  ModuleAdapter.__super__.initializeNotifier.call(this, key);\n  publications = this.module.listNotificationPublications();\n  if (publications != null) {\n    this.mediator = new puremvc.Mediator(this.facade.getModuleName());\n    this.mediator.listNotificationInterests = function() {\n      return publications;\n    };\n    this.mediator.handleNotification = function(notification) {\n      _this.facade.sendNotification(notification.getName(), notification.getBody(), notification.getType());\n    };\n  }\n};\n\nModuleAdapter.prototype.onRegister = function() {\n  if (this.mediator != null) {\n    this.module.registerMediator(this.mediator);\n  }\n};\n\nModuleAdapter.prototype.onRemove = function() {\n  if (this.mediator != null) {\n    this.module.removeMeditator(this.mediator);\n  }\n};\n\n/**\n * Overridden so this class may subscribe to all notifications\n * @return An Array\n *\n*/\nModuleAdapter.prototype.listNotificationInterests = function() {\n  return this.module.listNotificationInterests();\n};\n\n/**\n * Handles notifications of interest to this mediator. Note that\n * the default declaration is to allow the super to handle the\n * note. This leaves the base JunctionMediator to handle things\n * like ACCEPT_INPUT_PIPE and ACCEPT_OUTPUT_PIPE  \n * @param note An INotification\n *\n*/\nModuleAdapter.prototype.handleNotification = function(notification) {\n  this.module.sendNotification(notification.getName(), notification.getBody(), notification.getType());\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar Notifications = {\n  STARTUP: "startup",\n  LOAD: "load",\n  PAUSE_REQUEST: "pauserequest",\n  TOGGLE_PLAY_PAUSE: "togglePlayPause",\n  CHANGE_PLAY_STATE: "chageplaystate",\n  PLAY_STATE_CHANGE: "playstatechange",\n  TOGGLE_FULL_SCREEN: "toggleFullScreen",\n  CHANGE_DISPLAY_STATE: "chageDisplayState",\n  DISPLAY_STATE_CHANGE: "displayStateChange",\n  FULL_SCREEN_CHANGE: "fullscreenchange",\n  DISABLE_FULL_SCREEN: "disableFullScreen",\n  ENABLE_FULL_SCREEN: "enableFullScreen",\n  LANGUAGE_CHANGE: "languagechange",\n  TOGGLE_ACTIVE: "toggleActive",\n  CHANGE_ACTIVE_STATE: "changeactivestate",\n  ACTIVE_STATE_CHANGE: "activestatechange",\n  CHANGE_MEDIA: "changeMedia",\n  SET_MEDIA: "setmedia",\n  MEDIA_VALIDATED: "mediavalidated",\n  UPDATE_DATA_BINDINGS: "updatedatabindings",\n  CHANGE_VOLUME: "changevolume",\n  CHANGE_MUTED: "changemuted",\n  TOGGLE_MUTED: "togglemuted",\n  SEEK: "seek",\n  CHANGE_DURATION: "changeduration",\n  CHANGE_AUTOPLAY: "changeAutoplay",\n  CHANGE_LOOP: "changeLoop",\n  PLAYBACK_CORE_CHANGE: "playbackCoreChange",\n  START: "start",\n  END: "end",\n  REPLAY: "replay",\n  LOAD_FEED: "loadFeed",\n  REGISTER_PLUGIN: "registerPlugin",\n  REGISTER_PLUGINS: "registerPlugins",\n  PLUGIN_REGISTERED: "pluginRegistered",\n  ADD_LAYER: "addLayer",\n  REMOVE_LAYER: "removeLayer",\n  ADD_OVERLAY: "addOverlay",\n  REMOVE_OVERLAY: "removeOverlay",\n  ADD_CONTROL: "addControl",\n  REMOVE_CONTROL: "removeControl",\n  ADD_CONTROL_STATE: "addControlState",\n  REMOVE_CONTROL_STATE: "removeControlState",\n  ADD_APPLICATION_STATE: "addApplicationState",\n  REMOVE_APPLICATION_STATE: "removeApplicationState",\n  DISPATCH_EVENT: "dispatchEvent",\n  CHANGE_PARAMS: "changeParams",\n  ADD_CUE_POINTS: "addCuePoints",\n  REMOVE_CUE_POINTS: "removeCuePoints",\n  INITIALIZED: "initialized",\n  REGISTER_PLAYBACK_CORE: "registerPlaybackCore",\n  REMOVE_PLAYBACK_CORE: "removePlaybackCore",\n  DISPLAY_TIME: "displaytime",\n  IS_USER_ACTIVE: "isUserActive",\n  LOADED_METADATA: "loadedmetadata",\n  READY: "ready",\n  ERROR: "error",\n  ENDED: "ended",\n  STARTED: "started",\n  DURATION_CHANGE: "durationchange",\n  SEEKING: "seeking",\n  SEEKED: "seeked",\n  TIME_UPDATE: "timeupdate",\n  LOAD_START: "loadstart",\n  LOADED_DATA: "loadeddata",\n  CAN_PLAY: "canplay",\n  CAN_PLAY_THROUGH: "canplaythrough",\n  PROGRESS: "progress",\n  MEDIA_CHANGE: "mediachange",\n  WAITING: "waiting",\n  PLAY: "play",\n  PLAYING: "playing",\n  PAUSE: "pause",\n  PAUSED: "paused",\n  PLAY_REQUEST: "playrequest",\n  MEDIUM_CHANGE: "mediumchange",\n  TEMPORAL_TYPE_CHANGE: "temporaltypechange",\n  VOLUME_CHANGE: "volumechange",\n  FAIL_OVER_ATTEMPT: "failoverattempt",\n  PLAYBACK_TARGET_CHANGE: "playbacktargetchange",\n  PLAYBACK_TARGET_AVAILABLE: "playbacktargetavailable",\n  RECORD_CONTENT_CHANGE: "recordcontentchange",\n  CHANGE_CONTENT: "changecontent",\n  CONTENT_CHANGED: "contentchanged"\n};\n\n/**\n * @constructor\n*/\nfunction DataBinding() {}\n\n/**\n * @private\n * @type {RegExp}\n * @const\n*/\nDataBinding.SINGLE = /^\\s*#{([^#{}]+)}\\s*$/;\n\n/**\n * @private\n * @type {RegExp}\n * @const\n*/\nDataBinding.TOKEN = /#{([^#}]*)}/g;\n\n/**\n * @private\n * @type {string}\n * @const\n*/\nDataBinding.RETURN = "return ";\n\n/**\n * @private\n * @type {string}\n * @const\n*/\nDataBinding.EVENT = "event";\n\n/**\n * @private\n * @type {string}\n * @const\n*/\nDataBinding.ELEMENT = "element";\n\n/**\n * @private\n * @type {string}\n * @const\n*/\nDataBinding.PATHS = "paths";\n\n/**\n * Evaluate a data bound string.\n *\n * @param {string} binding\n *   The data bound string.\n *\n * @param {?Object} context\n *   The context object used as "global" when evaluating the binding.\n *\n * @param {?Object} event\n *   An optional event object to expose to the binding.\n *\n * @return {string}\n *   The evaluated result\n*/\nDataBinding["eval"] = function(binding, context, event, element, paths) {\n  var result, single, _ref;\n  if (!(binding != null)) {\n    return binding;\n  }\n  single = (_ref = this.SINGLE.exec(binding)) != null ? _ref[1] : null;\n  result = single != null ? this.evalBinding(single, context, event, element, paths) : this.evalString(binding, context, event, element, paths);\n  return result;\n};\n\n/**\n * Evaluate a data bound string.\n *\n * @param {string} binding\n *   The data bound string.\n *\n * @param {?Object} context\n *   The context object used as "global" when evaluating the binding.\n *\n * @param {?Object} event\n *   An optional event object to expose to the binding.\n *\n * @return {string}\n *   The evaluated result\n *\n * @private\n*/\nDataBinding.evalString = function(binding, context, event, element, paths) {\n  return binding.replace(this.TOKEN, this.replaceBinding.bind(this, context, event, element, paths));\n};\n\n/**\n * @private\n*/\nDataBinding.replaceBinding = function(context, event, element, paths, match, token, offset, string) {\n  return this.evalBinding(token, context, event, element, paths);\n};\n\n/**\n * Evaluate a data bound string.\n *\n * @param {string} binding\n *   The data bound string.\n *\n * @param {?Object} context\n *   The context object used as "this" when evaluating the binding.\n *\n * @param {?Object} event\n *   An optional event object to expose to the binding.\n *\n * @return {string}\n *   The evaluated result\n *\n * @private\n*/\nDataBinding.evalBinding = function(binding, context, event, element, paths) {\n  var result;\n  try {\n    result = this.exec(binding, context, event, element, paths);\n  } catch (error) {\n    result = \'#{\' + binding + \'}\';\n  }\n  return result;\n};\n\n/**\n * Execute a data binding.\n *\n * @param {string} binding\n *   The data bound string.\n *\n * @param {?Object} context\n *   The context object used as "this" when evaluating the binding.\n *\n * @param {?Object} event\n *   An optional event object to expose to the binding.\n *\n * @return {string}\n *   The evaluated result\n *\n * @private\n*/\nDataBinding.exec = function(binding, context, event, element, paths) {\n  return (new Function(this.EVENT, this.ELEMENT, this.PATHS, this.RETURN + binding)).bind(context)(event, element, paths);\n};\n\n/**\n * The EndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction DispatchEventCommand() {\n  DispatchEventCommand.__super__.constructor.call(this);\n}\n\n\n__extends(DispatchEventCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nDispatchEventCommand.prototype.execute = function(notification) {\n  var event, target;\n  target = this.facade.player || this.facade;\n  event = notification.getBody();\n  event.player = target;\n  this.facade.dispatchEvent(event);\n};\n\nfunction QueryString() {}\n\nQueryString.construct = function() {\n  var key, value, vars;\n  vars = this.deserialize(window.location.search);\n  for (key in vars) {\n    value = vars[key];\n    QueryString[key] = value;\n  }\n  return true;\n};\n\nQueryString.serialize = function(obj, prefix) {\n  var k, p, str, v;\n  str = [];\n  for (p in obj) {\n    v = obj[p];\n    if (!(v != null)) {\n      continue;\n    }\n    k = (prefix ? prefix + "[" + p + "]" : p);\n    str.push((typeof v === "object" ? this.serialize(v, k) : encodeURIComponent(k) + "=" + encodeURIComponent(v)));\n  }\n  return str.join("&");\n};\n\nQueryString.deserialize = function(uri) {\n  var results;\n  if (uri != null) {\n    results = {};\n    uri = uri.replace(/^[^?]*\\?/, "");\n    uri.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function($0, $1, $2, $3) {\n      results[decodeURIComponent($1)] = decodeURIComponent($3);\n    });\n  }\n  return results;\n};\n\nQueryString.constructed = QueryString.construct();\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar PluginNotifications = {\n  REGISTER_PLUGINS: "registerPlugins",\n  PLUGIN_REGISTERED: "pluginRegistered",\n  PLUGINS_INITIALIZED: "pluginsinitialized"\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar PlayState = {\n  /**\n   * Constant representing the playing play state\n  */\n\n  READY: "ready",\n  /**\n   * Constant representing the playing play state\n  */\n\n  PLAYING: "playing",\n  /**\n   * Constant representing the paused play state\n  */\n\n  PAUSED: "paused",\n  /**\n   * Constant representing the ended play state\n  */\n\n  ENDED: "ended",\n  /**\n   * Constant representing the waiting play state\n  */\n\n  LOADING: "loading",\n  /**\n   * Constant representing the waiting play state\n  */\n\n  WAITING: "waiting",\n  /**\n   * Constant representing the seeking play state\n  */\n\n  SEEKING: "seeking",\n  /**\n   * Constant representing the waiting play state\n  */\n\n  ERROR: "error"\n};\n\n/**\n * Creates a new instance of Context.\n * \n * @constructor\n * @private\n * @extends {puremvc.Proxy}\n * @implements {IDataBindingContext}\n*/\nfunction DataBindingContext() {\n  DataBindingContext.__super__.constructor.call(this);\n  if (this.contextName == null) {\n    this.contextName = this.constructor.NAME;\n  }\n}\n\n\n__extends(DataBindingContext, puremvc.Proxy);\n\n\nDataBindingContext.prototype.contextName = null;\n\nDataBindingContext.prototype.contextData = null;\n\n/**\n*/\nDataBindingContext.prototype.getContextName = function() {\n  return this.contextName;\n};\n\n/**\n*/\nDataBindingContext.prototype.getContextData = function() {\n  return this.contextData;\n};\n\n/**\n * The ExternalPlaybackProxy class.\n * \n * @constructor\n * @private\n * @extends {puremvc.Proxy}\n*/\nfunction ExternalPlaybackProxy() {\n  ExternalPlaybackProxy.__super__.constructor.call(this);\n}\n\n\n__extends(ExternalPlaybackProxy, puremvc.Proxy);\n\n\n/**\n * The name of the this Proxy.\n * \n * @static\n * @type {string}\n*/\nExternalPlaybackProxy.NAME = "PlaybackProxy";\n\n/** @private\n*/\nExternalPlaybackProxy.prototype.src = null;\n\n/**\n * Determines if the core can play a given mimeType.\n * \n * @return {String} "" if the core can\'t play the mimeType\n*/\nExternalPlaybackProxy.prototype.canPlayType = function(mimeType) {\n  return mimeType === "external";\n};\n\n/**     \n * The current time of the video in seconds. Value must be between currentTime and duration.\n * \n * @param {Number} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nExternalPlaybackProxy.prototype.getSrc = function() {\n  return this.src;\n};\n\nExternalPlaybackProxy.prototype.setSrc = function(value) {\n  if (!(value != null) || value === "") {\n    this.sendNotification(Notifications.ERROR, "The value of src is not supported: " + value);\n  }\n  if (value !== this.src) {\n    this.src = value;\n  }\n  return value;\n};\n\n/**\n * Instructs the core to play.\n*/\nExternalPlaybackProxy.prototype.play = function() {\n  window.open(this.getSrc(), "_blank");\n};\n\nExternalPlaybackProxy.prototype.load = function() {};\n\nExternalPlaybackProxy.prototype.setVolume = function() {};\n\nExternalPlaybackProxy.prototype.pause = function() {};\n\nExternalPlaybackProxy.prototype.setEnabled = function() {};\n\nExternalPlaybackProxy.prototype.getCurrentTime = function() {\n  return 0;\n};\n\nExternalPlaybackProxy.prototype.setCurrentTime = function(value) {};\n\nExternalPlaybackProxy.prototype.getDuration = function() {\n  return 0;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar UserNotifications = {\n  TOGGLE_PLAY_PAUSE: "usertogglePlayPause",\n  PLAY: "userplay",\n  PAUSE: "userpause",\n  SEEK: "userseek"\n};\n\nfunction ITokenized() {}\n\n/**\n * The tokenized data structure\n*/\nITokenized.prototype.data = null;\n\n/**\n * The literal value after compiliation\n*/\nITokenized.prototype.value = null;\n\n/**\n * The original data structure\n*/\nITokenized.prototype.source = null;\n\n/**\n *\n*/\nITokenized.prototype.parse = function(data) {};\n\n/**\n * Compiles the tokenized values in the data property\n * and saves them to the value property. As a convenience\n * this function returns the value property.\n * \n * @param context         An object who\'s properties can be called from within a token\n * @param suppressErrors  Flag indicating wether or not to suppress errors. Useful when certain context items are known not to exist.\n * @return                The compile value object.\n*/\nITokenized.prototype.compile = function(context, suppressErrors) {\n  if (context == null) {\n    context = {};\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar Namespace = {\n  PREFIX: "akamai-"\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar SecurityNotifications = {\n  CHECK_AUTHORIZATION: "checkAuthorization",\n  AUTHORIZATION_FAILED: "authorizationfailed",\n  AUTHORIZE: "authorize",\n  AUTHORIZED: "authorized",\n  SET_TOKEN: "settoken",\n  SET_KEY: "setkey"\n};\n\n/**\n * The ChangePlayStateCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangePlayStateCommand() {\n  ChangePlayStateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangePlayStateCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangePlayStateCommand.prototype.execute = function(notification) {\n  this.applicationState.setPlayState(notification.getBody());\n};\n\n/**\n * The SetMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction SetMediaCommand() {\n  SetMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(SetMediaCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nSetMediaCommand.prototype.execute = function(notification) {\n  var media;\n  media = notification.getBody();\n  this.sendNotification(Notifications.CHANGE_MEDIA, media);\n  media = this.media.getData();\n  if (this.media.authorized === true) {\n    this.sendNotification(Notifications.MEDIA_VALIDATED, media);\n  }\n};\n\n/**\n * The ChangeDurationCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeDurationCommand() {\n  ChangeDurationCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeDurationCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeDurationCommand.prototype.execute = function(notification) {\n  var duration;\n  duration = notification.getBody();\n  if (this.media.getDuration() === duration) {\n    return;\n  }\n  this.media.setDuration(duration);\n};\n\n/**\n * The ErrorCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction ErrorCommand() {\n  ErrorCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ErrorCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nErrorCommand.prototype.execute = function(notification) {\n  var core;\n  core = this.playback.getMediaElement();\n  EventHandler.clear(core);\n  this.logger.error("[AMP ERROR]", notification.getBody());\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.ERROR);\n  ErrorCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ReadyCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ReadyCommand() {\n  ReadyCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ReadyCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nReadyCommand.prototype.execute = function(notification) {\n  var volume, _ref;\n  volume = (_ref = this.facade.config) != null ? _ref.volume : void 0;\n  if (volume != null) {\n    this.sendNotification(Notifications.CHANGE_VOLUME, volume);\n  }\n  this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.READY);\n  this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n  this.dispatchEventAfterCommand(notification);\n};\n\n/**\n * The UpdateDataBindingsCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction UpdateDataBindingsCommand() {\n  UpdateDataBindingsCommand.__super__.constructor.call(this);\n}\n\n\n__extends(UpdateDataBindingsCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nUpdateDataBindingsCommand.prototype.execute = function(notification) {\n  var body;\n  body = notification.getBody() || {};\n  this.bindings.compile(body.contexts, body.suppressErrors);\n};\n\n/**\n * The ChangeParamsCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeParamsCommand() {\n  ChangeParamsCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeParamsCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeParamsCommand.prototype.execute = function(notification) {\n  this.params.setData(notification.getBody());\n  this.sendNotification(Notifications.UPDATE_DATA_BINDINGS, {\n    suppressErrors: true\n  });\n};\n\n/**\n * The MediaChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerEventCommand}\n*/\nfunction MediaChangeCommand() {\n  MediaChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaChangeCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaChangeCommand.prototype.execute = function(notification) {\n  var media;\n  media = notification.getBody();\n  this.playerCore.setPlaybackType(media.type);\n  this.playback.setSrc(media.src);\n  this.playback.setCurrentTime(media.startTime || 0);\n  MediaChangeCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The ChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction ChangeMediaCommand() {\n  ChangeMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeMediaCommand, PlayerCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeMediaCommand.prototype.execute = function(notification) {\n  var media;\n  media = notification.getBody();\n  this.playback.setEnabled(false);\n  this.playback.pause();\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.READY);\n  this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n  try {\n    this.media.setData(media);\n  } catch (error) {\n    this.sendNotification(Notifications.ERROR, error.message);\n  }\n  this.sendNotification(Notifications.UPDATE_DATA_BINDINGS);\n  this.sendNotification(SecurityNotifications.AUTHORIZE);\n};\n\n/**\n * The OverlayLayerMediator class.\n * \n * @constructor\n * @private\n * @extends {LayerMediator}\n*/\nfunction OverlayLayerMediator() {\n  OverlayLayerMediator.__super__.constructor.call(this);\n}\n\n\n__extends(OverlayLayerMediator, LayerMediator);\n\n\nOverlayLayerMediator.prototype.componentName = "overlays";\n\nOverlayLayerMediator.NAME = "OverlayLayerMediator";\n\n/**\n*/\nOverlayLayerMediator.prototype.createMediatorName = function() {\n  return OverlayLayerMediator.NAME;\n};\n\n/**\n * Overridden so this class may subscribe to all notifications\n * @return An Array\n * \n * @override\n*/\nOverlayLayerMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.ADD_OVERLAY, Notifications.REMOVE_OVERLAY];\n};\n\n/**\n * Handles notifications of interest to this mediator. Note that\n * the default declaration is to allow the super to handle the\n * note. This leaves the base JunctionMediator to handle things\n * like ACCEPT_INPUT_PIPE and ACCEPT_OUTPUT_PIPE  \n * \n * @param note An INotification\n * @override\n*/\nOverlayLayerMediator.prototype.handleNotification = function(notification) {\n  var name, overlay;\n  name = notification.getName();\n  overlay = notification.getBody();\n  switch (name) {\n    case Notifications.ADD_OVERLAY:\n      this.viewComponent.appendChild(overlay);\n      break;\n    case Notifications.REMOVE_OVERLAY:\n      this.viewComponent.removeChild(overlay);\n  }\n};\n\n/**\n * @constructor\n * @private\n * @extends {LayerMediator}\n*/\nfunction PosterMediator() {\n  PosterMediator.__super__.constructor.call(this);\n}\n\n\n__extends(PosterMediator, LayerMediator);\n\n\nPosterMediator.prototype.componentName = "poster";\n\nPosterMediator.prototype.poster = null;\n\nPosterMediator.prototype.clickHandler = null;\n\n/**\n * @override\n*/\nPosterMediator.prototype.onRegister = function() {\n  this.poster = this.create("poster-content");\n  this.poster.onclick = this.onclick.bind(this);\n  PosterMediator.__super__.onRegister.call(this);\n};\n\n/**\n*/\nPosterMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  event.preventDefault();\n  this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE, true);\n  return false;\n};\n\n/**\n * @override\n*/\nPosterMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.CHANGE_MEDIA];\n};\n\n/**\n * @override\n*/\nPosterMediator.prototype.handleNotification = function(notification) {\n  var html, src;\n  switch (notification.getName()) {\n    case Notifications.CHANGE_MEDIA:\n      src = notification.getBody().poster;\n      html = (src != null) && src !== "" ? "<img src=\\"" + src + "\\" class=\\"" + this.cssPrefix + "poster-image\\" />" : "";\n      this.poster.innerHTML = html;\n  }\n};\n\n/**\n * ErrorLayerMediator class.\n *   \n * @constructor\n * @extends {LayerMediator}\n * @private\n*/\nfunction ErrorLayerMediator() {\n  ErrorLayerMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ErrorLayerMediator, LayerMediator);\n\n\nErrorLayerMediator.prototype.message = null;\n\nErrorLayerMediator.prototype.componentName = "error";\n\n/**\n * @override\n*/\nErrorLayerMediator.prototype.onRegister = function() {\n  ErrorLayerMediator.__super__.onRegister.call(this);\n  this.message = this.create("error-message");\n};\n\n/**\n * @override\n*/\nErrorLayerMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.ERROR];\n};\n\n/**\n * @override\n*/\nErrorLayerMediator.prototype.handleNotification = function(notification) {\n  var error, msg;\n  switch (notification.getName()) {\n    case Notifications.ERROR:\n      error = notification.getBody();\n      msg = "Error: ";\n      switch (error.code) {\n        case MediaError.MEDIA_ERR_ABORTED:\n          msg += "Media was aborted.";\n          break;\n        case MediaError.MEDIA_ERR_DECODE:\n          msg += "Decode Error.";\n          break;\n        case MediaError.MEDIA_ERR_NETWORK:\n          msg += "Network Error.";\n          break;\n        case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\n          msg += "Source not supported.";\n          break;\n        default:\n          msg += error;\n      }\n      this.message.textContent = msg;\n  }\n};\n\n/**\n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction TitleBarMediator() {\n  TitleBarMediator.__super__.constructor.call(this);\n}\n\n\n__extends(TitleBarMediator, OverlayMediator);\n\n\nTitleBarMediator.prototype.componentName = "title-bar";\n\nTitleBarMediator.prototype.title = null;\n\nTitleBarMediator.prototype.description = null;\n\n/**\n * @override\n*/\nTitleBarMediator.prototype.onRegister = function() {\n  this.title = this.create("title-text");\n  this.description = this.create("description-text");\n  TitleBarMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nTitleBarMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.CHANGE_MEDIA];\n};\n\n/**\n * @override\n*/\nTitleBarMediator.prototype.handleNotification = function(notification) {\n  var metadata, title;\n  switch (notification.getName()) {\n    case Notifications.CHANGE_MEDIA:\n      metadata = notification.getBody();\n      title = metadata.title;\n      if (!(title != null) || title === "" || title === "undefined") {\n        this.classList.add("hidden");\n      } else {\n        this.title.innerHTML = title;\n        this.description.innerHTML = metadata.description ? metadata.description : "";\n        this.classList.remove("hidden");\n      }\n  }\n};\n\n/** \n * The Plugin class. Acts as a base for plugins.\n * \n * @constructor\n * @private\n * @extends {Module}\n*/\nfunction Plugin() {\n  Plugin.__super__.constructor.call(this);\n}\n\n\n__extends(Plugin, Module);\n\n\nPlugin.prototype.player = null;\n\nPlugin.prototype.proxy = null;\n\n/** \n * @override\n*/\nPlugin.prototype.initialize = function(config, player) {\n  this.player = player;\n  this.logger = this.player.logger;\n  Plugin.__super__.initialize.call(this, config, player);\n};\n\n/** \n * @override\n*/\nPlugin.prototype.resourcesLoaded = function() {\n  if (typeof this.oninitialized === "function") {\n    this.oninitialized(this);\n  }\n};\n\n/** @override\n*/\nPlugin.prototype.onRegister = function() {\n  var _ref;\n  this.createFramework();\n  if ((_ref = this.retrieveProxy(PluginProxy.NAME)) != null) {\n    if (typeof _ref.initialize === "function") {\n      _ref.initialize();\n    }\n  }\n  this.sendNotification(PluginNotifications.PLUGIN_REGISTERED, this);\n};\n\n/** @override\n*/\nPlugin.prototype.logEvent = function(event) {\n  var prefix;\n  if (/(timeupdate|timeremaining)/.test(event.type) === true) {\n    return;\n  }\n  prefix = this.player.getModuleName().toUpperCase() + " " + this.getModuleName().toUpperCase();\n  if (event.dispatcher != null) {\n    prefix += " " + event.dispatcher;\n  }\n  this.logger.log("[" + prefix + " EVENT]", event.type, event);\n};\n\n/** @override\n*/\nPlugin.prototype.listNotificationPublications = function() {\n  var key, notes, value;\n  notes = [Notifications.ADD_LAYER, Notifications.REMOVE_LAYER, Notifications.ADD_OVERLAY, Notifications.REMOVE_OVERLAY, Notifications.ADD_APPLICATION_STATE, Notifications.REMOVE_APPLICATION_STATE, Notifications.IS_USER_ACTIVE];\n  return notes.concat((function() {\n    var _results;\n    _results = [];\n    for (key in PluginNotifications) {\n      value = PluginNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction PluginAdapter() {\n  this.plugins = [];\n  this.registered = [];\n  PluginAdapter.__super__.constructor.call(this, this.constructor.NAME, {});\n}\n\n\n__extends(PluginAdapter, puremvc.Mediator);\n\n\nPluginAdapter.NAME = "PluginAdapter";\n\nPluginAdapter.prototype.plugins = null;\n\nPluginAdapter.prototype.registered = null;\n\n/**\n * Registers the appropriate pipes and listeners when\n * this class is registered \n * \n * @override\n*/\nPluginAdapter.prototype.onRegister = function() {\n  return PluginAdapter.__super__.onRegister.call(this);\n};\n\n/**\n * Overridden so this class may subscribe to all notifications\n * @return An Array\n * \n * @override\n*/\nPluginAdapter.prototype.listNotificationInterests = function() {\n  return [PluginNotifications.REGISTER_PLUGINS, PluginNotifications.PLUGIN_REGISTERED];\n};\n\n/**\n * Handles notifications of interest to this mediator. Note that\n * the default declaration is to allow the super to handle the\n * note. This leaves the base JunctionMediator to handle things\n * like ACCEPT_INPUT_PIPE and ACCEPT_OUTPUT_PIPE  \n * \n * @param note An INotification\n * @override\n*/\nPluginAdapter.prototype.handleNotification = function(notification) {\n  var body, config, def, feature, init, key, name, onplugininitialized, plugin, type, value, _ref;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case PluginNotifications.REGISTER_PLUGINS:\n      type = this.facade.getPlayerType();\n      config = body;\n      onplugininitialized = this.onplugininitialized.bind(this);\n      _ref = AMP.plugins;\n      for (key in _ref) {\n        value = _ref[key];\n        if (!(key in config)) {\n          continue;\n        }\n        init = config[key];\n        if (!(init != null) || init.enabled === false) {\n          continue;\n        }\n        def = value[type];\n        if (!(def != null)) {\n          this.facade.logger.debug("Plugin could not be found: " + key);\n          continue;\n        }\n        try {\n          plugin = new def();\n          plugin.oninitialized = onplugininitialized;\n          this.plugins.push(plugin.initialize.bind(plugin, init, this.facade));\n        } catch (error) {\n          this.logger.error("Plugin could not be created: " + key + ". " + error);\n          continue;\n        }\n      }\n      this.plugins.forEach(function(item) {\n        return item();\n      });\n      break;\n    case PluginNotifications.PLUGIN_REGISTERED:\n      this.registered.push(body);\n      name = typeof body.getModuleName === "function" ? body.getModuleName() : void 0;\n      if (name != null) {\n        this.facade[name] = body;\n      }\n      feature = typeof body.getFeatureName === "function" ? body.getFeatureName() : void 0;\n      if (feature != null) {\n        this.facade[feature] = body;\n      }\n      this.facade.logger.debug("[AMP]", "registered:", body.getModuleName(), "plugin");\n      if (this.registered.length === this.plugins.length) {\n        this.sendNotification(PluginNotifications.PLUGINS_INITIALIZED, this.plugins);\n      }\n  }\n};\n\nPluginAdapter.prototype.onplugininitialized = function(plugin) {\n  this.facade.registerModule(plugin);\n};\n\n/**\n * The ClassList class.\n * \n * @param {!DOMElement}  element\n *    The DOM Element\n *\n * @constructor\n*/\nfunction ClassList(element) {\n  this.element = element;\n}\n\nClassList.prototype.element = null;\n\nClassList.prototype.prefix = Namespace.PREFIX;\n\n/**\n*/\nClassList.prototype.contains = function(className) {\n  return this.constructor.contains(className, this.element, this.prefix);\n};\n\n/**\n*/\nClassList.prototype.add = function(className) {\n  this.constructor.add(className, this.element, this.prefix);\n};\n\n/**\n*/\nClassList.prototype.remove = function(className) {\n  this.constructor.remove(className, this.element, this.prefix);\n};\n\n/**\n*/\nClassList.prototype.toggle = function(className) {\n  return this.constructor.contains(className, this.element, this.prefix);\n};\n\n/**\n*/\nClassList.contains = function(className, element, prefix) {\n  var css, _ref;\n  if (prefix == null) {\n    prefix = "";\n  }\n  css = prefix + className;\n  if (((_ref = element.classList) != null ? _ref.contains : void 0) != null) {\n    return element.classList.contains(css);\n  } else {\n    return element.className.indexOf(css) !== -1;\n  }\n};\n\n/**\n*/\nClassList.add = function(className, element, prefix) {\n  var css, _ref;\n  if (prefix == null) {\n    prefix = "";\n  }\n  css = prefix + className;\n  if (((_ref = element.classList) != null ? _ref.add : void 0) != null) {\n    element.classList.add(css);\n  } else {\n    if (!this.contains(className, element)) {\n      if (element.className !== "") {\n        element.className += " " + css;\n      } else {\n        element.className = css;\n      }\n    }\n  }\n};\n\n/**\n*/\nClassList.remove = function(className, element, prefix) {\n  var css, regexp, _ref;\n  if (prefix == null) {\n    prefix = "";\n  }\n  css = prefix + className;\n  if (((_ref = element.classList) != null ? _ref.remove : void 0) != null) {\n    element.classList.remove(css);\n  } else {\n    if (this.contains(className, element)) {\n      regexp = new RegExp(" ?" + css);\n      element.className = element.className.replace(regexp, "");\n    }\n  }\n};\n\n/**\n*/\nClassList.toggle = function(className, element, prefix) {\n  var css, _ref;\n  if (prefix == null) {\n    prefix = "";\n  }\n  css = prefix + className;\n  if (((_ref = element.classList) != null ? _ref.toggle : void 0) != null) {\n    element.classList.toggle(this.prefix + className);\n  } else {\n    if (this.contains(className, element)) {\n      this.remome(className, element);\n    } else {\n      this.add(className, element);\n    }\n  }\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction DataBindingProxy() {\n  DataBindingProxy.__super__.constructor.call(this, this.constructor.NAME, {});\n  this.data = {};\n  this.contextMap = {};\n  this.configurationMap = {};\n}\n\n\n__extends(DataBindingProxy, puremvc.Proxy);\n\n\n/** @static\n*/\nDataBindingProxy.NAME = "DataBindingProxy";\n\nDataBindingProxy.prototype.contextMap = null;\n\nDataBindingProxy.prototype.configurationMap = null;\n\nDataBindingProxy.prototype.paramsProxy = null;\n\n/**\n*/\nDataBindingProxy.prototype.initialize = function() {\n  this.paramsProxy = this.facade.retrieveProxy(ParamsProxy.NAME);\n  this.registerContext(this.facade.retrieveProxy(MediaProxy.NAME));\n  this.registerContext(this.facade.retrieveProxy(LocalizationProxy.NAME));\n  this.registerContext(this.facade.retrieveProxy(PlayerProxy.NAME));\n  this.registerContext(this.facade.retrieveProxy(ConfigurationProxy.NAME));\n  this.update();\n};\n\n/**\n*/\nDataBindingProxy.prototype.registerContext = function(context) {\n  if (!(context != null)) {\n    return;\n  }\n  this.contextMap[context.getContextName()] = context;\n};\n\n/**\n*/\nDataBindingProxy.prototype.retrieveContext = function(name) {\n  return this.contextMap[name];\n};\n\n/**\n*/\nDataBindingProxy.prototype.removeContext = function(name) {\n  var context;\n  context = this.contextMap[name];\n  delete this.contextMap[name];\n  return context;\n};\n\n/**\n*/\nDataBindingProxy.prototype.registerConfiguration = function(config) {\n  if (!(config != null)) {\n    return;\n  }\n  this.configurationMap[config.getConfigurationName()] = config;\n  config.compile(this.context, true);\n};\n\n/**\n*/\nDataBindingProxy.prototype.retrieveConfiguration = function(name) {\n  return this.configurationMap[name];\n};\n\n/**\n*/\nDataBindingProxy.prototype.removeConfiguration = function(name) {\n  var config;\n  config = this.configurationMap[name];\n  delete this.configurationMap[name];\n  return config;\n};\n\n/**\n*/\nDataBindingProxy.prototype.evaluateBinding = function(str) {\n  var tokenizedObject;\n  tokenizedObject = new TokenizedValue(str);\n  tokenizedObject.compile(this.data);\n  return tokenizedObject.value;\n};\n\n/**\n*/\nDataBindingProxy.prototype.update = function(contexts) {\n  var context, key, name, value, _ref, _ref1;\n  this.data.now = Date.now();\n  _ref = this.contextMap;\n  for (name in _ref) {\n    context = _ref[name];\n    if ((contexts != null ? typeof contexts.indexOf === "function" ? contexts.indexOf(name) : void 0 : void 0) === -1) {\n      continue;\n    }\n    this.data[name] = context.getContextData();\n  }\n  this.paramsProxy.compile(this.data);\n  _ref1 = this.paramsProxy.value;\n  for (key in _ref1) {\n    value = _ref1[key];\n    this.data[key] = value;\n  }\n  return this.data;\n};\n\n/**\n*/\nDataBindingProxy.prototype.compile = function(contexts, suppressErrors) {\n  var config, context, name, paramsName, _ref;\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  this.update(contexts);\n  context = Utils.clone(this.data);\n  paramsName = this.paramsProxy.getConfigurationName();\n  _ref = this.configurationMap;\n  for (name in _ref) {\n    config = _ref[name];\n    if (name !== paramsName) {\n      config.compile(context, suppressErrors);\n    }\n  }\n};\n\nfunction UI() {}\n\n/**\n * Creates an HTML element.\n * \n * @param   {?(string|Array.<string>)}  type\n * @param   {?DOMElement}  parent \n * @param   {?string|DOMElement}  element\n * @param   {?string} text\n * @return  {DOMElement}\n*/\nUI.create = function(type, parent, element, text) {\n  var classList, item, viewComponent, _i, _len;\n  if (element == null) {\n    element = "div";\n  }\n  if (typeof element === "string") {\n    element = document.createElement(element);\n  }\n  classList = new ClassList(element);\n  if (type != null) {\n    if (typeof type === "string") {\n      type = [type];\n    }\n    for (_i = 0, _len = type.length; _i < _len; _i++) {\n      item = type[_i];\n      classList.add(item);\n    }\n  }\n  element._classList = classList;\n  if (text != null) {\n    if (element.innerText != null) {\n      element.innerText = text;\n    } else {\n      element.textContent = text;\n    }\n  }\n  if (parent != null) {\n    if (parent.getViewComponent != null) {\n      viewComponent = parent.getViewComponent();\n    }\n    if (viewComponent != null) {\n      parent = viewComponent;\n    }\n    parent.appendChild(element);\n  }\n  return element;\n};\n\n/** \n * Binds a mediators event handlers to an element.\n * \n * @param {!DOMElement} element\n * @param {!mediator} mediator\n*/\nUI.bindEvents = function(element, handlers, exceptions) {\n  var key, value;\n  if (exceptions == null) {\n    exceptions = ["onRemove", "onRegister"];\n  }\n  for (key in handlers) {\n    value = handlers[key];\n    if (!(__indexOf.call(exceptions, key) >= 0) && /^on/.test(key) && ((value != null ? value.bind : void 0) != null)) {\n      element[key] = value.bind(handlers);\n    }\n  }\n};\n\n/**\n * Creates a unique id.\n *\n * @param   {number=}   base\n *    The base to use for representing a numeric value. \n * \n * @return  {string}\n *    The unique id.\n*/\nUI.createUID = function(base) {\n  var date, len, max, rand;\n  if (base == null) {\n    base = 16;\n  }\n  date = Date.now();\n  len = 2;\n  max = base * len - 1;\n  rand = Math.round(Math.random() * max + base);\n  return (rand.toString(16) + date.toString(16)).toUpperCase();\n};\n\n/**\n * @constructor\n * @private\n * @extends {ITokenized}\n * @param {string} source\n*/\nfunction TokenizedBase(source) {\n  if (source != null) {\n    this.parse(source);\n  }\n}\n\n\n__extends(TokenizedBase, ITokenized);\n\n\n/**\n * The tokenized data structure\n*/\nTokenizedBase.prototype.data = null;\n\n/**\n * The literal value after compiliation\n*/\nTokenizedBase.prototype.value = null;\n\n/**\n * The original data structure\n*/\nTokenizedBase.prototype.source = null;\n\n/**\n * Populates the data property with tokenized values\n * \n * @param   {Array.<Object>|Object|string|number|boolean} source  The tokenized data structure.\n * @return  {Object} The parsed data structure.\n*/\nTokenizedBase.prototype.parse = function(source) {\n  var value;\n  if (source instanceof Array) {\n    value = new TokenizedArray(source);\n  } else if (source instanceof Object) {\n    value = new TokenizedObject(source);\n  } else {\n    value = new TokenizedValue(source);\n  }\n  return value;\n};\n\n/**\n * @constructor\n * @private\n * @extends {TokenizedBase}\n * @param {Array.<Object>} data\n*/\nfunction TokenizedArray(data) {\n  TokenizedArray.__super__.constructor.call(this, data);\n}\n\n\n__extends(TokenizedArray, TokenizedBase);\n\n\n/**\n *\n*/\nTokenizedArray.prototype.parse = function(data) {\n  var index, token, _i, _len;\n  this.data = [];\n  for (index = _i = 0, _len = data.length; _i < _len; index = ++_i) {\n    token = data[index];\n    this.data[index] = TokenizedArray.__super__.parse.call(this, token);\n  }\n  return this.data;\n};\n\n/**\n *\n*/\nTokenizedArray.prototype.compile = function(context, suppressErrors) {\n  var index, token, _i, _len, _ref;\n  if (context == null) {\n    context = {};\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  this.value = [];\n  _ref = this.data;\n  for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n    token = _ref[index];\n    try {\n      this.value[index] = token.compile(context, suppressErrors);\n    } catch (error) {\n      this.value[index] = null;\n      if (!suppressErrors) {\n        Logger.error(error);\n      }\n    }\n  }\n  return this.value;\n};\n\n/**\n * @constructor\n * @private\n * @extends {Error}\n * @param {string} msg\n*/\nfunction TokenizationError(msg) {\n  this.message = TokenizationError.MESSAGE + msg;\n}\n\n\n__extends(TokenizationError, Error);\n\n\nTokenizationError.MESSAGE = "Tokenization Error: Could not find token value for: ";\n\n/**\n * @constructor\n * @private\n * @extends {TokenizedBase}\n * @param {string|number|boolean} source\n*/\nfunction Literal(source) {\n  Literal.__super__.constructor.call(this, source);\n}\n\n\n__extends(Literal, TokenizedBase);\n\n\n/**\n * Populates the data property with tokenized values\n * \n * @param   source  The tokenized data structure.\n * @return          The parsed data structure.\n*/\nLiteral.prototype.parse = function(data) {\n  this.source = this.data = this.value = data;\n  return data;\n};\n\n/**\n * Compiles the tokenized values in the data property\n * and saves them to the value property. As a convenience\n * this function returns the value property.\n * \n * @param context     An object who\'s properties can be called from within a token\n * @param suppressErrors  Flag indicating wether or not to suppress errors. Useful when certain context items are known not to exist.\n * @return          The compile value object.\n*/\nLiteral.prototype.compile = function(context, suppressErrors) {\n  if (context == null) {\n    context = null;\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  return this.value;\n};\n\n/**\n * @constructor\n * @private\n * @extends {TokenizedBase}\n * @param {string} source\n*/\nfunction Token(source) {\n  Token.__super__.constructor.call(this, source);\n}\n\n\n__extends(Token, TokenizedBase);\n\n\n/**\n * The function used to evaluate a token value\n*/\nToken.prototype.exec = null;\n\n/**\n *\n*/\nToken.prototype.parse = function(source) {\n  this.source = this.data = source;\n  this.exec = new Function("context", \'var value; with(context){value = \' + this.data + \';}return value;\');\n  return this.data;\n};\n\n/**\n *\n*/\nToken.prototype.compile = function(context, suppressErrors) {\n  if (context == null) {\n    context = {};\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  if (!(this.exec != null)) {\n    return this.value;\n  }\n  try {\n    this.value = this.exec(context);\n  } catch (error) {\n    this.value = null;\n    if (!suppressErrors) {\n      throw new TokenizationError(this.data);\n    }\n  }\n  return this.value;\n};\n\n/**\n * @constructor\n * @private\n * @extends {TokenizedBase}\n * @param {string} source\n*/\nfunction TokenizedValue(source) {\n  this.token = new RegExp(this.tokenStart.source + "([^#]*)" + this.tokenEnd.source, "g");\n  TokenizedValue.__super__.constructor.call(this, source);\n}\n\n\n__extends(TokenizedValue, TokenizedBase);\n\n\n/**\n * The function used to evaluate a token value\n*/\nTokenizedValue.prototype.exec = null;\n\n/**\n * The literal value after compiliation\n*/\nTokenizedValue.prototype.tokenStart = /#{/;\n\nTokenizedValue.prototype.tokenEnd = /}/;\n\nTokenizedValue.prototype.token = null;\n\n/**\n *\n*/\nTokenizedValue.prototype.parse = function(source) {\n  var piece, pieces, placeholder, spacer, temp, token, tokens, _i, _len;\n  this.source = source;\n  this.data = [];\n  if (this.token.test(this.source)) {\n    tokens = [];\n    placeholder = "<<>>";\n    spacer = null;\n    temp = this.source.replace(this.token, function(match, token, offset, string) {\n      tokens.push(token);\n      spacer = placeholder;\n      if ((0 < offset && offset < string.length - match.length)) {\n        spacer += placeholder;\n      }\n      return spacer;\n    });\n    pieces = temp.split(placeholder);\n    token = 0;\n    for (_i = 0, _len = pieces.length; _i < _len; _i++) {\n      piece = pieces[_i];\n      if (piece === "" && tokens[token]) {\n        this.data.push(new Token(tokens[token]));\n        token++;\n      } else {\n        if (piece !== "") {\n          this.data.push(new Literal(piece));\n        }\n      }\n    }\n    if (this.data.length === 1) {\n      this.data = this.data[0];\n    }\n  } else {\n    this.data = new Literal(source);\n  }\n  return this.data;\n};\n\n/**\n *\n*/\nTokenizedValue.prototype.compile = function(context, suppressErrors) {\n  var token, _i, _len, _ref;\n  if (context == null) {\n    context = {};\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  if (!(this.data != null)) {\n    return this.value;\n  }\n  try {\n    if (this.data instanceof ITokenized) {\n      this.value = this.data.compile(context, suppressErrors);\n    } else {\n      this.value = "";\n      _ref = this.data;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        token = _ref[_i];\n        this.value += token.compile(context, suppressErrors);\n      }\n    }\n  } catch (error) {\n    this.value = null;\n    if (!suppressErrors) {\n      throw new TokenizationError(this.source);\n    }\n  }\n  return this.value;\n};\n\n/**\n * @constructor\n * @private\n * @extends {TokenizedBase}\n * @param {Object} source\n*/\nfunction TokenizedObject(source) {\n  TokenizedObject.__super__.constructor.call(this, source);\n}\n\n\n__extends(TokenizedObject, TokenizedBase);\n\n\n/**\n *\n*/\nTokenizedObject.prototype.parse = function(source) {\n  var key, token;\n  this.source = source;\n  this.data = {};\n  for (key in source) {\n    token = source[key];\n    this.data[key] = TokenizedObject.__super__.parse.call(this, token);\n  }\n  return this.data;\n};\n\n/**\n *\n*/\nTokenizedObject.prototype.compile = function(context, suppressErrors) {\n  var key, value, _ref;\n  if (context == null) {\n    context = {};\n  }\n  if (suppressErrors == null) {\n    suppressErrors = false;\n  }\n  this.value = {};\n  _ref = this.data;\n  for (key in _ref) {\n    value = _ref[key];\n    try {\n      this.value[key] = value.compile(context, suppressErrors);\n    } catch (error) {\n      this.value[key] = null;\n      Logger.error(error);\n    }\n  }\n  return this.value;\n};\n\n/**\n * The LocalizationProxy class. Used to track player localization settings.\n * \n * @constructor\n * @private\n * @extends {DataBindingContext}\n * @param {Object}  init  The configuration object.\n*/\nfunction LocalizationProxy(init) {\n  var key, lang;\n  LocalizationProxy.__super__.constructor.call(this);\n  this.data = {\n    language: navigator.language || navigator.browserLanguage,\n    locales: AMPConfig.prototype.data.locales\n  };\n  if (init != null) {\n    if (init.language != null) {\n      this.data.language = init.language;\n    }\n    if (init.locales != null) {\n      for (lang in init.locales) {\n        if (this.data.locales[lang] != null) {\n          for (key in init.locales[lang]) {\n            this.data.locales[lang][key] = init.locales[lang][key];\n          }\n        } else {\n          this.data.locales[lang] = init.locales[lang];\n        }\n      }\n    }\n  }\n}\n\n\n__extends(LocalizationProxy, DataBindingContext);\n\n\n/** @static\n*/\nLocalizationProxy.NAME = "LocalizationProxy";\n\nLocalizationProxy.prototype.contextName = "l10n";\n\nLocalizationProxy.prototype.locale = null;\n\n/** @override\n*/\nLocalizationProxy.prototype.onRegister = function() {\n  this.setLocale(this.data.language);\n};\n\n/**\n * Gets the context data for this proxy.\n * \n * @returns {Object} The contenxt data for this proxy\n * @override\n*/\nLocalizationProxy.prototype.getContextData = function() {\n  return this.locale;\n};\n\n/**\n *\n*/\nLocalizationProxy.prototype.getLanguage = function() {\n  return this.data.language;\n};\n\nLocalizationProxy.prototype.setLanguage = function(value) {\n  this.data.language = value;\n  this.setLocale(value);\n  this.sendNotification(Notifications.LANGUAGE_CHANGE, value);\n  return value;\n};\n\n/**\n *\n*/\nLocalizationProxy.prototype.setLocale = function(value) {\n  this.locale = this.data.locales[value];\n  if (!(this.locale != null)) {\n    this.locale = this.data.locales[value.substring(0, 2)];\n  }\n  this.facade.l10n = this.locale;\n  return value;\n};\n\n/**\n *\n*/\nLocalizationProxy.prototype.getLocales = function() {\n  return this.data.locales;\n};\n\nLocalizationProxy.prototype.setLocales = function(value) {\n  this.data.locales = value;\n  return value;\n};\n\n/**\n *\n*/\nLocalizationProxy.prototype.getString = function(key) {\n  var locale;\n  locale = this.locale || this.data.locales.en;\n  return locale[key] || "";\n};\n\n/**\n * Retrieves the full language name in the player\'s current language setting.\n * \n * @param   {string}  lang  The language code.\n * @return  {string}        The full name of the language according to the player\'s current language setting.\n*/\nLocalizationProxy.prototype.getLanguageString = function(lang) {\n  var key, str;\n  if (typeof lang !== "string" || !(lang != null) || lang === "") {\n    return "";\n  }\n  key = "MSG_" + (lang.toUpperCase());\n  str = this.getString(key);\n  if (str === "") {\n    lang = lang.split("-").shift();\n    key = "MSG_" + (lang.toUpperCase());\n    str = this.getString(key);\n  }\n  return str;\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction ParamsProxy(data) {\n  ParamsProxy.__super__.constructor.call(this, data);\n}\n\n\n__extends(ParamsProxy, DataBoundConfigurationProxy);\n\n\n/** @static\n*/\nParamsProxy.NAME = "ParamsProxy";\n\nParamsProxy.prototype.defaults = {};\n\nParamsProxy.prototype.configurationName = "params";\n\n/** @override\n*/\nParamsProxy.prototype.setData = function(data) {\n  var key, value, _ref;\n  this.data = ((_ref = this.configurationData) != null ? _ref.source : void 0) || {};\n  for (key in data) {\n    value = data[key];\n    this.data[key] = data[key];\n  }\n  this.configurationData = new TokenizedObject(this.data);\n  return this.data;\n};\n\n/**\n * The ExternalPlayCommand class.\n * \n * @constructor\n * @private\n * @extends {puremvc.MacroCommand}\n*/\nfunction ExternalPlayCommand() {\n  ExternalPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ExternalPlayCommand, PlayerEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nExternalPlayCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.PLAY_REQUEST);\n  this.playback.play();\n  ExternalPlayCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar DisplayState = {\n  /**\n   * Constant representing the normal display state\n  */\n\n  NORMAL: "normal",\n  /**\n   * Constant representing the full screen display state\n  */\n\n  FULL_SCREEN: "full-screen"\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar RenderMode = {\n  /**\n   * Constant representing the flash renderer.\n  */\n\n  FLASH: "flash",\n  /**\n   * Constant representing the html renderer.\n  */\n\n  HTML: "html"\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar ActiveState = {\n  /**\n   * Constant representing the active state (controls on).\n  */\n\n  ACTIVE: "active",\n  /**\n   * Constant representing the inactive state (controls off).\n  */\n\n  INACTIVE: "inactive"\n};\n\n/** \n * Used to track the various states of the player like full screen mode and active state (controls visible).\n * \n * @constructor \n * @private\n * @extends {puremvc.Proxy}\n*/\nfunction ApplicationStateProxy() {\n  ApplicationStateProxy.__super__.constructor.call(this);\n  this.device = Utils.getDevice();\n}\n\n\n__extends(ApplicationStateProxy, puremvc.Proxy);\n\n\n/** @static\n*/\nApplicationStateProxy.NAME = "ApplicationStateProxy";\n\n/** @private\n*/\nApplicationStateProxy.prototype.displayState = null;\n\nApplicationStateProxy.prototype.playState = null;\n\nApplicationStateProxy.prototype.renderMode = null;\n\nApplicationStateProxy.prototype.activeState = null;\n\nApplicationStateProxy.prototype.seeking = false;\n\nApplicationStateProxy.prototype.isUserActive = false;\n\nApplicationStateProxy.prototype.device = null;\n\n/**\n * The player\'s display state. Valid options are:\n * \n * ApplicationStateProxy.FULL_SCREEN\n * ApplicationStateProxy.NORMAL\n *      \n * @param {String} value \n *    The new display state of the player\n * @returns {String} \n *    The display state of the player\n * @type {String}\n*/\nApplicationStateProxy.prototype.getDisplayState = function() {\n  return this.displayState;\n};\n\nApplicationStateProxy.prototype.setDisplayState = function(value) {\n  var oldState;\n  if (value === oldState) {\n    return;\n  }\n  oldState = this.displayState;\n  this.displayState = value;\n  this.sendNotification(Notifications.DISPLAY_STATE_CHANGE, {\n    oldState: oldState,\n    newState: this.displayState\n  });\n};\n\n/**\n * The player\'s display state. Valid options are:\n * \n * ApplicationStateProxy.FULL_SCREEN\n * ApplicationStateProxy.NORMAL\n *      \n * @param {String} value \n *    The new display state of the player\n * @returns {String} \n *    The display state of the player\n * @type {String}\n*/\nApplicationStateProxy.prototype.getPlayState = function() {\n  return this.playState;\n};\n\nApplicationStateProxy.prototype.setPlayState = function(value) {\n  var oldState;\n  if (value === this.playState) {\n    return;\n  }\n  if (this.seeking === true) {\n    switch (value) {\n      case PlayState.PLAYING:\n      case PlayState.READY:\n        this.seeking = false;\n        break;\n      default:\n        return;\n    }\n  }\n  oldState = this.playState;\n  this.playState = value;\n  this.sendNotification(Notifications.PLAY_STATE_CHANGE, {\n    oldState: oldState,\n    newState: this.playState\n  });\n};\n\n/**\n * The player\'s device.\n *\n * \n * @returns {String} \n *    The display state of the player\n * @type {String}\n*/\nApplicationStateProxy.prototype.getDevice = function() {\n  return this.device;\n};\n\n/**     \n * Indicates whether or not the player is seeking\n *\n * @param {String} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nApplicationStateProxy.prototype.getSeeking = function() {\n  return this.seeking;\n};\n\nApplicationStateProxy.prototype.setSeeking = function(value) {\n  if (value !== this.seeking) {\n    this.seeking = value;\n  }\n};\n\n/**     \n * Indicates whether or not the user is currently interacting with the player\n *\n * @param {Boolean} value\n *    \n * @returns {Boolean} \n *    \n * @type {Boolean}\n*/\nApplicationStateProxy.prototype.getIsUserActive = function() {\n  return this.isUserActive;\n};\n\nApplicationStateProxy.prototype.setIsUserActive = function(value) {\n  if (value !== this.isUserActive) {\n    this.isUserActive = value;\n  }\n};\n\n/**     \n * The core type used for rendering the video.\n *\n * @param {String} value\n *    The new currentTime value in seconds\n * @returns {Number} \n *    The currentTime value in seconds\n * @type {Number}\n*/\nApplicationStateProxy.prototype.getRenderMode = function() {\n  return this.renderMode;\n};\n\nApplicationStateProxy.prototype.setRenderMode = function(value) {\n  if (value !== this.renderMode) {\n    this.renderMode = value;\n  }\n};\n\n/**\n * The player\'s display state. Valid options are:\n * \n * ApplicationStateProxy.FULL_SCREEN\n * ApplicationStateProxy.NORMAL\n *      \n * @param {String} value \n *    The new display state of the player\n * @returns {String} \n *    The display state of the player\n * @type {String}\n*/\nApplicationStateProxy.prototype.getMedium = function() {\n  return this.medium;\n};\n\nApplicationStateProxy.prototype.setMedium = function(value) {\n  var oldState;\n  if (value === this.medium) {\n    return;\n  }\n  oldState = this.medium != null ? "medium-" + this.medium : this.medium;\n  this.medium = value;\n  this.sendNotification(Notifications.MEDIUM_CHANGE, {\n    oldState: oldState,\n    newState: "medium-" + this.medium\n  });\n};\n\n/**\n * The active state of the player. Used to display controls.\n *      \n * @param {Boolean} value \n *    The new active state of the video\n * @returns {Boolean} \n *    The active state of the video\n * @type {Boolean}\n*/\nApplicationStateProxy.prototype.getActiveState = function() {\n  return this.activeState;\n};\n\nApplicationStateProxy.prototype.setActiveState = function(value) {\n  var oldState;\n  if (value === this.activeState) {\n    return;\n  }\n  oldState = this.activeState;\n  this.activeState = value;\n  this.sendNotification(Notifications.ACTIVE_STATE_CHANGE, {\n    oldState: oldState,\n    newState: this.activeState\n  });\n};\n\n/**\n * Used to track player configuration settings\n*/\n/**\n * Creates a new instance of MediaProxy.\n * \n * @constructor\n * @private\n*/\nfunction ConfigurationProxy(config) {\n  this.defaults = AMPConfig.prototype.data;\n  ConfigurationProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ConfigurationProxy, ModuleProxy);\n\n\n/** @static\n*/\nConfigurationProxy.NAME = ModuleProxy.NAME;\n\n/**\n * @override\n*/\nConfigurationProxy.prototype.getContextName = function() {\n  return "paths";\n};\n\n/**\n * @override\n*/\nConfigurationProxy.prototype.getContextData = function() {\n  return this.getPaths();\n};\n\n/**\n * @override\n*/\nConfigurationProxy.prototype.setData = function(value) {\n  if (value.rules != null) {\n    Utils.mergeRules(value.rules);\n  }\n  ConfigurationProxy.__super__.setData.call(this, value);\n  return value;\n};\n\n/**\n * Auto play.\n*/\nConfigurationProxy.prototype.getAutoplay = function() {\n  return this.data.autoplay;\n};\n\nConfigurationProxy.prototype.setAutoplay = function(value) {\n  this.data.autoplay = value;\n  return value;\n};\n\n/**\n * Auto play.\n*/\nConfigurationProxy.prototype.getLoop = function() {\n  return this.data.loop;\n};\n\nConfigurationProxy.prototype.setLoop = function(value) {\n  this.data.loop = value;\n  return value;\n};\n\n/**\n * End Slate.\n*/\nConfigurationProxy.prototype.getEndSlate = function() {\n  return this.data.endslate;\n};\n\nConfigurationProxy.prototype.setEndSlate = function(value) {\n  this.data.endslate = value;\n  return value;\n};\n\n/**\n * Domain\n*/\nConfigurationProxy.prototype.getDomain = function() {\n  return this.data.domain;\n};\n\nConfigurationProxy.prototype.setDomain = function(value) {\n  this.data.domain = value;\n  return value;\n};\n\n/**\n * Target.\n*/\nConfigurationProxy.prototype.getTarget = function() {\n  return this.data.target;\n};\n\nConfigurationProxy.prototype.setTarget = function(value) {\n  this.data.target = value;\n  return value;\n};\n\n/**\n * The player name.\n*/\nConfigurationProxy.prototype.getName = function() {\n  return this.data.name;\n};\n\nConfigurationProxy.prototype.setName = function(value) {\n  this.data.name = value;\n  return value;\n};\n\n/**\n * The player paths.\n*/\nConfigurationProxy.prototype.getPaths = function() {\n  return this.data.paths;\n};\n\nConfigurationProxy.prototype.setPaths = function(value) {\n  this.data.paths = value;\n  return value;\n};\n\n/**\n * The player version.\n*/\nConfigurationProxy.prototype.getVersion = function() {\n  return this.data.version;\n};\n\n/**\n * Controls\n*/\nConfigurationProxy.prototype.getControls = function() {\n  return this.data.controls;\n};\n\nConfigurationProxy.prototype.setControls = function(value) {\n  this.data.controls = value;\n  return value;\n};\n\n/**\n * Fullscreen configuration\n*/\nConfigurationProxy.prototype.getFullscreen = function() {\n  return this.data.fullscreen || {};\n};\n\nConfigurationProxy.prototype.setFullscreen = function(value) {\n  this.data.fullscreen = value;\n  return value;\n};\n\n/** \n * Binds an event(s) to a handler function.\n * \n * @param {IEventDispatcher}    target  The event target\n * @param {string|Array|number} type    The event to listen for\n * @param {Function}            handler The handler function to call when the event is dispatched. \n * @constructor\n * @private\n*/\nfunction EventHandler(target, type, handler) {\n  var _ref;\n  this.target = target;\n  this.type = type;\n  this.handler = handler;\n  this.trigger = __bind(this.trigger, this);\n\n  EventHandler.instances.push(this);\n  this.types = [];\n  if (_ref = this.type, __indexOf.call(EventHandler.EVENTS, _ref) >= 0) {\n    if (Utils.isTouchDevice()) {\n      this.types.push(EventHandler.TOUCH_EVENTS[this.type]);\n      if (this.type === EventHandler.TOUCH_EVENTS[1]) {\n        this.types.push(EventHandler.TOUCH_EVENTS[4]);\n      }\n    } else {\n      this.types.push(EventHandler.MOUSE_EVENTS[this.type]);\n    }\n  } else if (this.type instanceof Array) {\n    this.types = this.type;\n  } else {\n    this.types.push(this.type);\n  }\n  this.bind();\n}\n\n/**\n * Represents the press user interaction\n * \n * @type {number}\n * @static\n * @const\n*/\nEventHandler.PRESS = 0;\n\n/**\n * Represents the release user interaction\n * \n * @type {number}\n * @static\n * @const\n*/\nEventHandler.RELEASE = 1;\n\n/**\n * Represents the move user interaction\n * \n * @type {number}\n * @static\n * @const\n*/\nEventHandler.MOVE = 2;\n\n/**\n * Represents the click user interaction\n * \n * @type {number}\n * @static\n * @const\n*/\nEventHandler.CLICK = 3;\n\n/**\n * Represents the right click (contextMenu) user interaction\n * \n * @type {number}\n * @static\n * @const\n*/\nEventHandler.CONTEXTMENU = 4;\n\n/**\n * The list of user interactions\n * \n * @type {Array.<number>}\n * @static\n * @const\n*/\nEventHandler.EVENTS = [EventHandler.PRESS, EventHandler.RELEASE, EventHandler.MOVE, EventHandler.CLICK, EventHandler.CONTEXTMENU];\n\n/**\n * The list of mouse interactions\n * \n * @type {Array.<string>}\n * @static\n * @const\n*/\nEventHandler.MOUSE_EVENTS = ["mousedown", "mouseup", "mousemove", "click", "contextmenu"];\n\n/**\n * The list of touch interactions\n * \n * @type {Array.<string>}\n * @static\n * @const\n*/\nEventHandler.TOUCH_EVENTS = ["touchstart", "touchend", "touchmove", "click", "touchcancel"];\n\n/**\n * An array of EventHandler instances.\n * \n * @type {Array.<EventHandler>}\n * @static\n*/\nEventHandler.instances = [];\n\n/**\n * Creates an EventHandler with the parameters provided.\n * \n * @param {IEventDispatcher}    target  The event target\n * @param {string|Array|number} type    The event to listen for\n * @param {Function}            handler The handler function to call when the event is dispatched. \n * @static\n * @return {EventHandler} the new EventHandler\n*/\nEventHandler.create = function(target, type, handler) {\n  return new EventHandler(target, type, handler);\n};\n\n/**\n * Binds all EventHandlers of the provided target.\n * \n * @param {IEventDispatcher} target\n * @static\n*/\nEventHandler.bind = function(target, type) {\n  var i, instance, _i, _len, _ref;\n  _ref = EventHandler.instances;\n  for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n    instance = _ref[i];\n    if (!(instance.target === target)) {\n      continue;\n    }\n    if ((type != null) && instance.type !== type) {\n      continue;\n    }\n    instance.bind();\n  }\n};\n\n/**\n * Unbinds all EventHandlers of the provided target.\n * \n * @param {IEventDispatcher} target\n * @static\n*/\nEventHandler.unbind = function(target, type) {\n  var i, instance, _i, _len, _ref;\n  _ref = EventHandler.instances;\n  for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n    instance = _ref[i];\n    if (!(instance.target === target)) {\n      continue;\n    }\n    if ((type != null) && instance.type !== type) {\n      continue;\n    }\n    instance.unbind();\n  }\n};\n\n/**\n * Clear all EventHandlers of the provided target.\n * \n * @param {IEventDispatcher} target\n * @static\n*/\nEventHandler.clear = function(target, type) {\n  var i, instance, _i, _len, _ref;\n  _ref = EventHandler.instances;\n  for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n    instance = _ref[i];\n    if (!((instance != null ? instance.target : void 0) === target)) {\n      continue;\n    }\n    if ((type != null) && instance.type !== type) {\n      continue;\n    }\n    instance.clear();\n    EventHandler.instances.splice(i, 1);\n  }\n};\n\n/**\n * The system event types for this EventTarget\n * \n * @type {Array.<string>}\n*/\nEventHandler.prototype.types = null;\n\n/**\n * Binds the target to the event\n*/\nEventHandler.prototype.bind = function() {\n  var type, _i, _len, _ref;\n  _ref = this.types;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    type = _ref[_i];\n    if (this.target.addEventListener != null) {\n      this.target.addEventListener(type, this.trigger, false);\n    } else if (this.target.attachEvent != null) {\n      this.target.attachEvent("on" + type, this.trigger);\n    }\n  }\n};\n\n/**\n * Unbinds the target from the event\n*/\nEventHandler.prototype.unbind = function() {\n  var type, _i, _len, _ref;\n  _ref = this.types;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    type = _ref[_i];\n    if (this.target.removeEventListener != null) {\n      this.target.removeEventListener(type, this.trigger);\n    } else if (this.target.attachEvent != null) {\n      this.target.removeEvent("on" + type, this.trigger);\n    }\n  }\n};\n\n/**\n * Clears the EventHandler\n*/\nEventHandler.prototype.clear = function() {\n  this.unbind();\n  this.target = null;\n  this.handler = null;\n  this.type = null;\n  this.types = null;\n};\n\n/**\n * Triggers the event handler\n*/\nEventHandler.prototype.trigger = function(event) {\n  this.handler(event);\n};\n\n/**\n * AudioPlaybackProxy constructor.\n * \n * @constructor\n * @private\n * @extends {PlaybackCoreProxy}\n*/\nfunction AudioPlaybackProxy() {\n  AudioPlaybackProxy.__super__.constructor.call(this);\n}\n\n\n__extends(AudioPlaybackProxy, PlaybackCoreProxy);\n\n\n/** @override\n*/\nAudioPlaybackProxy.prototype.onRegister = function() {\n  var mediaElement;\n  mediaElement = new MediaElementMediator("html5", "audio");\n  this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE, mediaElement);\n};\n\n/** @override\n*/\nAudioPlaybackProxy.prototype.onRemove = function() {\n  this.facade.createMediaElement();\n};\n\n/** @override\n*/\nAudioPlaybackProxy.prototype.canPlayType = function(mimeType) {\n  if (/audio/.test(mimeType)) {\n    return "maybe";\n  }\n  return "";\n};\n\n/**\n * Creates a new instance of PlayerProxy.\n * \n * @constructor\n * @private\n * @extends {DataBindingContext}\n*/\nfunction PlayerProxy(defaultPlaybackCore) {\n  this.defaultPlaybackCore = defaultPlaybackCore;\n  PlayerProxy.__super__.constructor.call(this);\n  this.playbackCoreMap = {};\n  this.activePlaybackCore = this.defaultPlaybackCore;\n  this.registerPlaybackCore(new AudioPlaybackProxy());\n}\n\n\n__extends(PlayerProxy, DataBindingContext);\n\n\n/** @static\n*/\nPlayerProxy.NAME = "PlayerProxy";\n\nPlayerProxy.prototype.contextName = "player";\n\nPlayerProxy.prototype.playbackCoreMap = null;\n\nPlayerProxy.prototype.defaultPlaybackCore = null;\n\nPlayerProxy.prototype.activePlaybackCore = null;\n\n/**\n*/\nPlayerProxy.prototype.getActivePlaybackCore = function() {\n  return this.activePlaybackCore;\n};\n\n/**\n*/\nPlayerProxy.prototype.registerPlaybackCore = function(core) {\n  if (!(core != null)) {\n    return;\n  }\n  this.playbackCoreMap[core.getPlaybackCoreName()] = core;\n};\n\n/**\n*/\nPlayerProxy.prototype.retrievePlaybackCore = function(name) {\n  return this.playbackCoreMap[name];\n};\n\n/**\n*/\nPlayerProxy.prototype.removePlaybackCore = function(name) {\n  var core;\n  core = this.playbackCoreMap[name];\n  delete this.playbackCoreMap[name];\n  return core;\n};\n\n/**\n*/\nPlayerProxy.prototype.setPlaybackType = function(type) {\n  var core, name, playbackCore, playbackProxy, _ref;\n  playbackCore = this.defaultPlaybackCore;\n  _ref = this.playbackCoreMap;\n  for (name in _ref) {\n    core = _ref[name];\n    if (core.canPlayType(type) !== "") {\n      playbackCore = core;\n      break;\n    }\n  }\n  playbackProxy = this.facade.retrieveProxy(PlaybackProxy.NAME);\n  if (playbackProxy !== playbackCore) {\n    this.facade.removeProxy(PlaybackProxy.NAME);\n    this.facade.registerProxy(playbackCore);\n    playbackCore.setData(playbackProxy.getData());\n  }\n  this.activePlaybackCore = playbackCore;\n  return type;\n};\n\n/**\n*/\nPlayerProxy.prototype.canPlayType = function(type) {\n  var canPlay, core, name, _ref;\n  _ref = this.playbackCoreMap;\n  for (name in _ref) {\n    core = _ref[name];\n    canPlay = core.canPlayType(type);\n    if (canPlay !== "") {\n      return canPlay;\n    }\n  }\n  canPlay = this.defaultPlaybackCore.canPlayType(type);\n  return canPlay;\n};\n\n/**\n * Gets the context data for this proxy.\n * \n * @returns {Object} The contenxt data for this proxy\n * @override\n*/\nPlayerProxy.prototype.getContextData = function() {\n  var configProxy, element, mediaProxy, playbackProxy;\n  configProxy = this.facade.retrieveProxy(ConfigurationProxy.NAME);\n  playbackProxy = this.facade.retrieveProxy(PlaybackProxy.NAME);\n  mediaProxy = this.facade.retrieveProxy(MediaProxy.NAME);\n  element = this.facade.getViewComponent();\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight,\n    mode: "html5",\n    autoplay: configProxy.getAutoplay(),\n    domain: configProxy.getDomain(),\n    name: configProxy.getName(),\n    currentTime: playbackProxy.getCurrentTime(),\n    duration: playbackProxy.getDuration(),\n    version: configProxy.getVersion(),\n    timecode: {\n      duration: Utils.formatTimecode(mediaProxy.getDuration()),\n      currentTime: Utils.formatTimecode(playbackProxy.getCurrentTime())\n    }\n  };\n};\n\n/**\n * Creates a new instance of MediaProxy. Used to track metadata associated with the video such as src, title and duration.\n * \n * @constructor\n * @private\n * @extends {DataBindingContext}\n*/\nfunction MediaProxy() {\n  this.data = {\n    metadata: {}\n  };\n  MediaProxy.__super__.constructor.call(this);\n}\n\n\n__extends(MediaProxy, DataBindingContext);\n\n\n/** @static\n*/\nMediaProxy.NAME = "MediaProxy";\n\nMediaProxy.prototype.contextName = "media";\n\n/** @private\n*/\nMediaProxy.prototype.data = null;\n\nMediaProxy.prototype.authorized = true;\n\n/**\n * Gets the context data for this proxy.\n * \n * @returns {Object} The contenxt data for this proxy\n * @override\n*/\nMediaProxy.prototype.getContextData = function() {\n  return {\n    width: this.getWidth(),\n    height: this.getHeight(),\n    title: this.getTitle(),\n    description: this.getDescription(),\n    src: this.getSrc(),\n    duration: this.getDuration(),\n    guid: this.getGUID(),\n    isLive: this.getIsLive(),\n    metadata: this.getMetadata(),\n    temporalType: this.getTemporalType(),\n    poster: this.getPoster(),\n    category: this.getCategory()\n  };\n};\n\n/**\n * Sets the data for this proxy.\n * \n * @param {Object} value \n *    The new data for this proxy\n * @override\n*/\nMediaProxy.prototype.setData = function(value) {\n  var _ref;\n  this.data.autoplay = value.autoplay;\n  this.data.type = value.type;\n  if (value.source != null) {\n    this.setSource(value.source);\n  }\n  if (value.src != null) {\n    this.setSrc(value.src);\n  }\n  this.data.title = value.title;\n  if (value.duration != null) {\n    this.setDuration(value.duration);\n  }\n  this.data.poster = value.poster;\n  this.data.guid = value.guid;\n  this.data.link = value.link;\n  this.data.embed = value.embed;\n  this.data.width = value.width;\n  this.data.height = value.height;\n  this.data.category = value.category;\n  this.data.startTime = value.startTime;\n  this.data.description = value.description;\n  this.data.status = value.status || {};\n  if (((_ref = this.data.status) != null ? _ref.state : void 0) === "blocked") {\n    this.authorized = false;\n  }\n  this.data.category = value.category;\n  this.data.metadata = value.metadata || {};\n  if (value.isLive != null) {\n    this.setIsLive(value.isLive);\n  }\n  if (value.temporalType != null) {\n    this.setTemporalType(value.temporalType);\n  } else {\n    this.setTemporalType("vod");\n  }\n  if (value.medium != null) {\n    this.setMedium(value.medium);\n  }\n  if (value.pubDate != null) {\n    this.setPubDate(value.pubDate);\n  }\n  if (value.track != null) {\n    this.setTrack(value.track);\n  }\n  return value;\n};\n\nMediaProxy.prototype.updateData = function(data) {\n  var key, value;\n  for (key in data) {\n    value = data[key];\n    if (key in this.data) {\n      this.data[key] = value;\n    }\n  }\n};\n\n/**\n * The global unique identifier for this to the video.\n * \n * @param {String} value \n *    The new guid of the video\n * @returns {String} \n *    The guid of the video\n * @type {String}\n*/\nMediaProxy.prototype.getGUID = function() {\n  return this.data.guid;\n};\n\nMediaProxy.prototype.setGUID = function(value) {\n  return this.data.guid = value;\n};\n\nMediaProxy.prototype.getLink = function() {\n  return this.data.link;\n};\n\nMediaProxy.prototype.setLint = function(value) {\n  return this.data.link = value;\n};\n\nMediaProxy.prototype.getStartTime = function() {\n  return this.data.startTime || 0;\n};\n\nMediaProxy.prototype.getEmbed = function() {\n  return this.data.embed;\n};\n\nMediaProxy.prototype.setEmbed = function(value) {\n  return this.data.embed = value;\n};\n\nMediaProxy.prototype.getAutoplay = function() {\n  return this.data.autoplay;\n};\n\nMediaProxy.prototype.setAutoplay = function(value) {\n  return this.data.autoplay = value;\n};\n\nMediaProxy.prototype.getPubDate = function() {\n  return this.data.pubDate;\n};\n\nMediaProxy.prototype.setPubDate = function(value) {\n  return this.data.pubDate = value;\n};\n\nMediaProxy.prototype.getCategory = function() {\n  return this.data.category;\n};\n\nMediaProxy.prototype.setCategory = function(value) {\n  return this.data.category = value;\n};\n\n/**\n * The url to the video.\n * \n * @param {String} value \n *    The new title of the video\n * @returns {Boolean} \n *    The title of the video\n * @type {String}\n*/\nMediaProxy.prototype.getSrc = function() {\n  return this.data.src;\n};\n\nMediaProxy.prototype.setSrc = function(value) {\n  this.data.src = value;\n  if ((this.data.src != null) && !(this.data.type != null)) {\n    return this.setType(Utils.getMimeType(this.data.src));\n  }\n};\n\n/**\n * The mimeType of the video.\n*/\nMediaProxy.prototype.getType = function() {\n  return this.data.type;\n};\n\nMediaProxy.prototype.setType = function(value) {\n  var medium;\n  this.data.type = value;\n  medium = /audio/.test(this.data.type) ? "audio" : "video";\n  return this.setMedium(medium);\n};\n\n/**\n * The medium the video. ie audio, video, executable\n*/\nMediaProxy.prototype.getMedium = function() {\n  return this.data.medium;\n};\n\nMediaProxy.prototype.setMedium = function(value) {\n  if (value === this.data.medium) {\n    return;\n  }\n  this.data.medium = value;\n  return this.facade.retrieveProxy(ApplicationStateProxy.NAME).setMedium(value);\n};\n\n/**\n * Additional information about the vieo\n*/\nMediaProxy.prototype.getMetadata = function() {\n  return this.data.metadata;\n};\n\nMediaProxy.prototype.setMetadata = function(value) {\n  return this.data.metadata = value;\n};\n\n/**\n * The source object of the video.\n*/\nMediaProxy.prototype.getSource = function() {\n  return this.data.source;\n};\n\nMediaProxy.prototype.setSource = function(value) {\n  var item, playerProxy,\n    _this = this;\n  if (!(value != null) || value.length < 1) {\n    return;\n  }\n  this.data.source = value;\n  playerProxy = this.facade.retrieveProxy(PlayerProxy.NAME) || this.facade;\n  if (playerProxy != null) {\n    item = Utils.selectSource(value, function(type) {\n      return playerProxy.canPlayType(type);\n    });\n  }\n  if (((item != null ? item.src : void 0) != null) && item.src !== "") {\n    this.setSrc(item.src);\n    return this.setType(item.type);\n  } else {\n    throw new Error("No valid source could be found");\n  }\n};\n\n/**\n * The source object of the video.\n*/\nMediaProxy.prototype.getTrack = function() {\n  return this.data.track;\n};\n\nMediaProxy.prototype.setTrack = function(value) {\n  return this.data.track = value;\n};\n\n/**     \n * The title of the video.\n * \n * @param {String} value \n *    The new title of the video\n * @returns {Boolean} \n *    The title of the video\n * @type {String}\n*/\nMediaProxy.prototype.getTitle = function() {\n  return this.data.title;\n};\n\nMediaProxy.prototype.setTitle = function(value) {\n  return this.data.title = value;\n};\n\n/**     \n * The native width of the video.\n*/\nMediaProxy.prototype.getWidth = function() {\n  return this.data.width;\n};\n\nMediaProxy.prototype.setWidth = function(value) {\n  return this.data.width = value;\n};\n\n/**     \n * The native width of the video.\n*/\nMediaProxy.prototype.getHeight = function() {\n  return this.data.height;\n};\n\nMediaProxy.prototype.setHeight = function(value) {\n  return this.data.height = value;\n};\n\n/**     \n * The description of the video.\n * \n * @param {String} value \n *    The new description of the video\n * @returns {Boolean} \n *    The description of the video\n * @type {String}\n*/\nMediaProxy.prototype.getDescription = function() {\n  return this.data.description;\n};\n\nMediaProxy.prototype.setDescription = function(value) {\n  return this.data.description = value;\n};\n\n/**\n *\n*/\nMediaProxy.prototype.getCategory = function() {\n  return this.data.category;\n};\n\nMediaProxy.prototype.setCategory = function(value) {\n  return this.data.category = value;\n};\n\n/**\n * The duration of the video. This property is used in situations where the \n * duration cannot be determined from the video (i.e. before metadata is loaded)\n *      \n * @param {Number} value \n *    The new duration of the video\n * @returns {Number} \n *    The duration of the video\n * @type {Number}\n*/\nMediaProxy.prototype.getDuration = function(value) {\n  return this.data.duration;\n};\n\nMediaProxy.prototype.setDuration = function(value) {\n  var ua;\n  if (value === 0) {\n    return;\n  }\n  ua = navigator.userAgent;\n  if (value === 1 && (/Android/.test(ua) && !/Android.*Chrome/.test(ua))) {\n    return;\n  }\n  if (value !== this.data.duration) {\n    this.data.duration = value;\n    this.sendNotification(Notifications.DURATION_CHANGE, value);\n  }\n  if (value === Infinity) {\n    this.setTemporalType("live");\n  }\n  return value;\n};\n\n/**\n * The poster image for the video. \n * \n * @param {String} value \n *    The url of the new poster image\n * @returns {String} \n *    The url of the poster image\n * @type {String}\n*/\nMediaProxy.prototype.getPoster = function(value) {\n  return this.data.poster;\n};\n\nMediaProxy.prototype.setPoster = function(value) {\n  return this.data.poster = value;\n};\n\n/**\n *\n*/\nMediaProxy.prototype.getIsLive = function() {\n  return this.data.isLive;\n};\n\nMediaProxy.prototype.setIsLive = function(value) {\n  if (value !== this.data.isLive) {\n    return this.data.isLive = value;\n  }\n};\n\n/**\n *\n*/\nMediaProxy.prototype.getTemporalType = function() {\n  return this.data.temporalType;\n};\n\nMediaProxy.prototype.setTemporalType = function(value) {\n  if (value !== this.data.temporalType) {\n    this.data.temporalType = value;\n    return this.sendNotification(Notifications.TEMPORAL_TYPE_CHANGE, value);\n  }\n};\n\n/**\n * The ExternalMediaProxy class.\n * \n * @constructor\n * @private\n * @extends {MediaProxy}\n*/\nfunction ExternalMediaProxy() {\n  ExternalMediaProxy.__super__.constructor.call(this);\n}\n\n\n__extends(ExternalMediaProxy, MediaProxy);\n\n\n/** @static\n*/\nExternalMediaProxy.NAME = "MediaProxy";\n\n/**\n * The source object of the video.\n*/\nExternalMediaProxy.prototype.setSource = function(value) {\n  if (!(value != null) || value.length < 1) {\n    return;\n  }\n  value = value.filter(function(item) {\n    return item.type === "external";\n  });\n  return ExternalMediaProxy.__super__.setSource.call(this, value);\n};\n\n/** \n * The ExternalPlayer class.\n *   \n * @constructor\n * @private \n * @extends {Player}\n * @param {Object} config\n * @param {Object} viewComponent\n * @param {EventDispatcher} dispatcher\n*/\nfunction ExternalPlayer(config, viewComponent, dispatcher) {\n  ExternalPlayer.__super__.constructor.call(this, config, viewComponent, dispatcher);\n}\n\n\n__extends(ExternalPlayer, Player);\n\n\nExternalPlayer.prototype.playerType = "external";\n\n/** @override\n*/\nExternalPlayer.prototype.createModel = function() {\n  var binding, playbackProxy;\n  this.registerProxy(new LocalizationProxy(this.config));\n  this.registerProxy(new ApplicationStateProxy());\n  playbackProxy = new ExternalPlaybackProxy();\n  this.registerProxy(new PlayerProxy(playbackProxy));\n  binding = new DataBindingProxy();\n  this.registerProxy(binding);\n  this.registerProxy(new ConfigurationProxy(this.config));\n  this.registerProxy(playbackProxy);\n  this.registerProxy(new ExternalMediaProxy());\n  this.registerProxy(new ParamsProxy(this.config.params));\n  binding.initialize();\n};\n\n/** @override\n*/\nExternalPlayer.prototype.createView = function() {\n  var errorslate, overlay,\n    _this = this;\n  this.registerMediator(new PlayerMediator("external", this.getViewComponent()));\n  this.registerMediator(new PluginAdapter());\n  overlay = new OverlayLayerMediator();\n  this.registerMediator(overlay);\n  EventHandler.create(overlay.viewComponent, EventHandler.CLICK, function() {\n    return _this.sendNotification(Notifications.TOGGLE_ACTIVE);\n  });\n  this.registerMediator(new PosterMediator());\n  this.registerMediator(new TitleBarMediator());\n  errorslate = new ErrorLayerMediator();\n  this.viewComponent.appendChild(errorslate.getViewComponent());\n  this.registerMediator(errorslate);\n};\n\n/** @override\n*/\nExternalPlayer.prototype.createController = function() {\n  ExternalPlayer.__super__.createController.call(this);\n  this.registerCommand(Notifications.UPDATE_DATA_BINDINGS, UpdateDataBindingsCommand);\n  this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, ExternalPlayCommand);\n  this.registerCommand(Notifications.PLAY, ExternalPlayCommand);\n  this.registerCommand(Notifications.CHANGE_PLAY_STATE, ChangePlayStateCommand);\n  this.registerCommand(Notifications.SET_MEDIA, SetMediaCommand);\n  this.registerCommand(Notifications.CHANGE_MEDIA, ChangeMediaCommand);\n  this.registerCommand(Notifications.MEDIA_CHANGE, MediaChangeCommand);\n  this.registerCommand(Notifications.MEDIA_VALIDATED, MediaValidatedCommand);\n  this.registerCommand(Notifications.ERROR, ErrorCommand);\n  this.registerCommand(PluginNotifications.PLUGINS_INITIALIZED, PluginsInitializedCommand);\n  this.registerCommand(Notifications.READY, ReadyCommand);\n  this.registerCommand(Notifications.CHANGE_PARAMS, ChangeParamsCommand);\n};\n\nExternalPlayer.prototype.evaluateBinding = function(str) {\n  var _ref;\n  return (_ref = this.retrieveProxy(DataBindingProxy.NAME)) != null ? _ref.evaluateBinding(str) : void 0;\n};\n\nExternalPlayer.prototype.canPlayType = function(mimeType) {\n  return "maybe";\n};\n\nExternalPlayer.prototype.play = function() {\n  this.sendNotification(Notifications.PLAY);\n};\n\nExternalPlayer.prototype.setParams = function(value) {\n  this.sendNotification(Notifications.CHANGE_PARAMS, value);\n  return value;\n};\n\nExternalPlayer.prototype.getParams = function() {\n  return this.retrieveProxy(ParamsProxy.NAME).getData();\n};\n\nExternalPlayer.prototype.setAutoplay = function(value) {\n  return false;\n};\n\nExternalPlayer.prototype.getAutoplay = function() {\n  return false;\n};\n\nExternalPlayer.prototype.setLoop = function(value) {\n  return false;\n};\n\nExternalPlayer.prototype.getLoop = function() {\n  return false;\n};\n\nExternalPlayer.prototype.setMuted = function(value) {\n  return false;\n};\n\nExternalPlayer.prototype.getMuted = function() {\n  return false;\n};\n\nExternalPlayer.prototype.setMedia = function(value) {\n  this.sendNotification(Notifications.SET_MEDIA, value);\n  return value;\n};\n\nExternalPlayer.prototype.getMedia = function(value) {\n  var _ref;\n  return (_ref = this.retrieveProxy(MediaProxy.NAME)) != null ? _ref.getData() : void 0;\n};\n\nExternalPlayer.prototype.setCurrentTime = function(value) {\n  return 0;\n};\n\nExternalPlayer.prototype.getCurrentTime = function(value) {\n  return 0;\n};\n\nExternalPlayer.prototype.getDuration = function(value) {\n  return this.retrieveProxy(MediaProxy.NAME).getDuration();\n};\n\nExternalPlayer.prototype.setSrc = function(value) {\n  this.sendNotification(Notifications.SET_MEDIA, {\n    src: value\n  });\n  return value;\n};\n\nExternalPlayer.prototype.getSrc = function(value) {\n  return this.retrieveProxy(MediaProxy.NAME).getSrc();\n};\n\nExternalPlayer.prototype.setSource = function(value) {\n  this.sendNotification(Notifications.SET_MEDIA, {\n    source: value\n  });\n  return value;\n};\n\nExternalPlayer.prototype.getSource = function() {\n  return this.retrieveProxy(MediaProxy.NAME).getSource();\n};\n\nExternalPlayer.prototype.setVolume = function(value) {\n  return value;\n};\n\nExternalPlayer.prototype.getVolume = function(value) {\n  return 1;\n};\n\nExternalPlayer.prototype.getSeeking = function() {\n  return false;\n};\n\nExternalPlayer.prototype.getPaused = function() {\n  return false;\n};\n\nExternalPlayer.prototype.getEnded = function() {\n  return false;\n};\n\nfunction FeedVO() {\n  this.item = [];\n  this.metadata = {};\n}\n\nFeedVO.prototype.title = null;\n\nFeedVO.prototype.link = null;\n\nFeedVO.prototype.description = null;\n\nFeedVO.prototype.category = null;\n\nFeedVO.prototype.pubDate = null;\n\nFeedVO.prototype.language = null;\n\nFeedVO.prototype.ttl = null;\n\nFeedVO.prototype.item = null;\n\nFeedVO.prototype.metadata = null;\n\nfunction MediaVO() {\n  this.metadata = {};\n}\n\nMediaVO.prototype.src = null;\n\nMediaVO.prototype.source = null;\n\nMediaVO.prototype.title = null;\n\nMediaVO.prototype.description = null;\n\nMediaVO.prototype.link = null;\n\nMediaVO.prototype.guid = null;\n\nMediaVO.prototype.pubDate = null;\n\nMediaVO.prototype.poster = null;\n\nMediaVO.prototype.thumbnail = null;\n\nMediaVO.prototype.embed = null;\n\nMediaVO.prototype.category = null;\n\nMediaVO.prototype.type = null;\n\nMediaVO.prototype.medium = null;\n\nMediaVO.prototype.duration = null;\n\nMediaVO.prototype.track = null;\n\nMediaVO.prototype.metadata = null;\n\nMediaVO.prototype.scenes = null;\n\nMediaVO.prototype.startTime = null;\n\n/**\n * @enum {string}\n * @const\n*/\n\nvar PlaybackMode = {\n  /**\n   *\n  */\n\n  AUTO: "auto",\n  /**\n   *\n  */\n\n  HTML: "html",\n  /**\n   *\n  */\n\n  FLASH: "flash",\n  /**\n   *\n  */\n\n  EXTERNAL: "external",\n  /**\n   *\n  */\n\n  NONE: "none"\n};\n\n/**\n * Event constructor.\n *\n * @param {!string}  type  A string representing the event\'s type.\n * @param {Object=} detail  Data to pass along with the event.\n * @constructor\n * @private\n*/\nfunction Event(type, detail) {\n  this.type = type;\n  if (detail != null) {\n    this.detail = this.data = detail;\n  }\n}\n\n/**\n * The event\'s type.\n * \n * @type {string}\n*/\nEvent.prototype.type = null;\n\n/**\n * The event\'s target\n * \n * @type {Object}\n*/\nEvent.prototype.target = null;\n\n/**\n * Collection of event specific details.\n * \n * @type {Object}\n*/\nEvent.prototype.detail = null;\n\n/** \n * @constructor\n * @private\n*/\nfunction MRSSHelper() {}\n\n/**\n*/\nMRSSHelper.prototype.getFeed = function(url, onload, onerror) {\n  return Utils.getJson(url, onload, onerror);\n};\n\n/**\n*/\nMRSSHelper.prototype.getMediaNode = function(item, name, checkItem) {\n  var base, mediaContent, mediaName, node;\n  if (checkItem == null) {\n    checkItem = true;\n  }\n  mediaName = "media-" + name;\n  base = item[\'media-group\'] || item;\n  mediaContent = base[\'media-content\'];\n  if ((mediaContent != null) && (mediaContent[mediaName] != null)) {\n    node = mediaContent[mediaName];\n  } else if (base[mediaName] != null) {\n    node = base[mediaName];\n  } else if (item[mediaName] != null) {\n    node = item[mediaName];\n  } else if ((item[name] != null) && checkItem) {\n    node = item[name];\n  }\n  return node;\n};\n\nMRSSHelper.prototype.createEmbed = function(item) {\n  var embed, embedVO, param, _i, _len, _ref;\n  try {\n    embed = this.getMediaNode(item, "embed");\n    if (!(embed != null)) {\n      return embedVO;\n    }\n    embedVO = {};\n    embedVO.url = embed["@attributes"].url;\n    embedVO.width = embed["@attributes"].width;\n    embedVO.height = embed["@attributes"].height;\n    embedVO.params = {};\n    if (!(embed["media-param"] instanceof Array)) {\n      embed["media-param"] = [embed["media-param"]];\n    }\n    _ref = embed["media-param"];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      param = _ref[_i];\n      embedVO.params[param["@attributes"].name] = param["#text"];\n    }\n  } catch (error) {\n    Logger.error("[AMP Feed Parse Error] embed parse error: " + error.message, error);\n  }\n  return embedVO;\n};\n\n/**\n*/\nMRSSHelper.prototype.createFeed = function(json) {\n  var channel, feedVO, item, items, key, mediaVO, value, _i, _len;\n  try {\n    channel = json.channel;\n    feedVO = new FeedVO();\n    if (channel != null) {\n      feedVO.title = channel.title;\n      feedVO.description = channel.description;\n      feedVO.language = channel.language;\n      feedVO.category = channel.category;\n      feedVO.pubDate = new Date(Date.parse(channel.pubDate));\n      feedVO.ttl = channel.ttl;\n      items = channel.item instanceof Array ? channel.item : [channel.item];\n      for (_i = 0, _len = items.length; _i < _len; _i++) {\n        item = items[_i];\n        mediaVO = this.createMedia(item);\n        feedVO.item.push(mediaVO);\n      }\n      for (key in channel) {\n        value = channel[key];\n        if (!(key in feedVO)) {\n          feedVO.metadata[key] = value;\n        }\n      }\n    }\n  } catch (error) {\n    Logger.error("[AMP Feed Parse Error] feed parse error: " + error.message, error);\n  }\n  return feedVO;\n};\n\n/**\n*/\nMRSSHelper.prototype.createMedia = function(item) {\n  var atts, category, content, key, label, mediaContent, mediaVO, node, source, track, value, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2;\n  try {\n    mediaVO = new MediaVO();\n    mediaContent = this.getMediaNode(item, \'content\');\n    if (mediaContent instanceof Array) {\n      mediaVO.source = [];\n      for (_i = 0, _len = mediaContent.length; _i < _len; _i++) {\n        content = mediaContent[_i];\n        source = {\n          src: content[\'@attributes\'].url,\n          type: content[\'@attributes\'].type\n        };\n        category = content["media-category"];\n        if (category != null) {\n          atts = category["@attributes"];\n          if (atts.schema === "http://mrss.akamai.com/user_agent_hint") {\n            label = atts.label || category["#text"];\n            if ((label != null) && label !== "") {\n              if (source.rules == null) {\n                source.rules = [];\n              }\n              source.rules.push(label);\n            }\n          }\n        }\n        mediaVO.source.push(source);\n        mediaVO.medium = content[\'@attributes\'].medium;\n        mediaVO.duration = parseFloat(content[\'@attributes\'].duration);\n      }\n    } else {\n      mediaVO.type = mediaContent[\'@attributes\'].type;\n      mediaVO.src = mediaContent[\'@attributes\'].url;\n      mediaVO.medium = mediaContent[\'@attributes\'].medium;\n      mediaVO.duration = parseFloat(mediaContent[\'@attributes\'].duration);\n    }\n    mediaVO.guid = item.guid;\n    mediaVO.title = this.getMediaNode(item, "title");\n    mediaVO.link = item.link;\n    mediaVO.description = this.getMediaNode(item, "description");\n    mediaVO.pubDate = new Date(Date.parse(item.pubDate));\n    mediaVO.thumbnail = mediaVO.poster = (_ref = this.getMediaNode(item, \'thumbnail\')) != null ? (_ref1 = _ref[\'@attributes\']) != null ? _ref1.url : void 0 : void 0;\n    mediaVO.embed = this.createEmbed(item);\n    mediaVO.scenes = (_ref2 = this.getMediaNode(item, "scenes")) != null ? _ref2[\'media-scene\'] : void 0;\n    node = this.getMediaNode(item, "status", false);\n    if (node != null) {\n      mediaVO.status = {\n        state: node[\'@attributes\'].state,\n        reason: node[\'@attributes\'].reason\n      };\n    }\n    mediaVO.category = item.category;\n    if (!(mediaVO.category instanceof Array)) {\n      mediaVO.category = [mediaVO.category];\n    }\n    node = this.getMediaNode(item, "category", false);\n    if (node != null) {\n      for (_j = 0, _len1 = node.length; _j < _len1; _j++) {\n        category = node[_j];\n        if ((category["#text"] != null) && category["#text"] !== "") {\n          mediaVO.category.push(category["#text"]);\n        }\n      }\n    }\n    if (mediaVO.category != null) {\n      mediaVO.category.sort(function(a, b) {\n        a = a.toLowerCase();\n        b = b.toLowerCase();\n        if (a > b) {\n          return 1;\n        } else if (a < b) {\n          return -1;\n        } else {\n          return 0;\n        }\n      });\n    }\n    node = this.getMediaNode(item, "subTitle");\n    if (node != null) {\n      if (mediaVO.track == null) {\n        mediaVO.track = [];\n      }\n      if (!(node instanceof Array)) {\n        node = [node];\n      }\n      for (_k = 0, _len2 = node.length; _k < _len2; _k++) {\n        track = node[_k];\n        if (track["@attributes"] != null) {\n          mediaVO.track.push({\n            src: track["@attributes"].href,\n            type: track["@attributes"].type,\n            kind: "captioning",\n            srclang: track["@attributes"].lang || "en"\n          });\n        }\n      }\n    }\n    category = item.category;\n    if (!(category instanceof Array)) {\n      category = [category];\n    }\n    mediaVO.isLive = item.temporalType === "live" || ((category != null) && category.join(",").indexOf("live_stream") !== -1);\n    mediaVO.temporalType = mediaVO.isLive ? "live" : "ondemand";\n    for (key in item) {\n      value = item[key];\n      if (!(key in mediaVO)) {\n        mediaVO.metadata[key] = value;\n      }\n    }\n  } catch (error) {\n    Logger.error("[AMP Feed Parse Error] media parse error: " + error.message, error);\n  }\n  return mediaVO;\n};\n\nfunction Logger() {}\n\nLogger.enabled = false;\n\nLogger.enable = function(enabled) {\n  if (enabled == null) {\n    enabled = /debug\\=true/.test(location.search.toLowerCase());\n  }\n  this.enabled = enabled;\n  if (!this.enabled) {\n    this.log = this.trace = this.debug = this.info = this.warn = this.error = this.fatal = function() {};\n  }\n  return enabled;\n};\n\nLogger.log = function() {\n  try {\n    console.log.apply(console, arguments);\n  } catch (error) {\n\n  }\n};\n\nLogger.trace = function() {\n  try {\n    console.trace.apply(console, arguments);\n  } catch (error) {\n\n  }\n};\n\nLogger.debug = function() {\n  try {\n    console.log.apply(console, arguments);\n  } catch (error) {\n    this.log.apply(this, arguments);\n  }\n};\n\nLogger.info = function() {\n  try {\n    console.info.apply(console, arguments);\n  } catch (error) {\n\n  }\n};\n\nLogger.warn = function() {\n  try {\n    console.warn.apply(console, arguments);\n  } catch (error) {\n\n  }\n};\n\nLogger.error = function() {\n  try {\n    console.error.apply(console, arguments);\n  } catch (error) {\n    this.log.apply(this, arguments);\n  }\n};\n\nLogger.fatal = function() {\n  try {\n    console.fatal.apply(console, arguments);\n  } catch (error) {\n\n  }\n};\n\n/**\n * Creates a new EventDispatcher\n * \n * @constructor\n * @private\n * @implements {IEventDispatcher}\n*/\nfunction EventDispatcher(target, catchErrors) {\n  this.target = target != null ? target : this;\n  this.catchErrors = catchErrors != null ? catchErrors : true;\n  this.listenerMap = {};\n}\n\n/**\n * Adds a listener for a given event type.\n *\n * @param {!string}  type  A string representing the event\'s type.\n * @param {!Function} func  A function to call when the event is triggered.\n * @param {boolean=} capture\n*/\nEventDispatcher.prototype.addEventListener = function(type, func, capture) {\n  if (!(func != null) || !(type != null)) {\n    return;\n  }\n  if (!(this.listenerMap[type] != null)) {\n    this.listenerMap[type] = [];\n  }\n  if (this.listenerMap[type].indexOf(func) !== -1) {\n    return;\n  }\n  this.listenerMap[type].push(func);\n};\n\n/**\n * Dispathes and event, triggering all event listener of the event\'s type.\n *\n * @param {!IEvent} event The event to dispatch.\n*/\nEventDispatcher.prototype.dispatchEvent = function(event) {\n  var listener, listeners, _i, _len;\n  listeners = this.listenerMap[event.type];\n  listener = this.target["on" + event.type];\n  event.target = this.target;\n  if (listener != null) {\n    listener.apply(this.target, [event]);\n  }\n  if (!(listeners != null)) {\n    return;\n  }\n  for (_i = 0, _len = listeners.length; _i < _len; _i++) {\n    listener = listeners[_i];\n    listener.apply(this.target, [event]);\n  }\n};\n\nEventDispatcher.prototype.callListener = function(event, listener) {\n  try {\n    listener.apply(this.target, [event]);\n  } catch (error) {\n    if (this.catchErrors === true) {\n      this.processEventError(error, event, listener);\n    } else {\n      throw error;\n    }\n  }\n};\n\nEventDispatcher.prototype.processEventError = function(error, event, listener) {\n  var err, file, line;\n  file = error.fileName || error.sourceURL;\n  line = error.lineNumber || error.line;\n  err = {\n    message: error.message,\n    name: "AMP Event Listener Error",\n    file: file,\n    fileName: file,\n    line: line,\n    lineNumber: line,\n    error: error,\n    event: event,\n    listener: listener,\n    functionName: listener.name,\n    toString: function() {\n      var message;\n      message = "" + this.name + ":";\n      message += "\\n\\t" + (this.error.toString());\n      if (this.event != null) {\n        message += "\\n\\t\\tevent: " + this.event.type;\n      }\n      if (this.listener != null) {\n        message += "\\n\\t\\tfunction: " + this.listener.name;\n      }\n      if (this.file != null) {\n        message += "\\n\\t\\tfile: " + this.file;\n      }\n      if (this.line != null) {\n        message += "\\n\\t\\tline: " + this.line;\n      }\n      return message;\n    }\n  };\n  setTimeout(function (err) { throw err; }, 0, err);\n};\n\n/**\n * Removes a listener for a given event type.\n *\n * @param {!string}  type  A string representing the event\'s type.\n * @param {!Function} func  A function to call when the event is triggered.\n * @return {?Function} the handler that was removed if any\n * @param {boolean=} capture\n*/\nEventDispatcher.prototype.removeEventListener = function(type, func, capture) {\n  var index, listeners;\n  if (!(func != null) || !(type != null)) {\n    return;\n  }\n  listeners = this.listenerMap[type];\n  if (!(listeners != null)) {\n    return;\n  }\n  index = listeners != null ? listeners.indexOf(func) : void 0;\n  if (index === -1) {\n    return;\n  }\n  return listeners.splice(index, 1);\n};\n\n/**\n * @constructor\n * @private\n * @extends {EventDispatcher}\n*/\nfunction XHR() {\n  XHR.__super__.constructor.call(this);\n}\n\n\n__extends(XHR, EventDispatcher);\n\n\nXHR.prototype.xhr = null;\n\nXHR.prototype.headers = null;\n\nXHR.prototype.response = null;\n\nXHR.prototype.responseXML = null;\n\nXHR.prototype.responseText = null;\n\nXHR.prototype.responseType = null;\n\nXHR.prototype.withCredentials = false;\n\nXHR.prototype.readyState = 0;\n\nXHR.prototype.status = null;\n\nXHR.prototype.open = function(method, url) {\n  var xdr, xhr,\n    _this = this;\n  try {\n    xhr = new XMLHttpRequest();\n  } catch (error) {\n    xhr = new window.ActiveXObject("Microsoft.XMLHTTP");\n  }\n  if (XHR.isCORS(url)) {\n    if (Object.prototype.hasOwnProperty.call(xhr, "withCredentials")) {\n      try {\n        xhr.withCredentials = this.withCredentials;\n      } catch (error) {\n        Logger.warn("[AMP XHR WARNING]", "withCredentials not properly supported in this browser.", error);\n      }\n    } else if (typeof XDomainRequest !== "undefined") {\n      xdr = true;\n      xhr = new XDomainRequest();\n    }\n  }\n  if (xhr != null) {\n    if (xdr) {\n      xhr.onprogress = function() {};\n      xhr.ontimeout = function() {};\n      xhr.onerror = function() {};\n      xhr.onload = function(event) {\n        if (typeof xhr.onreadystatechange === \'function\') {\n          xhr.readyState = 4;\n          xhr.status = 200;\n          if (xhr.contentType.match(/\\/xml/)) {\n            xhr.responseXML = new ActiveXObject(\'Microsoft.XMLDOM\');\n            xhr.responseXML.async = false;\n            xhr.responseXML.loadXML(xhr.responseText);\n          }\n          xhr.onreadystatechange.call(xhr, event, false);\n        }\n      };\n    }\n    xhr.onreadystatechange = function(event) {\n      var _ref, _ref1;\n      _this.readyState = xhr.readyState;\n      _this.dispatchEvent(new Event("readystatechange", xhr));\n      if (xhr.readyState === 4) {\n        _this.status = xhr.status;\n        if ((199 < (_ref = _this.status) && _ref < 400) || _this.status === 0) {\n          if (xhr.responseText == null) {\n            xhr.responseText = xhr.text;\n          }\n          _this.responseText = xhr.responseText;\n          if ((xhr.responseXML != null) && ((_ref1 = xhr.responseXML.childNodes) != null ? _ref1.length : void 0) > 0) {\n            _this.response = _this.responseXML = xhr.responseXML;\n            _this.responseType = "document";\n          } else {\n            try {\n              _this.response = JSON.parse(xhr.responseText);\n              _this.responseType = "json";\n            } catch (error) {\n              _this.response = xhr.responseText;\n              _this.responseType = "text";\n            }\n          }\n          _this.dispatchEvent(new Event("load", _this));\n        } else {\n          if (_this.status !== 0) {\n            _this.dispatchEvent(new Event("error", _this));\n          }\n        }\n      }\n    };\n    try {\n      if (typeof xhr.onerror !== "undefined") {\n        xhr.onerror = function(event) {\n          _this.dispatchEvent(new Event("error", _this));\n        };\n      }\n    } catch (error) {\n\n    }\n    xhr.open(method, url);\n  }\n  this.xhr = xhr;\n};\n\nXHR.prototype.send = function(data) {\n  var key, value, _ref,\n    _this = this;\n  if (this.headers != null) {\n    _ref = this.headers;\n    for (key in _ref) {\n      value = _ref[key];\n      if ((key != null) && (value != null)) {\n        this.xhr.setRequestHeader(key, value);\n      }\n    }\n  }\n  setTimeout(function() {\n    _this.xhr.send(data);\n  }, 0);\n};\n\nXHR.prototype.setRequestHeader = function(key, value) {\n  if (!(key != null) || !(value != null)) {\n    return;\n  }\n  if (this.headers == null) {\n    this.headers = {};\n  }\n  this.headers[key] = value;\n};\n\nXHR.prototype.setRequestHeaders = function(headers) {\n  this.headers = headers;\n  return headers;\n};\n\nXHR.prototype.getResponseHeader = function(name) {\n  var _ref;\n  return (_ref = this.xhr) != null ? typeof _ref.getResponseHeader === "function" ? _ref.getResponseHeader(name) : void 0 : void 0;\n};\n\nXHR.prototype.getAllResponseHeaders = function() {\n  var _ref;\n  return (_ref = this.xhr) != null ? typeof _ref.getAllResponseHeaders === "function" ? _ref.getAllResponseHeaders() : void 0 : void 0;\n};\n\nXHR.isCORS = function(url) {\n  var hostname, parser, port, protocol;\n  parser = document.createElement(\'a\');\n  parser.href = url;\n  hostname = parser.hostname !== "" ? parser.hostname : location.hostname;\n  port = parser.port !== "0" ? parser.port : location.port;\n  protocol = parser.protocol !== ":" ? parser.protocol : location.protocol;\n  return location.protocol !== protocol || location.hostname !== hostname || location.port !== port && !(location.port === "" && port === "80");\n};\n\nfunction Utils() {}\n\nUtils.blankImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC";\n\nUtils.mimeTypes = {\n  mp4: "video/mp4",\n  flv: "video/x-flv",\n  f4m: "video/f4m",\n  smil: "application/smil",\n  smilxml: "application/smil+xml",\n  m3u8: "application/x-mpegURL",\n  mp3: "audio/mpeg",\n  json: "application/json",\n  txt: "text/plain",\n  xml: "application/xml",\n  ogv: "video/ogg",\n  webm: "video/webm",\n  mpd: "application/dash+xml",\n  ism: "application/vnd.ms-sstr+xml",\n  js: "text/javascript",\n  css: "text/css",\n  swf: "application/x-shockwave-flash"\n};\n\nUtils.flashTypes = [Utils.mimeTypes.mp4, Utils.mimeTypes.flv, Utils.mimeTypes.f4m, Utils.mimeTypes.smil, Utils.mimeTypes.smilxml];\n\nUtils.rules = {\n  flashTablets: {\n    label: "Android 2 & 3 or Kindle Fire 1",\n    regexp: "Android [23]|Silk\\/1"\n  },\n  html5Phones: {\n    label: "iPhone",\n    regexp: "iPhone"\n  },\n  html5Tablets: {\n    label: "HTML5 Tablets",\n    regexp: "iPad|Android [4-9]|Silk\\/2"\n  },\n  desktop: {\n    label: "Desktop",\n    regexp: "^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"\n  }\n};\n\nUtils.getPlaybackMode = function(mode) {\n  var key, valid, value, _ref;\n  if (mode == null) {\n    mode = ((_ref = QueryString["amp-mode"]) != null ? _ref.toLowerCase() : void 0) || PlaybackMode.AUTO;\n  }\n  valid = false;\n  this.ieFallback();\n  for (key in PlaybackMode) {\n    value = PlaybackMode[key];\n    if (value === mode) {\n      valid = true;\n      break;\n    }\n  }\n  if (!valid) {\n    mode = PlaybackMode.AUTO;\n  }\n  if (mode !== PlaybackMode.AUTO) {\n    if (mode === PlaybackMode.FLASH && !this.hasFlash()) {\n      mode = PlaybackMode.NONE;\n    }\n    return mode;\n  }\n  if (!this.hasFlash()) {\n    mode = this.supportsHTML5Video() ? PlaybackMode.HTML : PlaybackMode.NONE;\n  }\n  if (mode === PlaybackMode.AUTO) {\n    mode = this.isHTML5() ? PlaybackMode.HTML : PlaybackMode.FLASH;\n  }\n  return mode;\n};\n\nUtils.mergeRules = function(rules) {\n  var id, rule, _results;\n  _results = [];\n  for (id in rules) {\n    rule = rules[id];\n    _results.push(Utils.rules[id] = rule);\n  }\n  return _results;\n};\n\nUtils.checkRules = function(rules) {\n  var id, regExp, rule, _i, _len;\n  if ((rules != null) && rules.length > 0) {\n    for (_i = 0, _len = rules.length; _i < _len; _i++) {\n      id = rules[_i];\n      if (!(rule = Utils.rules[id])) {\n        continue;\n      }\n      regExp = new RegExp(rule.regexp);\n      if (regExp.test(navigator.userAgent)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nUtils.selectSource = function(sources, canPlayType) {\n  var item, _i, _j, _len, _len1;\n  for (_i = 0, _len = sources.length; _i < _len; _i++) {\n    item = sources[_i];\n    if (Utils.checkRules(item.rules)) {\n      return item;\n    }\n  }\n  for (_j = 0, _len1 = sources.length; _j < _len1; _j++) {\n    item = sources[_j];\n    if (canPlayType(item.type || Utils.getMimeType(item.src)) !== "") {\n      return item;\n    }\n  }\n  return null;\n};\n\nUtils.getMimeType = function(file) {\n  return this.mimeTypes[Utils.getFileExtension(file)];\n};\n\nUtils.selectTrack = function(tracks, kind) {\n  var item, track, _i, _len;\n  for (_i = 0, _len = tracks.length; _i < _len; _i++) {\n    item = tracks[_i];\n    if (!(item.kind === kind)) {\n      continue;\n    }\n    track = item;\n    break;\n  }\n  return track;\n};\n\nUtils.isIPhone = function() {\n  return /iPhone/.test(navigator.platform) || /iPhone/.test(navigator.userAgent);\n};\n\nUtils.isIPad = function() {\n  return /iPad/.test(navigator.platform) || /iPad/.test(navigator.userAgent);\n};\n\nUtils.isAndroid = function() {\n  return /Android [4-9]/.test(navigator.userAgent);\n};\n\nUtils.isKindleFireHD = function() {\n  return /Silk\\/2/.test(navigator.userAgent);\n};\n\nUtils.isKindleFire = function() {\n  return /Silk\\/1/.test(navigator.userAgent);\n};\n\nUtils.isBlackBerry = function() {\n  return /BlackBerry;|PlayBook|BB10/.test(navigator.userAgent);\n};\n\nUtils.isFirefoxOS = function() {\n  return /\\(Mobile;.*Firefox\\//.test(navigator.userAgent);\n};\n\nUtils.supportsHTML5Video = function() {\n  var video;\n  video = document.createElement("video");\n  return video.canPlayType != null;\n};\n\nUtils.isHTML5 = function() {\n  return this.isIOS() || this.isAndroid() || this.isKindleFireHD() || this.isBlackBerry() || this.isFirefoxOS();\n};\n\nUtils.isIOS = function() {\n  var iOSRegEx, isIOS;\n  iOSRegEx = /iPad|iPhone|iPod/i;\n  return isIOS = iOSRegEx.test(navigator.platform) || iOSRegEx.test(navigator.userAgent);\n};\n\nUtils.getIOSversion = function() {\n  var ver;\n  if (/iP(hone|od|ad)/.test(navigator.platform)) {\n    ver = navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    return [parseInt(ver[1], 10), parseInt(ver[2], 10), parseInt(ver[3] || 0, 10)];\n  }\n};\n\nUtils.hasFlash = function() {\n  return swfobject.hasFlashPlayerVersion("1");\n};\n\nUtils.isFullscreenDevice = function() {\n  return this.isKindleFireHD() || this.isIPhone();\n};\n\nUtils.getDevice = function() {\n  var device;\n  device = null;\n  if (this.isIPhone()) {\n    device = "iphone";\n  } else if (this.isIPad()) {\n    device = "ipad";\n  } else if (/Android/.test(navigator.userAgent)) {\n    device = "android";\n  } else if (this.isKindleFireHD()) {\n    device = "kindlefirehd";\n  } else if (this.isKindleFire()) {\n    device = "kindlefire";\n  } else if (/Mac|Win32/.test(navigator.platform)) {\n    device = "desktop";\n  }\n  return device;\n};\n\nUtils.xmlToJson = function(xml) {\n  var attribute, child, element, index, nodeName, obj, _i, _j, _len, _len1, _ref, _ref1;\n  obj = {};\n  if (xml.nodeType === 9) {\n    xml = xml.firstChild;\n  }\n  if (xml.nodeType === 1) {\n    if (xml.attributes.length > 0) {\n      obj["@attributes"] = {};\n      _ref = xml.attributes;\n      for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n        attribute = _ref[index];\n        obj["@attributes"][attribute.nodeName] = attribute.nodeValue;\n      }\n    }\n  } else if (xml.nodeType === 3 || xml.nodeType === 4) {\n    obj = xml.nodeValue;\n  }\n  if (xml.hasChildNodes()) {\n    _ref1 = xml.childNodes;\n    for (index = _j = 0, _len1 = _ref1.length; _j < _len1; index = ++_j) {\n      child = _ref1[index];\n      if (child.nodeType === 3 && !/\\S/.test(child.nodeValue)) {\n        continue;\n      }\n      nodeName = child.nodeName.replace(/:/, "-");\n      element = this.xmlToJson(child);\n      if (!(element["@attributes"] != null) && (element["#text"] != null)) {\n        element = element["#text"];\n      }\n      if (!(obj[nodeName] != null)) {\n        obj[nodeName] = element;\n      } else {\n        if (!(obj[nodeName] instanceof Array)) {\n          obj[nodeName] = [obj[nodeName]];\n        }\n        obj[nodeName].push(element);\n      }\n    }\n  }\n  return obj;\n};\n\n/**\n * Returns a platform specific XHR object.\n * \n * @static\n*/\nUtils.getXHR = function() {\n  return new XHR();\n};\n\n/**\n * Retrieves a remote text file\n * \n * @static\n*/\nUtils.get = function(url, client, headers) {\n  var xhr;\n  if (client == null) {\n    client = {};\n  }\n  if (headers == null) {\n    headers = null;\n  }\n  xhr = Utils.getXHR();\n  if (client != null) {\n    if (client.withCredentials != null) {\n      xhr.withCredentials = client.withCredentials;\n    }\n    if (client.onload != null) {\n      xhr.onload = client.onload;\n    }\n    if (client.onerror != null) {\n      xhr.onerror = client.onerror;\n    }\n  }\n  xhr.open("GET", url);\n  if (headers != null) {\n    xhr.setRequestHeaders(headers);\n  }\n  xhr.send();\n  return xhr;\n};\n\n/**\n * Posts a string to NetStorage.\n * \n * @static\n*/\nUtils.send = function(url, data, client, headers) {\n  var xhr;\n  if (client == null) {\n    client = {};\n  }\n  if (headers == null) {\n    headers = {\n      "Content-Type": "String"\n    };\n  }\n  xhr = Utils.getXHR();\n  if (client.onload != null) {\n    xhr.onload = client.onload;\n  }\n  if (client.onerror != null) {\n    xhr.onerror = client.onerror;\n  }\n  xhr.open("POST", url);\n  if (headers != null) {\n    xhr.setRequestHeaders(headers);\n  }\n  xhr.send(data);\n  return xhr;\n};\n\n/**\n * Attaches a JavaScript file to the head of the document.\n * \n * @static\n*/\nUtils.loadScript = function(src, onload, parent) {\n  var head, script;\n  head = parent || document.getElementsByTagName("head")[0];\n  script = document.createElement("script");\n  script.type = \'text/javascript\';\n  if (onload != null) {\n    if (script.addEventListener) {\n      script.onload = function(event) {\n        onload();\n      };\n    } else if (script.readyState) {\n      script.onreadystatechange = function(event) {\n        if (this.readyState === \'loaded\' || this.readyState === \'complete\') {\n          this.onreadystatechange = null;\n          onload();\n        }\n      };\n    }\n  }\n  script.src = src;\n  head.appendChild(script);\n  return script;\n};\n\n/**\n * Attaches a CSS file to the head of the document.\n * \n * @static\n*/\nUtils.loadStyleSheet = function(href) {\n  var head, link;\n  head = document.getElementsByTagName("head")[0];\n  link = document.createElement("link");\n  link.rel = "stylesheet";\n  link.type = \'text/css\';\n  link.href = href;\n  return head.appendChild(link);\n};\n\nUtils.read = function(url, client, type, headers) {\n  var text, xhr;\n  if (client == null) {\n    client = {};\n  }\n  if (type == null) {\n    type = "";\n  }\n  if (headers == null) {\n    headers = [];\n  }\n  try {\n    xhr = this.get(url, client, headers);\n    text = xhr.responseText || xhr.text;\n    if (type === Utils.mimeTypes.json) {\n      return JSON.parse(text);\n    } else if ((type === Utils.mimeTypes.xml) && (xhr.responseXML != null)) {\n      return xhr.responseXML;\n    } else {\n      return text;\n    }\n  } catch (error) {\n    if (typeof console !== "undefined" && console !== null) {\n      if (typeof console.error === "function") {\n        console.error("Read Error: ", error);\n      }\n    }\n    return null;\n  }\n};\n\nUtils.getFileExtension = function(url) {\n  return url.split(\'.\').pop().replace(/\\?.*/, "");\n};\n\nUtils.getResponseHeader = function(url, header, client) {\n  var xhr;\n  if (client == null) {\n    client = {};\n  }\n  xhr = Utils.getXHR();\n  if (client.onerror != null) {\n    xhr.onerror = client.onerror;\n  }\n  xhr.open("HEAD", url, false);\n  xhr.send();\n  return xhr.getResponseHeader(header);\n};\n\nUtils.getResponseHeaders = function(url, headers, client) {\n  var header, results, xhr, _i, _len;\n  if (client == null) {\n    client = {};\n  }\n  xhr = Utils.getXHR();\n  if (client.onerror != null) {\n    xhr.onerror = client.onerror;\n  }\n  xhr.open("HEAD", url, false);\n  xhr.send();\n  results = {};\n  if (!(headers != null)) {\n    return xhr.getAllResponseHeaders();\n  }\n  for (_i = 0, _len = headers.length; _i < _len; _i++) {\n    header = headers[_i];\n    results[header] = xhr.getResponseHeader(header);\n  }\n  return results;\n};\n\n/**\n * Determines if the device supports touch events\n * \n * @static\n*/\nUtils.isTouch = null;\n\n/**\n * Determines if the device supports touch events\n * \n * @static\n*/\nUtils.isTouchDevice = function() {\n  if (!(this.isTouch != null)) {\n    try {\n      document.createEvent("TouchEvent");\n      this.isTouch = true;\n    } catch (error) {\n      this.isTouch = false;\n    }\n  }\n  return this.isTouch;\n};\n\n/**\n * Forces a number between a min and a max\n * \n * @static\n*/\nUtils.clamp = function(value, min, max) {\n  if (value < min) {\n    value = min;\n  }\n  if (value > max) {\n    value = max;\n  }\n  return value;\n};\n\n/**\n * Beacons a url via an img tag\n * \n * @static\n*/\nUtils.beacon = function(url) {\n  var beaconImg;\n  beaconImg = document.getElementById("beaconId");\n  if (!(beaconImg != null)) {\n    beaconImg = document.createElement("img");\n    beaconImg.setAttribute("id", "beaconId");\n    beaconImg.setAttribute("height", 0);\n    beaconImg.setAttribute("width", 0);\n    document.body.appendChild(beaconImg);\n    beaconImg.style.display = "none";\n  }\n  beaconImg.setAttribute("src", url);\n  return beaconImg;\n};\n\n/**\n * Beacons a url via an img tag\n * \n * @static\n*/\nUtils.getElementOffset = function(element) {\n  var offset;\n  offset = {\n    left: 0,\n    top: 0\n  };\n  if (element.offsetParent) {\n    offset.left = element.offsetLeft;\n    offset.top = element.offsetTop;\n    while ((element = element.offsetParent)) {\n      offset.left += element.offsetLeft;\n      offset.top += element.offsetTop;\n    }\n  }\n  return offset;\n};\n\n/**\n * Override the properties of a base object with the values\n * of an override object.\n * \n * @param {Object} base     The base object.\n * @param {Object} overrides  key/value overrides\n * @return {Object} \n * @static\n*/\nUtils.override = function(base, overrides, clone) {\n  var key, value;\n  if (clone == null) {\n    clone = true;\n  }\n  if (!(base != null)) {\n    return overrides;\n  }\n  if (!(overrides != null)) {\n    return base;\n  }\n  if (clone === true) {\n    base = Utils.clone(base);\n    overrides = Utils.clone(overrides);\n  }\n  for (key in overrides) {\n    value = overrides[key];\n    if (typeof value === "object") {\n      if (base[key] == null) {\n        base[key] = value instanceof Array ? [] : {};\n      }\n      base[key] = Utils.override(base[key], value, false);\n    } else {\n      base[key] = value;\n    }\n  }\n  return base;\n};\n\n/**\n * Clones an object.\n * \n * @param {Object} obj The object to be cloned.\n * @return {Object}\n * @static\n*/\nUtils.clone = function(obj, deepCopy) {\n  var clone, item, k, key, v, value, _i, _len;\n  if (deepCopy == null) {\n    deepCopy = true;\n  }\n  if (typeof obj !== "object") {\n    clone = obj;\n  } else {\n    if (obj instanceof Array) {\n      clone = [];\n    } else {\n      clone = {};\n    }\n    for (key in obj) {\n      value = obj[key];\n      if (typeof value === "object" && deepCopy === true) {\n        if (value instanceof Array) {\n          clone[key] = [];\n          for (_i = 0, _len = value.length; _i < _len; _i++) {\n            item = value[_i];\n            clone[key].push(this.clone(item));\n          }\n        } else {\n          clone[key] = {};\n          for (k in value) {\n            v = value[k];\n            clone[key][k] = this.clone(v);\n          }\n        }\n      } else {\n        clone[key] = value;\n      }\n    }\n  }\n  return clone;\n};\n\n/**\n * Takes a time in seconds and converts it to timecode.\n * \n * @param   {Number}  time  The time in seconds to be formatted.\n * @return  {String}  A SMTP formatted string.\n*/\nUtils.formatTimecode = function(time, duration) {\n  var strTime;\n  time = parseInt(time);\n  if (isNaN(time)) {\n    return "00:00";\n  }\n  strTime = Utils.formatZeroFill(time % 60);\n  time = parseInt(time / 60);\n  strTime = Utils.formatZeroFill(time % 60) + ":" + strTime;\n  time = parseInt(time / 60);\n  if (time > 0) {\n    strTime = Utils.formatZeroFill(time) + ":" + strTime;\n  }\n  if (duration >= 3600 && strTime.length === 5) {\n    strTime = "00:" + strTime;\n  }\n  return strTime;\n};\n\n/**\n * Converts a time in seconds to a string and adds a zero in front of any number lower than 10.\n * \n * @param Number time The number to be zero filled.\n*/\nUtils.formatZeroFill = function(time) {\n  var str;\n  str = time.toString();\n  if (time < 10) {\n    str = "0" + str;\n  }\n  return str;\n};\n\n/**\n * Converts timecode to seconds.\n * \n * @param   {string}  timeCode        A SMTP formatted string.\n * @param   {number}  [framerate=30]  The frame rate. Used to calculate milliseconds.\n * @return  {number}                  The number of seconds represented by the time code\n*/\nUtils.flattenTimecode = function(timeCode, framerate) {\n  var ms, parts, pieces, time;\n  if (framerate == null) {\n    framerate = 30;\n  }\n  if (!(timeCode != null) || timeCode === "") {\n    return NaN;\n  }\n  pieces = timeCode.split(":");\n  ms = 0;\n  if (pieces.length === 4) {\n    ms = parseInt(pieces.pop()) / framerate;\n  } else if (pieces.length === 3) {\n    pieces[2] = pieces[2].replace(",", ".");\n    if (pieces[2].indexOf(".") !== -1) {\n      parts = pieces[2].split(".");\n    }\n    if ((parts != null ? parts.length : void 0) > 1) {\n      pieces[2] = parts[0];\n      ms = parseInt(parts[1]) / 1000;\n    }\n  }\n  time = parseInt(pieces.pop());\n  while (pieces.length > 0) {\n    time += Math.pow(60, pieces.length) * parseInt(pieces.shift());\n  }\n  return time + ms;\n};\n\n/**\n * Adds a cache busting query string parameter to a url.\n * \n * @param String url The url.\n * @param String key The name of the query string variable\n * @param Object value The value of the query string variable\n*/\nUtils.cacheBust = function(url, key, value) {\n  var op;\n  if (key == null) {\n    key = "cacheBust";\n  }\n  if (value == null) {\n    value = Date.now();\n  }\n  op = url.indexOf(\'?\') === -1 ? "?" : "&";\n  return url + op + key + "=" + value;\n};\n\n/**\n * Converts a camel case string in to a CSS proptery name.\n*/\nUtils.formatStyleName = function(styleName) {\n  return styleName.replace(/([A-Z])/, "-$1").toLowerCase();\n};\n\n/**\n * Trims whitespace from the beginning and end of a string\n*/\nUtils.trim = function(str) {\n  var trim;\n  trim = str.replace(/^\\s*(.*)/, "$1");\n  return trim.replace(/(.*)\\s*$/, "$1");\n};\n\n/**\n*/\nUtils.getJson = function(url, onload, onerror) {\n  var xhr;\n  xhr = Utils.getXHR();\n  xhr.open("GET", url);\n  xhr.onload = function(event) {\n    var feed;\n    if (xhr.responseType === "document") {\n      feed = Utils.xmlToJson(xhr.responseXML);\n    } else {\n      feed = xhr.response;\n    }\n    if (typeof onload === "function") {\n      onload(feed);\n    }\n  };\n  xhr.onerror = function(event) {\n    if (typeof onerror === "function") {\n      onerror(event);\n    }\n  };\n  xhr.send();\n  return xhr;\n};\n\n/**\n*/\nUtils.getSource = function(url, onload, onerror) {\n  var feedloadedHandler, mode;\n  mode = Utils.getPlaybackMode();\n  feedloadedHandler = function(feed) {\n    var canPlayType, helper, source, _ref;\n    helper = new MRSSHelper();\n    feed = helper.createFeed(feed);\n    if ((feed != null ? (_ref = feed.item) != null ? _ref.length : void 0 : void 0) > 0) {\n      canPlayType = function(type) {\n        if ((mode === "flash" && Utils.flashTypes.indexOf(type) !== -1) || (mode === "html" && Utils.flashTypes.indexOf(type) === -1)) {\n          return "maybe";\n        } else {\n          return "";\n        }\n      };\n      source = Utils.selectSource(feed.item[0].source, canPlayType);\n    }\n    if (typeof onload === "function") {\n      onload(source);\n    }\n  };\n  Utils.getJson(url, feedloadedHandler, onerror);\n};\n\n/**\n*/\nUtils.trackMouse = function() {\n  try {\n    if (document.addEventListener != null) {\n      document.addEventListener("mousemove", this.mouseTracker);\n    } else if (document.attachEvent != null) {\n      document.attachEvent("mousemove", this.mouseTracker);\n    }\n  } catch (error) {\n\n  }\n};\n\nUtils.clientX = 0;\n\nUtils.clientY = 0;\n\nUtils.pageX = 0;\n\nUtils.pageY = 0;\n\n/**\n*/\nUtils.mouseTracker = function(event) {\n  Utils.clientX = event.clientX;\n  Utils.clientY = event.clientY;\n  Utils.pageX = event.pageX;\n  Utils.pageY = event.pageY;\n};\n\n/**\n*/\nUtils.isMouseOverElement = function(element) {\n  var isOver;\n  isOver = false;\n  if (!(element != null)) {\n    return isOver;\n  }\n  try {\n    isOver = element.contains(document.elementFromPoint(Utils.clientX, Utils.clientY));\n  } catch (error) {\n    isOver = false;\n  }\n  return isOver;\n};\n\nUtils.trackMouse();\n\n/** Function to get Outer Dimensions\n*/\nUtils.getActualSize = function(element, margin) {\n  var height, style, width;\n  if (margin == null) {\n    margin = true;\n  }\n  width = element.offsetWidth;\n  height = element.offsetHeight;\n  if (margin === true) {\n    style = getComputedStyle(element);\n    width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n    height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n  }\n  return {\n    "width": width,\n    "height": height\n  };\n};\n\n/** Function to Handle Array Filter IE8 Fallback\n*/\nUtils.ieFallback = function() {\n  if (!Array.prototype.filter) {\n    return Array.prototype.filter = function(callback) {\n      "use strict";\n\n      var i, item, len, res, t, thisp, val, _i, _len;\n      if (!(typeof this !== "undefined" && this !== null)) {\n        throw new TypeError();\n      }\n      t = Object(this);\n      len = t.length >>> 0;\n      if (typeof callback !== "function") {\n        throw new TypeError();\n      }\n      res = [];\n      thisp = arguments[1];\n      for (i = _i = 0, _len = len.length; _i < _len; i = ++_i) {\n        item = len[i];\n        if (i in b) {\n          val = t[i];\n          if (callback.call(thisp, val, i, t)) {\n            res.push(val);\n          }\n        }\n      }\n      return res;\n    };\n  }\n};\n\n/**\n * The AMPConfig class\n *   \n * @constructor\n * @private\n * @extends {EventDispatcher}\n*/\nfunction AMPConfig() {\n  AMPConfig.__super__.constructor.call(this, this, false);\n}\n\n\n__extends(AMPConfig, EventDispatcher);\n\n\nAMPConfig.UNINITIALIZED = 0;\n\nAMPConfig.LOADING = 1;\n\nAMPConfig.LOADED = 2;\n\n/**\n * Converst XML to a native JS object\n * \n * @param   {Element} xml   The XML to convert\n * @return  {Object}\n * @static\n*/\nAMPConfig.parseModule = function(xml) {\n  var child, childNodes, count, i, k, node, obj, _i, _len;\n  obj = {};\n  i = 0;\n  childNodes = xml.childNodes;\n  count = childNodes.length;\n  k = 0;\n  node = null;\n  child = null;\n  for (_i = 0, _len = childNodes.length; _i < _len; _i++) {\n    node = childNodes[_i];\n    if ((node != null ? node.nodeType : void 0) === 1) {\n      obj[node.nodeName] = this.parseItem(node);\n    }\n  }\n  return obj;\n};\n\nAMPConfig.parseItem = function(node) {\n  var child, children, type, value, _i, _len;\n  type = ("" + (node.getAttribute(\'type\'))).toLowerCase();\n  value = node.textContent || node.text || node.innerText;\n  if (type !== "object" && type !== "array" && /#\\{.*\\}/.test(value)) {\n    return value;\n  }\n  switch (type) {\n    case "object":\n      value = this.parseModule(node);\n      break;\n    case "array":\n      value = [];\n      children = node.childNodes;\n      for (_i = 0, _len = children.length; _i < _len; _i++) {\n        child = children[_i];\n        if (child.nodeType !== 1) {\n          continue;\n        }\n        value.push(this.parseItem(child));\n      }\n      break;\n    case "boolean":\n      value = value.toLowerCase() === "true";\n      break;\n    case "number":\n      value = parseFloat(value);\n  }\n  return value;\n};\n\nAMPConfig.prototype.url = null;\n\nAMPConfig.prototype.data = {"paths":{"player":"../amp.premier/","resources":"../resources/"},"resources":[{"src":"#{paths.player}amp.premier.css","type":"text/css"}],"rules":{"android_4_gets_m3u8":{"regexp":"Android 4"}},"autoplay":true,"loop":false,"target":"_blank","domain":"akamai.com","fullscreen":{},"controls":{},"volumepanel":{"direction":"vertical"},"captioning":{},"playoverlay":{},"flash":{"swf":"#{paths.player}AkamaiPremierPlayer.swf","debug":"#{paths.player}AkamaiPremierPlayer-debug.swf","expressInstallSWF":"#{paths.player}playerProductInstall.swf","static":{"enabled":false,"swf":"#{paths.player}AkamaiPremierPlayer-static.swf","debug":"#{paths.player}AkamaiPremierPlayer-debug.swf"},"view":{"attributes":{"skin":"#{paths.player}premier.assets.swf"},"elements":{"infoOverlay":{"attributes":{"style":"top: 0px;"}},"recommendationSlate":{"attributes":{"viewMode":"grid","items":"5"}},"adOptions":{"attributes":{"style":"backgroundColor: \'rgba(0, 0, 0, 1)\'"},"elements":{"adChoices":{"attributes":{"target":"http://www.akamai.com/"}},"adCountdown":{},"adCount":{}}},"captionDisplay":{"attributes":{"initState":"cookie","position":"relative","style":"bottom: 0px; windowColor:0x000000; windowOpacity:0; font:Arial; fontColor:0xffffff; fontOpacity:1; fontBGColor:0x000000; fontBGOpacity:0; edgeType:none; edgeColor:0x000000; edgeOpacity:1; scroll:popOut; fontSize:12;","settingsEnabled":"true"}},"logoOverlay":{"attributes":{"style":"width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; background-image: url(\'../resources/images/sola.png\');"}},"controls":{"attributes":{"height":"28","scrubPosition":"inline","itemMargin":"5"},"elements":{"replayBtn":{},"playPauseBtn":{},"streamTimeIndicator":{"attributes":{"exclude":"live"},"elements":{"streamTime":{},"streamDuration":{}}},"rewindBtn":{},"scrubBar":{"attributes":{"style":"height: 18px;"}},"progressBar":{"attributes":{"style":"background: linear-gradient(90deg, #FF0000, #1B1B1B);"}},"loadedBar":{"attributes":{"style":"background: linear-gradient(90deg, #00FF00, #1B1B1B);"}},"liveIndicator":{},"timeLocationIndicator":{},"goLiveBtn":{},"shareBtn":{},"captionBtn":{},"statsBtn":{},"hdClientBtn":{},"chromecastBtn":{},"volumeBar":{"attributes":{"color":"#CA2127"}},"volumeBtn":{},"fullscreenBtn":{}}},"endSlate":{"attributes":{"enabled":"true","hideElements":"brandingLogo|viewAll"}},"replayView":{},"bufferingView":{}}},"xml":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?><application><player ad_control_enabled=\\"true\\" ad_server_timeout=\\"20\\" auto_play=\\"true\\" auto_play_list=\\"false\\" branding_preload=\\"primary\\" core_ads_enabled=\\"false\\" core_player_name=\\"fullpage\\" data_feed_url=\\"resources/feeds/mrss.json\\" domain=\\"aep.com\\" email_send_url=\\"\\" embed_domain=\\"aep.com\\" eventmanagementstates_enabled=\\"true\\" eventmanagementstates_status_interval=\\"5\\" eventmanagementstates_status_url=\\"resources/status/playerstate.txt\\" external_target=\\"_blank\\" hds_bootstrap_max_retries=\\"5\\" hds_fragment_retry_attempts=\\"60\\" hds_fragment_retry_data_gap_threshold=\\"20\\" hds_live_low_latency=\\"true\\" js_callback=\\"AEP.jsCallbackHandler\\" live_stream_flag=\\"/v/feed/live/\\" live_timestamp_mode=\\"1\\" live_timestamp_source=\\"stream\\" live_timestamp_timezone_offset=\\"-5\\" live_timestamp_timezone_string=\\"ET\\" locale_setting=\\"en\\" mbr_start_index=\\"2\\" netsession_install_prompt_frequency_secs=\\"-1\\" next_video_timer=\\"15\\" recommendations_partner=\\"mrss\\" rewind_interval=\\"15\\" scale_view_to_fit=\\"true\\" show_autoplay_overlay=\\"false\\" show_email_overlay=\\"false\\" show_sharing_overlay=\\"false\\" subply_time_method=\\"encoder\\" tve_app_vcs=\\"/vcs\\" tve_beacon_domain=\\"http://idp.securetve.com\\" tve_beacon_interval=\\"30\\" tve_beacon_path=\\"/rest/1.0\\" tve_enabled=\\"false\\" tve_provider_id=\\"urn:aep:com:sp:site:2\\" use_last_known_bitrate=\\"false\\" use_netsession_client=\\"true\\" valid_embed_params=\\"guid,embedWidth,embedHeight\\" video_id=\\"4168856\\" volume=\\".5\\"></player><view skin=\\"../resources/webmd/webmd.assets.swf\\"><element id=\\"infoOverlay\\" style=\\"bottom: 0px;\\"></element><element id=\\"captionDisplay\\" initState=\\"cookie\\" position=\\"relative\\" settingsEnabled=\\"true\\" style=\\"bottom:26%; height:13%; windowColor:0xffffff; windowOpacity:1; font:Arial; fontColor:0xff0000; fontOpacity:1; fontBGColor:0xffffff; fontBGOpacity:1; edgeType:right_drop_shadow; edgeColor:0x00ff00; edgeOpacity:1; scroll:popOut; fontSize:12;\\"></element><element id=\\"logoOverlay\\" style=\\"width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; background-image: url(\'resources/images/sola.png\');\\"></element><element id=\\"adOptions\\" style=\\"backgroundColor: rgba(0, 255, 0, 1)\\"><element id=\\"adChoices\\" target=\\"http://www.akamai.com/\\"></element><element id=\\"adCountdown\\" style=\\"fontFamily:Helvetica;fontWeight:bold;color:#ffffff;backgroundColor:#ff00ff;\\"></element><element id=\\"adCount\\" style=\\"fontFamily:Verdana;fontWeight:normal;color:#ffffff;backgroundColor:#00ffff;\\"></element></element><element autoHideDelay=\\"2\\" backgroundAlpha=\\"1\\" height=\\"31\\" id=\\"controls\\" itemMargin=\\"0\\" scrubPosition=\\"top\\" transitionTime=\\".50\\"><element id=\\"replayBtn\\"></element><element exclude=\\"vod\\" id=\\"rewindBtn\\"></element><element id=\\"playPauseBtn\\"></element><element color=\\"#FFFFFF\\" id=\\"timeLocationIndicator\\" type=\\"line\\"></element><element collapsedHeight=\\"3\\" id=\\"scrubBar\\" style=\\"height: 3px; background: linear-gradient(90deg, #333333 #333333);\\"></element><element id=\\"progressBar\\" style=\\"background: linear-gradient(90deg, #0f4881 #0f4881);\\"></element><element id=\\"loadedBar\\" style=\\"background: linear-gradient(90deg, #848484 #848484);\\"></element><element exclude=\\"live\\" id=\\"streamTimeIndicator\\" position=\\"left\\"><element color=\\"#7a7272\\" fontSize=\\"38\\" id=\\"streamTime\\"></element><element fontSize=\\"38\\" id=\\"streamDuration\\"></element></element><element id=\\"liveIndicator\\" position=\\"left\\" style=\\"color: #ffffff; fontWeight: bold; fontSize: 12\\"></element><element id=\\"goLiveBtn\\" style=\\"color: #666666; fontWeight: bold; backgroundColor:#000000; fontSize: 12\\"></element><element autoHideDelay=\\".3\\" backgroundColor=\\"rgba(251,251,251,1)\\" color=\\"#174170\\" id=\\"volumeBar\\" position=\\"top\\" trackColor=\\"#616262\\" trackWidth=\\"8\\" width=\\"28\\"></element><element id=\\"volumeBtn\\"></element><element id=\\"captionBtn\\"></element><element id=\\"fullscreenBtn\\"></element><state enabled=\\"favoriteBtn,replayBtn,streamTime,streamDuration,shareBtn,settingsBtn,volumeBtn,fullscreenBtn\\" id=\\"postPlayback\\"></state></element><element id=\\"bufferingView\\" mode=\\"loader\\" tether=\\"false\\"></element><element id=\\"loadingView\\" increments=\\"12\\" radius=\\"20\\"></element><element enabled=\\"false\\" hideElements=\\"brandingLogo|viewAll\\" id=\\"endSlate\\"></element><element enabled=\\"false\\" id=\\"replayView\\"></element></view></application>"},"branding":{"logo":"#{paths.resources}images/akamai_logo1.png"},"dash":{"resources":[{"type":"text/javascript","src":"//dashif.org/reference/players/javascript/1.4.0/dist/dash.all.js"}],"buffer":1},"locales":{"en":{"MSG_TIME_SEPARATOR":" / ","MSG_EMAIL_TO":"To","MSG_EMAIL_FROM":"From","MSG_EMAIL_VIDEO":"Email this video","MSG_EMAIL_MESSAGE_DEFAULT":"Check out this video from xxx","MSG_EMAIL_MESSAGE":"Message","MSG_EMAIL_ADDRESS_INVALID":"Invalid Email Address","MSG_EMAIL_MESSAGE_INVALID":"Please limit your message to 500 characters or less.","MSG_EMAIL_CHARACTERS_REMAINING_TEXT":" characters left","MSG_EMAIL_SEND_FAILURE":"Message could not be sent.","MSG_EMAIL_SEND_SUCCESS_MESSAGE":"Your email has been sent!","MSG_SHARE_VIDEO_TEXT":"Share this video...","MSG_POST_TEXT":"Post","MSG_EMBED_TEXT":"Embed","MSG_LINK_TEXT":"Link","MSG_SHARE_CONNECT_FAILURE":"Unable to connect. Please try again.","MSG_SHARE_CONTENT_DISABLED":"Share and embed are disabled.","MSG_VERSION_TEXT":"Version","MSG_BUFFERING_TEXT":"buffering","MSG_CUSTOMIZE_CLIP_POINTS":"Customize the start and end point of the video.","MSG_PAUSE":"Pause","MSG_PREVIEW":"Preview","MSG_CURRENT":"Currrent","MSG_SEEK_TO":"Seek to","MSG_LIVE":"LIVE","MSG_DEFAULT_ERROR_MESSAGE":"Sorry, we were unable to play the media you selected. Please try again, or select alternate media.","MSG_ERROR_PREFIX":"Error encountered:","MSG_STREAM_NOT_FOUND":"Stream not found","MSG_CURRENT_WORKING_BANDWIDTH":"Current working bandwidth","MSG_CURRENT_BITRATE_PLAYING":"Current bitrate playing","MSG_MAX_BITRATE_AVAILABLE":"Max bitrate available","MSG_NOT_AVAILABLE":"Not Available","MSG_GO_LIVE":"GO LIVE","MSG_REPLAY":"Replay","MSG_NEXT_VIDEO":"Video starts in: ","MSG_RECOMMENDED":"Recommended","MSG_VIEW_ALL":"View all ","MSG_VIDEO":" videos","MSG_CC":"CC","MSG_CC_TITLE":"Caption","MSG_CC_LANGUAGE":"Track :","MSG_CC_PRESETS":"Presets :","MSG_CC_FONT":"Font :","MSG_CC_EDGE":"Edge :","MSG_CC_SIZE":"Size :","MSG_CC_SCROLL":"Scroll :","MSG_CC_COLOR":"Color :","MSG_CC_BACKGROUND":"Background :","MSG_CC_WINDOW":"Window :","MSG_CC_OPACITY":"Opacity :","MSG_CC_SHOW_ADVANCED":"Show Advanced Settings","MSG_CC_HIDE_ADVANCED":"Hide Advanced Settings","MSG_NEXT_AD":"Next ad starts in: ","MSG_CC_RESET":"Default","MSG_CC_CANCEL":"Cancel","MSG_CC_APPLY":"Apply","MSG_EN":"English","MSG_ES":"Spanish","MSG_DE":"German","MSG_FR":"French","MSG_IT":"Italian","MSG_RU":"Russian","MSG_ZH":"Chinese","MSG_CHROMECAST_MESSAGE":"Video playing on another screen","MSG_RETRY_MESSAGE":"Content not yet available, retrying in","MSG_SECONDS":"seconds","MSG_RETRY_FAILED":"Retry failed","MSG_RECOMMENDATIONS_TITLE":"Recommended"},"es":{"MSG_TIME_SEPARATOR":" / ","MSG_EMAIL_TO":"a","MSG_EMAIL_FROM":"de","MSG_EMAIL_VIDEO":"Enviar este vídeo","MSG_EMAIL_MESSAGE_DEFAULT":"Echa un vistazo a este video de xxx","MSG_EMAIL_MESSAGE":"mensaje","MSG_EMAIL_ADDRESS_INVALID":"Dirección de correo electrónico no válida","MSG_EMAIL_MESSAGE_INVALID":"Por favor limite su mensaje a 500 caracteres o menos.","MSG_EMAIL_CHARACTERS_REMAINING_TEXT":"personajes de la izquierda","MSG_EMAIL_SEND_FAILURE":"El mensaje no pudo ser enviado.","MSG_EMAIL_SEND_SUCCESS_MESSAGE":"Tu email ha sido enviado!","MSG_SHARE_VIDEO_TEXT":"Comparte este vídeo...","MSG_POST_TEXT":"enviar","MSG_EMBED_TEXT":"incrustar","MSG_LINK_TEXT":"enlace","MSG_SHARE_CONNECT_FAILURE":"No se puede conectar. Por favor, inténtelo de nuevo.","MSG_SHARE_CONTENT_DISABLED":"Compartir e incrustar están desactivados.","MSG_VERSION_TEXT":"versión","MSG_BUFFERING_TEXT":"el almacenamiento en búfer","MSG_CUSTOMIZE_CLIP_POINTS":"Personalizar el inicio y el punto final del video.","MSG_PAUSE":"romper","MSG_PREVIEW":"vista previa","MSG_CURRENT":"corriente","MSG_SEEK_TO":"Tratar de","MSG_LIVE":"EN VIVO","MSG_DEFAULT_ERROR_MESSAGE":"Lo sentimos, no hemos podido jugar los medios de comunicación seleccionados. Por favor, inténtelo de nuevo, o seleccionar los medios de comunicación alternativos.","MSG_ERROR_PREFIX":"Se produjo un error:","MSG_STREAM_NOT_FOUND":"Stream que no se encuentra","MSG_CURRENT_WORKING_BANDWIDTH":"Ancho de banda actual de trabajo","MSG_CURRENT_BITRATE_PLAYING":"Tasa de bits de reproducción actual","MSG_MAX_BITRATE_AVAILABLE":"Tasa de bits máxima disponible","MSG_NOT_AVAILABLE":"No está disponible","MSG_GO_LIVE":"IR A VIVIR","MSG_REPLAY":"Repetir","MSG_NEXT_VIDEO":"El próximo video comienza en: ","MSG_RECOMMENDED":"Recomendado","MSG_CC":"CC","MSG_VIEW_ALL":"ver todo ","MSG_VIDEO":" vídeos.","MSG_EN":"Inglés","MSG_ES":"Español","MSG_DE":"Alemán","MSG_FR":"Francés","MSG_IT":"Italiano","MSG_RU":"Ruso","MSG_ZH":"Chino","MSG_RETRY_MESSAGE":"Content not yet available, retrying in","MSG_SECONDS":"seconds","MSG_RETRY_FAILED":"Retry failed","MSG_RECOMMENDATIONS_TITLE":"Recomendado"}}};\n\nAMPConfig.prototype.xml = null;\n\nAMPConfig.prototype.readyState = AMPConfig.UNINITIALIZED;\n\nAMPConfig.prototype.loaded = false;\n\nAMPConfig.prototype.flash = {\n  AkamaiAdvancedStreamingPlugin: {\n    src: "http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.6/osmf2.0/AkamaiAdvancedStreamingPlugin.swf",\n    absolute: true,\n    host: "osmf",\n    main: "com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo"\n  },\n  OSMFCSMALoader: {\n    host: "osmf",\n    main: "com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo"\n  },\n  CaptioningPlugin: {\n    src: "#{paths.resources}plugins/CaptioningPlugin.swf",\n    blocking: false,\n    host: "osmf",\n    main: "org.osmf.captioning.CaptioningPluginInfo"\n  },\n  OSMFCCDecoderPlugin: {\n    src: "#{paths.resources}plugins/onCaptionInfoPlugin.swf",\n    host: "osmf",\n    main: "com.akamai.osmf.plugins.ccDecoder.OSMFCCDecoderPluginInfo"\n  },\n  AMPCaptionPlugin: {\n    src: "#{paths.resources}plugins/AMPCaptionPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "AMPCaptionPlugin"\n  },\n  CaptionSettingsPlugin: {\n    src: "#{paths.resources}plugins/CaptionSettingsPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "CaptionSettingsPlugin"\n  },\n  GoogleIMAPlugin: {\n    src: "#{paths.resources}plugins/GoogleIMAPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "GoogleIMAPlugin"\n  },\n  IMAOverlayAdPlugin: {\n    src: "#{paths.resources}plugins/IMAOverlayAdPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "IMAOverlayAdPlugin"\n  },\n  FreewheelPlugin: {\n    src: "#{paths.resources}plugins/FreewheelPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "FreewheelPlugin"\n  },\n  VideoMetricsViewPlugin: {\n    src: "#{paths.resources}plugins/VideoMetricsViewPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "VideoMetricsViewPlugin"\n  },\n  VideoStatsInfoOverlayPlugin: {\n    src: "#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "VideoStatsInfoOverlayPlugin"\n  },\n  ComscorePlugin: {\n    src: "#{paths.resources}plugins/ComscorePlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "ComscorePlugin"\n  },\n  ComscoreStreamSensePlugin: {\n    src: "#{paths.resources}plugins/ComscoreStreamSensePlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "ComscoreStreamSensePlugin"\n  },\n  NielsenPlugin: {\n    src: "#{paths.resources}plugins/NielsenPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "NielsenPlugin"\n  },\n  NielsenSDKPlugin: {\n    src: "#{paths.resources}plugins/NielsenSDKPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "NielsenSDKPlugin"\n  },\n  OmniturePlugin: {\n    src: "#{paths.resources}plugins/OmniturePlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "OmniturePlugin"\n  },\n  RecommendationsPlugin: {\n    src: "#{paths.resources}plugins/RecommendationsPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "RecommendationsPlugin"\n  },\n  ErrorMessagingPlugin: {\n    src: "#{paths.resources}plugins/ErrorMessagingPlugin.swf",\n    blocking: false,\n    host: "akamai",\n    main: "ErrorMessagingPlugin"\n  }\n};\n\n/**\n*/\nAMPConfig.prototype.loadURL = function(url, withCredentials) {\n  var xhr,\n    _this = this;\n  if (withCredentials == null) {\n    withCredentials = false;\n  }\n  this.url = url;\n  this.setReadyState(AMPConfig.LOADING);\n  xhr = Utils.get(url, {\n    withCredentials: withCredentials,\n    onload: function(event) {\n      var data, firstChild, xmlhttp;\n      xmlhttp = event.detail;\n      if (xmlhttp.responseType === "document") {\n        _this.xml = xmlhttp.responseXML;\n        firstChild = _this.xml.firstChild.nodeType !== 7 ? _this.xml.firstChild : _this.xml.childNodes[1];\n        data = AMPConfig.parseModule(firstChild);\n      } else {\n        data = xmlhttp.response;\n        if (typeof data === "string") {\n          data = JSON.parse(data);\n        }\n      }\n      _this.loadData(data);\n    },\n    onerror: function(event) {\n      _this.dispatchEvent(new Event("error", event));\n      Logger.error(event);\n    }\n  });\n};\n\n/**\n*/\nAMPConfig.prototype.loadData = function(data) {\n  this.data = data;\n  this.setReadyState(AMPConfig.LOADED);\n};\n\n/**\n*/\nAMPConfig.prototype.load = function(resource, withCredentials) {\n  if (withCredentials == null) {\n    withCredentials = false;\n  }\n  switch (typeof resource) {\n    case "object":\n      this.loadData(resource);\n      break;\n    case "string":\n      this.loadURL(resource, withCredentials);\n      break;\n    default:\n      throw new Error("[AMP ERROR] Invalid default configuration resource");\n  }\n};\n\n/**\n*/\nAMPConfig.prototype.setReadyState = function(state) {\n  this.readyState = state;\n  this.dispatchEvent(new Event("readystatechange", state));\n  if (state === AMPConfig.LOADED && !this.loaded) {\n    this.loaded = true;\n    this.dispatchEvent(new Event("load", this.data));\n  }\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction ButtonMediator(label, parent, element, componentName, onclick) {\n  this.onclick = onclick != null ? onclick : this.onclick;\n  ButtonMediator.__super__.constructor.call(this, componentName, null, parent, element);\n  this.icon = this.create("icon");\n  if (label != null) {\n    this.label = this.createText("label", label);\n  }\n}\n\n\n__extends(ButtonMediator, ComponentMediator);\n\n\nButtonMediator.prototype.componentType = "button";\n\nButtonMediator.prototype.icon = null;\n\nButtonMediator.prototype.label = null;\n\nButtonMediator.prototype.onclick = null;\n\nfunction IdleUtil(element, timeout) {\n  this.element = element;\n  this.timeout = timeout;\n  IdleUtil.__super__.constructor.call(this);\n  this.resetHandler = this.reset.bind(this);\n}\n\n\n__extends(IdleUtil, EventDispatcher);\n\n\nIdleUtil.prototype.events = ["mousemove", "mousedown", "keypress", "DOMMouseScroll", "mousewheel", "touchmove", "MSPointerMove"];\n\nIdleUtil.prototype.resetHandler = null;\n\nIdleUtil.prototype.element = null;\n\nIdleUtil.prototype.timeout = null;\n\nIdleUtil.prototype.active = true;\n\nIdleUtil.prototype.timeoutId = null;\n\nIdleUtil.prototype.applyListeners = function(action) {\n  var event, _i, _len, _ref;\n  if (action == null) {\n    action = "add";\n  }\n  _ref = this.events;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    event = _ref[_i];\n    this.element["" + action + "EventListener"](event, this.resetHandler);\n  }\n};\n\nIdleUtil.prototype.start = function(timeout) {\n  if (timeout != null) {\n    this.timeout = timeout;\n  }\n  this.stop();\n  this.applyListeners("add");\n  this.timeoutId = setTimeout(this.setActive.bind(this, false), this.timeout);\n};\n\nIdleUtil.prototype.stop = function() {\n  this.applyListeners("remove");\n  clearTimeout(this.timeoutId);\n};\n\nIdleUtil.prototype.reset = function() {\n  this.setActive(true);\n  this.start();\n};\n\nIdleUtil.prototype.setActive = function(value) {\n  if (value === this.active) {\n    return;\n  }\n  this.active = value;\n  this.dispatchEvent(new Event("activechange", {\n    active: this.active\n  }));\n  return value;\n};\n\nIdleUtil.prototype.getActive = function() {\n  return this.active;\n};\n\n/**\n * The LogoMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n * @param {Object} viewComponent\n*/\nfunction LogoMediator(parent) {\n  LogoMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(LogoMediator, ComponentMediator);\n\n\n/**\n * The name of the this Mediator.\n * \n * @static\n * @type {string}\n*/\nLogoMediator.prototype.componentName = "logo";\n\nLogoMediator.prototype.url = null;\n\n/**\n * @override\n*/\nLogoMediator.prototype.onRegister = function() {\n  LogoMediator.__super__.onRegister.call(this);\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, this.componentName + "-enabled");\n};\n\nLogoMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  this.sendNotification(Notifications.DISPATCH_EVENT, new Event("controlsLogoClicked"));\n  return false;\n};\n\n/** \n * @param {FlashPlayer} player\n * @param {Object} config\n * @constructor\n * @private\n * @extends {puremvc.Mediator}\n*/\nfunction PluginWrapper(player, config) {\n  this.player = player;\n  this.config = config;\n  PluginWrapper.__super__.constructor.call(this);\n  this.dispatcher = new EventDispatcher(this);\n  this.createDefaults();\n}\n\n\n__extends(PluginWrapper, puremvc.Mediator);\n\n\nPluginWrapper.NAME = "PluginWrapper";\n\nPluginWrapper.prototype.player = null;\n\nPluginWrapper.prototype.config = null;\n\nPluginWrapper.prototype.dispatcher = null;\n\nPluginWrapper.prototype.flashPluginIds = null;\n\nPluginWrapper.prototype.createFlashVars = null;\n\nPluginWrapper.prototype.createXML = null;\n\nPluginWrapper.prototype.createDefaults = function() {\n  this.player.createDefaults.call(this);\n};\n\n/**\n*/\nPluginWrapper.prototype.addEventListener = function(type, func) {\n  this.dispatcher.addEventListener(type, func);\n};\n\nPluginWrapper.prototype.logEvent = function(event) {};\n\n/**\n*/\nPluginWrapper.prototype.dispatchEvent = function(event) {\n  if (event.type !== "timeupdate" && event.type !== "timeremaining") {\n    this.player.logger.log("[AMP " + (this.constructor.NAME.replace(\'Wrapper\', \'\').toUpperCase()) + " EVENT]", event.type, event.detail, event);\n  }\n  event.player = this.player;\n  this.dispatcher.dispatchEvent(event);\n};\n\n/**\n*/\nPluginWrapper.prototype.removeEventListener = function(type, func) {\n  this.dispatcher.removeEventListener(type, func);\n};\n\n/**\n*/\nPluginWrapper.prototype.createElement = function(xml, id, parent) {\n  var element;\n  element = xml.createElement("element");\n  element.setAttribute("id", id);\n  if (!(parent != null)) {\n    parent = this.getControls(xml).controls;\n  }\n  if (parent != null) {\n    parent.appendChild(element);\n  }\n  return element;\n};\n\n/**\n*/\nPluginWrapper.prototype.createProperty = function(xml, key, value, parent) {\n  var property, text, val;\n  property = xml.createElement("property");\n  property.setAttribute("key", key);\n  if (parent != null) {\n    parent.appendChild(property);\n  }\n  if (value != null) {\n    if (typeof value === "object" && !(value instanceof Array)) {\n      for (key in value) {\n        val = value[key];\n        this.createProperty(xml, key, val, property);\n      }\n    } else {\n      text = XMLUtils.createTextContent(xml, value.toString());\n      property.appendChild(text);\n    }\n  }\n  return property;\n};\n\n/**\n*/\nPluginWrapper.prototype.getControls = function(xml) {\n  var controls, element, elements, id, _i, _len;\n  elements = xml.getElementsByTagName("element");\n  if ((elements != null ? elements.length : void 0) < 1) {\n    return null;\n  }\n  controls = {};\n  for (_i = 0, _len = elements.length; _i < _len; _i++) {\n    element = elements[_i];\n    id = element.getAttribute("id");\n    controls[id] = element;\n  }\n  return controls;\n};\n\n/**\n*/\nPluginWrapper.prototype.hasControls = function(xml) {\n  var _ref;\n  return ((_ref = this.getControls(xml)) != null ? _ref.controls : void 0) != null;\n};\n\n/** @override\n*/\nPluginWrapper.prototype.listNotificationInterests = function() {\n  return [FlashNotifications.CREATE_FLASH_VARS, FlashNotifications.CREATE_XML];\n};\n\n/**\n*/\nPluginWrapper.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.CREATE_FLASH_VARS:\n      if (typeof this.createFlashVars === "function") {\n        this.createFlashVars(body.flashvars);\n      }\n      break;\n    case FlashNotifications.CREATE_XML:\n      if (typeof this.createXML === "function") {\n        this.createXML(body.xml);\n      }\n  }\n};\n\n/**\n * The ControlsPlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsPlayCommand() {\n  ControlsPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsPlayCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsPlayCommand.prototype.execute = function(notification) {\n  var controls;\n  controls = this.facade.retrieveProxy(ControlsProxy.NAME);\n  controls.start();\n};\n\n/**\n * The ControlsPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsPauseCommand() {\n  ControlsPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsPauseCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsPauseCommand.prototype.execute = function(notification) {\n  var controls;\n  controls = this.facade.retrieveProxy(ControlsProxy.NAME);\n  controls.stop();\n};\n\n/**\n * The ControlsActiveStateChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsActiveStateChangeCommand() {\n  ControlsActiveStateChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsActiveStateChangeCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsActiveStateChangeCommand.prototype.execute = function(notification) {\n  var app, body, controls;\n  controls = this.facade.retrieveProxy(ControlsProxy.NAME);\n  app = this.facade.player.retrieveProxy(ApplicationStateProxy.NAME);\n  body = notification.getBody();\n  if (body.newState === ActiveState.ACTIVE && app.getPlayState() !== PlayState.READY && Utils.getDevice() !== "desktop") {\n    controls.start();\n  }\n};\n\n/**\n * The ControlsAdBreakStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsAdBreakStartCommand() {\n  ControlsAdBreakStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsAdBreakStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsAdBreakStartCommand.prototype.execute = function(notification) {\n  this.facade.player.getMediaElement().controls = false;\n};\n\n/**\n * The ControlsAdBreakEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsAdBreakEndCommand() {\n  ControlsAdBreakEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsAdBreakEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsAdBreakEndCommand.prototype.execute = function(notification) {\n  this.facade.player.getMediaElement().controls = true;\n};\n\n/**\n * The ControlsMediaValidatedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsMediaValidatedCommand() {\n  ControlsMediaValidatedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsMediaValidatedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsMediaValidatedCommand.prototype.execute = function(notification) {\n  var element, media, src;\n  media = notification.getBody();\n  src = media.poster;\n  element = this.facade.player.getMediaElement();\n  if ((src != null) && src !== "") {\n    element.poster = src;\n  }\n  element.src = media.src;\n  if (this.facade.player.getAutoplay() !== true) {\n    this.facade.applyClickHandler();\n  }\n};\n\n/**\n * The ControlsStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsStartedCommand() {\n  ControlsStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsStartedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsStartedCommand.prototype.execute = function(notification) {\n  this.facade.applyClickHandler(false);\n};\n\n/**\n * The ControlsActiveStateChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ControlsStartCommand() {\n  ControlsStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nControlsStartCommand.prototype.execute = function(notification) {\n  var controls;\n  controls = this.facade.retrieveProxy(ControlsProxy.NAME);\n  controls.start();\n};\n\n/** \n * The ControlsWrapper class.\n *   \n * @constructor\n * @private\n * @extends {PluginWrapper}\n * @param   {FlashPlayer}   player  The FlashPlayer\n * @param   {Object}        config  The plugin config\n*/\nfunction ControlsWrapper(player, config) {\n  ControlsWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(ControlsWrapper, PluginWrapper);\n\n\nControlsWrapper.NAME = "ControlsWrapper";\n\nControlsWrapper.prototype.mode = "auto";\n\nControlsWrapper.prototype.autoHide = 5;\n\n/** @override\n*/\nControlsWrapper.prototype.listNotificationInterests = function() {\n  return ControlsWrapper.__super__.listNotificationInterests.apply(this, arguments).concat([Notifications.MEDIUM_CHANGE]);\n};\n\n/**\n*/\nControlsWrapper.prototype.handleNotification = function(notification) {\n  var body, mode, name;\n  ControlsWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.MEDIUM_CHANGE:\n      mode = /audio/.test(body) ? "persistent" : this.mode;\n      this.setMode(mode);\n  }\n};\n\n/** @override\n*/\nControlsWrapper.prototype.createFlashVars = function(flashvars) {\n  if (this.config.mode != null) {\n    this.mode = flashvars.controls_mode = this.config.mode;\n  }\n  return flashvars;\n};\n\nControlsWrapper.prototype.createXML = function(xml) {\n  var controls, element, elements, view, _i, _len;\n  view = xml.getElementsByTagName("view")[0];\n  elements = xml.getElementsByTagName("element");\n  controls = null;\n  for (_i = 0, _len = elements.length; _i < _len; _i++) {\n    element = elements[_i];\n    if (!(element.getAttribute("id") === "controls")) {\n      continue;\n    }\n    controls = element;\n    break;\n  }\n  if (!(controls != null)) {\n    controls = xml.createElement("element");\n    controls.setAttribute("id", "controls");\n    view.appendChild(controls);\n  }\n  if (controls.attributes["autoHideDelay"] != null) {\n    this.autoHide = controls.getAttribute("autoHideDelay");\n  } else {\n    if (this.config.autoHide != null) {\n      this.autoHide = this.config.autoHide;\n      controls.setAttribute("autoHideDelay", this.config.autoHide);\n    }\n  }\n  return xml;\n};\n\n/**\n*/\nControlsWrapper.prototype.getMode = function() {\n  return this.mode;\n};\n\nControlsWrapper.prototype.setMode = function(value) {\n  if (value === this.mode) {\n    return;\n  }\n  try {\n    this.mode = value;\n    this.player.mediaElement.setPlayerProperty("controlsMode", value);\n  } catch (error) {\n    this.facade.logger.error("[AMP CONTROLS ERROR]", error);\n  }\n  return value;\n};\n\nControlsWrapper.prototype.getAutoHide = function() {\n  return this.autoHide;\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction ControlsProxy(config) {\n  ControlsProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ControlsProxy, ModuleProxy);\n\n\nControlsProxy.NAME = ModuleProxy.NAME;\n\nControlsProxy.prototype.defaults = {\n  mode: "auto",\n  autoHide: 3\n};\n\nControlsProxy.prototype.timeout = null;\n\nControlsProxy.prototype.appState = null;\n\nControlsProxy.prototype.controls = null;\n\nControlsProxy.prototype.interactiveElement = null;\n\nControlsProxy.prototype.idleUtil = null;\n\nControlsProxy.prototype.initializeNotifier = function(key) {\n  ControlsProxy.__super__.initializeNotifier.call(this, key);\n  this.appState = this.facade.player.retrieveProxy(ApplicationStateProxy.NAME);\n  this.controls = this.facade.retrieveMediator(ApplicationStateProxy.NAME);\n};\n\nControlsProxy.prototype.onRegister = function() {\n  var _this = this;\n  ControlsProxy.__super__.onRegister.call(this);\n  if (this.config.mode != null) {\n    this.changeMode(this.config.mode);\n  }\n  this.interactiveElement = this.facade.player.retrieveMediator(OverlayLayerMediator.NAME).getViewComponent();\n  if (Utils.getDevice() === "desktop") {\n    EventHandler.create(this.interactiveElement, "mouseenter", function() {\n      _this.stop();\n      if (_this.appState.activeState !== ActiveState.ACTIVE) {\n        _this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n      }\n    });\n    EventHandler.create(this.interactiveElement, "mouseleave", function() {\n      _this.start();\n    });\n    this.idleUtil = new IdleUtil(this.facade.player.getViewComponent(), this.data.autoHide * 1000);\n    this.idleUtil.addEventListener("activechange", function(event) {\n      var state;\n      state = event.detail.active !== true ? ActiveState.INACTIVE : ActiveState.ACTIVE;\n      _this.sendNotification(Notifications.CHANGE_ACTIVE_STATE, state);\n    });\n    this.idleUtil.start();\n  } else {\n    EventHandler.create(this.interactiveElement, EventHandler.CLICK, function() {\n      _this.sendNotification(Notifications.TOGGLE_ACTIVE);\n    });\n  }\n};\n\nControlsProxy.prototype.setMode = function(value) {\n  if (this.data.mode === value) {\n    return value;\n  }\n  this.changeMode(value);\n  return value;\n};\n\nControlsProxy.prototype.changeMode = function(value) {\n  if (this.data.mode === "auto") {\n    this.stop();\n  }\n  this.facade.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "controls-" + this.data.mode);\n  this.data.mode = value;\n  this.facade.sendNotification(Notifications.ADD_APPLICATION_STATE, "controls-" + this.data.mode);\n};\n\nControlsProxy.prototype.getMode = function() {\n  return this.data.mode;\n};\n\nControlsProxy.prototype.setAutoHide = function(value) {\n  this.data.autoHide = value;\n  return value;\n};\n\nControlsProxy.prototype.getAutoHide = function() {\n  return this.data.autoHide;\n};\n\nControlsProxy.prototype.start = function() {\n  this.stop();\n  if (this.data.mode !== "auto") {\n    return;\n  }\n  this.timeout = setTimeout(this.hide.bind(this), this.data.autoHide * 1000);\n};\n\nControlsProxy.prototype.stop = function() {\n  clearTimeout(this.timeout);\n  this.timeout = null;\n};\n\nControlsProxy.prototype.hide = function() {\n  if (this.data.mode !== "auto") {\n    return;\n  }\n  if ((this.appState.getIsUserActive() === true || Utils.isMouseOverElement(this.facade.viewComponent)) && this.appState.getDisplayState() !== DisplayState.FULL_SCREEN) {\n    this.start();\n    return;\n  }\n  this.facade.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.INACTIVE);\n};\n\n/**\n * The FullScreenMediator class.\n * \n * @constructor\n * @private\n * @extends {ModuleMediator}\n * @param {Object} viewComponent\n*/\nfunction FullScreenMediator(parent) {\n  FullScreenMediator.__super__.constructor.call(this, null, parent);\n}\n\n\n__extends(FullScreenMediator, ButtonMediator);\n\n\nFullScreenMediator.prototype.componentName = "full-screen";\n\nFullScreenMediator.prototype.onRegister = function() {\n  FullScreenMediator.__super__.onRegister.call(this);\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, this.componentName + "-enabled");\n};\n\nFullScreenMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  this.sendNotification(Notifications.TOGGLE_FULL_SCREEN);\n  return false;\n};\n\n/**\n * @override\n*/\nFullScreenMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.DISABLE_FULL_SCREEN, Notifications.ENABLE_FULL_SCREEN];\n};\n\n/**\n * @override\n*/\nFullScreenMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.DISABLE_FULL_SCREEN:\n      this.setDisabled(true);\n      break;\n    case Notifications.ENABLE_FULL_SCREEN:\n      this.setDisabled(false);\n  }\n};\n\n/**\n * The VolumeMediator class.\n * \n * @constructor\n * @private\n * @extends {ModuleMediator}\n * @param {Object} viewComponent\n*/\nfunction SliderMediator(parent, direction) {\n  this.direction = direction != null ? direction : this.direction;\n  SliderMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(SliderMediator, ComponentMediator);\n\n\nSliderMediator.prototype.componentType = "slider";\n\nSliderMediator.prototype.trackView = null;\n\nSliderMediator.prototype.handleView = null;\n\nSliderMediator.prototype.valueView = null;\n\nSliderMediator.prototype.startCapView = null;\n\nSliderMediator.prototype.endCapView = null;\n\nSliderMediator.prototype.min = 0;\n\nSliderMediator.prototype.max = 1;\n\nSliderMediator.prototype.value = 0;\n\nSliderMediator.prototype.dragging = false;\n\nSliderMediator.prototype.draggingInterval = null;\n\nSliderMediator.prototype.draggingDelay = 250;\n\nSliderMediator.prototype.direction = "vertical";\n\nSliderMediator.prototype.pressHandler = null;\n\nSliderMediator.prototype.releaseHandler = null;\n\nSliderMediator.prototype.moveHandler = null;\n\nSliderMediator.prototype.clickHandler = null;\n\n/**\n * @override\n*/\nSliderMediator.prototype.onRegister = function() {\n  SliderMediator.__super__.onRegister.call(this);\n  this.startCapView = this.create("start-cap");\n  this.endCapView = this.create("end-cap");\n  this.trackView = this.create("track");\n  this.valueView = this.create("value", this.trackView);\n  this.handleView = this.create("handle", this.trackView);\n  this.pressHandler = EventHandler.create(this.handleView, EventHandler.PRESS, this.handlePressHandler.bind(this));\n  this.releaseHandler = EventHandler.create(window, EventHandler.RELEASE, this.handleReleaseHandler.bind(this));\n  this.releaseHandler.unbind();\n  this.moveHandler = EventHandler.create(window, EventHandler.MOVE, this.updateHandler.bind(this, false));\n  this.moveHandler.unbind();\n  this.clickHandler = EventHandler.create(this.trackView, EventHandler.CLICK, this.updateHandler.bind(this, true));\n};\n\n/** sets the value\n*/\nSliderMediator.prototype.setDirection = function(value) {\n  this.direction = value;\n  return value;\n};\n\nSliderMediator.prototype.getDirection = function() {\n  return this.direction;\n};\n\n/** sets the value\n*/\nSliderMediator.prototype.setValue = function(value) {\n  this.updateValue(value);\n  this.valueChanged(value);\n  return value;\n};\n\nSliderMediator.prototype.getValue = function() {\n  return this.value;\n};\n\nSliderMediator.prototype.setDragging = function(value) {\n  if (value === this.dragging) {\n    return;\n  }\n  this.dragging = value;\n  this.sendNotification(Notifications.IS_USER_ACTIVE, this.dragging);\n  if (this.dragging === true) {\n    this.draggingInterval = setInterval(this.dragUpdateHandler.bind(this), this.draggingDelay);\n  } else {\n    clearInterval(this.draggingInterval);\n    this.dragUpdateHandler();\n  }\n  return this.dragging;\n};\n\nSliderMediator.prototype.getDragging = function() {\n  return this.dragging;\n};\n\n/** updates the view\n*/\nSliderMediator.prototype.updateValue = function(value) {\n  var handle;\n  this.value = Utils.clamp(value, this.min, this.max);\n  if (this.direction === "vertical") {\n    value = "height";\n    handle = "bottom";\n  } else {\n    value = "width";\n    handle = "left";\n  }\n  this.valueView.style[value] = this.handleView.style[handle] = "" + (this.value * 100) + "%";\n};\n\n/** calculates the value based on mouse/touch point\n*/\nSliderMediator.prototype.calculateValue = function(pos) {\n  var isFullScreen, offset, slider;\n  isFullScreen = this.facade.player.retrieveProxy(ApplicationStateProxy.NAME).getDisplayState() !== DisplayState.FULL_SCREEN;\n  if (this.getDirection() === "vertical") {\n    slider = this.viewComponent.offsetHeight;\n    offset = isFullScreen ? Utils.getElementOffset(this.viewComponent).top : this.viewComponent.offsetTop;\n    offset += slider;\n    pos = -(pos.y - offset) - window.scrollY;\n  } else {\n    slider = this.viewComponent.offsetWidth;\n    offset = isFullScreen ? Utils.getElementOffset(this.viewComponent).left : this.viewComponent.offsetLeft;\n    pos = pos.x - offset + window.scrollX;\n  }\n  return Utils.clamp(pos / slider, 0, 1);\n};\n\nSliderMediator.prototype.handlePressHandler = function(event) {\n  this.moveHandler.bind();\n  this.releaseHandler.bind();\n  this.clickHandler.unbind();\n  this.setDragging(true);\n  event.stopImmediatePropagation();\n  return false;\n};\n\nSliderMediator.prototype.handleReleaseHandler = function(event) {\n  this.moveHandler.unbind();\n  this.releaseHandler.unbind();\n  this.clickHandler.bind();\n  this.setDragging(false);\n  event.stopImmediatePropagation();\n  return false;\n};\n\nSliderMediator.prototype.updateHandler = function(setValue, event) {\n  var pos, value;\n  event.stopImmediatePropagation();\n  pos = {\n    x: event.clientX || event.targetTouches[0].clientX,\n    y: event.clientY || event.targetTouches[0].clientY\n  };\n  value = this.calculateValue(pos);\n  if (setValue === true) {\n    this.setValue(value);\n  } else {\n    this.updateValue(value);\n  }\n  return false;\n};\n\nSliderMediator.prototype.dragUpdateHandler = function() {\n  this.setValue(this.value);\n};\n\nSliderMediator.prototype.valueChanged = function() {};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar PanelNotifications = {\n  ADD_PANEL: "addPanel",\n  REMOVE_PANEL: "removePanel",\n  OPEN_PANEL: "openPanel",\n  CLOSE_PANEL: "closePanel",\n  TOGGLE_PANEL: "togglePanel",\n  CLOSE_ALL_PANELS: "closeAllPanels"\n};\n\n/**\n * The TimeDisplayMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n * @param {Object} viewComponent\n*/\nfunction TimeDisplayMediator(parent) {\n  TimeDisplayMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(TimeDisplayMediator, ComponentMediator);\n\n\n/**\n * The name of the this Mediator.\n * \n * @static\n * @type {string}\n*/\nTimeDisplayMediator.prototype.componentName = "time-display";\n\nTimeDisplayMediator.prototype.duration = null;\n\nTimeDisplayMediator.prototype.currentTimeDisplay = null;\n\nTimeDisplayMediator.prototype.separatorDisplay = null;\n\nTimeDisplayMediator.prototype.durationDisplay = null;\n\nTimeDisplayMediator.prototype.liveDisplay = null;\n\n/**\n * @override\n*/\nTimeDisplayMediator.prototype.onRegister = function() {\n  TimeDisplayMediator.__super__.onRegister.call(this);\n  this.liveDisplay = this.createText("live-display", this.localizationManager.getString(LocalizationConstants.MSG_LIVE));\n  this.currentTimeDisplay = this.createText("current-time-display", "00:00", this, "span");\n  this.separatorDisplay = this.createText("separator-display", this.localizationManager.getString(LocalizationConstants.MSG_TIME_SEPARATOR), this, "span");\n  this.durationDisplay = this.createText("duration-display", "00:00", this, "span");\n};\n\n/**\n * @override\n*/\nTimeDisplayMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.PLAY, Notifications.DURATION_CHANGE, Notifications.ENDED, Notifications.DISPLAY_TIME];\n};\n\n/**\n * @override\n*/\nTimeDisplayMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.PLAY:\n      this.updateDuration();\n      break;\n    case Notifications.DURATION_CHANGE:\n      this.duration = body;\n      this.updateCurrentTime();\n      this.updateDuration();\n      break;\n    case Notifications.ENDED:\n      this.updateCurrentTime(this.duration);\n      this.updateDuration();\n      break;\n    case Notifications.DISPLAY_TIME:\n      this.updateCurrentTime(body.currentTime, body.duration);\n      this.updateDuration(body.duration);\n  }\n};\n\nTimeDisplayMediator.prototype.updateCurrentTime = function(currentTime, duration) {\n  if (currentTime == null) {\n    currentTime = this.currentTime;\n  }\n  if (duration == null) {\n    duration = this.duration;\n  }\n  this.currentTimeDisplay.textContent = Utils.formatTimecode(currentTime, duration);\n};\n\nTimeDisplayMediator.prototype.updateDuration = function(duration) {\n  if (duration == null) {\n    duration = this.duration;\n  }\n  this.durationDisplay.textContent = Utils.formatTimecode(duration);\n};\n\n/**\n * The PanelsMediator class.\n * \n * @constructor\n * @private\n * @extends {LayerMediator}\n*/\nfunction PanelsMediator(parent) {\n  this.panels = [];\n  this.closeHandler = this.mouseupHandler.bind(this);\n  PanelsMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(PanelsMediator, ComponentMediator);\n\n\nPanelsMediator.prototype.componentName = "panels";\n\nPanelsMediator.prototype.activePanel = null;\n\nPanelsMediator.prototype.panels = null;\n\nPanelsMediator.prototype.closeHandler = null;\n\n/**\n * @override\n*/\nPanelsMediator.prototype.listNotificationInterests = function() {\n  var key, value;\n  return ((function() {\n    var _results;\n    _results = [];\n    for (key in PanelNotifications) {\n      value = PanelNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })()).concat([]);\n};\n\n/**\n * @override\n*/\nPanelsMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case PanelNotifications.ADD_PANEL:\n      this.addPanel(body);\n      break;\n    case PanelNotifications.REMOVE_PANEL:\n      this.removePanel(body);\n      break;\n    case PanelNotifications.OPEN_PANEL:\n      this.openPanel(body);\n      break;\n    case PanelNotifications.CLOSE_PANEL:\n      this.closePanel(body);\n      break;\n    case PanelNotifications.CLOSE_ALL_PANELS:\n      this.closeAllPanels(body);\n      break;\n    case PanelNotifications.TOGGLE_PANEL:\n      this.togglePanel(body);\n  }\n};\n\nPanelsMediator.prototype.addPanel = function(panel) {\n  this.panels.push(panel);\n  this.viewComponent.appendChild(panel.getViewComponent());\n};\n\nPanelsMediator.prototype.removePanel = function(panel) {\n  this.panels.splice(this.panels.indexOf(panel), 1);\n  this.viewComponent.removeChild(panel.getViewComponent());\n};\n\nPanelsMediator.prototype.openPanel = function(panel) {\n  if (panel === this.activePanel || !(panel != null)) {\n    return;\n  }\n  this.closeAllPanels();\n  this.activePanel = panel;\n  this.activePanel.classList.add("active");\n  if (Utils.getDevice() !== "desktop") {\n    this.sendNotification(Notifications.IS_USER_ACTIVE, true);\n  }\n  document.addEventListener("mouseup", this.closeHandler);\n};\n\nPanelsMediator.prototype.closePanel = function(panel) {\n  panel.classList.remove("active");\n  if (this.activePanel != null) {\n    this.activePanel = null;\n    if (Utils.getDevice() !== "desktop") {\n      this.sendNotification(Notifications.IS_USER_ACTIVE, false);\n    }\n    document.removeEventListener("mouseup", this.closeHandler);\n  }\n};\n\nPanelsMediator.prototype.togglePanel = function(panel) {\n  if (panel === this.activePanel) {\n    this.closePanel(panel);\n  } else {\n    this.openPanel(panel);\n  }\n};\n\nPanelsMediator.prototype.closeAllPanels = function() {\n  var panel, _i, _len, _ref;\n  _ref = this.panels;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    panel = _ref[_i];\n    this.closePanel(panel);\n  }\n};\n\nPanelsMediator.prototype.mouseupHandler = function(event) {\n  var button, element, panel;\n  element = document.elementFromPoint(event.clientX, event.clientY);\n  panel = this.activePanel.getViewComponent();\n  button = this.activePanel.control.getViewComponent();\n  if (element !== panel && panel.contains(element) === false && element !== button && button.contains(element) === false) {\n    this.closeAllPanels();\n  }\n};\n\n/**\n * The ProgressMediator class.\n * \n * @constructor\n * @private\n * @extends {ModuleMediator}\n * @param {Object} viewComponent\n*/\nfunction ProgressMediator(parent) {\n  ProgressMediator.__super__.constructor.call(this, parent, "horizontal");\n}\n\n\n__extends(ProgressMediator, SliderMediator);\n\n\n/**\n * The name of the this Mediator.\n * \n * @static\n * @type {string}\n*/\nProgressMediator.prototype.componentName = "progress";\n\nProgressMediator.prototype.bufferValue = null;\n\nProgressMediator.prototype.scrubTime = null;\n\nProgressMediator.prototype.scrubTimeSeparator = null;\n\nProgressMediator.prototype.cuePoints = null;\n\nProgressMediator.prototype.cues = null;\n\nProgressMediator.prototype.duration = 0;\n\nProgressMediator.prototype.isLive = false;\n\nProgressMediator.prototype.previewData = {\n  src: null,\n  previewWidth: null,\n  previewHeight: null,\n  imgWidth: null,\n  imgHeight: null,\n  count: null\n};\n\n/**\n * @override\n*/\nProgressMediator.prototype.onRegister = function() {\n  ProgressMediator.__super__.onRegister.call(this);\n  this.bufferValue = this.create("buffer-value", false);\n  this.trackView.insertBefore(this.bufferValue, this.trackView.lastChild);\n  this.cuePoints = this.create("cue-points", this.trackView);\n  this.scrubTimeSeparator = this.create("scrub-time-separator", this.trackView);\n  this.scrubTime = this.create("scrub-time", this.trackView);\n  this.thumbPreview = this.create("thumb-preview");\n};\n\n/**\n * @override\n*/\nProgressMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.ENDED, Notifications.MEDIA_CHANGE, Notifications.DURATION_CHANGE, Notifications.PROGRESS, Notifications.ADD_CUE_POINTS, Notifications.REMOVE_CUE_POINTS, Notifications.DISPLAY_TIME];\n};\n\n/**\n * @override\n*/\nProgressMediator.prototype.handleNotification = function(notification) {\n  var body, name, value;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.MEDIA_CHANGE:\n      this.isLive = body.temporalType === "live";\n      this.updateValue(0);\n      this.bufferValue.style.width = "0%";\n      this.updatePreview(body.metadata);\n      break;\n    case Notifications.PROGRESS:\n      value = Utils.clamp(body / this.duration * 100, 0, 100);\n      this.bufferValue.style.width = value + "%";\n      break;\n    case Notifications.DURATION_CHANGE:\n      this.duration = body;\n      this.updateCuePoints();\n      break;\n    case Notifications.ENDED:\n      this.updateValue(1.0);\n      break;\n    case Notifications.ADD_CUE_POINTS:\n      this.cues = body;\n      this.updateCuePoints();\n      break;\n    case Notifications.REMOVE_CUE_POINTS:\n      this.removeCuePoints();\n      break;\n    case Notifications.DISPLAY_TIME:\n      if (this.dragging === false) {\n        this.updateValue(body.currentTime / body.duration, body.duration);\n      }\n  }\n};\n\nProgressMediator.prototype.updateCuePoints = function() {\n  var cue, cuePoint, _i, _len, _ref, _ref1, _ref2;\n  if (!(this.cues != null) || this.cues.length === 0) {\n    return;\n  }\n  if (((_ref = this.facade.player.config) != null ? (_ref1 = _ref.controls) != null ? _ref1.displaySceneMarkers : void 0 : void 0) != null) {\n    if (this.facade.player.config.controls.displaySceneMarkers === false) {\n      return;\n    }\n  }\n  this.removeCuePoints();\n  _ref2 = this.cues;\n  for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n    cue = _ref2[_i];\n    if (!(cue !== 0 && cue !== -1)) {\n      continue;\n    }\n    cuePoint = this.create("cue-point", this.cuePoints);\n    cuePoint.style.left = (cue / this.duration * 100) + "%";\n  }\n};\n\nProgressMediator.prototype.updatePreview = function(metadata) {\n  var img,\n    _this = this;\n  this.previewData.src = metadata.previewThumbnailSrc;\n  this.previewData.previewHeight = metadata.previewThumbnailHeight;\n  this.previewData.previewWidth = metadata.previewThumbnailWidth;\n  this.previewData.count = metadata.previewThumbnailCount;\n  img = new Image();\n  if (this.previewData.src) {\n    img.src = this.previewData.src;\n  }\n  EventHandler.create(img, "load", function(event) {\n    event.stopImmediatePropagation();\n    _this.previewData.imgWidth = event.target.width;\n    _this.previewData.imgHeight = event.target.height;\n    return false;\n  });\n  if (this.previewData.src) {\n    this.thumbPreview.style.backgroundImage = "url(" + this.previewData.src + ")";\n  }\n  this.thumbPreview.style.width = this.previewData.previewWidth + "px";\n  this.thumbPreview.style.height = this.previewData.previewHeight + "px";\n};\n\nProgressMediator.prototype.removeCuePoints = function() {\n  if (!(this.cuePoints != null)) {\n    return;\n  }\n  this.cuePoints.innerHTML = "";\n};\n\n/** \n * @override\n*/\nProgressMediator.prototype.valueChanged = function() {\n  this.sendNotification(UserNotifications.SEEK, this.value * this.facade.player.retrieveProxy(MediaProxy.NAME).getDuration());\n};\n\n/** updates the view\n*/\nProgressMediator.prototype.updateValue = function(percent, duration) {\n  if (duration == null) {\n    duration = this.duration;\n  }\n  if (this.isLive === true) {\n    percent = 1;\n  }\n  if (isNaN(percent) === true) {\n    percent = 0;\n  }\n  ProgressMediator.__super__.updateValue.call(this, percent);\n  if (this.getDragging() === true) {\n    this.scrubTime.textContent = Utils.formatTimecode(this.value * duration);\n  }\n  this.scrubTime.style.left = this.scrubTimeSeparator.style.left = "" + ((this.value * 100).toFixed(2)) + "%";\n  this.previewInterval = this.duration / this.previewData.count;\n  this.previewImgIndex = Math.floor(this.value * duration / this.previewInterval);\n  this.previewRow = Math.floor((this.previewImgIndex * this.previewData.previewWidth) / this.previewData.imgWidth);\n  this.xpos = "-" + this.previewData.previewWidth * this.previewImgIndex + "px ";\n  this.ypos = "-" + this.previewData.previewHeight * this.previewRow.toFixed(0) + "px ";\n  this.thumbPreview.style.backgroundPosition = this.xpos + this.ypos;\n  this.thumbPreview.style.left = "" + (((this.value * 100) - 18).toFixed(2)) + "%";\n};\n\nProgressMediator.prototype.handlePressHandler = function(event) {\n  ProgressMediator.__super__.handlePressHandler.call(this, event);\n  this.classList.add("scrubbing");\n};\n\nProgressMediator.prototype.handleReleaseHandler = function(event) {\n  ProgressMediator.__super__.handleReleaseHandler.call(this, event);\n  this.classList.remove("scrubbing");\n};\n\n/**\n * The PlayPauseMediator class.\n * \n * @constructor\n * @private\n * @extends {ButtonMediator}\n*/\nfunction PlayPauseMediator(parent) {\n  PlayPauseMediator.__super__.constructor.call(this, null, parent);\n}\n\n\n__extends(PlayPauseMediator, ButtonMediator);\n\n\nPlayPauseMediator.prototype.componentName = "play-pause";\n\nPlayPauseMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  event.preventDefault();\n  this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE);\n  return false;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar AdNotifications = {\n  BREAK_START: "adsbreakstart",\n  BREAK_END: "adsbreakend",\n  AD_CONTAINER_CREATED: "adscontainercreated",\n  AD_LOADED: "adsloaded",\n  AD_MANAGER_LOADED: "adsmanagerloaded",\n  AD_STARTED: "adsstarted",\n  AD_TIME_UPDATE: "adstimeupdate",\n  AD_TIME_REMAINING: "adstimeremaining",\n  AD_DURATION_CHANGE: "adsdurationchange",\n  AD_ENDED: "adsended",\n  AD_ERROR: "adserror",\n  AD_PLAY: "adsplay",\n  AD_PAUSE: "adspause",\n  AD_PAUSED: "adspaused",\n  AD_RESUME: "adsresume",\n  AD_CLICKED: "adclicked",\n  AD_COMPANION: "adscompanion",\n  FIRST_QUARTILE: "adsfirstquartile",\n  MIDPOINT: "adsmidpoint",\n  THIRD_QUARTILE: "adsthirdquartile",\n  LOG: "adslog",\n  REQUEST: "adsrequest",\n  SKIPPED: "adsskipped",\n  IMPRESSION: "adsimpression"\n};\n\n/**\n * The ControlsMediator class.\n * \n * @constructor\n * @private\n * @extends {LayerMediator}\n*/\nfunction ControlsMediator() {\n  ControlsMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsMediator, LayerMediator);\n\n\nControlsMediator.prototype.componentName = "controls";\n\nControlsMediator.prototype.activeControlPanel = null;\n\nControlsMediator.prototype.controlBar = null;\n\nControlsMediator.prototype.panels = null;\n\n/**\n * @override\n*/\nControlsMediator.prototype.onRegister = function() {\n  var separator;\n  ControlsMediator.__super__.onRegister.call(this);\n  this.facade.viewComponent = this.viewComponent;\n  this.controlBar = this.create("control-bar");\n  this.facade.registerMediator(new PanelsMediator(this.viewComponent));\n  this.facade.registerMediator(new PlayPauseMediator(this.controlBar));\n  this.facade.registerMediator(new TimeDisplayMediator(this.controlBar));\n  this.facade.registerMediator(new ProgressMediator(this.controlBar));\n  if (this.facade.config.logo != null) {\n    this.facade.registerMediator(new LogoMediator(this.controlBar));\n  }\n  separator = this.create("separator", this.controlBar);\n};\n\n/**\n * @override\n*/\nControlsMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.READY, Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE];\n};\n\n/**\n * @override\n*/\nControlsMediator.prototype.handleNotification = function(notification) {\n  var body, name, _ref;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.READY:\n      if (((_ref = body.fullscreen) != null ? _ref.enabled : void 0) !== false) {\n        this.facade.registerMediator(new FullScreenMediator(this.controlBar));\n      }\n      break;\n    case Notifications.ADD_CONTROL_STATE:\n      this.classList.add(body);\n      break;\n    case Notifications.REMOVE_CONTROL_STATE:\n      this.classList.remove(body);\n      break;\n    case Notifications.ADD_CONTROL:\n      this.controlBar.appendChild(body);\n      break;\n    case Notifications.REMOVE_CONTROL:\n      if (this.controlBar.contains(body)) {\n        this.controlBar.removeChild(body);\n      }\n  }\n};\n\n/**\n * @constructor\n*/\nfunction AMP() {}\n\n/**\n * Create a player based on the configuration object and container. \n *   \n * @param {string|HTMLElement} container          \n *    The id of the div the player will be attached to.\n * \n * @param {?(Object|string)} config        \n *    The configuration override object.\n * \n * @param {?Function} onready  \n *    Optional ready handler.\n * \n * @return {Player}\n *\n*/\nAMP.create = function(container, config, onready) {\n  var player, version;\n  if (typeof container === "string") {\n    container = document.getElementById(container);\n  }\n  if (!(container != null)) {\n    throw new Error("[AMP ERROR] Invalid container. Could not find DOM element with id: " + container);\n  }\n  if (config == null) {\n    config = {};\n  }\n  if ((AMP.defaults.data != null)) {\n    config = Utils.override(AMP.defaults.data, config);\n  }\n  if (/amp\\-debug\\=true/.test(location.search.toLowerCase()) === true) {\n    config.debug = true;\n  }\n  Logger.enable(config.debug);\n  version = this.getVersion();\n  config.mode = Utils.getPlaybackMode(config.mode);\n  if (config.version == null) {\n    config.version = version;\n  }\n  if (container.dataset == null) {\n    container.dataset = {};\n  }\n  container.dataset["amp.version"] = version;\n  Logger.log("[AMP]", version);\n  switch (config.mode) {\n    case PlaybackMode.HTML:\n      player = new HTMLPlayer(container);\n      break;\n    case PlaybackMode.FLASH:\n      player = new FlashPlayer(container);\n      break;\n    case PlaybackMode.EXTERNAL:\n      player = new ExternalPlayer(container);\n      break;\n    case PlaybackMode.NONE:\n      player = new InstallPlayer(container);\n  }\n  player.onready = onready;\n  player.initialize(config);\n  container.amp = player;\n  return player;\n};\n\n/**\n * Returns the version string for this player library.\n * \n * @return {string} The version string.\n*/\nAMP.getVersion = function() {\n  return this.VERSION;\n};\n\n/**\n * The player version string\n * \n * @type {string}\n * @private\n * @static\n*/\nAMP.VERSION = "AMP - Premier : WebMD v0.30.0.0002";\n\n/** \n * @private\n*/\nAMP.defaults = new AMPConfig();\n\n/** \n * @private\n*/\nAMP.plugins = [];\n\n/** \n * Loads a default configuration object from a url. \n * \n * @param {string} url\n *    A url to a configuration json file to use at the defaults object.\n * \n * @param {?Function} loaded\n *    Callback function triggered when the file has been loaded and \n *    sucessfully parsed.\n * \n * @param {?Function} error\n *    Callback function triggered when the file has failed to load\n *    or cannot be parsed.\n * \n * @param {boolean} [withCredentials=false]\n *    Whether or not to use credntials when making XMLHttpRequest.\n * \n * @static\n*/\nAMP.loadDefaults = function(url, loaded, error, withCredentials) {\n  if (withCredentials == null) {\n    withCredentials = false;\n  }\n  if (loaded != null) {\n    this.defaults.addEventListener("load", loaded);\n  }\n  if (error != null) {\n    this.defaults.addEventListener("error", error);\n  }\n  this.defaults.load(url, withCredentials);\n};\n\n/**\n * Returns the playback mode best suited for the current environment.\n * \n * @return {PlaybackMode}\n *    The playback mode.\n *  \n * @static\n*/\nAMP.getPlaybackMode = function() {\n  return Utils.getPlaybackMode();\n};\n\n/** \n * @private\n * @static\n*/\nAMP.registerPlugin = function(id, mode, plugin) {\n  var _base;\n  if ((_base = this.plugins)[id] == null) {\n    _base[id] = {};\n  }\n  this.plugins[id][mode] = plugin;\n};\n\n/**\n * @type {akamai.amp.ResourceManager}\n * @private\n*/\nAMP.resourceManager = null;\n\n/**\n * Short cut getter for the global renderer manager\n * \n * @return {akamai.amp.ResourceManager}\n * \n * @static\n * @private\n*/\nAMP.getResourceManager = function() {\n  if (!(this.resourceManager != null)) {\n    this.resourceManager = new ResourceManager();\n  }\n  return this.resourceManager;\n};\n\n/**\n * @param {akamai.amp.Resource} resource\n *    The resource definition\n * \n * @param {Function} callback\n * \n * @static\n * @private\n*/\nAMP.addResource = function(resource, callback) {\n  return this.getResourceManager().add(resource, callback);\n};\n\n/**\n * @param {Array.<akamai.amp.Resource>} resources\n *    The resource definition\n * \n * @param {Function} callback\n * \n * @static\n * @private\n*/\nAMP.addResources = function(resources, callback) {\n  return this.getResourceManager().addResources(resources, callback);\n};\n\n/**\n * @param {!string} key\n *     The resource\'s key\n * \n * @return {akamai.amp.Resource}\n *     The resource definition\n * \n * @static\n * @private\n*/\nAMP.getResource = function(key) {\n  return this.getResourceManager().item(key);\n};\n\n/**\n * @param {!string} key\n *     The resource\'s key\n * \n * @return {Function}\n *     The resource\'s constructor\n *\n * @static\n * @private\n*/\nAMP.removeResource = function(key) {\n  return this.getResourceManager().remove(key);\n};\n\nfunction PlayOverlayWrapper() {\n  return PlayOverlayWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(PlayOverlayWrapper, PluginWrapper);\n\n\nPlayOverlayWrapper.NAME = "PlayOverlayWrapper";\n\n/**\n*/\nPlayOverlayWrapper.prototype.createFlashVars = function(flashvars) {\n  flashvars.show_play_button_overlay = this.config.enabled != null ? this.config.enabled : true;\n  return flashvars;\n};\n\n\nAMP.registerPlugin("playoverlay", "flash", PlayOverlayWrapper);\n\n/** \n * @constructor\n * @private\n*/\nfunction PlayOverlayMediator() {\n  PlayOverlayMediator.__super__.constructor.call(this);\n}\n\n\n__extends(PlayOverlayMediator, OverlayMediator);\n\n\nPlayOverlayMediator.prototype.componentName = "play";\n\nPlayOverlayMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  event.preventDefault();\n  this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE);\n  return false;\n};\n\n/** \n * The ControlsPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ControlsPlugin() {\n  ControlsPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ControlsPlugin, Plugin);\n\n\nControlsPlugin.prototype.moduleName = "controls";\n\n/** @override\n*/\nControlsPlugin.prototype.createFramework = function() {\n  if (this.config["native"] === true) {\n    this.player.getMediaElement().controls = true;\n    this.player.sendNotification(Notifications.ADD_APPLICATION_STATE, "controls-native");\n    this.registerCommand(Notifications.MEDIA_VALIDATED, ControlsMediaValidatedCommand);\n    this.registerCommand(AdNotifications.BREAK_START, ControlsAdBreakStartCommand);\n    this.registerCommand(AdNotifications.BREAK_END, ControlsAdBreakEndCommand);\n    this.registerCommand(Notifications.STARTED, ControlsStartedCommand);\n    this.createView = function() {};\n    return;\n  } else {\n    ControlsPlugin.__super__.createFramework.call(this);\n  }\n};\n\n/**\n*/\nControlsPlugin.prototype.applyClickHandler = function(apply) {\n  if (apply == null) {\n    apply = true;\n  }\n  this.player.getMediaElement().onclick = apply ? this.clickHandler.bind(this) : null;\n  this.player.getMediaElement().onplay = apply ? this.clickHandler.bind(this) : null;\n};\n\n/**\n*/\nControlsPlugin.prototype.clickHandler = function(event) {\n  this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE, true);\n};\n\n/** @override\n*/\nControlsPlugin.prototype.createController = function() {\n  ControlsPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.START, ControlsStartCommand);\n  this.registerCommand(Notifications.PLAY, ControlsPlayCommand);\n  this.registerCommand(Notifications.PAUSE, ControlsPauseCommand);\n  this.registerCommand(Notifications.ACTIVE_STATE_CHANGE, ControlsActiveStateChangeCommand);\n};\n\n/** @override\n*/\nControlsPlugin.prototype.createModel = function() {\n  this.proxy = new ControlsProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nControlsPlugin.prototype.createView = function() {\n  this.registerMediator(new ControlsMediator());\n};\n\n/**\n*/\nControlsPlugin.prototype.listNotificationInterests = function() {\n  var key, value;\n  return ((function() {\n    var _results;\n    _results = [];\n    for (key in PanelNotifications) {\n      value = PanelNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })()).concat([Notifications.MEDIA_CHANGE, Notifications.TIME_UPDATE, Notifications.DURATION_CHANGE, Notifications.PROGRESS, Notifications.ENDED, Notifications.ADD_CUE_POINTS, Notifications.REMOVE_CUE_POINTS, Notifications.DISABLE_FULL_SCREEN, Notifications.ENABLE_FULL_SCREEN, Notifications.READY, Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE, Notifications.ACTIVE_STATE_CHANGE, Notifications.START, Notifications.PLAY, Notifications.PAUSE, AdNotifications.BREAK_START, AdNotifications.BREAK_END, Notifications.CHANGE_MEDIA, Notifications.DISPLAY_TIME, Notifications.MEDIA_VALIDATED, Notifications.STARTED]);\n};\n\n/**\n*/\nControlsPlugin.prototype.listNotificationPublications = function() {\n  return ControlsPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.CHANGE_ACTIVE_STATE, Notifications.TOGGLE_FULL_SCREEN, UserNotifications.SEEK, Notifications.TOGGLE_ACTIVE, UserNotifications.TOGGLE_PLAY_PAUSE]);\n};\n\n/**\n * @param {string} value The contorls mode.\n * @expose\n*/\nControlsPlugin.prototype.setMode = function(value) {\n  this.proxy.setMode(value);\n  return value;\n};\n\n/**\n * @return {string} The controls mode.\n * @expose\n*/\nControlsPlugin.prototype.getMode = function() {\n  return this.proxy.getMode();\n};\n\n/**\n * @param {boolean} value The autohide flag.\n * @expose\n*/\nControlsPlugin.prototype.setAutoHide = function(value) {\n  this.proxy.setAutoHide(value);\n  return value;\n};\n\n/**\n * @return {boolean} The autohide flag.\n * @expose\n*/\nControlsPlugin.prototype.getAutoHide = function() {\n  return this.proxy.getAutoHide();\n};\n\n\nAMP.registerPlugin("controls", "html", ControlsPlugin);\nAMP.registerPlugin("controls", "flash", ControlsWrapper);\nAMP.registerPlugin("controls", "external", ControlsPlugin);\n\n/** \n * The AdContentStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdContentStartedCommand() {\n  AdContentStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdContentStartedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdContentStartedCommand.prototype.execute = function(notification) {\n  this.proxy.contentStarted();\n};\n\n/** \n * The AdContentEndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdContentEndedCommand() {\n  AdContentEndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdContentEndedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdContentEndedCommand.prototype.execute = function(notification) {\n  this.proxy.contentEnded();\n};\n\n/**\n * @constructor\n * @private\n * @extends {amp.player.controller.PlayerCommand}\n*/\nfunction PluginEventCommand() {\n  PluginEventCommand.__super__.constructor.call(this);\n}\n\n\n__extends(PluginEventCommand, PluginCommand);\n\n\n/**\n *\n*/\nPluginEventCommand.prototype.dispatchEvent = function(type, detail) {\n  var event, name, _base;\n  if (typeof type !== "string") {\n    detail = type.getBody() || {};\n    type = type.getName();\n  }\n  name = typeof (_base = this.plugin).getFeatureName === "function" ? _base.getFeatureName() : void 0;\n  if (name != null) {\n    type = type.replace(new RegExp("^(" + name + ")"), "");\n  }\n  name = this.plugin.getModuleName();\n  type = type.replace(new RegExp("^(" + name + ")"), "");\n  event = new Event(type, detail);\n  this.sendNotification(Notifications.DISPATCH_EVENT, event);\n};\n\n/**\n *\n*/\nPluginEventCommand.prototype.dispatchEventAfterCommand = function(type, detail) {\n  setTimeout(this.dispatchEvent.bind(this, type, detail), 0);\n};\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nPluginEventCommand.prototype.execute = function(notification) {\n  this.dispatchEvent(notification);\n};\n\n/**\n * The MediaAnalyticsChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsChangeMediaCommand() {\n  MediaAnalyticsChangeMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsChangeMediaCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsChangeMediaCommand.prototype.execute = function(notification) {\n  this.proxy.setMedia(notification.getBody());\n};\n\n/**\n * The MediaAnalyticsAdBreakStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdBreakStartCommand() {\n  MediaAnalyticsAdBreakStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdBreakStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdBreakStartCommand.prototype.execute = function(notification) {\n  this.facade.player.getMediaElement().dataset.isad = true;\n};\n\n/**\n * The MediaAnalyticsAdBreakEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdBreakEndCommand() {\n  MediaAnalyticsAdBreakEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdBreakEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdBreakEndCommand.prototype.execute = function(notification) {\n  this.facade.player.getMediaElement().dataset.isad = false;\n};\n\n/**\n * The MediaAnalyticsAdLoadedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdLoadedCommand() {\n  MediaAnalyticsAdLoadedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdLoadedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdLoadedCommand.prototype.execute = function(notification) {\n  var adObject, adVO;\n  try {\n    adVO = notification.getBody();\n    adObject = {\n      adDuration: adVO.duration,\n      adPartnerId: adVO.partner,\n      adTitle: adVO.title,\n      adId: adVO.id\n    };\n    if (typeof akamaiHandleAdLoaded === "function") {\n      akamaiHandleAdLoaded(adObject);\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", error);\n  }\n};\n\n/**\n * The MediaAnalyticsAdStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdStartCommand() {\n  MediaAnalyticsAdStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdStartCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdStartCommand.prototype.execute = function(notification) {\n  try {\n    if (typeof akamaiHandleAdStarted === "function") {\n      akamaiHandleAdStarted();\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", error);\n  }\n};\n\n/**\n * The MediaAnalyticsTimeUpdateCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdTimeUpdateCommand() {\n  MediaAnalyticsAdTimeUpdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdTimeUpdateCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdTimeUpdateCommand.prototype.execute = function(notification) {\n  var core, percent;\n  core = notification.getBody();\n  percent = Math.round(core.currentTime / core.duration * 100);\n  try {\n    if (percent >= 25 && this.proxy.percent < 25) {\n      this.facade.logger.debug("MediaAnalytics: First Quartile");\n      if (typeof akamaiHandleAdFirstQuartile === "function") {\n        akamaiHandleAdFirstQuartile();\n      }\n    } else if (percent >= 50 && this.proxy.percent < 50) {\n      this.facade.logger.debug("MediaAnalytics: Second Quartile");\n      if (typeof akamaiHandleAdMidpoint === "function") {\n        akamaiHandleAdMidpoint();\n      }\n    } else if (percent >= 75 && this.proxy.percent < 75) {\n      this.facade.logger.debug("MediaAnalytics: Third Quartile");\n      if (typeof akamaiHandleAdThirdQuartile === "function") {\n        akamaiHandleAdThirdQuartile();\n      }\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", error);\n  }\n  this.proxy.percent = percent;\n};\n\n/**\n * The MediaAnalyticsAdEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsAdEndCommand() {\n  MediaAnalyticsAdEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsAdEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsAdEndCommand.prototype.execute = function(notification) {\n  try {\n    if (typeof akamaiHandleAdCompleted === "function") {\n      akamaiHandleAdCompleted();\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", error);\n  }\n  this.facade.player.getMediaElement().dataset.isad = true;\n};\n\n/**\n * The MediaAnalyticsSetDimensionsCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsSetDimensionsCommand() {\n  MediaAnalyticsSetDimensionsCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsSetDimensionsCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsSetDimensionsCommand.prototype.execute = function(notification) {\n  var dimensions;\n  dimensions = notification.getBody();\n  this.proxy.setDimensions(dimensions);\n};\n\n/**\n * The MediaAnalyticsContentChangedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsContentChangedCommand() {\n  MediaAnalyticsContentChangedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsContentChangedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsContentChangedCommand.prototype.execute = function(notification) {\n  this.proxy.updatedMedia(notification.getBody());\n};\n\n/** \n * The AdPlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdPlayCommand() {\n  AdPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdPlayCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdPlayCommand.prototype.execute = function(notification) {\n  if (this.proxy.getStarted() === false) {\n    this.sendNotification(Notifications.START, true);\n    return;\n  }\n  this.proxy.play();\n  this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n};\n\n/** \n * The AdPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdPauseCommand() {\n  AdPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdPauseCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdPauseCommand.prototype.execute = function(notification) {\n  this.proxy.pause();\n  this.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PAUSED);\n};\n\n/** \n * The AdTogglePlayPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdTogglePlayPauseCommand() {\n  AdTogglePlayPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdTogglePlayPauseCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdTogglePlayPauseCommand.prototype.execute = function(notification) {\n  var note;\n  if (this.proxy.getPaused() || this.proxy.getStarted() === false) {\n    note = Notifications.PLAY;\n  } else {\n    note = Notifications.PAUSE;\n  }\n  this.sendNotification(note, true);\n};\n\n/** \n * The AdVolumeChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdVolumeChangeCommand() {\n  AdVolumeChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdVolumeChangeCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdVolumeChangeCommand.prototype.execute = function(notification) {\n  this.proxy.setVolume(notification.getBody());\n  AdVolumeChangeCommand.__super__.execute.call(this, notification);\n};\n\n/** \n * The AdStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.MacroCommand}\n*/\nfunction AdStartCommand() {\n  AdStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdStartCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdStartCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.PLAY_REQUEST);\n  if (this.playback.initialized === false) {\n    this.player.sendNotification(Notifications.INITIALIZED);\n  }\n  this.proxy.start();\n  this.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n  AdStartCommand.__super__.execute.call(this, notification);\n};\n\nfunction MediaAnalyticsWrapper(player, config) {\n  MediaAnalyticsWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(MediaAnalyticsWrapper, PluginWrapper);\n\n\nMediaAnalyticsWrapper.NAME = "MediaAnalyticsWrapper";\n\nMediaAnalyticsWrapper.prototype.flashPluginIds = ["OSMFCSMALoader"];\n\n/** @override\n*/\nMediaAnalyticsWrapper.prototype.listNotificationInterests = function() {\n  return MediaAnalyticsWrapper.__super__.listNotificationInterests.call(this).concat([Notifications.MEDIA_CHANGE, MediaAnalyticsNotifications.SET_DIMENSIONS]);\n};\n\nMediaAnalyticsWrapper.prototype.createFlashVars = function(flashvars) {\n  var dimensions, key, value, _ref, _ref1;\n  dimensions = (_ref = this.player.config) != null ? (_ref1 = _ref.media) != null ? _ref1.mediaanalytics : void 0 : void 0;\n  if (dimensions != null) {\n    for (key in dimensions) {\n      value = dimensions[key];\n      flashvars["report_" + key] = value;\n    }\n  }\n  return flashvars;\n};\n\nMediaAnalyticsWrapper.prototype.createXML = function(xml) {\n  var application, dimensions, element, key, metrics, path, value, vendor, _ref, _ref1;\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "akamai");\n  metrics.appendChild(vendor);\n  if (this.config.config != null) {\n    element = xml.createElement("property");\n    element.setAttribute("key", "MEDIA_ANALYTICS_BEACON");\n    element.appendChild(XMLUtils.createTextContent(xml, this.config.config));\n    vendor.appendChild(element);\n    path = ((_ref = this.config.plugin) != null ? _ref.swf : void 0) || "http://79423.analytics.edgesuite.net/csma/plugin/csma.swf";\n    element = xml.createElement("property");\n    element.setAttribute("key", "MEDIA_ANALYTICS_PLUGIN_PATH");\n    element.appendChild(XMLUtils.createTextContent(xml, path));\n    vendor.appendChild(element);\n  }\n  if (this.config.dimensions != null) {\n    dimensions = xml.createElement("property");\n    dimensions.setAttribute("key", "dimensions");\n    vendor.appendChild(dimensions);\n    _ref1 = this.config.dimensions;\n    for (key in _ref1) {\n      value = _ref1[key];\n      element = xml.createElement("property");\n      element.setAttribute("key", key);\n      element.appendChild(XMLUtils.createTextContent(xml, value));\n      dimensions.appendChild(element);\n    }\n  }\n  return xml;\n};\n\nMediaAnalyticsWrapper.prototype.handleNotification = function(notification) {\n  var body, key, media, name, value, _ref, _ref1;\n  MediaAnalyticsWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.MEDIA_CHANGE:\n      media = body;\n      if (((_ref = media.mediaanalytics) != null ? _ref.dimensions : void 0) != null) {\n        media.dimensions = [];\n        _ref1 = media.mediaanalytics.dimensions;\n        for (key in _ref1) {\n          value = _ref1[key];\n          media.dimensions.push({\n            key: key,\n            value: value\n          });\n        }\n      }\n      break;\n    case MediaAnalyticsNotifications.SET_DIMENSIONS:\n      this.setDimensions(body);\n  }\n};\n\n/**\n*/\nMediaAnalyticsWrapper.prototype.setDimensions = function(value) {\n  this.player.mediaElement.setPlayerProperty("maDimensions", value);\n  return value;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar IMANotifications = {\n  INITIALIZED: "ima/initialize",\n  ADD_OVERLAY: "ima/addOverlay",\n  REMOVE_OVERLAY: "ima/removeOverlay"\n};\n\n/** \n * @constructor\n*/\nfunction AdVO(id, title, duration, position, type, partner, advertiser, companions, request, metadata, totalAds) {\n  this.id = id;\n  this.title = title;\n  this.duration = duration;\n  this.position = position;\n  this.type = type;\n  this.partner = partner;\n  this.advertiser = advertiser;\n  this.companions = companions;\n  this.request = request;\n  this.metadata = metadata;\n  this.totalAds = totalAds;\n}\n\nAdVO.prototype.id = null;\n\nAdVO.prototype.title = null;\n\nAdVO.prototype.duration = NaN;\n\nAdVO.prototype.position = NaN;\n\nAdVO.prototype.totalAds = NaN;\n\nAdVO.prototype.type = null;\n\nAdVO.prototype.partner = null;\n\nAdVO.prototype.advertiser = null;\n\nAdVO.prototype.companions = null;\n\nAdVO.prototype.metadata = null;\n\nAdVO.prototype.request = null;\n\nAdVO.prototype.error = null;\n\n/** \n * Used to trigger overlay ads for Google IMA\n * \n * @constructor \n * @private\n*/\nfunction IMAOverlayProxy(config) {\n  IMAOverlayProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(IMAOverlayProxy, DataBoundConfigurationProxy);\n\n\nIMAOverlayProxy.prototype.configurationName = "imaoverlay";\n\n/** @static\n*/\nIMAOverlayProxy.NAME = "IMAOveralyProxy";\n\nIMAOverlayProxy.prototype.defaults = {\n  adTagUrl: null,\n  duration: 15,\n  interval: 30,\n  delay: 30\n};\n\nIMAOverlayProxy.prototype.durationTimer = null;\n\nIMAOverlayProxy.prototype.intervalTimer = null;\n\nIMAOverlayProxy.prototype.delayTimer = null;\n\n/** Stops polling and clears the ad\n*/\nIMAOverlayProxy.prototype.stop = function() {\n  clearTimeout(this.durationTimer);\n  clearTimeout(this.delayTimer);\n  clearTimeout(this.intervalTimer);\n};\n\n/** Starts polling and load the first ad\n*/\nIMAOverlayProxy.prototype.play = function() {\n  var _this = this;\n  this.stop();\n  this.delayTimer = setTimeout(function() {\n    return _this.requestAd();\n  }, this.value.delay * 1000);\n};\n\n/** Retrieves an ad image from VAST XML\n*/\nIMAOverlayProxy.prototype.requestAd = function() {\n  var adTagUrl, xhr;\n  adTagUrl = this.getValue("adTagUrl");\n  if (adTagUrl != null) {\n    adTagUrl = adTagUrl.replace("[timestamp]", new Date().getTime());\n    adTagUrl = adTagUrl.replace("__random-number__", new Date().getTime());\n  }\n  xhr = Utils.get(adTagUrl, {\n    withCredentials: true,\n    onload: this.vastLoadHandler.bind(this),\n    onerror: this.error.bind(this)\n  }, false);\n};\n\nIMAOverlayProxy.prototype.vastLoadHandler = function(xhr) {\n  var ad, clickThroughHref, creativeView, img, impression, xml;\n  xml = xhr.target.responseXML;\n  if (xml != null) {\n    try {\n      ad = xml.querySelector("NonLinear");\n      if (ad != null) {\n        impression = xml.querySelector("Impression") != null ? xml.querySelector("Impression").textContent : "";\n        creativeView = xml.querySelector("Tracking[event=creativeView]") != null ? xml.querySelector("Tracking[event=creativeView]").textContent : "";\n        clickThroughHref = ad.querySelector("NonLinearClickThrough") != null ? ad.querySelector("NonLinearClickThrough").textContent : "";\n        img = {\n          src: ad.querySelector("StaticResource").textContent,\n          width: ad.getAttribute("width"),\n          height: ad.getAttribute("height"),\n          tracking: [impression, creativeView],\n          href: clickThroughHref\n        };\n        this.displayAd(img);\n      } else {\n        this.error("No overlay was returned");\n      }\n    } catch (error) {\n      this.error(error);\n    }\n  }\n};\n\nIMAOverlayProxy.prototype.error = function(error) {\n  this.facade.logger.error("[AMP IMA OVERLAY ERROR]", error);\n  this.stop();\n};\n\n/** Notifies the application that a new overlay is ready to display\n*/\nIMAOverlayProxy.prototype.displayAd = function(ad) {\n  var _this = this;\n  this.sendNotification(IMANotifications.ADD_OVERLAY, ad);\n  this.durationTimer = setTimeout(function() {\n    _this.sendNotification(IMANotifications.REMOVE_OVERLAY);\n    return _this.intervalTimer = setTimeout(function() {\n      return _this.requestAd();\n    }, _this.value.interval * 1000);\n  }, this.value.duration * 1000);\n};\n\n/** \n * The AdProxy class.\n *   \n * @constructor\n * @private \n * @extends {PluginProxy}\n * @param {Object} config\n * @implements {IDataBindingContext}\n*/\nfunction AdProxy(config) {\n  AdProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AdProxy, PluginProxy);\n\n\n/** @static\n*/\nAdProxy.NAME = PluginProxy.NAME;\n\nAdProxy.prototype.inprogress = false;\n\nAdProxy.prototype.paused = false;\n\nAdProxy.prototype.started = false;\n\nAdProxy.prototype.adVO = null;\n\nAdProxy.prototype.contextName = "ad";\n\n/**\n * Gets the context data for this proxy.\n * \n * @returns {Object} The contenxt data for this proxy\n*/\nAdProxy.prototype.getContextData = function() {\n  return this.adVO || {};\n};\n\n/**\n*/\nAdProxy.prototype.setCompanions = function(value) {\n  this.adVO.companions = value;\n  this.sendNotification(AdNotifications.AD_COMPANION, this.adVO);\n  return value;\n};\n\nAdProxy.prototype.getCompanions = function() {\n  var _ref;\n  return (_ref = this.adVO) != null ? _ref.companions : void 0;\n};\n\n/**\n*/\nAdProxy.prototype.getInProgress = function() {\n  return this.inprogress;\n};\n\nAdProxy.prototype.setInProgress = function(value) {\n  this.inprogress = value;\n  return value;\n};\n\n/**\n*/\nAdProxy.prototype.getStarted = function() {\n  return this.started;\n};\n\n/**\n*/\nAdProxy.prototype.setStarted = function(value) {\n  this.started = value;\n  return value;\n};\n\n/**\n*/\nAdProxy.prototype.getPaused = function() {\n  return this.paused;\n};\n\nAdProxy.prototype.setPaused = function(value) {\n  this.paused = value;\n  return value;\n};\n\n/**\n*/\nAdProxy.prototype.play = function() {\n  this.setPaused(false);\n  this.sendNotification(AdNotifications.AD_PLAY, this.adVO);\n};\n\n/**\n*/\nAdProxy.prototype.pause = function() {\n  this.setPaused(true);\n  this.sendNotification(AdNotifications.AD_PAUSE, this.adVO);\n};\n\n/**\n*/\nAdProxy.prototype.breakStart = function() {};\n\n/**\n*/\nAdProxy.prototype.breakEnd = function() {\n  this.setInProgress(false);\n  this.reset();\n};\n\n/**\n*/\nAdProxy.prototype.error = function(err, breakEnd) {\n  var msg;\n  if (breakEnd == null) {\n    breakEnd = true;\n  }\n  msg = (typeof err.getMessage === "function" ? err.getMessage() : void 0) || err.message;\n  this.facade.logger.error("[AMP AD ERROR]", "" + msg + " Skipping ad content.", err);\n  if (this.adVO == null) {\n    this.adVO = {};\n  }\n  this.adVO.error = err;\n  this.sendNotification(AdNotifications.AD_ERROR, this.adVO);\n  if (breakEnd === true) {\n    this.endBreak();\n  }\n};\n\n/**\n*/\nAdProxy.prototype.engage = function(media) {\n  if (this.getEnabled() === false) {\n    return;\n  }\n  this.setStarted(false);\n  if (this.getInProgress()) {\n    this.reset();\n    this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "ad-mode");\n  }\n  this.engageAds();\n};\n\n/**\n*/\nAdProxy.prototype.engageAds = function() {\n  this.facade.player.removeCommand(Notifications.START);\n  this.facade.player.removeCommand(Notifications.PLAY);\n  this.facade.player.removeCommand(Notifications.PAUSE);\n  this.facade.player.removeCommand(Notifications.ENDED);\n  this.facade.player.removeCommand(UserNotifications.PLAY);\n  this.facade.player.removeCommand(UserNotifications.PAUSE);\n  this.facade.player.removeCommand(UserNotifications.TOGGLE_PLAY_PAUSE);\n  if (this.facade.isFullscreenDevice()) {\n    this.facade.player.removeCommand(Notifications.CHANGE_DURATION);\n  }\n  this.facade.removeCommand(Notifications.STARTED);\n  this.facade.removeCommand(Notifications.ENDED);\n  this.facade.registerCommand(Notifications.START, AdStartCommand);\n  this.facade.registerCommand(Notifications.PLAY, AdPlayCommand);\n  this.facade.registerCommand(Notifications.PAUSE, AdPauseCommand);\n  this.facade.registerCommand(UserNotifications.PLAY, AdPlayCommand);\n  this.facade.registerCommand(UserNotifications.PAUSE, AdPauseCommand);\n  this.facade.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, AdTogglePlayPauseCommand);\n  this.facade.registerCommand(Notifications.VOLUME_CHANGE, AdVolumeChangeCommand);\n};\n\n/**\n*/\nAdProxy.prototype.reset = function() {\n  this.facade.removeCommand(Notifications.START);\n  this.facade.removeCommand(Notifications.PLAY);\n  this.facade.removeCommand(Notifications.PAUSE);\n  this.facade.removeCommand(UserNotifications.PLAY);\n  this.facade.removeCommand(UserNotifications.PAUSE);\n  this.facade.removeCommand(UserNotifications.TOGGLE_PLAY_PAUSE);\n  this.facade.removeCommand(Notifications.VOLUME_CHANGE);\n  this.facade.player.registerCommand(Notifications.START, StartCommand);\n  this.facade.player.registerCommand(Notifications.PLAY, PlayCommand);\n  this.facade.player.registerCommand(Notifications.PAUSE, PauseCommand);\n  this.facade.player.registerCommand(Notifications.ENDED, EndedCommand);\n  this.facade.player.registerCommand(UserNotifications.PLAY, PlayCommand);\n  this.facade.player.registerCommand(UserNotifications.PAUSE, PauseCommand);\n  this.facade.player.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, TogglePlayPauseCommand);\n  if (this.facade.isFullscreenDevice()) {\n    this.facade.player.registerCommand(Notifications.CHANGE_DURATION, ChangeDurationCommand);\n  }\n  this.facade.registerCommand(Notifications.STARTED, AdContentStartedCommand);\n  this.facade.registerCommand(Notifications.ENDED, AdContentEndedCommand);\n};\n\n/**\n*/\nAdProxy.prototype.startBreak = function() {\n  this.setStarted(true);\n  this.sendNotification(AdNotifications.BREAK_START, this.adVO);\n  if (this.getEnabled() === false) {\n    this.endBreak();\n    return false;\n  }\n  return true;\n};\n\n/**\n*/\nAdProxy.prototype.endBreak = function() {\n  this.sendNotification(AdNotifications.BREAK_END, this.adVO);\n};\n\n/**\n*/\nAdProxy.prototype.start = function() {\n  this.startBreak();\n};\n\n/**\n*/\nAdProxy.prototype.contentPlay = function() {\n  this.facade.player.sendNotification(Notifications.PLAY, true);\n};\n\n/**\n*/\nAdProxy.prototype.contentPause = function() {\n  this.facade.player.mediaElement.pause();\n};\n\n/**\n*/\nAdProxy.prototype.contentStarted = function() {};\n\n/**\n*/\nAdProxy.prototype.contentSeek = function(time) {};\n\n/**\n*/\nAdProxy.prototype.contentEnded = function() {};\n\n/**\n*/\nAdProxy.prototype.setVolume = function(value) {};\n\n/**\n*/\nAdProxy.prototype.getVolume = function() {};\n\n/**\n*/\nAdProxy.prototype.terminateAd = function() {};\n\n/**\n*/\nAdProxy.prototype.terminateAllAds = function() {};\n\n/** \n * The IMAProxy class.\n *   \n * @constructor\n * @private \n * @extends {AdProxy}\n * @param {Object} config\n*/\nfunction IMAProxy(config) {\n  IMAProxy.__super__.constructor.call(this, config);\n  this.intervals = [];\n  this.loadedmetadata = this.onLoadedMetadata.bind(this);\n}\n\n\n__extends(IMAProxy, AdProxy);\n\n\n/** @static\n*/\nIMAProxy.NAME = AdProxy.NAME;\n\nIMAProxy.prototype.defaults = {\n  adTagUrl: null,\n  overlay: null,\n  width: null,\n  height: null,\n  maxBitrate: -1,\n  ppid: null,\n  companions: null\n};\n\nIMAProxy.prototype.key = "ima";\n\nIMAProxy.prototype.intervals = null;\n\nIMAProxy.prototype.adDisplayContainer = null;\n\nIMAProxy.prototype.adDisplayContainerInitialized = false;\n\nIMAProxy.prototype.adsLoader = null;\n\nIMAProxy.prototype.adsRenderingSettings = null;\n\nIMAProxy.prototype.adsManagerLoaded = false;\n\nIMAProxy.prototype.adsManager = null;\n\nIMAProxy.prototype.cuepoints = null;\n\nIMAProxy.prototype.adLoaded = false;\n\nIMAProxy.prototype.playWhenLoaded = false;\n\nIMAProxy.prototype.contentHasEnded = false;\n\nIMAProxy.prototype.adTagUrl = null;\n\nIMAProxy.prototype.viewMode = null;\n\nIMAProxy.prototype.playbackCore = null;\n\nIMAProxy.prototype.loadedmetadata = null;\n\n/**\n*/\nIMAProxy.prototype.setEnabled = function(value) {\n  var _ref;\n  IMAProxy.__super__.setEnabled.call(this, value);\n  if (value === false) {\n    if ((_ref = this.adsManager) != null) {\n      if (typeof _ref.destroy === "function") {\n        _ref.destroy();\n      }\n    }\n    if (this.getInProgress()) {\n      this.contentPlay();\n    }\n  }\n  return value;\n};\n\n/** @override\n*/\nIMAProxy.prototype.onLoadedMetadata = function(event) {\n  event.target.removeEventListener("loadedmetadata", this.loadedmetadata);\n  if (this.canPlay() && this.playWhenLoaded === true) {\n    this.startAd();\n  }\n};\n\n/** @override\n*/\nIMAProxy.prototype.initialize = function() {};\n\n/** @override\n*/\nIMAProxy.prototype.ready = function() {\n  var mode;\n  this.viewMode = google.ima.ViewMode.NORMAL;\n  window.addEventListener("resize", this.resize.bind(this));\n  if (this.config.vpaidAllowed != null) {\n    google.ima.settings.setVpaidAllowed(this.config.vpaidAllowed);\n  }\n  if ((this.config.vpaidMode != null) && ((mode = google.ima.ImaSdkSettings.VpaidMode[this.config.vpaidMode.toUpperCase()]) != null)) {\n    google.ima.settings.setVpaidMode(mode);\n  }\n  this.adDisplayContainer = this.createPlugin();\n  this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer);\n  this.adsRenderingSettings = new google.ima.AdsRenderingSettings();\n  this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, this.onAdsManagerLoaded.bind(this), false);\n  this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.onAdError.bind(this), false);\n};\n\n/** @override\n*/\nIMAProxy.prototype.createPlugin = function() {\n  return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container);\n};\n\n/** @override\n*/\nIMAProxy.prototype.engage = function(override) {\n  var _ref;\n  if (override == null) {\n    override = true;\n  }\n  if (this.getEnabled() === false) {\n    return;\n  }\n  IMAProxy.__super__.engage.call(this);\n  if (this.adsManagerLoaded === true && this.contentHasEnded === false) {\n    if ((_ref = this.adsManager) != null) {\n      if (typeof _ref.destroy === "function") {\n        _ref.destroy();\n      }\n    }\n  }\n  this.adsManagerLoaded = false;\n  this.contentHasEnded = false;\n  this.adsManagerLoaded = false;\n  this.playWhenLoaded = false;\n};\n\n/**\n*/\nIMAProxy.prototype.setVolume = function(value) {\n  var _ref;\n  if ((_ref = this.adsManager) != null) {\n    _ref.setVolume(value);\n  }\n  return value;\n};\n\n/**\n*/\nIMAProxy.prototype.getVolume = function() {\n  var _ref;\n  return (_ref = this.adsManager) != null ? _ref.getVolume() : void 0;\n};\n\n/** @override\n*/\nIMAProxy.prototype.requestAd = function() {\n  var adsRequest, adsResponse, height, settings, width, _ref, _ref1;\n  this.sendNotification(AdNotifications.REQUEST, this.adVO);\n  width = this.facade.player.getViewComponent().clientWidth;\n  height = this.facade.player.getViewComponent().clientHeight;\n  adsRequest = new google.ima.AdsRequest();\n  this.adTagUrl = this.getValue("adTagUrl");\n  adsResponse = this.getValue("adsResponse");\n  if ((adsResponse != null) && adsResponse !== "") {\n    adsRequest.adsResponse = Utils.read(adsResponse, null, Utils.mimeTypes.txt);\n  } else {\n    adsRequest.adTagUrl = this.adTagUrl;\n  }\n  if (!(adsRequest.adsResponse != null) && !(adsRequest.adTagUrl != null)) {\n    this.onAdError("No valid adTagUrl or adsResponse provided.");\n    return;\n  }\n  adsRequest.linearAdSlotWidth = width;\n  adsRequest.linearAdSlotHeight = height;\n  adsRequest.nonLinearAdSlotWidth = ((_ref = this.value.overlay) != null ? _ref.width : void 0) || width;\n  adsRequest.nonLinearAdSlotHeight = ((_ref1 = this.value.overlay) != null ? _ref1.height : void 0) || height;\n  settings = this.adsLoader.getSettings();\n  if (this.config.ppid != null) {\n    settings.setPpid(this.getValue("ppid"));\n  }\n  this.adsLoader.requestAds(adsRequest);\n};\n\n/** @override\n*/\nIMAProxy.prototype.requestOverlay = function() {\n  var adsRequest, overlay;\n  overlay = this.value.overlay;\n  if (!(overlay != null)) {\n    return;\n  }\n  adsRequest = new google.ima.AdsRequest();\n  adsRequest.adTagUrl = overlay.adTagUrl;\n  adsRequest.nonLinearAdSlotWidth = overlay.width || 300;\n  adsRequest.nonLinearAdSlotHeight = overlay.height || 50;\n  this.adsLoader.requestAds(adsRequest);\n};\n\n/** @override\n*/\nIMAProxy.prototype.start = function() {\n  var video;\n  this.playbackCore = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore();\n  video = this.facade.player.getMediaElement();\n  this.playbackCore.setEnabled(false);\n  video.src = this.playbackCore.getSrc();\n  video.addEventListener("loadedmetadata", this.loadedmetadata);\n  video.load();\n  if (IMAProxy.__super__.start.call(this) === false) {\n    return false;\n  }\n  if (this.adDisplayContainerInitialized !== true) {\n    this.adDisplayContainer.initialize();\n    this.adDisplayContainerInitialized = true;\n  }\n  if (this.canPlay() === true) {\n    this.startAd();\n  } else {\n    this.playWhenLoaded = true;\n    this.requestAd();\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.canPlay = function() {\n  return this.adsManagerLoaded === true;\n};\n\n/**\n*/\nIMAProxy.prototype.startAd = function() {\n  var volume;\n  this.playWhenLoaded = false;\n  try {\n    volume = this.facade.player.retrieveProxy(PlaybackProxy.NAME).getVolume();\n    this.setVolume(volume);\n    if (this.viewMode == null) {\n      this.viewMode = google.ima.ViewMode.NORMAL;\n    }\n    this.adsManager.init(this.facade.player.getViewComponent().clientWidth, this.facade.player.getViewComponent().clientHeight, this.viewMode);\n    this.adsManager.start();\n    this.setInProgress(true);\n  } catch (adError) {\n    this.error(adError);\n  }\n};\n\nIMAProxy.prototype.resize = function(state) {\n  var _ref;\n  if (state != null) {\n    this.viewMode = state === DisplayState.FULL_SCREEN ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL;\n  }\n  if ((_ref = this.adsManager) != null) {\n    _ref.resize(this.facade.player.getViewComponent().clientWidth, this.facade.player.getViewComponent().clientHeight, this.viewMode);\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.onAdsManagerLoaded = function(adsManagerLoadedEvent) {\n  var adEventHandler, _ref;\n  this.adsRenderingSettings.bitrate = this.getValue("maxBitrate");\n  this.adsRenderingSettings.autoAlign = true;\n  this.adsRenderingSettings.useStyledNonLinearAds = true;\n  if ((_ref = this.adsManager) != null) {\n    if (typeof _ref.destroy === "function") {\n      _ref.destroy();\n    }\n  }\n  this.adsManager = adsManagerLoadedEvent.getAdsManager(this.facade.player.mediaElement, this.adsRenderingSettings);\n  this.facade.player.sendNotification(AdNotifications.AD_MANAGER_LOADED, {\n    "adManager": this.adsManager,\n    "viewMode": google.ima.ViewMode.NORMAL,\n    "adContainer": this.facade.getViewComponent()\n  });\n  this.adsManagerLoaded = true;\n  this.cuePoints = this.adsManager.getCuePoints();\n  this.facade.player.sendNotification(Notifications.ADD_CUE_POINTS, this.cuePoints);\n  adEventHandler = this.onAdEvent.bind(this);\n  this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.onAdError.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, this.contentPause.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, this.contentPlay.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUME, this.onAdResumed.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED, this.onAdPaused.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK, this.onAdClick.bind(this));\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE, adEventHandler);\n  this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED, adEventHandler);\n  if (this.facade.player.getConfig().debug === true) {\n    this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG, adEventHandler);\n  }\n  if (this.canPlay() && this.playWhenLoaded === true) {\n    this.startAd();\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.onAdClick = function(adEvent) {\n  if ((adEvent != null ? adEvent.getAd().isLinear() : void 0) === false) {\n    this.facade.player.sendNotification(Notifications.PAUSE);\n    return;\n  }\n  if (!this.getPaused()) {\n    this.pause();\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.onAdPaused = function(adEvent) {\n  this.setPaused(true);\n  this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PAUSED);\n  this.facade.player.sendNotification(Notifications.CHANGE_ACTIVE_STATE, ActiveState.ACTIVE);\n  this.facade.player.sendNotification(AdNotifications.AD_PAUSED, this.adVO);\n};\n\n/**\n*/\nIMAProxy.prototype.onAdResumed = function(adEvent) {\n  this.setPaused(false);\n  this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n};\n\n/**\n*/\nIMAProxy.prototype.onAdEvent = function(adEvent) {\n  var ad, companion, companions, config, pos, type, _i, _len, _ref;\n  ad = adEvent.getAd();\n  if (this.adVO != null) {\n    if (ad != null) {\n      ad.wrapperAdIds = typeof ad.getWrapperAdIds === "function" ? ad.getWrapperAdIds() : void 0;\n      ad.wrapperAdSystems = typeof ad.getWrapperAdSystems === "function" ? ad.getWrapperAdSystems() : void 0;\n    }\n    this.adVO.metadata = ad;\n  }\n  switch (adEvent.type) {\n    case google.ima.AdEvent.Type.IMPRESSION:\n      this.sendNotification(AdNotifications.IMPRESSION, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.LOADED:\n      if (ad.isLinear()) {\n        pos = ad.getAdPodInfo().getPodIndex();\n        type = pos === 0 ? "preroll" : pos === -1 ? "postroll" : "midroll";\n        this.adVO = new AdVO(ad.getAdId(), ad.getAdId(), ad.getDuration(), pos, type, "ima", null, null, this.adTagUrl, ad, ad.getAdPodInfo().getTotalAds());\n        if (type === "midroll" || type === "postroll") {\n          this.startBreak();\n          this.engageAds();\n        }\n        this.sendNotification(AdNotifications.AD_LOADED, this.adVO);\n        this.sendNotification(AdNotifications.AD_DURATION_CHANGE, this.adVO);\n      } else {\n        this.facade.player.sendNotification(Notifications.ADD_APPLICATION_STATE, "ad-overlaymode");\n        this.contentPlay();\n      }\n      break;\n    case google.ima.AdEvent.Type.STARTED:\n      if (ad.isLinear()) {\n        this.adVO.position = ad.getAdPodInfo().getAdPosition();\n        this.sendNotification(AdNotifications.AD_STARTED, this.adVO);\n        this.intervals.push(setInterval(this.onAdTimeUpdate.bind(this), 300));\n        this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n        this.sendNotification(AdNotifications.AD_PLAY, this.adVO);\n      }\n      try {\n        companions = [];\n        config = (typeof this.getConfigurationData === "function" ? (_ref = this.getConfigurationData()) != null ? _ref.companions : void 0 : void 0) || [];\n        for (_i = 0, _len = config.length; _i < _len; _i++) {\n          companion = config[_i];\n          companions = companions.concat(ad.getCompanionAds(companion.width, companion.height));\n        }\n        if ((companions != null ? companions.length : void 0) > 0) {\n          this.setCompanions(companions);\n        }\n      } catch (error) {\n        this.facade.logger.error("[AMP IMA ERROR]", "Could not retrieve companion ads:", error);\n      }\n      break;\n    case google.ima.AdEvent.Type.COMPLETE:\n      if (ad.isLinear()) {\n        this.sendNotification(AdNotifications.AD_ENDED, this.adVO);\n      }\n      break;\n    case google.ima.AdEvent.Type.FIRST_QUARTILE:\n      this.sendNotification(AdNotifications.FIRST_QUARTILE, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.MIDPOINT:\n      this.sendNotification(AdNotifications.MIDPOINT, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.THIRD_QUARTILE:\n      this.sendNotification(AdNotifications.THIRD_QUARTILE, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.LOG:\n      this.sendNotification(AdNotifications.LOG, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.SKIPPED:\n      this.sendNotification(AdNotifications.SKIPPED, this.adVO);\n      break;\n    case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:\n      if (this.getInProgress() === true) {\n        this.endBreak();\n      }\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.onAdTimeUpdate = function(adErrorEvent) {\n  var remaining;\n  remaining = this.adsManager.getRemainingTime();\n  this.sendNotification(AdNotifications.AD_TIME_UPDATE, this.adVO.duration - remaining);\n  this.sendNotification(AdNotifications.AD_TIME_REMAINING, remaining);\n};\n\n/**\n*/\nIMAProxy.prototype.onAdError = function(adErrorEvent) {\n  var error;\n  error = (adErrorEvent != null ? adErrorEvent.getError() : void 0) || adErrorEvent;\n  this.error(error);\n  this.contentPlay(false);\n};\n\n/**\n*/\nIMAProxy.prototype.play = function() {\n  var _ref;\n  IMAProxy.__super__.play.call(this);\n  try {\n    if ((_ref = this.adsManager) != null) {\n      _ref.resume();\n    }\n    this.sendNotification(AdNotifications.AD_RESUME);\n  } catch (error) {\n    this.facade.logger.error("[AMP IMA ERROR]", "resume", error);\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.pause = function() {\n  IMAProxy.__super__.pause.call(this);\n  try {\n    this.adsManager.pause();\n  } catch (error) {\n    this.facade.logger.error("[AMP IMA ERROR]", "pause", error);\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.breakEnd = function() {\n  var interval, overlayProxy, _i, _len, _ref;\n  _ref = this.intervals;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    interval = _ref[_i];\n    clearInterval(this.intervals.pop());\n  }\n  IMAProxy.__super__.breakEnd.call(this);\n  overlayProxy = this.facade.retrieveProxy(IMAOverlayProxy.NAME);\n  if (overlayProxy != null) {\n    overlayProxy.play();\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.setCompanions = function(value) {\n  var companion, companions, _i, _len, _ref;\n  companions = [];\n  for (_i = 0, _len = value.length; _i < _len; _i++) {\n    companion = value[_i];\n    companions.push({\n      data: companion.getContent(),\n      type: (_ref = companion.getContentType()) != null ? _ref.toLowerCase() : void 0,\n      width: companion.getWidth(),\n      height: companion.getHeight(),\n      metadata: companion\n    });\n  }\n  IMAProxy.__super__.setCompanions.call(this, companions);\n  return value;\n};\n\n/**\n*/\nIMAProxy.prototype.contentPause = function() {\n  this.sendNotification(Notifications.DISABLE_VIDEO_EVENTS, ["paused", "ended", "durationchange", "error"]);\n  IMAProxy.__super__.contentPause.call(this);\n};\n\n/**\n*/\nIMAProxy.prototype.contentPlay = function() {\n  var _ref, _ref1;\n  if (this.getInProgress() === true) {\n    this.endBreak();\n  }\n  this.sendNotification(Notifications.ENABLE_VIDEO_EVENTS, ["paused", "ended", "durationchange", "error"]);\n  if (((_ref = this.adVO) != null ? _ref.type : void 0) === "postroll") {\n    this.facade.player.sendNotification(Notifications.ENDED);\n    return;\n  }\n  IMAProxy.__super__.contentPlay.call(this);\n  if (((_ref1 = this.adVO) != null ? _ref1.type : void 0) === "midroll" && Utils.getDevice() === "desktop") {\n    this.facade.player.setCurrentTime(Math.floor(this.facade.player.getCurrentTime()));\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.contentEnded = function() {\n  var _ref;\n  this.contentHasEnded = true;\n  try {\n    if ((_ref = this.adsLoader) != null) {\n      if (typeof _ref.contentComplete === "function") {\n        _ref.contentComplete();\n      }\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP IMA ERROR]", "contentComplete", error);\n  }\n};\n\n/**\n*/\nIMAProxy.prototype.terminateAd = function() {\n  var _ref;\n  try {\n    if ((_ref = this.adsManager) != null) {\n      _ref.stop();\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP IMA ERROR]", "terminateAd", error);\n  }\n  this.endBreak();\n  this.contentPlay();\n};\n\n/**\n*/\nIMAProxy.prototype.terminateAllAds = function() {\n  var _ref;\n  try {\n    if ((_ref = this.adsManager) != null) {\n      _ref.destroy();\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP IMA ERROR]", "terminateAllAds", error);\n  }\n  this.endBreak();\n  this.contentPlay();\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction MediaAnalyticsProxy(config) {\n  MediaAnalyticsProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(MediaAnalyticsProxy, PluginProxy);\n\n\n/** @static\n*/\nMediaAnalyticsProxy.NAME = ModuleProxy.NAME;\n\nMediaAnalyticsProxy.prototype.defaults = {\n  config: null,\n  dimensions: null\n};\n\n/**\n*/\nMediaAnalyticsProxy.prototype.ready = function() {\n  try {\n    window.akamaiSetVideoObject(this.facade.player.getMediaElement());\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", "Could not set video tag", error);\n  }\n};\n\n/**\n*/\nMediaAnalyticsProxy.prototype.setDimensions = function(value) {\n  var dimensions, key, val;\n  dimensions = this.configurationData.source.dimensions;\n  for (key in value) {\n    val = value[key];\n    if (val != null) {\n      dimensions[key] = val;\n    }\n  }\n  this.configurationData.parse(this.configurationData.source);\n  this.applyDimensions(dimensions);\n  return value;\n};\n\n/**\n*/\nMediaAnalyticsProxy.prototype.applyDimensions = function(dimensions) {\n  var key, value;\n  if (!(window.setAkamaiMediaAnalyticsData != null)) {\n    return;\n  }\n  try {\n    for (key in dimensions) {\n      value = dimensions[key];\n      setAkamaiMediaAnalyticsData(key, value);\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]", "Could not set dimensions:", error);\n  }\n};\n\n/**\n*/\nMediaAnalyticsProxy.prototype.setMedia = function(media) {\n  var dimensions, _ref;\n  if (((_ref = media.mediaanalytics) != null ? _ref.dimensions : void 0) != null) {\n    dimensions = Utils.override(this.value.dimensions, media.mediaanalytics.dimensions);\n  } else {\n    dimensions = this.value.dimensions;\n  }\n  this.applyDimensions(dimensions);\n  return media;\n};\n\n/**\n*/\nMediaAnalyticsProxy.prototype.udpateMedia = function(media) {\n  if (typeof akamaiHandleTitleSwitch === "function") {\n    akamaiHandleTitleSwitch(media);\n  }\n  return media;\n};\n\n/**\n * The MediaAnalyticsReadyCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MediaAnalyticsReadyCommand() {\n  MediaAnalyticsReadyCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsReadyCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMediaAnalyticsReadyCommand.prototype.execute = function(notification) {\n  this.facade.retrieveProxy(MediaAnalyticsProxy.NAME).ready();\n};\n\n/** \n * The PlayOverlayPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction PlayOverlayPlugin() {\n  PlayOverlayPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(PlayOverlayPlugin, Plugin);\n\n\nPlayOverlayPlugin.prototype.moduleName = "playoverlay";\n\n/** @override\n*/\nPlayOverlayPlugin.prototype.createModel = function() {};\n\n/** @override\n*/\nPlayOverlayPlugin.prototype.createView = function() {\n  this.registerMediator(new PlayOverlayMediator());\n};\n\n/** @override\n*/\nPlayOverlayPlugin.prototype.listNotificationPublications = function() {\n  return PlayOverlayPlugin.__super__.listNotificationPublications.call(this).concat([UserNotifications.TOGGLE_PLAY_PAUSE]);\n};\n\n\nAMP.registerPlugin("playoverlay", "html", PlayOverlayPlugin);\nAMP.registerPlugin("playoverlay", "external", PlayOverlayPlugin);\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar EventManagementNotifications = {\n  EVENT_STATE_CHANGED: "eventStateChanged"\n};\n\n/**\n * Poller class\n *   \n * @constructor\n * @private\n * @extends {EventDispatcher}\n * @param {string} url\n * @param {number} interval\n * @param {string} type\n * @param {Object} headers\n*/\nfunction Poller(url, interval, type, headers) {\n  this.url = url;\n  this.interval = interval != null ? interval : 10000;\n  this.type = type != null ? type : null;\n  this.headers = headers != null ? headers : null;\n  Poller.__super__.constructor.call(this);\n}\n\n\n__extends(Poller, EventDispatcher);\n\n\nPoller.prototype.timeout = null;\n\nPoller.prototype.interval = null;\n\nPoller.prototype.url = null;\n\nPoller.prototype.lastModified = null;\n\nPoller.prototype.contentLenght = null;\n\nPoller.prototype.data = null;\n\nPoller.prototype.text = null;\n\nPoller.prototype.type = null;\n\nPoller.prototype.headers = null;\n\nPoller.prototype.useHeadRequest = true;\n\nPoller.prototype.xhr = null;\n\n/**\n*/\nPoller.prototype.start = function() {\n  if ((this.url != null) && this.url !== "") {\n    this.poll();\n  }\n};\n\n/**\n*/\nPoller.prototype.poll = function() {\n  var xhr,\n    _this = this;\n  xhr = Utils.getXHR();\n  if (!this.useHeadRequest) {\n    this.updateData();\n  } else {\n    xhr.onload = function(event) {\n      var contentLength, lastModified;\n      if (xhr.status === 304) {\n        _this.invoke();\n        return;\n      }\n      lastModified = xhr.getResponseHeader("Last-Modified");\n      contentLength = xhr.getResponseHeader("Content-Length");\n      if ((!(lastModified != null) && !(contentLength != null)) || ((lastModified != null) && lastModified !== _this.lastModified) || ((contentLength != null) && contentLength !== _this.contentLength)) {\n        _this.lastModified = lastModified;\n        _this.contentLength = contentLength;\n        _this.updateData();\n      } else {\n        _this.invoke();\n      }\n    };\n    xhr.onerror = function(event) {\n      _this.error(event);\n    };\n    xhr.open("HEAD", Utils.cacheBust(this.url), false);\n    this.applyHeaders();\n    if (this.lastModified != null) {\n      xhr.setRequestHeader("If-Modified-Since", this.lastModified);\n    }\n    xhr.send();\n  }\n};\n\n/**\n*/\nPoller.prototype.applyHeaders = function() {\n  if (!(this.headers != null)) {\n    return;\n  }\n  this.xhr.setRequestHeaders(this.headers);\n};\n\n/**\n*/\nPoller.prototype.updateData = function() {\n  var xhr,\n    _this = this;\n  xhr = Utils.getXHR();\n  xhr.open("GET", Utils.cacheBust(this.url), true);\n  xhr.onload = function(event) {\n    var text;\n    text = xhr.responseText;\n    _this.setText(text);\n    _this.invoke();\n  };\n  xhr.onerror = function(event) {\n    _this.error(event);\n  };\n  this.applyHeaders();\n  return xhr.send();\n};\n\n/**\n*/\nPoller.prototype.setText = function(value) {\n  var data;\n  if (value !== this.text) {\n    this.text = value;\n    data = this.text;\n    if (this.type === Utils.mimeTypes.json) {\n      try {\n        data = this.xhr.response;\n      } catch (error) {\n        data = this.text;\n      }\n    }\n    this.setData(data);\n  }\n  return value;\n};\n\n/**\n*/\nPoller.prototype.setData = function(value) {\n  if (value !== this.data) {\n    this.data = value;\n    this.dispatchEvent(new Event("datachanged", this.data));\n  }\n  return value;\n};\n\n/**\n*/\nPoller.prototype.error = function(error) {\n  Logger.error(event);\n  this.stop();\n};\n\n/**\n*/\nPoller.prototype.invoke = function() {\n  var _this = this;\n  this.stop();\n  this.timeout = setTimeout(function() {\n    _this.poll();\n  }, this.interval);\n};\n\n/**\n*/\nPoller.prototype.stop = function() {\n  clearTimeout(this.timeout);\n};\n\nfunction EventManagementWrapper() {\n  return EventManagementWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(EventManagementWrapper, PluginWrapper);\n\n\nEventManagementWrapper.NAME = "EventManagementWrapper";\n\n/** @override\n*/\nEventManagementWrapper.prototype.createFlashVars = function(flashvars) {\n  if (this.config.enabled != null) {\n    flashvars.eventmanagementstates_enabled = this.config.enabled;\n  }\n  if (this.config.url != null) {\n    flashvars.eventmanagementstates_status_url = this.config.url;\n  }\n  if (this.config.interval != null) {\n    flashvars.eventmanagementstates_status_interval = this.config.interval;\n  }\n  return flashvars;\n};\n\n/** @override\n*/\nEventManagementWrapper.prototype.createXML = function(xml) {\n  var application, eventmanagementstates, node, property, state, states, _i, _len, _ref;\n  application = xml.firstChild;\n  eventmanagementstates = xml.getElementsByTagName("eventmanagementstates");\n  if (!(eventmanagementstates != null) || eventmanagementstates.length === 0) {\n    eventmanagementstates = xml.createElement("eventmanagementstates");\n    application.appendChild(eventmanagementstates);\n  } else {\n    eventmanagementstates = eventmanagementstates[0];\n  }\n  states = xml.createElement("states");\n  eventmanagementstates.appendChild(states);\n  _ref = this.config.states;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    state = _ref[_i];\n    node = xml.createElement("state");\n    states.appendChild(node);\n    property = xml.createElement("property");\n    property.setAttribute("key", "ID");\n    property.appendChild(XMLUtils.createTextContent(xml, state.id));\n    node.appendChild(property);\n    property = xml.createElement("property");\n    property.setAttribute("key", "POSTER_SRC");\n    property.appendChild(XMLUtils.createTextContent(xml, state.poster));\n    node.appendChild(property);\n    if (state.url != null) {\n      property = xml.createElement("property");\n      property.setAttribute("key", "URL");\n      property.appendChild(XMLUtils.createTextContent(xml, state.url));\n      node.appendChild(property);\n    }\n  }\n  return xml;\n};\n\n/**\n * The EventManagementMediator class.\n * \n * @constructor\n * @private\n * @extends {OverlayMediator}\n * @param {Object} viewComponent\n*/\nfunction EventManagementMediator() {\n  EventManagementMediator.__super__.constructor.call(this);\n}\n\n\n__extends(EventManagementMediator, OverlayMediator);\n\n\nEventManagementMediator.prototype.componentName = "event-management";\n\nEventManagementMediator.prototype.poster = null;\n\n/**\n * @override\n*/\nEventManagementMediator.prototype.onRegister = function() {\n  this.classList.add("hidden");\n  this.poster = this.create("event-poster", false, "img");\n  EventManagementMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nEventManagementMediator.prototype.listNotificationInterests = function() {\n  return [EventManagementNotifications.EVENT_STATE_CHANGED];\n};\n\n/**\n * @override\n*/\nEventManagementMediator.prototype.handleNotification = function(notification) {\n  var state;\n  switch (notification.getName()) {\n    case EventManagementNotifications.EVENT_STATE_CHANGED:\n      state = notification.getBody();\n      if (state.id !== "on") {\n        if (state.poster != null) {\n          this.poster.src = state.poster;\n          this.viewComponent.appendChild(this.poster);\n        }\n        this.classList.remove("hidden");\n        this.sendNotification(Notifications.PAUSE);\n        this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n      } else {\n        if (this.viewComponent.contains(this.poster)) {\n          this.viewComponent.removeChild(this.poster);\n        }\n        this.classList.add("hidden");\n      }\n  }\n};\n\n/**\n * The EventManagementPlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction EventManagementPlayCommand() {\n  EventManagementPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(EventManagementPlayCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nEventManagementPlayCommand.prototype.execute = function(notification) {\n  var _ref;\n  if (((_ref = this.proxy.getState()) != null ? _ref.id : void 0) !== EventManagementProxy.ON.id) {\n    this.sendNotification(Notifications.PAUSE);\n  }\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction EventManagementProxy(config) {\n  var _this = this;\n  EventManagementProxy.__super__.constructor.call(this, config);\n  this.poller = new Poller();\n  this.poller.ondatachanged = function(event) {\n    var id, state, _i, _len, _ref;\n    id = event.detail;\n    if (id === "on") {\n      state = EventManagementProxy.ON;\n    } else {\n      _ref = _this.data.states;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        state = _ref[_i];\n        if (state.id === id) {\n          break;\n        }\n      }\n    }\n    if (state != null) {\n      return _this.setState(state);\n    }\n  };\n}\n\n\n__extends(EventManagementProxy, ModuleProxy);\n\n\nEventManagementProxy.NAME = ModuleProxy.NAME;\n\nEventManagementProxy.ON = {\n  id: "on"\n};\n\nEventManagementProxy.prototype.defaults = {\n  url: null,\n  interval: null,\n  states: null,\n  enabled: false\n};\n\nEventManagementProxy.prototype.poller = null;\n\nEventManagementProxy.prototype.state = null;\n\nEventManagementProxy.prototype.initialize = function() {\n  if (this.data.enabled === true) {\n    this.setURL(this.data.url);\n    this.setInterval(this.data.interval);\n    this.poller.start();\n  }\n};\n\nEventManagementProxy.prototype.setURL = function(value) {\n  this.data.url = this.poller.url = value;\n  return value;\n};\n\nEventManagementProxy.prototype.getURL = function() {\n  return this.data.url;\n};\n\n/**\n *\n*/\nEventManagementProxy.prototype.getInterval = function() {\n  return this.data.interval;\n};\n\nEventManagementProxy.prototype.setInterval = function(value) {\n  this.data.interval = this.poller.interval = value * 1000;\n  return value;\n};\n\nEventManagementProxy.prototype.setState = function(value) {\n  this.state = value;\n  this.sendNotification(EventManagementNotifications.EVENT_STATE_CHANGED, value);\n  return value;\n};\n\nEventManagementProxy.prototype.getState = function() {\n  return this.state;\n};\n\n/** \n * The MediaAnalyticsPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction MediaAnalyticsPlugin() {\n  MediaAnalyticsPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(MediaAnalyticsPlugin, Plugin);\n\n\nMediaAnalyticsPlugin.prototype.moduleName = "mediaanalytics";\n\n/** @override\n*/\nMediaAnalyticsPlugin.prototype.initialize = function(config, player) {\n  window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH = config.config;\n  MediaAnalyticsPlugin.__super__.initialize.call(this, config, player);\n};\n\n/** @override\n*/\nMediaAnalyticsPlugin.prototype.createModel = function() {\n  this.proxy = new MediaAnalyticsProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nMediaAnalyticsPlugin.prototype.createController = function() {\n  MediaAnalyticsPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.READY, MediaAnalyticsReadyCommand);\n  this.registerCommand(Notifications.MEDIA_CHANGE, MediaAnalyticsChangeMediaCommand);\n  this.registerCommand(AdNotifications.BREAK_START, MediaAnalyticsAdBreakStartCommand);\n  this.registerCommand(AdNotifications.BREAK_END, MediaAnalyticsAdBreakEndCommand);\n  this.registerCommand(AdNotifications.AD_LOADED, MediaAnalyticsAdLoadedCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, MediaAnalyticsAdStartCommand);\n  this.registerCommand(AdNotifications.AD_TIME_UPDATE, MediaAnalyticsAdTimeUpdateCommand);\n  this.registerCommand(AdNotifications.AD_ENDED, MediaAnalyticsAdEndCommand);\n  this.registerCommand(MediaAnalyticsNotifications.SET_DIMENSIONS, MediaAnalyticsSetDimensionsCommand);\n  this.registerCommand(Notifications.CONTENT_CHANGED, MediaAnalyticsContentChangedCommand);\n};\n\n/**\n*/\nMediaAnalyticsPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.READY, Notifications.MEDIA_CHANGE, AdNotifications.BREAK_START, AdNotifications.BREAK_END, AdNotifications.AD_LOADED, AdNotifications.AD_STARTED, AdNotifications.AD_TIME_UPDATE, AdNotifications.AD_ENDED, MediaAnalyticsNotifications.SET_DIMENSIONS, Notifications.CONTENT_CHANGED];\n};\n\n/**\n * Sets the media analytics dimensions.\n * \n * @param {Object} value The hash representing dimensions.\n * @expose\n*/\nMediaAnalyticsPlugin.prototype.setDimensions = function(value) {\n  this.retrieveProxy(MediaAnalyticsProxy.NAME).setDimensions(value);\n  return value;\n};\n\n\nAMP.registerPlugin("mediaanalytics", "html", MediaAnalyticsPlugin);\nAMP.registerPlugin("mediaanalytics", "flash", MediaAnalyticsWrapper);\n\nfunction BrandingWrapper() {\n  return BrandingWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(BrandingWrapper, PluginWrapper);\n\n\nBrandingWrapper.NAME = "BrandingWrapper";\n\nBrandingWrapper.prototype.createFlashVars = function(flashvars) {\n  if (this.config.id != null) {\n    flashvars.branding = this.config.id;\n  }\n  return flashvars;\n};\n\nBrandingWrapper.prototype.createXML = function(xml) {\n  var backgroundImage, controls, element, elements, id, logo, logoId, style, _i, _len, _ref;\n  if (((_ref = this.config) != null ? _ref.logo : void 0) != null) {\n    logoId = "logoOverlay";\n    backgroundImage = "background-image: url(\'" + this.config.logo + "\');";\n    elements = xml.getElementsByTagName("element");\n    for (_i = 0, _len = elements.length; _i < _len; _i++) {\n      element = elements[_i];\n      id = element.getAttribute("id");\n      if (id === logoId) {\n        logo = element;\n      } else if (id === "controls") {\n        controls = element;\n      }\n    }\n    if (!(logo != null)) {\n      logo = xml.createElement("element");\n      logo.setAttribute("id", logoId);\n      logo.setAttribute("style", "width: 150px; height: 53px; right: 15px; top: 15px; opacity: 0.5; " + backgroundImage);\n      controls.appendChild(logo);\n    } else {\n      style = logo.getAttribute("style");\n      if (style.indexOf("background-image:") !== -1) {\n        style = style.replace(/background-image: [A-Za-z0-9_\\-\\.\\/\\\\;\\(\\)"\']+/, backgroundImage);\n      } else {\n        style = backgroundImage + style;\n      }\n      logo.setAttribute("style", style);\n    }\n  }\n  return xml;\n};\n\n/**\n * The AdChoicesMediator class.\n * \n * @constructor\n * @private\n * @extends {OverlayMediator}\n * @param {Object} viewComponent\n*/\nfunction BrandingMediator() {\n  BrandingMediator.__super__.constructor.call(this);\n}\n\n\n__extends(BrandingMediator, OverlayMediator);\n\n\nBrandingMediator.prototype.componentName = "branding";\n\nBrandingMediator.prototype.logo = null;\n\nBrandingMediator.prototype.text = null;\n\nBrandingMediator.prototype.container = null;\n\nBrandingMediator.prototype.onRegister = function() {\n  this.container = this.create("branding-container");\n  this.logo = this.create(["branding-image", "hidden"], this.container, "img");\n  this.text = this.create("branding-text", this.container);\n  BrandingMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nBrandingMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.READY];\n};\n\n/**\n * @override\n*/\nBrandingMediator.prototype.handleNotification = function(notification) {\n  var branding, href;\n  switch (notification.getName()) {\n    case Notifications.READY:\n      branding = notification.getBody().branding;\n      if (!(branding != null)) {\n        return;\n      }\n      if (branding.logo != null) {\n        this.logo.src = this.facade.evaluatePaths(branding.logo);\n        this.classList.remove("hidden", this.logo);\n      } else {\n        this.classList.add("hidden", this.logo);\n      }\n      href = this.config.getDomain();\n      if ((href != null) && href.indexOf("http") !== 0) {\n        href = location.protocol + "//" + href;\n        this.text.innerHTML = "<span>" + (this.localizationManager.getString(LocalizationConstants.MSG_VIEW_ALL)) + "<a href=\\"" + href + "\\" target=\\"" + (this.config.getTarget()) + "\\">" + (this.config.getDomain()) + "</a> " + (this.localizationManager.getString(LocalizationConstants.MSG_VIDEO)) + ".";\n      }\n  }\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction BrandingProxy(config) {\n  BrandingProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(BrandingProxy, ModuleProxy);\n\n\n/** @static\n*/\nBrandingProxy.NAME = ModuleProxy.NAME;\n\nBrandingProxy.prototype.defaults = {\n  id: null,\n  title: null,\n  link: null,\n  logo: null,\n  target: null\n};\n\n/**\n *\n*/\nBrandingProxy.prototype.getID = function() {\n  return this.data.id;\n};\n\nBrandingProxy.prototype.setID = function(value) {\n  return this.data.id = value;\n};\n\n/**\n *\n*/\nBrandingProxy.prototype.getTarget = function() {\n  return this.data.target;\n};\n\nBrandingProxy.prototype.setTarget = function(value) {\n  return this.data.target = value;\n};\n\n/**\n *\n*/\nBrandingProxy.prototype.getTitle = function() {\n  return this.data.title;\n};\n\nBrandingProxy.prototype.setTitle = function(value) {\n  return this.data.title = value;\n};\n\n/**\n *\n*/\nBrandingProxy.prototype.getLink = function() {\n  return this.data.link;\n};\n\nBrandingProxy.prototype.setLink = function(value) {\n  return this.data.link = value;\n};\n\n/**\n *\n*/\nBrandingProxy.prototype.getLogo = function() {\n  return this.data.logo;\n};\n\nBrandingProxy.prototype.setLogo = function(value) {\n  return this.data.logo = value;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar FeedNotifications = {\n  LOAD_FEED: "loadfeed",\n  FEED_CHANGED: "feedchanged",\n  FEED_LOADED: "feedloaded",\n  FEED_ERROR: "feederror"\n};\n\n/** \n * The EventManagementPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @extends {Plugin}\n * @private\n*/\nfunction EventManagementPlugin() {\n  EventManagementPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(EventManagementPlugin, Plugin);\n\n\nEventManagementPlugin.prototype.moduleName = "eventmanagement";\n\n/** @override\n*/\nEventManagementPlugin.prototype.createModel = function() {\n  this.registerProxy(new EventManagementProxy(this.config));\n};\n\n/** @override\n*/\nEventManagementPlugin.prototype.createController = function() {\n  EventManagementPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.PLAY, EventManagementPlayCommand);\n  this.registerCommand(EventManagementNotifications.EVENT_STATE_CHANGED, PluginEventCommand);\n};\n\nEventManagementPlugin.prototype.createView = function() {\n  this.registerMediator(new EventManagementMediator());\n};\n\n/** @override\n*/\nEventManagementPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.PLAY];\n};\n\n/** @override\n*/\nEventManagementPlugin.prototype.listNotificationPublications = function() {\n  return EventManagementPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.CHANGE_DISPLAY_STATE, Notifications.PAUSE, EventManagementNotifications.EVENT_STATE_CHANGED]);\n};\n\n\nAMP.registerPlugin("eventmanagement", "html", EventManagementPlugin);\nAMP.registerPlugin("eventmanagement", "flash", EventManagementWrapper);\n\n/**\n * The FeedProxy class.\n *   \n * @constructor\n * @private\n * @extends {ModuleProxy}\n * @param {Object} config The configuration object.\n*/\nfunction FeedProxy(config) {\n  FeedProxy.__super__.constructor.call(this, config);\n  this.helper = new MRSSHelper();\n}\n\n\n__extends(FeedProxy, ModuleProxy);\n\n\nFeedProxy.NAME = ModuleProxy.NAME;\n\nFeedProxy.prototype.defaults = {\n  url: null,\n  data: null\n};\n\nFeedProxy.prototype.feed = null;\n\nFeedProxy.prototype.helper = null;\n\nFeedProxy.prototype.setURL = function(value) {\n  var _this = this;\n  this.data.url = this.facade.evaluatePaths(value);\n  this.helper.getFeed(this.data.url, function(feed) {\n    _this.sendNotification(FeedNotifications.FEED_LOADED, feed);\n    _this.sendNotification(FeedNotifications.CHANGE_FEED, feed);\n  }, function(error) {\n    _this.sendNotification(FeedNotifications.FEED_ERROR, {\n      error: error,\n      url: value\n    });\n    Logger.error("[AMP Feed Load Error]", _this.data.url, error);\n  });\n  return value;\n};\n\nFeedProxy.prototype.getURL = function() {\n  return this.data.url;\n};\n\nFeedProxy.prototype.setFeedData = function(value) {\n  this.data.data = value;\n  this.feed = this.helper.createFeed(value);\n  this.sendNotification(FeedNotifications.FEED_CHANGED, this.feed);\n  return value;\n};\n\nFeedProxy.prototype.getFeedData = function() {\n  return this.data.data;\n};\n\nFeedProxy.prototype.invoke = function() {\n  if ((this.data.url != null) && this.data.url !== "") {\n    this.sendNotification(FeedNotifications.LOAD_FEED, this.data.url);\n  } else if (this.data.data != null) {\n    setTimeout(this.sendNotification.bind(this, FeedNotifications.CHANGE_FEED, this.data.data), 1);\n  }\n};\n\n/**\n * The LoadFeedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction LoadFeedCommand() {\n  LoadFeedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(LoadFeedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nLoadFeedCommand.prototype.execute = function(notification) {\n  var feedProxy;\n  feedProxy = this.facade.retrieveProxy(FeedProxy.NAME);\n  feedProxy.setURL(notification.getBody());\n};\n\n/**\n * The ChangeFeedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ChangeFeedCommand() {\n  ChangeFeedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChangeFeedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChangeFeedCommand.prototype.execute = function(notification) {\n  var feedProxy;\n  feedProxy = this.facade.retrieveProxy(FeedProxy.NAME);\n  feedProxy.setFeedData(notification.getBody());\n};\n\n/**\n * The FeedChangedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction FeedChangedCommand() {\n  FeedChangedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(FeedChangedCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nFeedChangedCommand.prototype.execute = function(notification) {\n  var feed, mediaVO;\n  FeedChangedCommand.__super__.execute.call(this, notification);\n  this.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.READY);\n  feed = notification.getBody();\n  mediaVO = feed.item[0];\n  this.player.sendNotification(Notifications.SET_MEDIA, mediaVO);\n};\n\n/**\n * The FeedInitializedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction FeedInitializedCommand() {\n  FeedInitializedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(FeedInitializedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nFeedInitializedCommand.prototype.execute = function(notification) {\n  var feedProxy;\n  feedProxy = this.facade.retrieveProxy(FeedProxy.NAME);\n  feedProxy.invoke();\n};\n\nfunction FeedWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  FeedWrapper.__super__.constructor.call(this, player, config);\n  if (config.url != null) {\n    this.url = config.url;\n  }\n  if (config.data != null) {\n    this.data = config.data;\n  }\n  this.player.load = function() {};\n}\n\n\n__extends(FeedWrapper, PluginWrapper);\n\n\nFeedWrapper.NAME = "FeedWrapper";\n\nFeedWrapper.prototype.url = null;\n\nFeedWrapper.prototype.data = null;\n\nFeedWrapper.prototype.updateData = true;\n\n/** @override\n*/\nFeedWrapper.prototype.createFlashVars = function(flashvars) {\n  if ((this.url != null) && this.url !== "") {\n    flashvars.data_feed_url = escape(this.facade.evaluatePaths(this.url));\n  }\n};\n\n/** @override\n*/\nFeedWrapper.prototype.listNotificationInterests = function() {\n  return FeedWrapper.__super__.listNotificationInterests.apply(this, arguments).concat([FlashNotifications.READY, FlashNotifications.FEED_LOADED]);\n};\n\n/**\n*/\nFeedWrapper.prototype.handleNotification = function(notification) {\n  var body, helper, media, name, type, _ref, _ref1,\n    _this = this;\n  FeedWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.FEED_LOADED:\n      if (this.updateData === false) {\n        this.updateData = true;\n      } else {\n        this.data = JSON.parse(body);\n      }\n      type = "loaded";\n      body = this.data;\n      helper = new MRSSHelper();\n      media = (_ref = helper.createFeed(this.data)) != null ? (_ref1 = _ref.item) != null ? _ref1[0] : void 0 : void 0;\n      if (media != null) {\n        this.player.media.setData(media);\n      }\n      this.sendNotification(FeedNotifications.FEED_CHANGED, this.data);\n      break;\n    case FlashNotifications.READY:\n      if (this.data != null) {\n        setTimeout(function() {\n          _this.setData(_this.data);\n        }, 25);\n      } else if ((this.url != null) && this.url !== "") {\n        this.sendNotification(FeedNotifications.LOAD_FEED, this.url);\n      }\n  }\n  if (type != null) {\n    this.dispatchEvent(new Event(type, body));\n  }\n};\n\n/**\n*/\nFeedWrapper.prototype.setURL = function(value) {\n  if ((value != null) && value !== "") {\n    this.url = value;\n    this.player.mediaElement.playFile(this.url, this.player.getAutoplay());\n    this.sendNotification(FeedNotifications.LOAD_FEED, this.url);\n  }\n  return value;\n};\n\nFeedWrapper.prototype.getURL = function() {\n  return this.url;\n};\n\n/**\n*/\nFeedWrapper.prototype.setData = function(value) {\n  this.data = value;\n  this.updateData = false;\n  this.player.mediaElement.playFile(this.data, this.player.getAutoplay());\n  return value;\n};\n\nFeedWrapper.prototype.getData = function() {\n  return this.data;\n};\n\n/** \n * The BrandingPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction BrandingPlugin() {\n  BrandingPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(BrandingPlugin, Plugin);\n\n\nBrandingPlugin.NAME = "BrandingPlugin";\n\nBrandingPlugin.prototype.moduleName = "branding";\n\n/** @override\n*/\nBrandingPlugin.prototype.createModel = function() {\n  this.registerProxy(new BrandingProxy(this.config));\n};\n\nBrandingPlugin.prototype.createView = function() {\n  this.registerMediator(new BrandingMediator());\n};\n\n/** @override\n*/\nBrandingPlugin.prototype.onRegister = function() {\n  if (this.config.id != null) {\n    this.sendNotification(Notifications.ADD_APPLICATION_STATE, "branding-" + this.config.id);\n  }\n  BrandingPlugin.__super__.onRegister.call(this);\n};\n\n/**\n*/\nBrandingPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.READY];\n};\n\n\nAMP.registerPlugin("branding", "html", BrandingPlugin);\nAMP.registerPlugin("branding", "flash", BrandingWrapper);\nAMP.registerPlugin("branding", "external", BrandingPlugin);\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar FeatureNotifications = {\n  REGISTER_FEATURE: "registerfeature"\n};\n\n/** \n * The Feature class. Acts as a base for features.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @param {Object}  config  The plugin\'s configuration object.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction Feature() {\n  Feature.__super__.constructor.call(this);\n}\n\n\n__extends(Feature, Plugin);\n\n\nFeature.NAME = "Feature";\n\nFeature.prototype.featureName = null;\n\n/**\n*/\nFeature.prototype.getFeatureName = function() {\n  return this.featureName;\n};\n\n/**\n*/\nFeature.prototype.registerFeature = function() {\n  if (this.getFeatureName() != null) {\n    this.player.sendNotification(FeatureNotifications.REGISTER_FEATURE, this);\n  }\n};\n\n/** @override\n*/\nFeature.prototype.onRegister = function() {\n  this.registerFeature();\n  Feature.__super__.onRegister.call(this);\n};\n\n/** @override\n*/\nFeature.prototype.listNotificationPublications = function() {\n  return Feature.__super__.listNotificationPublications.call(this).concat([FeatureNotifications.REGISTER_FEATURE]);\n};\n\n/** \n * The FeedPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction FeedPlugin() {\n  FeedPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(FeedPlugin, Plugin);\n\n\nFeedPlugin.prototype.moduleName = "feed";\n\n/** @override\n*/\nFeedPlugin.prototype.createModel = function() {\n  this.proxy = new FeedProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nFeedPlugin.prototype.createController = function() {\n  FeedPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.READY, FeedInitializedCommand);\n  this.registerCommand(FeedNotifications.LOAD_FEED, LoadFeedCommand);\n  this.registerCommand(FeedNotifications.CHANGE_FEED, ChangeFeedCommand);\n  this.registerCommand(FeedNotifications.FEED_CHANGED, FeedChangedCommand);\n  this.registerCommand(FeedNotifications.FEED_LOADED, PluginEventCommand);\n  this.registerCommand(FeedNotifications.FEED_ERROR, PluginEventCommand);\n};\n\n/** @override\n*/\nFeedPlugin.prototype.listNotificationInterests = function() {\n  return FeedPlugin.__super__.listNotificationInterests.call(this).concat([Notifications.READY]);\n};\n\n/** @override\n*/\nFeedPlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return FeedPlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in FeedNotifications) {\n      value = FeedNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n/**\n * @param {string} value The url of the feed.\n * @expose\n*/\nFeedPlugin.prototype.setURL = function(value) {\n  this.sendNotification(FeedNotifications.LOAD_FEED, value);\n  return value;\n};\n\n/**\n * @return {string} The url of the feed.\n * @expose\n*/\nFeedPlugin.prototype.getURL = function() {\n  return this.proxy.getURL();\n};\n\n/**\n * @param {Object} value The MRSS feed object\n * @expose\n*/\nFeedPlugin.prototype.setData = function(value) {\n  this.sendNotification(FeedNotifications.CHANGE_FEED, value);\n  return value;\n};\n\n/**\n * @return {Object} The MRSS feed object.\n * @expose\n*/\nFeedPlugin.prototype.getData = function() {\n  return this.proxy.getFeedData();\n};\n\n\nAMP.registerPlugin("feed", "html", FeedPlugin);\nAMP.registerPlugin("feed", "flash", FeedWrapper);\n\n/**\n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction AdMediator() {\n  AdMediator.__super__.constructor.call(this);\n}\n\n\n__extends(AdMediator, OverlayMediator);\n\n\nAdMediator.prototype.duration = null;\n\nAdMediator.prototype.currentTime = null;\n\nAdMediator.prototype.container = null;\n\nAdMediator.prototype.banner = null;\n\nAdMediator.prototype.text = null;\n\nAdMediator.prototype.adText = null;\n\nAdMediator.prototype.bg = null;\n\nAdMediator.prototype.totalAds = null;\n\nAdMediator.prototype.adPosition = null;\n\nAdMediator.prototype.adContainerRequired = true;\n\nAdMediator.prototype.componentName = "ads";\n\n/**\n * @override\n*/\nAdMediator.prototype.onRegister = function() {\n  if (this.adContainerRequired) {\n    this.container = this.create("ad-container");\n  }\n  this.banner = this.create("ad-banner");\n  this.bg = this.create("ad-text-bg", this.banner);\n  this.adText = this.create("ad-text-title", this.banner);\n  this.text = this.create("ad-text", this.banner);\n  if (this.adContainerRequired) {\n    this.viewComponent.container = this.container;\n  }\n  AdMediator.__super__.onRegister.call(this);\n  this.sendNotification(AdNotifications.AD_CONTAINER_CREATED, this.viewComponent);\n  this.facade.setViewComponent(this.viewComponent);\n};\n\n/**\n * @override\n*/\nAdMediator.prototype.listNotificationInterests = function() {\n  return [AdNotifications.BREAK_START, AdNotifications.BREAK_END, AdNotifications.AD_TIME_REMAINING, AdNotifications.AD_STARTED];\n};\n\n/**\n * @override\n*/\nAdMediator.prototype.handleNotification = function(notification) {\n  var adVO, duration, msg, time;\n  switch (notification.getName()) {\n    case AdNotifications.BREAK_END:\n      this.text.textContent = "";\n      this.adText.textContent = "";\n      break;\n    case AdNotifications.AD_TIME_REMAINING:\n      time = notification.getBody();\n      if ((this.totalAds != null) && this.totalAds > 0 && (this.adPosition != null) && this.adPosition !== this.totalAds) {\n        msg = time > 0 ? "" + (this.localizationManager.getString(LocalizationConstants.MSG_NEXT_AD)) + (Utils.formatTimecode(time)) : "";\n      } else {\n        msg = time > 0 ? "" + (this.localizationManager.getString(LocalizationConstants.MSG_NEXT_VIDEO)) + (Utils.formatTimecode(time)) : "";\n      }\n      this.text.textContent = msg;\n      duration = this.facade.retrieveProxy(ModuleProxy.NAME).adVO.duration;\n      time = duration - time;\n      break;\n    case AdNotifications.AD_STARTED:\n      adVO = notification.getBody();\n      this.totalAds = adVO.totalAds;\n      this.adPosition = adVO.position;\n      msg = "Ad " + adVO.position + " of " + adVO.totalAds;\n      if ((adVO.position != null) && (adVO.totalAds != null) && adVO.position !== 0) {\n        this.adText.textContent = msg;\n      }\n  }\n};\n\n/** \n * The AdMediaChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdMediaChangeCommand() {\n  AdMediaChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdMediaChangeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdMediaChangeCommand.prototype.execute = function(notification) {\n  if (this.proxy.getEnabled() === false) {\n    return;\n  }\n  this.proxy.engage(notification.getBody());\n};\n\n/** \n * The AdLoadedCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdLoadedCommand() {\n  AdLoadedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdLoadedCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdLoadedCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.UPDATE_DATA_BINDINGS, {\n    contexts: [this.proxy.getContextName()]\n  });\n  AdLoadedCommand.__super__.execute.call(this, notification);\n};\n\n/** \n * The AdBreakStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdBreakStartCommand() {\n  AdBreakStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdBreakStartCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdBreakStartCommand.prototype.execute = function(notification) {\n  this.player.sendNotification(Notifications.ADD_APPLICATION_STATE, "ad-mode");\n  if (this.applicationState.getDevice() !== "desktop") {\n    this.player.sendNotification(Notifications.DISABLE_FULL_SCREEN);\n  }\n  AdBreakStartCommand.__super__.execute.call(this, notification);\n  this.proxy.breakStart();\n};\n\n/** \n * The AdBreakEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdBreakEndCommand() {\n  AdBreakEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdBreakEndCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdBreakEndCommand.prototype.execute = function(notification) {\n  AdBreakEndCommand.__super__.execute.call(this, notification);\n  this.proxy.breakEnd();\n  this.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "ad-mode");\n  if (this.applicationState.getDevice() !== "desktop") {\n    this.player.sendNotification(Notifications.ENABLE_FULL_SCREEN);\n  }\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar FlashAdNotifications = {\n  BREAK_START: "adComponentBreakInitiated",\n  BREAK_END: "adComponentBreakComplete",\n  AD_LOADED: "adComponentLoaded",\n  AD_STARTED: "adComponentAdBegin",\n  AD_TIME_UPDATE: "adComponentPlaybackProgress",\n  AD_TIME_REMAINING: "adComponentTimeElapsed",\n  AD_DURATION_CHANGE: "addurationchange",\n  AD_ENDED: "adComponentAdComplete",\n  AD_ERROR: "adComponentInitFailed",\n  AD_PLAY: "adComponentPlaybackResumed",\n  AD_PAUSE: "adComponentPlaybackPaused",\n  AD_LOG: "adComponentLog",\n  AD_COMPANION: "adComponentCompanion",\n  AD_PLAYBACK_FAILED: "adComponentPlaybackFailed",\n  AD_PLAYBACK_TERMINATED: "adComponentPlaybackTerminated",\n  AD_MEDIA_LOADED: "adComponentMediaLoaded",\n  AD_CLICKED: "adComponentClicked",\n  AD_FIRST_QUARTILE: "adComponentFirstQuartile",\n  AD_MIDPOINT: "adComponentMidpoint",\n  AD_THIRD_QUARTILE: "adComponentThirdQuartile",\n  AD_REQUEST: "adComponentAdsRequest",\n  AD_SKIPPED: "adComponentAdSkipped",\n  AD_IMPRESSION: "adComponentImpression"\n};\n\n/** \n * The AdSeekCommand class.\n *   \n * @constructor\n * @private\n * @extends {AdCommand}\n*/\nfunction AdSeekCommand() {\n  AdSeekCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AdSeekCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAdSeekCommand.prototype.execute = function(notification) {\n  this.proxy.contentSeek(notification.getBody());\n};\n\n/** \n * The AuditudeProxy class.\n *   \n * @constructor\n * @private \n * @extends {AdProxy}\n * @param {Object} config\n*/\nfunction AuditudeProxy(config) {\n  AuditudeProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AuditudeProxy, AdProxy);\n\n\n/** @static\n*/\nAuditudeProxy.NAME = AdProxy.NAME;\n\nAuditudeProxy.prototype.defaults = {\n  videoId: null,\n  defaultId: null,\n  domain: null,\n  zoneId: null,\n  companion: null,\n  userData: null,\n  params: null\n};\n\nAuditudeProxy.prototype.key = "auditude";\n\nAuditudeProxy.prototype.session = null;\n\nAuditudeProxy.prototype.options = null;\n\n/** @override\n*/\nAuditudeProxy.prototype.initialize = function() {\n  var _this = this;\n  this.options = {\n    controls: false,\n    auditudeHandlesChapterBreaks: false,\n    style: {\n      backgroundColor: \'#000\',\n      width: this.facade.player.mediaElement.clientWidth,\n      height: this.facade.player.mediaElement.clientHeight\n    },\n    handlers: {\n      play: function() {\n        _this.facade.logger.debug(\'ad play\');\n      },\n      timeupdate: function(event, audPlayer, video) {\n        _this.facade.sendNotification(AdNotifications.AD_TIME_REMAINING, video.duration - video.currentTime);\n      },\n      error: function(err) {\n        _this.facade.logger.debug(\'ad error:\', err);\n        _this.error();\n      },\n      pause: function() {\n        _this.facade.logger.debug(\'ad pause\');\n      },\n      loadedmetadata: function(evt, player, video) {\n        _this.facade.logger.debug(\'ad loadedmetadata\');\n      },\n      end: function() {\n        _this.facade.logger.debug(\'ad end\');\n      }\n    }\n  };\n  try {\n    this.plugin = this.createPlugin();\n    this.plugin.subscribe(aud.events.init_complete, function(event, plugin) {\n      _this.facade.logger.debug(\'init_complete:\', event, plugin);\n      try {\n        _this.plugin.publish(aud.notifications.break_begin);\n      } catch (err) {\n        _this.error(err);\n      }\n    });\n    this.plugin.subscribe(aud.events.init_failed, function(event, plugin) {\n      _this.error(event);\n    });\n    this.plugin.subscribe(aud.events.break_begin, function(event, plugin) {\n      _this.facade.logger.debug(\'break_begin:\', event, plugin);\n    });\n    this.plugin.subscribe(aud.events.pause_playback, function(event, plugin) {\n      _this.facade.logger.debug(\'pause_playback: \' + event + ", " + plugin);\n      _this.contentPause(event, plugin);\n    });\n    this.plugin.subscribe(aud.events.resume_playback, function(event, plugin) {\n      _this.facade.logger.debug(\'resume_playback: \', event, plugin);\n      _this.contentPlay(event, plugin);\n    });\n    this.plugin.subscribe(aud.events.linear_ad_begin, function(event, plugin, ctx) {\n      var id, title, xml;\n      _this.facade.logger.debug(\'linear ad begin:\', event, plugin, ctx);\n      xml = plugin._xmlDoc.querySelector("ad[id]");\n      if (xml != null) {\n        id = xml.getAttribute("id");\n      }\n      xml = plugin._xmlDoc.querySelector("inLine[adTitle]");\n      if (xml != null) {\n        title = xml.getAttribute("adTitle");\n      }\n      _this.adVO = new AdVO(id, title, ctx.asset.duration, 1, "preroll", "auditude", null, ctx.banners, null, ctx);\n      _this.sendNotification(AdNotifications.AD_LOADED, _this.adVO);\n      _this.sendNotification(AdNotifications.AD_DURATION_CHANGE, _this.adVO);\n      _this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE, PlayState.PLAYING);\n      _this.sendNotification(AdNotifications.AD_PLAY);\n      _this.setInProgress(true);\n      _this.setCompanions(ctx.banners);\n      _this.session = ctx.session;\n      _this.sendNotification(AdNotifications.AD_STARTED);\n    });\n    this.plugin.subscribe(aud.events.linear_ad_end, function(event, plugin, ctx) {\n      _this.facade.logger.debug(\'linear ad end:\', event, plugin, ctx);\n      _this.sendNotification(AdNotifications.AD_ENDED);\n    });\n    this.plugin.subscribe(aud.events.break_end, function(event, plugin) {\n      _this.facade.logger.debug(\'break_end:\', event, plugin);\n      _this.end();\n    });\n    this.plugin.subscribe(aud.events.non_linear_ad_begin, function(event, plugin, ctx) {\n      _this.facade.logger.debug(\'non linear ad begin\');\n      _this.setCompanions(ctx.banners);\n    });\n    this.plugin.subscribe(aud.events.non_linear_ad_end, function(event, plugin, ctx) {\n      _this.facade.logger.debug(\'non linear ad end\');\n    });\n  } catch (err) {\n    this.error(err);\n  }\n};\n\n/**\n*/\nAuditudeProxy.prototype.createPlugin = function() {\n  return aud.html5.AdPlayer(this.facade.container.container, null, this.value.domain, this.value.zoneId, this.options);\n};\n\n/**\n*/\nAuditudeProxy.prototype.start = function() {\n  var defaultId, id, key, params, userData, value, _ref;\n  if (AuditudeProxy.__super__.start.call(this) === false) {\n    return false;\n  }\n  try {\n    params = this.value.params || {};\n    userData = "";\n    if (this.value.userData != null) {\n      _ref = this.value.userData;\n      for (key in _ref) {\n        value = _ref[key];\n        userData += "" + key + "=" + value + ";";\n      }\n    }\n    if (params.userData != null) {\n      userData += params.userData;\n    }\n    if (userData !== "") {\n      params.userData = userData;\n    }\n    id = this.value.videoId + "";\n    if (this.value.defaultId != null) {\n      defaultId = this.value.defaultId + "";\n      id = id != null ? [id, defaultId] : defaultId;\n    }\n    this.facade.logger.log("Auditude init: ", id, params);\n    this.plugin.init(id, params);\n  } catch (err) {\n    this.error(err);\n  }\n};\n\n/**\n*/\nAuditudeProxy.prototype.play = function() {\n  AuditudeProxy.__super__.play.call(this);\n  this.session.notifyResume();\n};\n\n/**\n*/\nAuditudeProxy.prototype.pause = function() {\n  AuditudeProxy.__super__.pause.call(this);\n  this.session.notifyPause();\n};\n\n/**\n*/\nAuditudeProxy.prototype.breakStart = function() {};\n\n/**\n*/\nAuditudeProxy.prototype.setCompanions = function(ads) {\n  var ad, banner, companions, slot, _i, _j, _len, _len1;\n  if (!(ads != null) || ads.length < 1) {\n    return;\n  }\n  companions = [];\n  for (_i = 0, _len = ads.length; _i < _len; _i++) {\n    ad = ads[_i];\n    companions.push({\n      data: ad.data,\n      type: ad.resourceType,\n      width: parseInt(ad.width),\n      height: parseInt(ad.height),\n      metadata: ad\n    });\n  }\n  AuditudeProxy.__super__.setCompanions.call(this, companions);\n  if (!(this.value.companion != null)) {\n    return;\n  }\n  banner = this.value.companion;\n  slot = document.getElementById(banner.id);\n  if (!(slot != null)) {\n    return;\n  }\n  for (_j = 0, _len1 = ads.length; _j < _len1; _j++) {\n    ad = ads[_j];\n    if (!(banner.width === parseInt(ad.width) && banner.height === parseInt(ad.height))) {\n      continue;\n    }\n    slot.innerHTML = ad.data;\n    break;\n  }\n};\n\n/**\n*/\nAuditudeProxy.prototype.contentStarted = function() {\n  this.plugin.publish(aud.notifications.video_playback_started);\n};\n\n/**\n*/\nAuditudeProxy.prototype.contentEnded = function() {\n  this.plugin.publish(aud.notifications.video_playback_complete);\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction AuditudeFullscreenProxy(config) {\n  AuditudeFullscreenProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AuditudeFullscreenProxy, AuditudeProxy);\n\n\n/** @static\n*/\nAuditudeFullscreenProxy.NAME = AuditudeProxy.NAME;\n\n/**\n*/\nAuditudeFullscreenProxy.prototype.createPlugin = function() {\n  return aud.html5.AdPlayer(this.facade.player.mediaElement, null, this.value.domain, this.value.zoneId, this.options);\n};\n\n/** @override\n*/\nAuditudeFullscreenProxy.prototype.engage = function(media) {\n  AuditudeFullscreenProxy.__super__.engage.call(this, media);\n  this.sendNotification(Notifications.DISABLE_VIDEO_EVENTS, ["ended"]);\n};\n\n/** @override\n*/\nAuditudeFullscreenProxy.prototype.reset = function(media) {\n  AuditudeFullscreenProxy.__super__.reset.call(this, media);\n  this.sendNotification(Notifications.ENABLE_VIDEO_EVENTS, ["ended"]);\n};\n\n/** @override\n*/\nAuditudeFullscreenProxy.prototype.play = function() {\n  AuditudeFullscreenProxy.__super__.play.call(this);\n  this.facade.player.mediaElement.play();\n};\n\n/** @override\n*/\nAuditudeFullscreenProxy.prototype.pause = function() {\n  AuditudeFullscreenProxy.__super__.pause.call(this);\n  this.facade.player.mediaElement.pause();\n};\n\n/** @override\n*/\nAuditudeFullscreenProxy.prototype.contentPause = function() {\n  this.facade.player.mediaElement.pause();\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction AdWrapper(player, init) {\n  AdWrapper.__super__.constructor.call(this, player, init);\n}\n\n\n__extends(AdWrapper, PluginWrapper);\n\n\nAdWrapper.NAME = "AdWrapper";\n\nAdWrapper.prototype.enabled = true;\n\nAdWrapper.prototype.paused = false;\n\nAdWrapper.prototype.started = false;\n\nAdWrapper.prototype.adVO = null;\n\n/**\n*/\nAdWrapper.prototype.getFeatureName = function() {\n  return "ads";\n};\n\nAdWrapper.prototype.getInProgress = function() {\n  return this.player.mediaElement.getPlayerProperty("adInProgress");\n};\n\nAdWrapper.prototype.getStarted = function() {\n  return this.started;\n};\n\nAdWrapper.prototype.getPaused = function() {\n  return this.paused;\n};\n\nAdWrapper.prototype.getCompanions = function() {\n  var _ref;\n  return (_ref = this.adVO) != null ? _ref.companions : void 0;\n};\n\nAdWrapper.prototype.setEnabled = function(value) {\n  this.enabled = value;\n  this.player.mediaElement.setPlayerProperty("adsEnabled", value);\n  return value;\n};\n\nAdWrapper.prototype.getEnabled = function() {\n  return this.enabled;\n};\n\nAdWrapper.prototype.enable = function() {\n  this.setEnabled(true);\n};\n\nAdWrapper.prototype.disable = function() {\n  this.setEnabled(false);\n};\n\n/**\n*/\nAdWrapper.prototype.createFlashVars = function(flashvars) {\n  flashvars.core_ads_enabled = true;\n  return flashvars;\n};\n\n/**\n*/\nAdWrapper.prototype.listNotificationInterests = function() {\n  var key, value;\n  return AdWrapper.__super__.listNotificationInterests.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in FlashAdNotifications) {\n      value = FlashAdNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n/** @override\n*/\nAdWrapper.prototype.handleNotification = function(notification) {\n  var body, event, name, target, type;\n  AdWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  this.adVO = this.createAdVO(body);\n  target = this;\n  switch (name) {\n    case FlashAdNotifications.BREAK_START:\n      type = AdNotifications.BREAK_START;\n      break;\n    case FlashAdNotifications.BREAK_END:\n      type = AdNotifications.BREAK_END;\n      break;\n    case FlashAdNotifications.AD_MEDIA_LOADED:\n      type = AdNotifications.AD_LOADED;\n      this.start = false;\n      break;\n    case FlashAdNotifications.AD_STARTED:\n      type = AdNotifications.AD_STARTED;\n      this.started = true;\n      this.sendNotification(Notifications.ADD_APPLICATION_STATE, "ad-mode");\n      break;\n    case FlashAdNotifications.AD_TIME_UPDATE:\n      type = AdNotifications.AD_TIME_UPDATE;\n      break;\n    case FlashAdNotifications.AD_TIME_REMAINING:\n      type = AdNotifications.AD_TIME_REMAINING;\n      break;\n    case FlashAdNotifications.AD_ERROR:\n    case FlashAdNotifications.AD_PLAYBACK_FAILED:\n      type = AdNotifications.AD_ERROR;\n      this.start = false;\n      this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "ad-mode");\n      break;\n    case FlashAdNotifications.AD_ENDED:\n    case FlashAdNotifications.AD_PLAYBACK_TERMINATED:\n      type = AdNotifications.AD_ENDED;\n      this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "ad-mode");\n      break;\n    case FlashAdNotifications.AD_CLICKED:\n      type = AdNotifications.AD_CLICKED;\n      break;\n    case FlashAdNotifications.AD_COMPANION:\n      type = AdNotifications.AD_COMPANION;\n      if ((this.adVO != null) && (body != null)) {\n        this.adVO.companions = body;\n      }\n      break;\n    case FlashAdNotifications.AD_PAUSE:\n      type = AdNotifications.AD_PAUSE;\n      target = this.player;\n      this.paused = true;\n      this.player.setPlayState("paused");\n      break;\n    case FlashAdNotifications.AD_PLAY:\n      type = AdNotifications.AD_PLAY;\n      target = this.player;\n      this.paused = true;\n      this.player.setPlayState("playing");\n      event = new Event("play", body);\n      event.player = this.player;\n      target.dispatchEvent(event);\n      break;\n    case FlashAdNotifications.AD_LOG:\n      type = AdNotifications.AD_LOG;\n      break;\n    case FlashAdNotifications.AD_FIRST_QUARTILE:\n      type = AdNotifications.FIRST_QUARTILE;\n      break;\n    case FlashAdNotifications.AD_MIDPOINT:\n      type = AdNotifications.MIDPOINT;\n      break;\n    case FlashAdNotifications.AD_THIRD_QUARTILE:\n      type = AdNotifications.THIRD_QUARTILE;\n      break;\n    case FlashAdNotifications.AD_REQUEST:\n      type = AdNotifications.REQUEST;\n      break;\n    case FlashAdNotifications.AD_SKIPPED:\n      type = AdNotifications.SKIPPED;\n      break;\n    case FlashAdNotifications.AD_IMPRESSION:\n      type = AdNotifications.IMPRESSION;\n  }\n  if (type != null) {\n    this.sendNotification(type, this.adVO);\n    event = new Event(type.replace(/^ads/, ""), this.adVO);\n    event.player = this.player;\n    target.dispatchEvent(event);\n  }\n};\n\n/**\n*/\nAdWrapper.prototype.createAdVO = function(ad) {\n  if (!(ad != null)) {\n    return null;\n  }\n  return new AdVO(ad.id, ad.title, ad.duration, ad.podIndex, ad.podPosition, ad.adPlatform, null, null, ad.requestURL, ad);\n};\n\n/**\n * @expose\n*/\nAdWrapper.prototype.terminateAd = function() {\n  this.player.mediaElement.terminateAd();\n};\n\n/**\n * @expose\n*/\nAdWrapper.prototype.terminateAllAds = function() {\n  this.player.mediaElement.terminateAllAds();\n};\n\nfunction AuditudeWrapper() {\n  return AuditudeWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(AuditudeWrapper, AdWrapper);\n\n\nAuditudeWrapper.NAME = "AuditudeWrapper";\n\n/**\n*/\nAuditudeWrapper.prototype.createFlashVars = function(flashvars) {\n  if ((this.config.companion != null)) {\n    flashvars.ad_partner_companion_size = "" + this.config.companion.width + "x" + this.config.companion.height;\n  }\n  return flashvars;\n};\n\nAuditudeWrapper.prototype.createXML = function(xml) {\n  var admedia, application, companion, companions, ids, prop, props, vendor, _i, _j, _len, _len1, _ref;\n  application = xml.firstChild;\n  admedia = xml.getElementsByTagName("admedia")[0];\n  if (!(admedia != null)) {\n    admedia = xml.createElement("admedia");\n    application.appendChild(admedia);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "auditude");\n  admedia.appendChild(vendor);\n  props = [\n    {\n      value: this.config.domain,\n      key: "AUDITUDE_DOMAIN"\n    }, {\n      value: this.config.videoId,\n      key: "AUDITUDE_MEDIA_ID"\n    }, {\n      value: this.config.defaultId,\n      key: "AUDITUDE_DEFAULT_MEDIA_ID"\n    }, {\n      value: this.config.zoneId,\n      key: "AUDITUDE_ZONE_ID"\n    }, {\n      value: this.config.prerollId,\n      key: "AUDITUDE_PREROLL_MEDIA_ID"\n    }, {\n      value: this.config.midrollId,\n      key: "AUDITUDE_MIDROLL_MEDIA_ID"\n    }, {\n      value: this.config.audienceManagerURL,\n      key: "AUDITUDE_AUDIENCE_MGR_URL"\n    }, {\n      value: this.config.version,\n      key: "AUDITUDE_VERSION"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  if (this.config.position != null) {\n    vendor.setAttribute("position", this.config.position);\n  }\n  if (this.config.companions != null) {\n    companions = [];\n    ids = [];\n    _ref = this.config.companions;\n    for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n      companion = _ref[_j];\n      companions.push(companion.width + "x" + companion.height);\n      ids.push(companion.id);\n    }\n    this.createProperty(xml, "AUDITUDE_COMPANION_SIZE", companions.join(","), vendor);\n    this.createProperty(xml, "AUDITUDE_COMPANION_ID", companions.join(","), vendor);\n  }\n  if (this.config.params != null) {\n    this.createProperty(xml, "AUDITUDE_PARAMS", this.config.params, vendor);\n  }\n  if (this.config.userData != null) {\n    this.createProperty(xml, "AUDITUDE_USER_DATA", this.config.userData, vendor);\n  }\n  return xml;\n};\n\n/** \n * The AdPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Feature}\n*/\nfunction AdPlugin() {\n  AdPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AdPlugin, Feature);\n\n\nAdPlugin.NAME = "AdPlugin";\n\nAdPlugin.prototype.container = null;\n\nAdPlugin.prototype.featureName = "ads";\n\n/** @override\n*/\nAdPlugin.prototype.createModel = function() {\n  this.proxy = this.isFullscreenDevice() ? this.createFullscreenProxy() : this.createProxy();\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nAdPlugin.prototype.createController = function() {\n  AdPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.CHANGE_MEDIA, AdMediaChangeCommand);\n  this.registerCommand(AdNotifications.BREAK_START, AdBreakStartCommand);\n  this.registerCommand(AdNotifications.AD_LOADED, AdLoadedCommand);\n  this.registerCommand(AdNotifications.BREAK_END, AdBreakEndCommand);\n  this.registerCommand(Notifications.SEEK, AdSeekCommand);\n  this.registerCommand(UserNotifications.SEEK, AdSeekCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, PluginEventCommand);\n  this.registerCommand(AdNotifications.SKIPPED, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_CONTAINER_CREATED, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_LOADED, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_MANAGER_LOADED, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_TIME_UPDATE, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_TIME_REMAINING, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_DURATION_CHANGE, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_ENDED, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_ERROR, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_COMPANION, PluginEventCommand);\n  this.registerCommand(AdNotifications.FIRST_QUARTILE, PluginEventCommand);\n  this.registerCommand(AdNotifications.MIDPOINT, PluginEventCommand);\n  this.registerCommand(AdNotifications.THIRD_QUARTILE, PluginEventCommand);\n  this.registerCommand(AdNotifications.LOG, PluginEventCommand);\n  this.registerCommand(AdNotifications.REQUEST, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_RESUME, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_PLAY, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_PAUSE, PluginEventCommand);\n  this.registerCommand(AdNotifications.AD_PAUSED, PluginEventCommand);\n  this.registerCommand(AdNotifications.IMPRESSION, PluginEventCommand);\n};\n\n/** @override\n*/\nAdPlugin.prototype.createView = function() {\n  return this.registerMediator(new AdMediator());\n};\n\nAdPlugin.prototype.isFullscreenDevice = function() {\n  return Utils.isFullscreenDevice();\n};\n\nAdPlugin.prototype.createProxy = function() {};\n\nAdPlugin.prototype.createFullscreenProxy = function() {};\n\n/** @override\n*/\nAdPlugin.prototype.registered = function() {\n  var bindings;\n  AdPlugin.__super__.registered.call(this);\n  bindings = this.player.retrieveProxy(DataBindingProxy.NAME);\n  bindings.registerContext(this.retrieveProxy(AdProxy.NAME));\n};\n\n/**\n*/\nAdPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.CHANGE_MEDIA, Notifications.PLAY, Notifications.PAUSE, Notifications.START, Notifications.STARTED, Notifications.ENDED, Notifications.READY, Notifications.SEEK, Notifications.VOLUME_CHANGE, Notifications.FULL_SCREEN_CHANGE, UserNotifications.PLAY, UserNotifications.PAUSE, UserNotifications.SEEK, UserNotifications.TOGGLE_PLAY_PAUSE];\n};\n\n/**\n*/\nAdPlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return AdPlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in AdNotifications) {\n      value = AdNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })()).concat([Notifications.PLAY_REQUEST, Notifications.UPDATE_DATA_BINDINGS, Notifications.DISPLAY_TIME, Notifications.ADD_CUE_POINTS, Notifications.DISABLE_FULL_SCREEN]);\n};\n\n/**\n * @param {boolean} value The enabled flag.\n * @expose\n*/\nAdPlugin.prototype.setEnabled = function(value) {\n  this.proxy.setEnabled(value);\n};\n\n/**\n * @return {boolean} The enabled flag.\n * @expose\n*/\nAdPlugin.prototype.getEnabled = function() {\n  return this.proxy.getEnabled();\n};\n\n/**\n * @return {boolean} The in progress flag.\n * @expose\n*/\nAdPlugin.prototype.getInProgress = function() {\n  return this.proxy.getInProgress();\n};\n\n/**\n * @return {boolean} The started flag.\n * @expose\n*/\nAdPlugin.prototype.getStarted = function() {\n  return this.proxy.getStarted();\n};\n\n/**\n * @return {boolean} The paused flag.\n * @expose\n*/\nAdPlugin.prototype.getPaused = function() {\n  return this.proxy.getPaused();\n};\n\n/**\n * @return {Array.<Object>} The list of companion ads.\n * @expose\n*/\nAdPlugin.prototype.getCompanions = function() {\n  return this.proxy.getCompanions();\n};\n\n/**\n * @expose\n*/\nAdPlugin.prototype.terminateAd = function() {\n  this.proxy.terminateAd();\n};\n\n/**\n * @expose\n*/\nAdPlugin.prototype.terminateAllAds = function() {\n  this.proxy.terminateAllAds();\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar AutoAdvanceNotifications = {\n  TIME_UPDATE: "autoadvancetimeupdate",\n  START: "autoadvancestart",\n  STOP: "autoadvancestop",\n  ADVANCE: "autoadvanceadvance"\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction AutoAdvanceWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  AutoAdvanceWrapper.__super__.constructor.call(this, player, config);\n  if (config.interval != null) {\n    this.interval = config.interval;\n  }\n  if (config.handler != null) {\n    this.handler = config.handler;\n  }\n}\n\n\n__extends(AutoAdvanceWrapper, PluginWrapper);\n\n\nAutoAdvanceWrapper.NAME = "AutoAdvanceWrapper";\n\nAutoAdvanceWrapper.prototype.interval = null;\n\nAutoAdvanceWrapper.prototype.handler = null;\n\nAutoAdvanceWrapper.prototype.getInterval = function() {\n  return this.interval;\n};\n\nAutoAdvanceWrapper.prototype.setInterval = function(value) {\n  return this.interval = value;\n};\n\nAutoAdvanceWrapper.prototype.getHandler = function() {\n  return this.handler;\n};\n\nAutoAdvanceWrapper.prototype.setHandler = function(value) {\n  return this.handler = value;\n};\n\n/** @override\n*/\nAutoAdvanceWrapper.prototype.listNotificationInterests = function() {\n  return [FlashNotifications.CREATE_FLASH_VARS, FlashNotifications.AUTO_ADVANCE];\n};\n\n/**\n*/\nAutoAdvanceWrapper.prototype.handleNotification = function(notification) {\n  var body, flashvars, name, type, _base;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.CREATE_FLASH_VARS:\n      flashvars = body.flashvars;\n      if (this.interval != null) {\n        flashvars.next_video_timer = this.interval;\n        flashvars.auto_play_list = true;\n      }\n      break;\n    case FlashNotifications.AUTO_ADVANCE:\n      if (typeof (_base = this.config).handler === "function") {\n        _base.handler();\n      }\n      type = "advance";\n  }\n  if (type != null) {\n    this.dispatchEvent(new Event(type));\n  }\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction AutoAdvanceProxy(config) {\n  AutoAdvanceProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AutoAdvanceProxy, ModuleProxy);\n\n\n/** @static\n*/\nAutoAdvanceProxy.NAME = ModuleProxy.NAME;\n\nAutoAdvanceProxy.prototype.defaults = {\n  interval: 15,\n  handler: null\n};\n\nAutoAdvanceProxy.prototype.currentTime = 0;\n\nAutoAdvanceProxy.prototype.timeout = null;\n\nAutoAdvanceProxy.prototype.start = function() {\n  var _this = this;\n  this.currentTime = this.data.interval;\n  this.timeout = setInterval(function() {\n    _this.updateTime();\n  }, 1000);\n  this.sendNotification(AutoAdvanceNotifications.TIME_UPDATE, this.currentTime);\n};\n\nAutoAdvanceProxy.prototype.stop = function() {\n  clearInterval(this.timeout);\n};\n\nAutoAdvanceProxy.prototype.updateTime = function() {\n  this.currentTime--;\n  this.sendNotification(AutoAdvanceNotifications.TIME_UPDATE, this.currentTime);\n  if (this.currentTime <= 0) {\n    this.stop();\n    this.sendNotification(AutoAdvanceNotifications.ADVANCE, this.data.handler);\n  }\n};\n\n/**\n * The AutoAdvanceStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction AutoAdvanceStartCommand() {\n  AutoAdvanceStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvanceStartCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAutoAdvanceStartCommand.prototype.execute = function(notification) {\n  this.sendNotification(Notifications.ADD_APPLICATION_STATE, "autoadvance-mode");\n  this.proxy.start();\n  AutoAdvanceStartCommand.__super__.execute.call(this, notifications);\n};\n\n/**\n * The AutoAdvanceAdvanceCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction AutoAdvanceAdvanceCommand() {\n  AutoAdvanceAdvanceCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvanceAdvanceCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAutoAdvanceAdvanceCommand.prototype.execute = function(notification) {\n  var handler;\n  handler = notification.getBody();\n  if ((handler != null)) {\n    if (typeof handler === "string") {\n      eval("" + handler + "()");\n    } else if (typeof handler === "function") {\n      handler();\n    }\n  }\n  this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "autoadvance-mode");\n  AutoAdvanceAdvanceCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * The AutoAdvanceEndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AutoAdvanceEndedCommand() {\n  AutoAdvanceEndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvanceEndedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAutoAdvanceEndedCommand.prototype.execute = function(notification) {\n  if (this.proxy.getData().interval != null) {\n    this.sendNotification(AutoAdvanceNotifications.START);\n  }\n};\n\n/**\n * The AutoAdvanceStopCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AutoAdvanceStopCommand() {\n  AutoAdvanceStopCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvanceStopCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAutoAdvanceStopCommand.prototype.execute = function(notification) {\n  this.proxy.stop();\n};\n\n/**\n * The AutoAdvanceMediator class.\n * \n * @constructor\n * @private\n * @extends {OverlayMediator}\n * @param {Object} viewComponent\n*/\nfunction AutoAdvanceMediator() {\n  AutoAdvanceMediator.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvanceMediator, OverlayMediator);\n\n\nAutoAdvanceMediator.prototype.componentName = "autoadvance";\n\nAutoAdvanceMediator.prototype.text = null;\n\nAutoAdvanceMediator.prototype.onRegister = function() {\n  this.text = this.create("autoadvance-text");\n  AutoAdvanceMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nAutoAdvanceMediator.prototype.listNotificationInterests = function() {\n  return [AutoAdvanceNotifications.TIME_UPDATE];\n};\n\n/**\n * @override\n*/\nAutoAdvanceMediator.prototype.handleNotification = function(notification) {\n  var time;\n  switch (notification.getName()) {\n    case AutoAdvanceNotifications.TIME_UPDATE:\n      time = notification.getBody();\n      this.text.textContent = "" + (this.localizationManager.getString(\'MSG_NEXT_VIDEO\')) + " " + time + " " + (this.localizationManager.getString(\'MSG_SECONDS\'));\n  }\n};\n\n/** \n * The AuditudePlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {AdPlugin}\n*/\nfunction AuditudePlugin() {\n  AuditudePlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AuditudePlugin, AdPlugin);\n\n\nAuditudePlugin.NAME = "AuditudePlugin";\n\nAuditudePlugin.prototype.moduleName = "auditude";\n\nAuditudePlugin.prototype.featureName = "ads";\n\nAuditudePlugin.prototype.createFullscreenProxy = function() {\n  return new AuditudeFullscreenProxy(this.config);\n};\n\nAuditudePlugin.prototype.createProxy = function() {\n  return new AuditudeProxy(this.config);\n};\n\nAuditudePlugin.prototype.isFullscreenDevice = function() {\n  return true;\n};\n\n\nAMP.registerPlugin("auditude", "html", AuditudePlugin);\nAMP.registerPlugin("auditude", "flash", AuditudeWrapper);\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar RecommendationsNotifications = {\n  RECOMMENDATIONS_LOADED: "recommendationsloaded",\n  RECOMMENDATION_SELECTED: "recommendationsselected"\n};\n\nfunction RecommendationVO(guid, link, title, description, thumbnail, duration, pubDate, target, metadata) {\n  this.guid = guid;\n  this.link = link;\n  this.title = title;\n  this.description = description;\n  this.thumbnail = thumbnail;\n  this.duration = duration;\n  this.pubDate = pubDate;\n  this.target = target;\n  this.metadata = metadata != null ? metadata : {};\n}\n\nRecommendationVO.prototype.guid = null;\n\nRecommendationVO.prototype.link = null;\n\nRecommendationVO.prototype.title = null;\n\nRecommendationVO.prototype.description = null;\n\nRecommendationVO.prototype.thumbnail = null;\n\nRecommendationVO.prototype.duration = null;\n\nRecommendationVO.prototype.pubDate = null;\n\nRecommendationVO.prototype.target = null;\n\nRecommendationVO.prototype.metadata = null;\n\n/**\n * @constructor\n * @private\n * @extends {PluginWrapper}\n*/\nfunction RecommendationsWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  RecommendationsWrapper.__super__.constructor.call(this, player, config);\n  if (config.url != null) {\n    this.url = config.url;\n  }\n  if (config.target != null) {\n    this.target = config.target;\n  }\n}\n\n\n__extends(RecommendationsWrapper, PluginWrapper);\n\n\nRecommendationsWrapper.NAME = "RecommendationsWrapper";\n\nRecommendationsWrapper.prototype.flashPluginIds = ["RecommendationsPlugin"];\n\nRecommendationsWrapper.prototype.url = null;\n\nRecommendationsWrapper.prototype.target = null;\n\nRecommendationsWrapper.prototype.recommendations = null;\n\n/**\n*/\nRecommendationsWrapper.prototype.getFeatureName = function() {\n  return "recommendations";\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.getData = function() {\n  return this.recommendations;\n};\n\nRecommendationsWrapper.prototype.setData = function(value) {\n  return this.recommendations = value;\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.getTarget = function() {\n  var _ref, _ref1;\n  return this.target || ((_ref = this.player) != null ? (_ref1 = _ref.config) != null ? _ref1.target : void 0 : void 0);\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.getURL = function() {\n  return this.url;\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.createFlashVars = function(flashvars) {\n  flashvars.recommendations_partner = "mrss";\n  if (this.config.target != null) {\n    flashvars.external_target = this.config.target;\n  }\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.createXML = function(xml) {\n  var application, recommendations, vendor;\n  application = xml.firstChild;\n  recommendations = xml.getElementsByTagName("recommendations")[0];\n  if (!(recommendations != null)) {\n    recommendations = xml.createElement("recommendations");\n    application.appendChild(recommendations);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "mrss");\n  recommendations.appendChild(vendor);\n  this.createProperty(xml, "RECOMMENDATIONS_MRSS_URL", this.url, vendor);\n};\n\n/** @override\n*/\nRecommendationsWrapper.prototype.listNotificationInterests = function() {\n  return RecommendationsWrapper.__super__.listNotificationInterests.apply(this, arguments).concat([FlashNotifications.RECOMMENDATION_SELECTED, FlashNotifications.RECOMMENDATIONS_LOADED]);\n};\n\n/**\n*/\nRecommendationsWrapper.prototype.handleNotification = function(notification) {\n  var body, name, type;\n  RecommendationsWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.RECOMMENDATIONS_LOADED:\n      type = "loaded";\n      this.recommendations = body;\n      break;\n    case FlashNotifications.RECOMMENDATION_SELECTED:\n      type = "selected";\n  }\n  if (type != null) {\n    this.dispatchEvent(new Event(type, body));\n  }\n};\n\n/**\n * The RecommendationsSelectedCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction RecommendationSelectedCommand() {\n  RecommendationSelectedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationSelectedCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nRecommendationSelectedCommand.prototype.execute = function(notification) {\n  var rec;\n  RecommendationSelectedCommand.__super__.execute.call(this, notifications);\n  rec = notification.getBody();\n  if (rec.target !== "none" && rec.target !== "player") {\n    window.open(rec.link, rec.target);\n  }\n};\n\n/**\n * The RecommendationsPlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction RecommendationsPlayCommand() {\n  RecommendationsPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsPlayCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nRecommendationsPlayCommand.prototype.execute = function(notification) {\n  this.proxy.invoke();\n};\n\n/**\n * The RecommendationsPlayStateChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction RecommendationsPlayStateChangeCommand() {\n  RecommendationsPlayStateChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsPlayStateChangeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nRecommendationsPlayStateChangeCommand.prototype.execute = function(notification) {\n  var recommendations, states;\n  recommendations = this.proxy.getRecommendations();\n  states = notification.getBody();\n  if (states.newState === PlayState.ENDED) {\n    if ((recommendations != null ? recommendations.length : void 0) > 0) {\n      this.sendNotification(Notifications.ADD_APPLICATION_STATE, "recommendations-mode");\n    }\n  } else if (states.oldState === PlayState.ENDED) {\n    if ((recommendations != null ? recommendations.length : void 0) > 0) {\n      this.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "recommendations-mode");\n    }\n  }\n};\n\n/** \n * Proxy for recommendations feature\n * \n * @constructor \n * @private\n*/\nfunction RecommendationsProxy(config) {\n  RecommendationsProxy.__super__.constructor.call(this, config);\n  this.helper = new MRSSHelper();\n}\n\n\n__extends(RecommendationsProxy, PluginProxy);\n\n\n/** @static\n*/\nRecommendationsProxy.NAME = ModuleProxy.NAME;\n\nRecommendationsProxy.prototype.defaults = {\n  url: null,\n  target: "_blank"\n};\n\nRecommendationsProxy.prototype.loaded = true;\n\nRecommendationsProxy.prototype.recommendations = null;\n\nRecommendationsProxy.prototype.helper = null;\n\n/** Getter/Setter for RecommendationVO.\n*/\nRecommendationsProxy.prototype.getRecommendations = function() {\n  return this.recommendations;\n};\n\nRecommendationsProxy.prototype.setRecommendations = function(value) {\n  this.recommendations = value;\n  this.sendNotification(RecommendationsNotifications.RECOMMENDATIONS_LOADED, this.recommendations);\n  return value;\n};\n\nRecommendationsProxy.prototype.getURL = function() {\n  return this.getConfigurationData().url;\n};\n\nRecommendationsProxy.prototype.setURL = function(value) {\n  this.data.url = value;\n  this.invoke();\n  return value;\n};\n\nRecommendationsProxy.prototype.getTarget = function() {\n  return this.getConfigurationData().target || this.facade.player.retrieveProxy(ConfigurationProxy.NAME).getTarget();\n};\n\nRecommendationsProxy.prototype.setTarget = function(value) {\n  this.data.target = value;\n  return value;\n};\n\n/**\n *\n * \n * @param {String} value \n *    The new display state of the player\n * @returns {String} \n *    The display state of the player\n * @type {String}\n*/\nRecommendationsProxy.prototype.invoke = function() {\n  var url, xhr;\n  url = this.getURL();\n  if (!(url != null) || url === "") {\n    this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]", "Load Error: No url provided");\n    return;\n  }\n  xhr = Utils.getJson(url, this.onload.bind(this), this.onerror.bind(this));\n};\n\nRecommendationsProxy.prototype.onload = function(json) {\n  var recs;\n  recs = this.createRecommendations(json);\n  this.setRecommendations(recs);\n};\n\nRecommendationsProxy.prototype.onerror = function(error) {\n  this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]", "Load Error:", error);\n};\n\n/**\n*/\nRecommendationsProxy.prototype.createRecommendations = function(feed) {\n  var item, rec, recs, _i, _len, _ref;\n  feed = this.helper.createFeed(feed);\n  recs = [];\n  _ref = feed.item;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    item = _ref[_i];\n    rec = new RecommendationVO(item.guid, item.link, item.title, item.description, item.thumbnail, item.duration, item.pubDate, this.getTarget(), item);\n    recs.push(rec);\n  }\n  return recs;\n};\n\n/**\n * The RecommendationsMediator class.\n * \n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction RecommendationsMediator() {\n  RecommendationsMediator.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsMediator, OverlayMediator);\n\n\nRecommendationsMediator.prototype.componentName = "recommendations";\n\nRecommendationsMediator.prototype.listArea = null;\n\n/**\n * @override\n*/\nRecommendationsMediator.prototype.onRegister = function() {\n  var label;\n  label = this.createText("recommendations-label", "Recommended");\n  this.listArea = this.create("recommendations-list-area");\n  RecommendationsMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nRecommendationsMediator.prototype.listNotificationInterests = function() {\n  return [RecommendationsNotifications.RECOMMENDATIONS_LOADED];\n};\n\n/**\n * @override\n*/\nRecommendationsMediator.prototype.handleNotification = function(notification) {\n  var rec, recs, _i, _len;\n  switch (notification.getName()) {\n    case RecommendationsNotifications.RECOMMENDATIONS_LOADED:\n      this.listArea.innerHTML = "";\n      recs = notification.getBody();\n      if ((recs != null) && recs.length > 0) {\n        for (_i = 0, _len = recs.length; _i < _len; _i++) {\n          rec = recs[_i];\n          this.addElement(rec);\n        }\n      }\n  }\n};\n\nRecommendationsMediator.prototype.addElement = function(recommendation) {\n  var listItem,\n    _this = this;\n  listItem = this.create("recommendation", this.listArea);\n  if (listItem.dataset == null) {\n    listItem.dataset = {};\n  }\n  listItem.dataset.link = recommendation.link;\n  listItem.dataset.target = recommendation.target;\n  listItem.innerHTML = "<img src=\'" + recommendation.thumbnail + "\' class=\'" + this.cssPrefix + "recommendation-thumbnail\' /> <span class=\'" + this.cssPrefix + "recommendation-text\'>" + recommendation.description + "</span>";\n  listItem.onclick = function(event) {\n    event.stopImmediatePropagation();\n    _this.sendNotification(RecommendationsNotifications.RECOMMENDATION_SELECTED, event.currentTarget.dataset);\n    return false;\n  };\n};\n\n/** \n * The AutoadvancePlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction AutoAdvancePlugin() {\n  AutoAdvancePlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AutoAdvancePlugin, Plugin);\n\n\nAutoAdvancePlugin.NAME = "AutoAdvancePlugin";\n\nAutoAdvancePlugin.prototype.moduleName = "autoadvance";\n\n/** @override\n*/\nAutoAdvancePlugin.prototype.createController = function() {\n  AutoAdvancePlugin.__super__.createController.call(this);\n  this.registerCommand(AutoAdvanceNotifications.START, AutoAdvanceStartCommand);\n  this.registerCommand(AutoAdvanceNotifications.ADVANCE, AutoAdvanceAdvanceCommand);\n  this.registerCommand(Notifications.ENDED, AutoAdvanceEndedCommand);\n  this.registerCommand(Notifications.CHANGE_MEDIA, AutoAdvanceStopCommand);\n  this.registerCommand(Notifications.PLAY, AutoAdvanceStopCommand);\n  this.registerCommand(Notifications.PLAYING, AutoAdvanceStopCommand);\n  this.registerCommand(Notifications.REPLAY, AutoAdvanceStopCommand);\n  this.registerCommand(Notifications.TIME_UPDATE, PluginEventCommand);\n  this.registerCommand(Notifications.STOP, PluginEventCommand);\n};\n\n/** @override\n*/\nAutoAdvancePlugin.prototype.createModel = function() {\n  this.registerProxy(new AutoAdvanceProxy(this.config));\n};\n\n/** @override\n*/\nAutoAdvancePlugin.prototype.createView = function() {\n  this.registerMediator(new AutoAdvanceMediator());\n};\n\n/** @override\n*/\nAutoAdvancePlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.ENDED, Notifications.CHANGE_MEDIA, Notifications.PLAY, Notifications.PLAYING, Notifications.REPLAY];\n};\n\n/**\n*/\nAutoAdvancePlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return AutoAdvancePlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in AutoAdvanceNotifications) {\n      value = AutoAdvanceNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n\nAMP.registerPlugin("autoadvance", "html", AutoAdvancePlugin);\nAMP.registerPlugin("autoadvance", "flash", AutoAdvanceWrapper);\n\n/**\n * The AdChoicesMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n*/\nfunction RecommendationsGridMediator() {\n  RecommendationsGridMediator.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsGridMediator, OverlayMediator);\n\n\nRecommendationsGridMediator.prototype.componentName = "recommendations-grid";\n\nRecommendationsGridMediator.prototype.grid = null;\n\nRecommendationsGridMediator.prototype.onRegister = function() {\n  var label;\n  label = this.createText("recommendations-grid-label", this.localizationManager.getString(LocalizationConstants.MSG_RECOMMENDATIONS_TITLE));\n  this.grid = this.create("recommendations-grid-table-grid", this, "table");\n  RecommendationsGridMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nRecommendationsGridMediator.prototype.listNotificationInterests = function() {\n  return [RecommendationsNotifications.RECOMMENDATIONS_LOADED];\n};\n\n/**\n * @override\n*/\nRecommendationsGridMediator.prototype.handleNotification = function(notification) {\n  var rec, recs, _i, _len;\n  switch (notification.getName()) {\n    case RecommendationsNotifications.RECOMMENDATIONS_LOADED:\n      this.grid.innerHTML = "";\n      this.create("recommendations-grid-row", this.grid, "tr");\n      this.create("recommendations-grid-row", this.grid, "tr");\n      recs = notification.getBody();\n      if ((recs != null) && recs.length > 0) {\n        for (_i = 0, _len = recs.length; _i < _len; _i++) {\n          rec = recs[_i];\n          this.addElement(rec, _i);\n        }\n      }\n  }\n};\n\nRecommendationsGridMediator.prototype.addElement = function(recommendation, recommendedIndex) {\n  var gridRowIndex, td,\n    _this = this;\n  gridRowIndex = (recommendedIndex % 4) < 2 ? 0 : 1;\n  td = this.create("recommendations-grid-item", this.grid.childNodes[gridRowIndex], "td");\n  if (td.dataset == null) {\n    td.dataset = {};\n  }\n  td.dataset.link = recommendation.link;\n  td.dataset.target = this.config.getTarget();\n  td.innerHTML = "<img src=\'" + recommendation.thumbnail + "\' class=\'" + this.cssPrefix + "recommendations-grid-thumbnail\' /> <span class=\'" + this.cssPrefix + "recommendations-grid-text\'>" + recommendation.description + "</span>";\n  td.onclick = function(event) {\n    event.stopImmediatePropagation();\n    _this.sendNotification(RecommendationsNotifications.RECOMMENDATION_SELECTED, event.currentTarget.dataset);\n    return false;\n  };\n};\n\n/** \n * The RecommendationsPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction RecommendationsPlugin() {\n  RecommendationsPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsPlugin, Feature);\n\n\nRecommendationsPlugin.prototype.featureName = "recommendations";\n\nRecommendationsPlugin.prototype.moduleName = "recommendations";\n\n/** @override\n*/\nRecommendationsPlugin.prototype.createController = function() {\n  this.registerCommand(RecommendationsNotifications.RECOMMENDATION_SELECTED, RecommendationSelectedCommand);\n  this.registerCommand(Notifications.START, RecommendationsPlayCommand);\n  this.registerCommand(Notifications.PLAY_STATE_CHANGE, RecommendationsPlayStateChangeCommand);\n  this.registerCommand(RecommendationsNotifications.RECOMMENDATIONS_LOADED, PluginEventCommand);\n};\n\n/** @override\n*/\nRecommendationsPlugin.prototype.createModel = function() {\n  this.proxy = new RecommendationsProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nRecommendationsPlugin.prototype.createView = function() {\n  this.registerMediator(new RecommendationsMediator());\n};\n\n/**\n*/\nRecommendationsPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.START, Notifications.PLAY_STATE_CHANGE];\n};\n\n/**\n*/\nRecommendationsPlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return RecommendationsPlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in RecommendationsNotifications) {\n      value = RecommendationsNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n/**\n * @param {string} value The url of the feed.\n * @expose\n*/\nRecommendationsPlugin.prototype.setURL = function(value) {\n  this.proxy.set(value);\n};\n\n/**\n * @return {string} The url of the feed.\n * @expose\n*/\nRecommendationsPlugin.prototype.getURL = function() {\n  return this.proxy.getURL();\n};\n\n/**\n * @return {Object} The MRSS feed object.\n * @expose\n*/\nRecommendationsPlugin.prototype.getData = function() {\n  return this.proxy.getData();\n};\n\n/**\n * @param {Object} value The MRSS feed object\n * @expose\n*/\nRecommendationsPlugin.prototype.setData = function(value) {\n  this.proxy.setData(value);\n};\n\n/**\n * @return {string} The window target for recommendations.\n * @expose\n*/\nRecommendationsPlugin.prototype.getTarget = function() {\n  return this.proxy.getTarget();\n};\n\n/**\n * @param {string} value The window target for recommendations.\n * @expose\n*/\nRecommendationsPlugin.prototype.setTarget = function(value) {\n  this.proxy.setTarget(value);\n};\n\n\nAMP.registerPlugin("recommendations", "html", RecommendationsPlugin);\nAMP.registerPlugin("recommendations", "flash", RecommendationsWrapper);\n\n/** \n * @constructor \n * @private\n*/\nfunction NielsenProxy(config) {\n  NielsenProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(NielsenProxy, DataBoundConfigurationProxy);\n\n\nNielsenProxy.prototype.configurationName = "nielsen";\n\n/** @static\n*/\nNielsenProxy.NAME = ModuleProxy.NAME;\n\nNielsenProxy.cg = "OnDemand";\n\nNielsenProxy.url = "http://secure-us.imrworldwide.com/cgi-bin/m";\n\nNielsenProxy.prototype.defaults = {\n  url: null,\n  data: {\n    ci: null,\n    c6: null,\n    cg: null,\n    tl: null\n  },\n  events: null\n};\n\nNielsenProxy.prototype.getTitle = function() {\n  return this.title;\n};\n\nNielsenProxy.prototype.setTitle = function(value) {\n  return this.title = value;\n};\n\n/**\n*/\nNielsenProxy.prototype.start = function() {\n  var url;\n  url = this.constructURL("video", "started");\n  Utils.beacon(url);\n};\n\nNielsenProxy.prototype.end = function() {\n  var url;\n  url = this.constructURL("video", "ended");\n  Utils.beacon(url);\n};\n\nNielsenProxy.prototype.constructURL = function(target, type) {\n  var c6, cg, ci, event, events, item, tl, url, _i, _len, _ref, _ref1, _ref2, _ref3, _ref4;\n  url = this.url || NielsenProxy.url;\n  events = (_ref = this.value.events) != null ? _ref[target] : void 0;\n  if (events != null) {\n    for (_i = 0, _len = events.length; _i < _len; _i++) {\n      item = events[_i];\n      if (item.type === type) {\n        event = item;\n      }\n    }\n  }\n  ci = (event != null ? (_ref1 = event.data) != null ? _ref1.ci : void 0 : void 0) || this.value.data.ci;\n  c6 = (event != null ? (_ref2 = event.data) != null ? _ref2.c6 : void 0 : void 0) || this.value.data.c6;\n  cg = (event != null ? (_ref3 = event.data) != null ? _ref3.cg : void 0 : void 0) || this.value.data.cg || NielsenProxy.cg;\n  tl = (event != null ? (_ref4 = event.data) != null ? _ref4.tl : void 0 : void 0) || this.value.data.tl;\n  return "" + url + "?ci=" + ci + "&c6=" + c6 + "&cc=1&tl=" + tl + "&cg=" + cg + "&rnd=" + (Date.now());\n};\n\nfunction NielsenWrapper() {\n  return NielsenWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(NielsenWrapper, PluginWrapper);\n\n\nNielsenWrapper.NAME = "NielsenWrapper";\n\nNielsenWrapper.prototype.flashPluginIds = ["NielsenPlugin"];\n\n/** @override\n*/\nNielsenWrapper.prototype.createXML = function(xml) {\n  var application, element, event, events, map, metrics, node, prop, props, text, txtTest, type, urlElement, vendor, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3;\n  if (!(((_ref = this.config) != null ? _ref.events : void 0) != null)) {\n    return;\n  }\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "nielsen");\n  metrics.appendChild(vendor);\n  map = {\n    ads: {\n      started: "adStart",\n      ended: "adComplete"\n    },\n    video: {\n      started: "videoStart",\n      ended: "videoComplete"\n    }\n  };\n  props = [\n    {\n      value: "ci",\n      key: "NIELSEN_CI"\n    }, {\n      value: "cg",\n      key: "NIELSEN_CG"\n    }, {\n      value: "tl",\n      key: "NIELSEN_TL"\n    }, {\n      value: "c6",\n      key: "NIELSEN_C6"\n    }\n  ];\n  if (this.config.url != null) {\n    urlElement = xml.createElement("property");\n    urlElement.setAttribute("key", "serviceURL");\n    txtTest = XMLUtils.createTextContent(xml, this.config.url.toString());\n    urlElement.appendChild(txtTest);\n    vendor.appendChild(urlElement);\n  }\n  _ref1 = this.config.events;\n  for (type in _ref1) {\n    events = _ref1[type];\n    if ((events != null) && events.length > 0) {\n      for (_i = 0, _len = events.length; _i < _len; _i++) {\n        event = events[_i];\n        node = xml.createElement("property");\n        node.setAttribute("key", map[type][event.type]);\n        vendor.appendChild(node);\n        for (_j = 0, _len1 = props.length; _j < _len1; _j++) {\n          prop = props[_j];\n          text = ((_ref2 = event.data) != null ? _ref2[prop.value] : void 0) || ((_ref3 = this.config.data) != null ? _ref3[prop.value] : void 0);\n          if ((text != null) && text !== "") {\n            element = xml.createElement("property");\n            element.setAttribute("key", prop.key);\n            text = XMLUtils.createTextContent(xml, text);\n            element.appendChild(text);\n            node.appendChild(element);\n          }\n        }\n      }\n    }\n  }\n  return xml;\n};\n\n/**\n * The NielsenEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsenEndCommand() {\n  NielsenEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsenEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsenEndCommand.prototype.execute = function(notification) {\n  var nielsen;\n  nielsen = this.facade.retrieveProxy(NielsenProxy.NAME);\n  nielsen.end();\n};\n\n/**\n * The NielsenStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsenStartCommand() {\n  NielsenStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsenStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsenStartCommand.prototype.execute = function(notification) {\n  var nielsen;\n  nielsen = this.facade.retrieveProxy(NielsenProxy.NAME);\n  nielsen.start();\n};\n\n/** \n * The RecommendationsGridPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {RecommendationsPlugin}\n*/\nfunction RecommendationsGridPlugin() {\n  RecommendationsGridPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(RecommendationsGridPlugin, RecommendationsPlugin);\n\n\nRecommendationsGridPlugin.prototype.moduleName = "recommendationsgrid";\n\n/** @override\n*/\nRecommendationsGridPlugin.prototype.createView = function() {\n  this.registerMediator(new RecommendationsGridMediator());\n};\n\n\nAMP.registerPlugin("recommendationsgrid", "html", RecommendationsGridPlugin);\nAMP.registerPlugin("recommendationsgrid", "flash", RecommendationsWrapper);\n\nfunction NielsensdkWrapper() {\n  return NielsensdkWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(NielsensdkWrapper, PluginWrapper);\n\n\nNielsensdkWrapper.NAME = "NielsensdkWrapper";\n\nNielsensdkWrapper.prototype.flashPluginIds = ["NielsenSDKPlugin"];\n\n/** @override\n*/\nNielsensdkWrapper.prototype.createXML = function(xml) {\n  var application, element, event, events, map, metrics, node, pluginProp, pluginProps, prop, props, text, type, vendor, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _ref3;\n  if (!(((_ref = this.config) != null ? _ref.events : void 0) != null)) {\n    return;\n  }\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "nielsenSDK");\n  metrics.appendChild(vendor);\n  map = {\n    ads: {\n      started: "adStart",\n      ended: "adComplete"\n    },\n    video: {\n      started: "videoStart",\n      resume: "videoResume",\n      ended: "videoComplete"\n    }\n  };\n  props = [\n    {\n      value: "censusCategory",\n      key: "NIELSEN_CENSUS_CATEGORY"\n    }, {\n      value: "category",\n      key: "NIELSEN_CATEGORY"\n    }, {\n      value: "episodeTitle",\n      key: "NIELSEN_EPISODE_TITLE"\n    }, {\n      value: "videoType",\n      key: "NIELSEN_VIDEO_TYPE"\n    }, {\n      value: "length",\n      key: "NIELSEN_LENGTH"\n    }, {\n      value: "assetId",\n      key: "NIELSEN_ASSET_ID"\n    }, {\n      value: "dprFlag",\n      key: "NIELSEN_DPR_FLAG"\n    }\n  ];\n  pluginProps = [\n    {\n      value: "apid",\n      key: "NIELSEN_APID"\n    }, {\n      value: "sfcode",\n      key: "NIELSEN_SF_CODE"\n    }, {\n      value: "apn",\n      key: "NIELSEN_APN"\n    }, {\n      value: "fbTag",\n      key: "NIELSEN_FBTAG"\n    }\n  ];\n  for (_i = 0, _len = pluginProps.length; _i < _len; _i++) {\n    pluginProp = pluginProps[_i];\n    if (this.config.data[pluginProp.value] != null) {\n      this.createProperty(xml, pluginProp.key, this.config.data[pluginProp.value], vendor);\n    }\n  }\n  _ref1 = this.config.events;\n  for (type in _ref1) {\n    events = _ref1[type];\n    if ((events != null) && events.length > 0) {\n      for (_j = 0, _len1 = events.length; _j < _len1; _j++) {\n        event = events[_j];\n        node = xml.createElement("property");\n        node.setAttribute("key", map[type][event.type]);\n        vendor.appendChild(node);\n        for (_k = 0, _len2 = props.length; _k < _len2; _k++) {\n          prop = props[_k];\n          text = ((_ref2 = event.data) != null ? _ref2[prop.value] : void 0) || ((_ref3 = this.config.data) != null ? _ref3[prop.value] : void 0);\n          if ((text != null) && text !== "") {\n            element = xml.createElement("property");\n            element.setAttribute("key", prop.key);\n            text = XMLUtils.createTextContent(xml, text);\n            element.appendChild(text);\n            node.appendChild(element);\n          }\n        }\n      }\n    }\n  }\n  return xml;\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction NielsensdkProxy(config) {\n  NielsensdkProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(NielsensdkProxy, PluginProxy);\n\n\n/** @static\n*/\nNielsensdkProxy.NAME = ModuleProxy.NAME;\n\nNielsensdkProxy.prototype.defaults = {\n  data: null,\n  events: null,\n  plugin: {\n    js: "http://secure-us.imrworldwide.com/novms/js/2/ggcmb400.js"\n  }\n};\n\nNielsensdkProxy.prototype.nielsensdkSDK = null;\n\nNielsensdkProxy.prototype.cur_position = 0;\n\nNielsensdkProxy.prototype.timer = null;\n\nNielsensdkProxy.prototype.queryInterval = 2;\n\nNielsensdkProxy.prototype.isLive = null;\n\n/** Overrides\n*/\nNielsensdkProxy.prototype.initialize = function() {\n  NielsensdkProxy.__super__.initialize.call(this);\n  this.nielsensdkSDK = new NOLCMB.ggInitialize(this.value.data);\n};\n\n/** Populate Nielsen VO\n*/\nNielsensdkProxy.prototype.generateNielsenVO = function(adVO, eventName) {\n  var event, events, key, media, type, vo, _i, _len, _ref;\n  if (adVO == null) {\n    adVO = null;\n  }\n  if (eventName == null) {\n    eventName = null;\n  }\n  vo = new Object();\n  media = this.facade.player.getMedia();\n  this.isLive = media.isLive;\n  vo.assetid = media.guid;\n  vo.category = media.category;\n  vo.censuscategory = media.category;\n  vo.dprflag = "true";\n  vo.episodetitle = media.title ? media.title : episode_url;\n  vo.length = adVO != null ? adVO.duration : String(media.duration.toFixed(1)) === "NaN" ? 86400 : String(media.duration.toFixed(1));\n  vo.videotype = adVO != null ? adVO.type : "content";\n  _ref = this.value.events;\n  for (type in _ref) {\n    events = _ref[type];\n    if ((eventName != null) && (events != null) && events.length > 0) {\n      for (_i = 0, _len = events.length; _i < _len; _i++) {\n        event = events[_i];\n        if ((event != null ? event.type : void 0) === eventName) {\n          for (key in event.data) {\n            vo[key.toLowerCase()] = event.data[key];\n          }\n        }\n      }\n    }\n  }\n  return vo;\n};\n\n/** MetaData Loaded\n*/\nNielsensdkProxy.prototype.metaLoad = function() {\n  this.nielsensdkSDK.ggPM("15", this.generateNielsenVO());\n  this.facade.logger.log("[AMP Nielsensdk Event] : loadMetadata");\n};\n\nNielsensdkProxy.prototype.adStart = function(adVO) {\n  if ((adVO != null ? adVO.type : void 0) === "midroll") {\n    this.nielsensdkSDK.ggPM("7", this.generateNielsenVO());\n    this.facade.logger.log("[AMP Nielsensdk Event] : stop");\n  }\n  this.nielsensdkSDK.ggPM("15", this.generateNielsenVO(adVO));\n  this.facade.logger.log("[AMP Nielsensdk Event] : Ad Start");\n};\n\nNielsensdkProxy.prototype.adEnd = function(adVO) {\n  this.nielsensdkSDK.ggPM("7", this.generateNielsenVO(adVO));\n  this.facade.logger.log("[AMP Nielsensdk Event] : Ad End");\n  if ((adVO != null ? adVO.type : void 0) === "midroll") {\n    this.nielsensdkSDK.ggPM("15", this.generateNielsenVO());\n    this.facade.logger.log("[AMP Nielsensdk Event] : Video Resume");\n  }\n};\n\n/** Media Started\n*/\nNielsensdkProxy.prototype.start = function(adVO) {\n  if (adVO == null) {\n    adVO = null;\n  }\n  if ((adVO != null ? adVO.type : void 0) === "midroll") {\n    this.nielsensdkSDK.ggPM("15", this.generateNielsenVO(adVO, \'resume\'));\n    this.facade.logger.log("[AMP Nielsensdk Event] : Content Resume");\n  } else {\n    this.nielsensdkSDK.ggPM("15", this.generateNielsenVO(null, \'started\'));\n    this.facade.logger.log("[AMP Nielsensdk Event] : Content Play");\n  }\n};\n\n/** Media Ended\n*/\nNielsensdkProxy.prototype.end = function() {\n  var currentTime;\n  currentTime = this.facade.player.getCurrentTime().toFixed(1);\n  this.nielsensdkSDK.ggPM("57", currentTime);\n  this.facade.logger.log("[AMP Nielsensdk Event] : Video Ended");\n  this.cur_position = 0;\n};\n\n/** Time update\n*/\nNielsensdkProxy.prototype.timeupdate = function() {\n  if (this.isLive) {\n    this.nielsensdkSDK.ggPM("49", Math.floor(Date.now() / 1000));\n    this.facade.logger.log("[AMP nielsensdk Event] : timeupdate Live");\n  } else {\n    this.cur_position = this.facade.player.getCurrentTime().toFixed(1);\n    if (Math.abs(this.timer - this.cur_position) > this.queryInterval) {\n      this.timer = this.cur_position;\n      this.nielsensdkSDK.ggPM("49", this.cur_position);\n      this.facade.logger.log("[AMP Nielsensdk Event] : timeupdate", this.cur_position);\n    }\n  }\n};\n\n/**\n * The NielsensdkStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkStartCommand() {\n  NielsensdkStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkStartCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.start();\n};\n\n/**\n * The NielsensdkAdStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkAdStartCommand() {\n  NielsensdkAdStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkAdStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkAdStartCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.adStart(notification.body);\n};\n\n/**\n * The NielsensdkAdEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkAdEndCommand() {\n  NielsensdkAdEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkAdEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkAdEndCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.adEnd(notification.body);\n};\n\n/**\n * The NielsensdkEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkEndCommand() {\n  NielsensdkEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkEndCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkEndCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.end();\n};\n\n/**\n * The NielsensdkMetaloadCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkMetaloadCommand() {\n  NielsensdkMetaloadCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkMetaloadCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkMetaloadCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.metaLoad();\n};\n\n/**\n * The NielsensdkTimeupdateCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction NielsensdkTimeupdateCommand() {\n  NielsensdkTimeupdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkTimeupdateCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nNielsensdkTimeupdateCommand.prototype.execute = function(notification) {\n  var nielsensdk;\n  nielsensdk = this.facade.retrieveProxy(NielsensdkProxy.NAME);\n  nielsensdk.timeupdate();\n};\n\n/** \n * The NielsenPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction NielsenPlugin() {\n  NielsenPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(NielsenPlugin, Plugin);\n\n\nNielsenPlugin.prototype.moduleName = "nielsen";\n\n/** @override\n*/\nNielsenPlugin.prototype.createController = function() {\n  var event, events, _i, _len, _ref, _ref1;\n  NielsenPlugin.__super__.createController.call(this);\n  events = (_ref = this.config) != null ? (_ref1 = _ref.events) != null ? _ref1.video : void 0 : void 0;\n  if (!(events != null)) {\n    return;\n  }\n  for (_i = 0, _len = events.length; _i < _len; _i++) {\n    event = events[_i];\n    if (event.type === "started") {\n      this.registerCommand(Notifications.STARTED, NielsenStartCommand);\n      this.registerCommand(Notifications.CONTENT_CHANGED, NielsenStartCommand);\n    }\n    if (event.type === "ended") {\n      this.registerCommand(Notifications.ENDED, NielsenEndCommand);\n      this.registerCommand(Notifications.CHANGE_CONTENT, NielsenEndCommand);\n    }\n  }\n};\n\n/** @override\n*/\nNielsenPlugin.prototype.createModel = function() {\n  this.registerProxy(new NielsenProxy(this.config));\n};\n\n/** @override\n*/\nNielsenPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.STARTED, Notifications.ENDED, Notifications.CONTENT_CHANGED, Notifications.CHANGE_CONTENT];\n};\n\n\nAMP.registerPlugin("nielsen", "html", NielsenPlugin);\nAMP.registerPlugin("nielsen", "flash", NielsenWrapper);\n\nfunction ComscoreStreamsenseWrapper() {\n  return ComscoreStreamsenseWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(ComscoreStreamsenseWrapper, PluginWrapper);\n\n\nComscoreStreamsenseWrapper.NAME = "ComscoreStreamsenseWrapper";\n\nComscoreStreamsenseWrapper.prototype.flashPluginIds = ["ComscoreStreamSensePlugin"];\n\n/** @override\n*/\nComscoreStreamsenseWrapper.prototype.createXML = function(xml) {\n  var application, metrics, prop, props, vendor, _i, _len;\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "comscoreStreamSense");\n  metrics.appendChild(vendor);\n  props = [\n    {\n      value: this.config.data.clientId,\n      key: "C2"\n    }, {\n      value: this.config.data.publisherSecret,\n      key: "PUBLISHER_SECRET"\n    }, {\n      value: this.config.data.appVersion,\n      key: "APP_VERSION"\n    }, {\n      value: this.config.data.metadata,\n      key: "metadata"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  return xml;\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction ComscoreStreamsenseProxy(config) {\n  ComscoreStreamsenseProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ComscoreStreamsenseProxy, PluginProxy);\n\n\n/** @static\n*/\nComscoreStreamsenseProxy.NAME = ModuleProxy.NAME;\n\nComscoreStreamsenseProxy.prototype.defaults = {\n  plugin: {\n    js: null\n  },\n  data: {\n    clientId: null,\n    publisherSecret: null,\n    appVersion: null,\n    metadata: null\n  }\n};\n\nComscoreStreamsenseProxy.prototype.myStreamingTag = null;\n\n/** Overrides\n*/\nComscoreStreamsenseProxy.prototype.getScript = function() {\n  return this.config.plugin.js;\n};\n\n/** Overrides\n*/\nComscoreStreamsenseProxy.prototype.initialize = function() {\n  ComscoreStreamsenseProxy.__super__.initialize.call(this);\n  if ((typeof ns_ !== "undefined" && ns_ !== null) && this.myStreamingTag === null) {\n    this.myStreamingTag = new ns_.StreamingTag({\n      customerC2: this.value.data.clientId\n    });\n  }\n};\n\nComscoreStreamsenseProxy.prototype.mediaChange = function() {\n  if (this.myStreamingTag != null) {\n    this.myStreamingTag.stop();\n  }\n  this.myStreamingTag = null;\n  this.myStreamingTag = new ns_.StreamingTag({\n    customerC2: this.value.data.clientId\n  });\n  this.facade.logger.log("[AMP ComscoreStreamsense Event] : Media Change, StreamTag ReInitialize");\n};\n\nComscoreStreamsenseProxy.prototype.adStart = function(adVO) {\n  if (adVO == null) {\n    adVO = null;\n  }\n  this.myStreamingTag.playVideoAdvertisement(this.getMetaData());\n  this.facade.logger.log("[AMP ComscoreStreamsense Event] : Ad Start");\n};\n\n/** Media Started\n*/\nComscoreStreamsenseProxy.prototype.start = function(adVO) {\n  var _ref;\n  if (adVO == null) {\n    adVO = null;\n  }\n  if ((_ref = this.facade.player.ads) != null ? _ref.getInProgress() : void 0) {\n    return;\n  }\n  this.myStreamingTag.playVideoContentPart(this.getMetaData());\n  this.facade.logger.log("[AMP ComscoreStreamsense Event] : Content Play");\n};\n\n/** Media Stop\n*/\nComscoreStreamsenseProxy.prototype.stop = function() {\n  this.myStreamingTag.stop();\n  this.facade.logger.log("[AMP ComscoreStreamsense Event] : Stop");\n};\n\n/** Media Ended\n*/\nComscoreStreamsenseProxy.prototype.ended = function() {\n  this.myStreamingTag.stop();\n  this.facade.logger.log("[AMP ComscoreStreamsense Event] : End");\n  this.myStreamingTag = null;\n  this.myStreamingTag = new ns_.StreamingTag({\n    customerC2: this.value.data.clientId\n  });\n};\n\n/** Get MetaData\n*/\nComscoreStreamsenseProxy.prototype.getMetaData = function() {\n  var key, metadata, value, _ref;\n  metadata = {};\n  _ref = this.value.data.metadata;\n  for (key in _ref) {\n    value = _ref[key];\n    if (value !== "null") {\n      metadata[key] = value;\n    }\n  }\n  return metadata;\n};\n\n/**\n * The ComscoreStreamsenseStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseStartedCommand() {\n  ComscoreStreamsenseStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseStartedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseStartedCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.start(notification.body);\n};\n\n/**\n * The ComscoreStreamsenseAdStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseAdStartedCommand() {\n  ComscoreStreamsenseAdStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseAdStartedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseAdStartedCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.adStart(notification.body);\n};\n\n/**\n * The ComscoreStreamsenseStopCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseStopCommand() {\n  ComscoreStreamsenseStopCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseStopCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseStopCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.stop(notification.body);\n};\n\n/**\n * The ComscoreStreamsenseAdErrorCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseAdErrorCommand() {\n  ComscoreStreamsenseAdErrorCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseAdErrorCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseAdErrorCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.adStart(notification.body);\n  comscoreProxy.stop(notification.body);\n};\n\n/**\n * The ComscoreStreamsenseChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseChangeMediaCommand() {\n  ComscoreStreamsenseChangeMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseChangeMediaCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseChangeMediaCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.mediaChange();\n};\n\n/**\n * The ComscoreStreamsenseEndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStreamsenseEndedCommand() {\n  ComscoreStreamsenseEndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsenseEndedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStreamsenseEndedCommand.prototype.execute = function(notification) {\n  var comscoreProxy;\n  comscoreProxy = this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME);\n  comscoreProxy.ended();\n};\n\n/** \n * The NielsenPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction NielsensdkPlugin() {\n  NielsensdkPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(NielsensdkPlugin, Plugin);\n\n\nNielsensdkPlugin.prototype.moduleName = "nielsensdk";\n\n/** @override\n*/\nNielsensdkPlugin.prototype.createModel = function() {\n  this.registerProxy(new NielsensdkProxy(this.config));\n};\n\n/** @override\n*/\nNielsensdkPlugin.prototype.createController = function() {\n  NielsensdkPlugin.__super__.createController.call(this);\n  this.registerCommand(AdNotifications.BREAK_END, NielsensdkAdEndCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, NielsensdkAdStartCommand);\n  this.registerCommand(Notifications.STARTED, NielsensdkStartCommand);\n  this.registerCommand(Notifications.ENDED, NielsensdkEndCommand);\n  this.registerCommand(Notifications.TIME_UPDATE, NielsensdkTimeupdateCommand);\n  this.registerCommand(AdNotifications.AD_TIME_REMAINING, NielsensdkTimeupdateCommand);\n};\n\n/** @override\n*/\nNielsensdkPlugin.prototype.listNotificationInterests = function() {\n  return [AdNotifications.AD_STARTED, AdNotifications.BREAK_END, Notifications.STARTED, Notifications.ENDED, Notifications.LOADED_METADATA, Notifications.TIME_UPDATE, Notifications.CONTENT_CHANGED, Notifications.CHANGE_CONTENT, AdNotifications.AD_TIME_REMAINING];\n};\n\n\nAMP.registerPlugin("nielsensdk", "html", NielsensdkPlugin);\nAMP.registerPlugin("nielsensdk", "flash", NielsensdkWrapper);\n\n/** \n * @constructor \n * @private\n*/\nfunction ComscoreProxy(config) {\n  ComscoreProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ComscoreProxy, DataBoundConfigurationProxy);\n\n\nComscoreProxy.prototype.configurationName = "comscore";\n\n/** @static\n*/\nComscoreProxy.NAME = ModuleProxy.NAME;\n\nComscoreProxy.prototype.defaults = {\n  url: "http://b.scorecardresearch.com/b",\n  events: {\n    ads: null,\n    video: null\n  },\n  data: {\n    c1: null,\n    c2: null,\n    c3: null,\n    c4: null,\n    c5: null,\n    c6: null,\n    c7: null,\n    c8: null,\n    c9: null,\n    c10: null,\n    c14: null\n  }\n};\n\n/**\n *\n*/\nComscoreProxy.prototype.adStart = function() {\n  var url;\n  url = this.constructURL("ads", "started");\n  Utils.beacon(url);\n};\n\n/**\n *\n*/\nComscoreProxy.prototype.videoStart = function() {\n  var url;\n  url = this.constructURL("video", "started");\n  Utils.beacon(url);\n};\n\n/**\n *\n*/\nComscoreProxy.prototype.constructURL = function(target, type) {\n  var data, event, events, item, key, query, url, value, _i, _len, _ref, _ref1, _ref2;\n  data = {};\n  events = (_ref = this.value.events) != null ? _ref[target] : void 0;\n  if (events != null) {\n    for (_i = 0, _len = events.length; _i < _len; _i++) {\n      item = events[_i];\n      if (item.type === type) {\n        event = item;\n      }\n    }\n  }\n  _ref1 = this.value.data;\n  for (key in _ref1) {\n    value = _ref1[key];\n    data[key] = (event != null ? (_ref2 = event.data) != null ? _ref2[key] : void 0 : void 0) || value;\n  }\n  if (data.c7 == null) {\n    data.c7 = document.location.href.substr(0, 512);\n  }\n  if (data.c8 == null) {\n    data.c8 = document.referrer.substr(0, 512);\n  }\n  if (data.c9 == null) {\n    data.c9 = document.title;\n  }\n  if (data.cv == null) {\n    data.cv = "2.0";\n  }\n  data.rn = Date.now();\n  url = this.value.url;\n  query = [];\n  for (key in data) {\n    value = data[key];\n    if ((value != null) && value !== "") {\n      query.push(key + "=" + escape(value));\n    }\n  }\n  if (query.length > 0) {\n    url += "?" + query.join("&");\n  }\n  return url.substr(0, 2080);\n};\n\nfunction ComscoreWrapper() {\n  return ComscoreWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(ComscoreWrapper, PluginWrapper);\n\n\nComscoreWrapper.NAME = "ComscoreWrapper";\n\nComscoreWrapper.prototype.flashPluginIds = ["ComscorePlugin"];\n\n/** @override\n*/\nComscoreWrapper.prototype.createXML = function(xml) {\n  var application, element, event, events, map, metrics, node, prop, props, text, type, vendor, _i, _j, _len, _len1, _ref, _ref1, _ref2;\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "comscore");\n  metrics.appendChild(vendor);\n  map = {\n    ads: {\n      started: "adStart",\n      ended: "adComplete"\n    },\n    video: {\n      started: "videoStart",\n      ended: "videoComplete"\n    }\n  };\n  props = [\n    {\n      value: "c1",\n      key: "COMSCORE_CSC1"\n    }, {\n      value: "c2",\n      key: "COMSCORE_CSC2"\n    }, {\n      value: "c3",\n      key: "COMSCORE_CSC3"\n    }, {\n      value: "c4",\n      key: "COMSCORE_CSC4"\n    }, {\n      value: "c5",\n      key: "COMSCORE_CSC5"\n    }, {\n      value: "c6",\n      key: "COMSCORE_CSC6"\n    }, {\n      value: "c7",\n      key: "COMSCORE_CSC7"\n    }, {\n      value: "c8",\n      key: "COMSCORE_CSC8"\n    }, {\n      value: "c9",\n      key: "COMSCORE_CSC9"\n    }, {\n      value: "c10",\n      key: "COMSCORE_CSC10"\n    }, {\n      value: "c11",\n      key: "COMSCORE_CSC14"\n    }\n  ];\n  _ref = this.config.events;\n  for (type in _ref) {\n    events = _ref[type];\n    if ((events != null) && events.length > 0) {\n      for (_i = 0, _len = events.length; _i < _len; _i++) {\n        event = events[_i];\n        node = xml.createElement("property");\n        node.setAttribute("key", map[type][event.type]);\n        vendor.appendChild(node);\n        element = xml.createElement("property");\n        element.setAttribute("key", "COMSCORE_CSURL");\n        text = XMLUtils.createTextContent(xml, this.config.url);\n        element.appendChild(text);\n        node.appendChild(element);\n        for (_j = 0, _len1 = props.length; _j < _len1; _j++) {\n          prop = props[_j];\n          text = ((_ref1 = event.data) != null ? _ref1[prop.value] : void 0) || ((_ref2 = this.config.data) != null ? _ref2[prop.value] : void 0);\n          if ((text != null) && text !== "") {\n            element = xml.createElement("property");\n            element.setAttribute("key", prop.key);\n            text = XMLUtils.createTextContent(xml, text);\n            element.appendChild(text);\n            node.appendChild(element);\n          }\n        }\n      }\n    }\n  }\n  return xml;\n};\n\n/**\n * The ComscoreAdStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreAdStartCommand() {\n  ComscoreAdStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreAdStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreAdStartCommand.prototype.execute = function(notification) {\n  var comscore;\n  comscore = this.facade.retrieveProxy(ComscoreProxy.NAME);\n  comscore.adStart();\n};\n\n/**\n * The ComscoreStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction ComscoreStartCommand() {\n  ComscoreStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStartCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nComscoreStartCommand.prototype.execute = function(notification) {\n  var comscore;\n  comscore = this.facade.retrieveProxy(ComscoreProxy.NAME);\n  comscore.videoStart();\n};\n\n/** \n * The ComscoreStreamsensePlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ComscoreStreamsensePlugin() {\n  ComscoreStreamsensePlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ComscoreStreamsensePlugin, Plugin);\n\n\nComscoreStreamsensePlugin.prototype.moduleName = "comscorestreamsense";\n\n/** @override\n*/\nComscoreStreamsensePlugin.prototype.createModel = function() {\n  this.registerProxy(new ComscoreStreamsenseProxy(this.config));\n};\n\n/** @override\n*/\nComscoreStreamsensePlugin.prototype.createController = function() {\n  ComscoreStreamsensePlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.MEDIA_CHANGE, ComscoreStreamsenseChangeMediaCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, ComscoreStreamsenseAdStartedCommand);\n  this.registerCommand(AdNotifications.AD_ENDED, ComscoreStreamsenseStopCommand);\n  this.registerCommand(AdNotifications.SKIPPED, ComscoreStreamsenseStopCommand);\n  this.registerCommand(AdNotifications.AD_ERROR, ComscoreStreamsenseAdErrorCommand);\n  this.registerCommand(Notifications.PLAYING, ComscoreStreamsenseStartedCommand);\n  this.registerCommand(Notifications.PAUSE, ComscoreStreamsenseStopCommand);\n  this.registerCommand(Notifications.ENDED, ComscoreStreamsenseEndedCommand);\n};\n\n/** @override\n*/\nComscoreStreamsensePlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.MEDIA_CHANGE, AdNotifications.AD_STARTED, AdNotifications.AD_ENDED, AdNotifications.AD_ERROR, AdNotifications.SKIPPED, Notifications.ENDED, Notifications.PAUSE, Notifications.PLAYING];\n};\n\n\nAMP.registerPlugin("comscorestreamsense", "html", ComscoreStreamsensePlugin);\nAMP.registerPlugin("comscorestreamsense", "flash", ComscoreStreamsenseWrapper);\n\n/** \n * @constructor\n * @private\n * @extends {PluginWrapper}\n*/\nfunction OmnitureWrapper(player, config) {\n  OmnitureWrapper.__super__.constructor.call(this, player, config);\n  if (this.config.heartbeat.enabled === true || this.config.useJS === true) {\n    this.createXML = function() {};\n    this.plugin = new OmniturePlugin();\n    this.plugin.oninitialized = this.player.registerModule.bind(this.player, this.plugin);\n    this.plugin.initialize(config, this.player);\n  }\n}\n\n\n__extends(OmnitureWrapper, PluginWrapper);\n\n\nOmnitureWrapper.NAME = "OmnitureWrapper";\n\nOmnitureWrapper.prototype.flashPluginIds = ["OmniturePlugin"];\n\n/**\n*/\nOmnitureWrapper.prototype.listNotificationInterests = function() {\n  return OmnitureWrapper.__super__.listNotificationInterests.call(this).concat([Notifications.CHANGE_MEDIA, Notifications.CHANGE_CONTENT, Notifications.CONTENT_CHANGED, Notifications.TIME_UPDATE, Notifications.ENDED, Notifications.STARTED, Notifications.PLAY, Notifications.PAUSE, Notifications.SEEKING, Notifications.SEEKED, AdNotifications.BREAK_START, AdNotifications.BREAK_END, AdNotifications.AD_LOADED, AdNotifications.AD_STARTED, AdNotifications.AD_PLAY, AdNotifications.AD_PAUSE, AdNotifications.AD_TIME_REMAINING]);\n};\n\n/**\n*/\nOmnitureWrapper.prototype.handleNotification = function(notification) {\n  OmnitureWrapper.__super__.handleNotification.call(this, notification);\n  if (!(this.plugin != null)) {\n    return;\n  }\n  this.plugin.sendNotification(notification.getName(), notification.getBody());\n};\n\n/** @override\n*/\nOmnitureWrapper.prototype.createXML = function(xml) {\n  var application, contextData, contextDataMapping, event, events, intervalProp, intervalReached, intervals, key, linkTracking, linkTrackingData, media, metrics, milestone, milestones, prop, property, props, trackMilestone, trackMilestones, type, value, vendor, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _len5, _len6, _m, _n, _o, _ref, _ref1, _ref2;\n  if (this.config.useJS === true) {\n    return;\n  }\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "omniture");\n  metrics.appendChild(vendor);\n  props = [\n    {\n      value: this.config.channel,\n      key: "OMNITURE_CHANNEL"\n    }, {\n      value: this.config.account,\n      key: "OMNITURE_ACCOUNT"\n    }, {\n      value: this.config.debugTracking,\n      key: "OMNITURE_DEBUG_TRACKING"\n    }, {\n      value: this.config.trackLocal,\n      key: "OMNITURE_TRACK_LOCAL"\n    }, {\n      value: this.config.visitorNamespace,\n      key: "OMNITURE_VISITOR_NAMESPACE"\n    }, {\n      value: this.config.trackingServer,\n      key: "OMNITURE_TRACKING_SERVER"\n    }, {\n      value: this.config.trackingServerSecure,\n      key: "OMNITURE_TRACKING_SERVER_SECURE"\n    }, {\n      value: this.config.currencyCode,\n      key: "OMNITURE_CURRENCY_CODE"\n    }, {\n      value: this.config.trackWhilePlaying,\n      key: "OMNITURE_TRACK_WHILE_PLAYING"\n    }, {\n      value: this.config.trackMediaMethods,\n      key: "OMNITURE_TRACK_MEDIA_METHODS"\n    }, {\n      value: this.config.mediaName,\n      key: "OMNITURE_MEDIA_NAME"\n    }, {\n      value: this.config.playerName,\n      key: "OMNITURE_PLAYER_NAME"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  media = this.config.Media;\n  if (media != null) {\n    props = [\n      {\n        value: media.autoTrack,\n        key: "OMNITURE_AUTO_TRACK"\n      }, {\n        value: media.segmentByMilestones,\n        key: "OMNITURE_SEGMENT_MILESTONES"\n      }, {\n        value: media.trackVars,\n        key: "OMNITURE_TRACKVARS"\n      }, {\n        value: media.trackEvents,\n        key: "OMNITURE_TRACKEVENTS"\n      }, {\n        value: media.trackUsingContextData,\n        key: "OMNITURE_TRACK_CONTEXT_DATA"\n      }, {\n        value: media.trackSecondIntervals,\n        key: "OMNITURE_TRACKSECOND_INTERVALS"\n      }\n    ];\n    for (_j = 0, _len1 = props.length; _j < _len1; _j++) {\n      prop = props[_j];\n      if (prop.value != null) {\n        this.createProperty(xml, prop.key, prop.value, vendor);\n      }\n    }\n    if (media.trackMilestones != null) {\n      trackMilestones = this.createProperty(xml, "OMNITURE_TRACK_MILESTONES", null, vendor);\n      milestones = media.trackMilestones;\n      for (_k = 0, _len2 = milestones.length; _k < _len2; _k++) {\n        milestone = milestones[_k];\n        trackMilestone = this.createProperty(xml, milestone.percent, null, trackMilestones);\n        for (key in milestone) {\n          value = milestone[key];\n          if (key !== "percent") {\n            this.createProperty(xml, key, value, trackMilestone);\n          }\n        }\n      }\n    }\n    contextDataMapping = media.contextDataMapping;\n    if (contextDataMapping != null) {\n      contextData = this.createProperty(xml, "OMNITURE_CONTEXT_DATA", null, vendor);\n      for (key in contextDataMapping) {\n        value = contextDataMapping[key];\n        if (typeof value === "string") {\n          this.createProperty(xml, key, value, contextData);\n        }\n        if (value instanceof Array) {\n          property = this.createProperty(xml, key, null, contextData);\n          for (_l = 0, _len3 = value.length; _l < _len3; _l++) {\n            milestone = value[_l];\n            this.createProperty(xml, milestone.percent, milestone.events, property);\n          }\n        }\n      }\n    }\n  }\n  linkTracking = this.config.customLinkTracking;\n  if (linkTracking != null) {\n    linkTrackingData = this.createProperty(xml, "OMNITURE_CUSTOM_LINK_TRACKING", null, vendor);\n    for (key in linkTracking) {\n      if (key === "intervalReached") {\n        intervalReached = this.createProperty(xml, key, null, linkTrackingData);\n        _ref = linkTracking[key];\n        for (_m = 0, _len4 = _ref.length; _m < _len4; _m++) {\n          intervals = _ref[_m];\n          intervalProp = this.createProperty(xml, intervals.interval, null, intervalReached);\n          for (key in intervals) {\n            if (key !== "interval") {\n              this.createProperty(xml, key, intervals[key], intervalProp);\n            }\n          }\n        }\n      } else {\n        this.createProperty(xml, key, linkTracking[key], linkTrackingData);\n      }\n    }\n  }\n  events = (_ref1 = this.config.events) != null ? _ref1.video : void 0;\n  if (events != null) {\n    for (_n = 0, _len5 = events.length; _n < _len5; _n++) {\n      event = events[_n];\n      switch (event.type) {\n        case "started":\n          type = "videoStart";\n          break;\n        case "ended":\n          type = "videoComplete";\n          break;\n        case "play":\n          type = "videoResume";\n          break;\n        case "pause":\n          type = "videoPause";\n          break;\n        default:\n          type = event.type;\n      }\n      this.createProperty(xml, type, event.data, vendor);\n    }\n  }\n  events = (_ref2 = this.config.events) != null ? _ref2.ads : void 0;\n  if (events != null) {\n    for (_o = 0, _len6 = events.length; _o < _len6; _o++) {\n      event = events[_o];\n      type = event.type === "started" ? \'adStart\' : event.type === "ended" ? \'adComplete\' : event.type;\n      this.createProperty(xml, type, event.data, vendor);\n    }\n  }\n};\n\n/** \n * The OmnitureProxy class.\n *   \n * @param {Object} config\n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction OmnitureProxy(config) {\n  OmnitureProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(OmnitureProxy, PluginProxy);\n\n\n/** @static\n*/\nOmnitureProxy.NAME = ModuleProxy.NAME;\n\nOmnitureProxy.prototype.defaults = {\n  main: "s",\n  heartbeat: null,\n  account: null,\n  playerName: null,\n  mediaName: null,\n  trackingServer: null,\n  visitorNamespace: null,\n  visitor: null,\n  visitorID: null,\n  pageName: null\n};\n\nOmnitureProxy.prototype.media = null;\n\nOmnitureProxy.prototype.started = false;\n\nOmnitureProxy.prototype.ad = null;\n\nOmnitureProxy.prototype.adCurrentTime = null;\n\nOmnitureProxy.prototype.adStarted = false;\n\n/** Pluging.\n*/\nOmnitureProxy.prototype.getMedia = function() {\n  return this.media;\n};\n\nOmnitureProxy.prototype.setMedia = function(value) {\n  this.started = false;\n  return this.media = value;\n};\n\nOmnitureProxy.prototype.getMediaName = function() {\n  var _ref;\n  return this.getConfigurationData().mediaName || ((_ref = this.media) != null ? _ref.title : void 0) || this.facade.player.getMedia().title;\n};\n\nOmnitureProxy.prototype.getPlayerName = function() {\n  var _ref;\n  return this.getConfigurationData().playerName || ((_ref = this.facade.player.retrieveProxy(ConfigurationProxy.NAME)) != null ? _ref.getName() : void 0) || this.facade.player.config.name || "amp";\n};\n\nOmnitureProxy.prototype.getPlaybackCore = function() {\n  var _ref;\n  return ((_ref = this.facade.player.retrieveProxy(PlayerProxy.NAME)) != null ? _ref.getActivePlaybackCore() : void 0) || this.facade.player.playback;\n};\n\n/**\n*/\nOmnitureProxy.prototype.initialize = function() {\n  var _ref;\n  OmnitureProxy.__super__.initialize.call(this);\n  if (this.plugin != null) {\n    try {\n      if (!(this.plugin.Media != null)) {\n        this.plugin.loadModule("Media");\n      }\n    } catch (error) {\n      this.error("initialize", error);\n    }\n    if (!(((_ref = this.plugin.Media) != null ? _ref.openAd : void 0) != null)) {\n      this.adStart = this.adEnded = this.adPlay = this.adPause = this.adCurrentTime = function() {};\n    }\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.createPlugin = function() {\n  return window[this.getConfigurationData().main];\n};\n\n/**\n*/\nOmnitureProxy.prototype.start = function() {\n  try {\n    this.plugin.Media.open(this.getMediaName(), this.media.duration, this.getPlayerName());\n    this.started = true;\n    this.play();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.play = function() {\n  if (this.started !== true) {\n    this.start();\n  }\n  try {\n    this.plugin.Media.play(this.getMediaName(), this.getPlaybackCore().getCurrentTime() || 0);\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.pause = function() {\n  try {\n    this.plugin.Media.stop(this.getMediaName(), this.getPlaybackCore().getCurrentTime());\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.seeking = function() {\n  try {\n    this.plugin.Media.stop(this.getMediaName(), this.getPlaybackCore().getCurrentTime());\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.seeked = function() {\n  try {\n    this.plugin.Media.play(this.getMediaName(), this.getPlaybackCore().getCurrentTime());\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.ended = function() {\n  try {\n    this.plugin.Media.stop(this.getMediaName(), this.getPlaybackCore().getCurrentTime());\n    this.plugin.Media.close(this.getMediaName());\n    this.started = false;\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/** Pluging.\n*/\nOmnitureProxy.prototype.getAd = function() {\n  return this.ad;\n};\n\nOmnitureProxy.prototype.setAd = function(value) {\n  this.adStarted = false;\n  this.adCurrentTime = 0;\n  return this.ad = value;\n};\n\n/**\n*/\nOmnitureProxy.prototype.adStart = function() {\n  try {\n    this.plugin.Media.openAd(this.ad.title, this.ad.duration, this.getPlayerName(), this.proxy.getMediaName(), this.ad.type, this.ad.position, this.ad.cpm);\n    this.adStarted = true;\n  } catch (error) {\n    this.error("ad start", error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.adPlay = function() {\n  if (this.adStarted !== true) {\n    this.adStart();\n  }\n  try {\n    this.plugin.Media.play(this.ad.title, this.adCurrentTime || 0);\n  } catch (error) {\n    this.error("ad play", error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.adPause = function() {\n  try {\n    this.plugin.Media.stop(this.ad.title, this.adCurrentTime);\n  } catch (error) {\n    this.error("ad pause", error);\n  }\n};\n\n/**\n*/\nOmnitureProxy.prototype.adCurrentTime = function(value) {\n  this.adCurrentTime = value;\n};\n\n/**\n*/\nOmnitureProxy.prototype.adEnded = function() {\n  if (this.adStarted === false) {\n    return;\n  }\n  try {\n    this.adStarted = false;\n    this.plugin.Media.stop(this.ad.title, this.ad.duration);\n    this.plugin.Media.close(this.ad.title);\n  } catch (error) {\n    this.error("ad end", error);\n  }\n};\n\n/** \n * The HeartbeatProxy class.\n *   \n * @param {Object} config\n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction HeartbeatProxy(config) {\n  HeartbeatProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(HeartbeatProxy, OmnitureProxy);\n\n\n/** @static\n*/\nHeartbeatProxy.NAME = ModuleProxy.NAME;\n\nHeartbeatProxy.prototype.aaPlugin = null;\n\nHeartbeatProxy.prototype.playerPlugin = null;\n\nHeartbeatProxy.prototype.heartbeat = null;\n\n/**\n*/\nHeartbeatProxy.prototype.initialize = function() {\n  var ahPlugin, appMeasurement, config, delegate, pluginConfig, plugins, visitor,\n    _this = this;\n  HeartbeatProxy.__super__.initialize.call(this);\n  config = this.getConfigurationData();\n  visitor = new Visitor(config.visitor.marketingCloudOrgId);\n  visitor.trackingServer = config.visitor.trackingServer;\n  appMeasurement = new AppMeasurement();\n  appMeasurement.account = config.account;\n  appMeasurement.trackingServer = config.trackingServer;\n  appMeasurement.visitor = visitor;\n  appMeasurement.pageName = config.pageName;\n  appMeasurement.charSet = "UTF-8";\n  appMeasurement.visitorID = config.visitorID;\n  delegate = this.createDelegate();\n  this.playerPlugin = new ADB.va.plugins.videoplayer.VideoPlayerPlugin(delegate);\n  pluginConfig = new ADB.va.plugins.videoplayer.VideoPlayerPluginConfig();\n  pluginConfig.debugLogging = this.facade.logger.enabled;\n  this.playerPlugin.configure(pluginConfig);\n  delegate = new ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate();\n  delegate.onError = function(errorInfo) {\n    _this.facade.logger.error("AdobeAnalyticsPlugin error: " + errorInfo.getMessage() + " | " + errorInfo.getDetails());\n  };\n  this.aaPlugin = new ADB.va.plugins.aa.AdobeAnalyticsPlugin(appMeasurement, delegate);\n  pluginConfig = new ADB.va.plugins.aa.AdobeAnalyticsPluginConfig();\n  pluginConfig.channel = config.heartbeat.channel;\n  pluginConfig.debugLogging = this.facade.logger.enabled;\n  this.aaPlugin.configure(pluginConfig);\n  delegate = new ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate();\n  delegate.onError = function(errorInfo) {\n    _this.facade.logger.error("AdobeHeartbeatPlugin error: " + errorInfo.getMessage() + " | " + errorInfo.getDetails());\n  };\n  ahPlugin = new ADB.va.plugins.ah.AdobeHeartbeatPlugin(delegate);\n  pluginConfig = new ADB.va.plugins.ah.AdobeHeartbeatPluginConfig(config.heartbeat.trackingServer, config.heartbeat.publisher);\n  pluginConfig.ovp = config.heartbeat.ovp;\n  pluginConfig.sdk = config.heartbeat.sdk;\n  pluginConfig.debugLogging = this.facade.logger.enabled;\n  ahPlugin.configure(pluginConfig);\n  plugins = [this.playerPlugin, this.aaPlugin, ahPlugin];\n  delegate = new ADB.va.HeartbeatDelegate();\n  delegate.onError = function(errorInfo) {\n    _this.facade.logger.error("Heartbeat error: " + errorInfo.getMessage() + " | " + errorInfo.getDetails());\n  };\n  this.heartbeat = new ADB.va.Heartbeat(delegate, plugins);\n  pluginConfig = new ADB.va.HeartbeatConfig();\n  pluginConfig.debugLogging = this.facade.logger.enabled;\n  this.heartbeat.configure(pluginConfig);\n};\n\n/**\n*/\nHeartbeatProxy.prototype.createPlugin = function() {\n  return ADB.va.VideoHeartbeat;\n};\n\n/**\n*/\nHeartbeatProxy.prototype.createDelegate = function() {\n  var delegate,\n    _this = this;\n  delegate = new ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate();\n  delegate.getVideoInfo = function() {\n    var playbackCore, videoInfo;\n    playbackCore = _this.getPlaybackCore();\n    if (_this.media == null) {\n      _this.media = _this.facade.player.getMedia();\n    }\n    videoInfo = new ADB.va.plugins.videoplayer.VideoInfo();\n    videoInfo.id = _this.media.guid || _this.media.title;\n    videoInfo.playerName = _this.getPlayerName();\n    videoInfo.name = _this.getMediaName();\n    videoInfo.length = _this.media.temporalType === "live" ? -1 : playbackCore.getDuration();\n    videoInfo.streamType = _this.media.temporalType || ADB.va.ASSET_TYPE_VOD;\n    videoInfo.playhead = playbackCore.getCurrentTime();\n    return videoInfo;\n  };\n  delegate.getAdInfo = function() {\n    var adInfo;\n    adInfo = new ADB.va.plugins.videoplayer.AdInfo();\n    if (!(_this.ad != null)) {\n      return adInfo;\n    }\n    adInfo.id = _this.ad.id;\n    adInfo.length = _this.ad.duration;\n    adInfo.position = _this.ad.position;\n    adInfo.name = _this.ad.title;\n    return adInfo;\n  };\n  delegate.getAdBreakInfo = function() {\n    var adBreakInfo, playbackCore;\n    adBreakInfo = new ADB.va.plugins.videoplayer.AdBreakInfo();\n    if (!(_this.ad != null)) {\n      return adBreakInfo;\n    }\n    playbackCore = _this.getPlaybackCore();\n    adBreakInfo.name = _this.ad.type;\n    adBreakInfo.position = _this.ad.position;\n    adBreakInfo.playerName = _this.getPlayerName();\n    adBreakInfo.startTime = playbackCore.getCurrentTime();\n    return adBreakInfo;\n  };\n  delegate.getChapterInfo = function() {\n    var chapterInfo;\n    if (!(_this.media.scenes != null)) {\n      return null;\n    }\n    chapterInfo = new ADB.va.plugins.videoplayer.ChapterInfo();\n    chapterInfo.name = "";\n    chapterInfo.length = -1;\n    chapterInfo.position = "1";\n    chapterInfo.startTime = -1;\n    return chapterInfo;\n  };\n  delegate.onError = function(error) {\n    _this.facade.logger.error("Heartbeat Error:", error);\n  };\n  delegate.getQoSInfo = function() {\n    var qosInfo;\n    qosInfo = new ADB.va.plugins.videoplayer.QoSInfo();\n    return qosInfo;\n  };\n  return delegate;\n};\n\n/**\n*/\nHeartbeatProxy.prototype.start = function() {\n  try {\n    this.playerPlugin.trackVideoLoad();\n    this.started = true;\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.play = function() {\n  if (this.started !== true) {\n    this.start();\n  }\n  try {\n    this.playerPlugin.trackPlay();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.pause = function() {\n  try {\n    this.playerPlugin.trackPause();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.seeking = function() {\n  try {\n    this.playerPlugin.trackSeekStart();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.seeked = function() {\n  try {\n    this.playerPlugin.trackSeekComplete();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.ended = function() {\n  try {\n    this.playerPlugin.trackComplete();\n    this.playerPlugin.trackVideoUnload();\n    this.started = false;\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.adStart = function() {\n  try {\n    this.playerPlugin.trackAdStart();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/**\n*/\nHeartbeatProxy.prototype.adEnded = function() {\n  try {\n    this.playerPlugin.trackAdComplete();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\nHeartbeatProxy.prototype.adPlay = function() {};\n\nHeartbeatProxy.prototype.adPause = function() {};\n\n/**\n * The OmnitureChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureChangeMediaCommand() {\n  OmnitureChangeMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureChangeMediaCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureChangeMediaCommand.prototype.execute = function(notification) {\n  this.proxy.setMedia(notification.getBody());\n};\n\n/**\n * The OmnitureStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureStartCommand() {\n  OmnitureStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureStartCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureStartCommand.prototype.execute = function(notification) {\n  this.proxy.start();\n};\n\n/**\n * The OmniturePlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmniturePlayCommand() {\n  OmniturePlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmniturePlayCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmniturePlayCommand.prototype.execute = function(notification) {\n  this.proxy.play();\n};\n\n/**\n * The OmniturePauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmniturePauseCommand() {\n  OmniturePauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmniturePauseCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmniturePauseCommand.prototype.execute = function(notification) {\n  this.proxy.pause();\n};\n\n/**\n * The OmnitureSeekingCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureSeekingCommand() {\n  OmnitureSeekingCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureSeekingCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureSeekingCommand.prototype.execute = function(notification) {\n  this.proxy.seeking();\n};\n\n/**\n * The OmnitureSeekedCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureSeekedCommand() {\n  OmnitureSeekedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureSeekedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureSeekedCommand.prototype.execute = function(notification) {\n  this.proxy.seeked();\n};\n\n/**\n * The OmnitureEndedCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureEndedCommand() {\n  OmnitureEndedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureEndedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureEndedCommand.prototype.execute = function(notification) {\n  this.proxy.ended();\n};\n\n/**\n * The OmnitureChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureContentChangedCommand() {\n  OmnitureContentChangedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureContentChangedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureContentChangedCommand.prototype.execute = function(notification) {\n  this.proxy.setMedia(notification.getBody());\n  this.proxy.start();\n};\n\n/**\n * The OmnitureAdLoadedCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdLoadedCommand() {\n  OmnitureAdLoadedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdLoadedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdLoadedCommand.prototype.execute = function(notification) {\n  this.proxy.setAd(notification.getBody());\n};\n\n/**\n * The OmnitureAdStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdStartedCommand() {\n  OmnitureAdStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdStartedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdStartedCommand.prototype.execute = function(notification) {\n  this.proxy.adStart();\n};\n\n/**\n * The OmnitureAdPlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdPlayCommand() {\n  OmnitureAdPlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdPlayCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdPlayCommand.prototype.execute = function(notification) {\n  this.proxy.adPlay();\n};\n\n/**\n * The OmnitureAdPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdPauseCommand() {\n  OmnitureAdPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdPauseCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdPauseCommand.prototype.execute = function(notification) {\n  this.proxy.adPause();\n};\n\n/**\n * The OmnitureAdBreakEndCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdBreakEndCommand() {\n  OmnitureAdBreakEndCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdBreakEndCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdBreakEndCommand.prototype.execute = function(notification) {\n  this.proxy.adEnded();\n  this.proxy.setAd(null);\n};\n\n/**\n * The CaptionCue class.\n *   \n * @constructor\n * @private\n * @param {number} startTime  The start time of the cue in seconds\n * @param {number} endTime    The end time of the cue in seconds\n * @param {number} text       The text of the cue\n*/\nfunction CaptionCue(startTime, endTime, id) {\n  this.startTime = startTime;\n  this.endTime = endTime;\n  this.id = id;\n}\n\nCaptionCue.prototype.id = null;\n\nCaptionCue.prototype.startTime = null;\n\nCaptionCue.prototype.endTime = null;\n\nCaptionCue.prototype.text = null;\n\nCaptionCue.prototype.html = null;\n\nCaptionCue.prototype.align = null;\n\n/**\n * The OmnitureAdTimeRemainingCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction OmnitureAdTimeUpdateCommand() {\n  OmnitureAdTimeUpdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(OmnitureAdTimeUpdateCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nOmnitureAdTimeUpdateCommand.prototype.execute = function(notification) {\n  this.proxy.adCurrentTime(notification.getBody());\n};\n\nfunction SRTParser() {}\n\n/**\n * Parses a SRT (subrip) file into CaptionCue objects and attaches them to a given track.\n * \n * @param   {CaptionTrack}  track The caption track to populate\n * @param   {String}        txt   The text of the srt file\n * @return  {CaptionTrack}        The populated caption track\n*/\nSRTParser.prototype.parse = function(track, txt) {\n  var caption, captions, cue, end, index, parts, start, text, times, _i, _len;\n  txt = txt.replace(/\\r/g, \'\');\n  captions = txt.split("\\n\\n");\n  for (_i = 0, _len = captions.length; _i < _len; _i++) {\n    caption = captions[_i];\n    parts = caption.split("\\n");\n    try {\n      index = parts[0];\n      times = parts[1].match(/([0-9:\\,]+)\\s*-->\\s*([0-9:\\,]+)/).slice(1);\n      start = Utils.flattenTimecode(times[0]);\n      end = Utils.flattenTimecode(times[1]);\n      text = parts.slice(2);\n    } catch (err) {\n      Logger.warn("SRT Parsing Warning");\n    }\n    cue = new CaptionCue(start, end, "cue_" + index);\n    cue.html = "<p>" + text.join("<br />") + "</p>";\n    cue.text = text.join("\\n");\n    track.cues.push(cue);\n  }\n  return track;\n};\n\nfunction SMPTETTParser() {}\n\n/**\n * Parses a SMPTETT file into CaptionCue objects and attaches them to a given track.\n * \n * @param   {CaptionTrack}  track The caption track to populate\n * @param   {XMLDocument}   xml   The SMPTETT xml document\n * @return  {CaptionTrack}        The populated caption track\n*/\nSMPTETTParser.prototype.parse = function(track, xml) {\n  var captions, lang, styledElements, styles, tt,\n    _this = this;\n  if (typeof xml === "string") {\n    xml = XMLUtils.parse(xml);\n  }\n  styles = Array.prototype.slice.call(xml.querySelectorAll("styling style"));\n  styles.forEach(function(item, index, list) {\n    var attributes, id, style;\n    style = "";\n    id = item.getAttribute("id") || item.getAttribute("xml:id");\n    attributes = Array.prototype.slice.call(item.attributes);\n    attributes.forEach(function(item, index, array) {\n      if (item.prefix === "tts") {\n        return style += Utils.formatStyleName(item.localName) + ":" + item.nodeValue + ";";\n      }\n    });\n    track.styles[id] = style;\n  });\n  styledElements = Array.prototype.slice.call(xml.querySelectorAll("body [style]"));\n  styledElements.forEach(function(item, index, array) {\n    var id;\n    id = item.getAttribute("style");\n    item.setAttribute("style", track.styles[id]);\n  });\n  tt = xml.querySelector("tt");\n  lang = tt.getAttribute("lang") || tt.getAttribute("xml:lang");\n  if (track.language === void 0 || track.language === null) {\n    track.language = lang;\n  }\n  captions = Array.prototype.slice.call(xml.querySelectorAll("body p[begin]"));\n  captions.forEach(function(item, index, array) {\n    var align, cue, end, start, text;\n    start = item.getAttribute("begin");\n    item.removeAttribute("begin");\n    if (item.getAttribute("end") != null) {\n      end = item.getAttribute("end");\n      item.removeAttribute("end");\n    } else if (captions[index + 1] != null) {\n      end = captions[index + 1].getAttribute("begin");\n    }\n    cue = new CaptionCue(Utils.flattenTimecode(start), Utils.flattenTimecode(end), "cue_" + index);\n    align = item.getAttributeNS("http://www.w3.org/ns/ttml#styling", "textAlign");\n    if (align != null) {\n      cue.align = align === "center" ? "middle" : align;\n      item.removeAttributeNS("http://www.w3.org/ns/ttml#styling", "textAlign");\n    }\n    text = XMLUtils.serialize(item);\n    text = text.replace(/\\s*xmlns="[^"]*"/, "");\n    cue.html = text;\n    text = text.replace(/^<p[^>]*>/, "");\n    text = text.replace(/<\\/p>$/, "");\n    text = text.replace(/<br\\/>/, "\\n");\n    text = text.replace(/<span style="([^"]*)"/, "<c.$1");\n    text = text.replace(/<\\/span>/, "</c>");\n    cue.text = text;\n    track.cues.push(cue);\n  });\n  return track;\n};\n\n/** \n * The ComscorePlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ComscorePlugin() {\n  ComscorePlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ComscorePlugin, Plugin);\n\n\nComscorePlugin.prototype.moduleName = "comscore";\n\n/** @override\n*/\nComscorePlugin.prototype.createController = function() {\n  ComscorePlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.STARTED, ComscoreStartCommand);\n  this.registerCommand(Notifications.CONTENT_CHANGED, ComscoreStartCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, ComscoreAdStartCommand);\n};\n\n/** @override\n*/\nComscorePlugin.prototype.createModel = function() {\n  this.registerProxy(new ComscoreProxy(this.config));\n};\n\n/** @override\n*/\nComscorePlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.STARTED, AdNotifications.AD_STARTED, Notifications.CONTENT_CHANGED];\n};\n\n\nAMP.registerPlugin("comscore", "html", ComscorePlugin);\nAMP.registerPlugin("comscore", "flash", ComscoreWrapper);\n\n/** \n * @constructor \n * @private\n*/\nfunction LiveCaptionProxy() {\n  var com,\n    _this = this;\n  this.captions = [];\n  this.head = document.getElementsByTagName("head")[0];\n  com = window.com || {};\n  com.akamai = com.akamai || {};\n  com.akamai.amp = com.akamai.amp || {};\n  com.akamai.amp.plugins = com.akamai.amp.plugins || {};\n  com.akamai.amp.plugins.subply = com.akamai.amp.plugins.subply || {};\n  com.akamai.amp.plugins.subply.response = function(json) {\n    _this.parse(json);\n    _this.poll();\n  };\n  if (!(window.com != null)) {\n    window.com = com;\n  }\n  LiveCaptionProxy.__super__.constructor.call(this, this.constructor.NAME);\n}\n\n\n__extends(LiveCaptionProxy, puremvc.Proxy);\n\n\n/** @static\n*/\nLiveCaptionProxy.NAME = "LiveCaptionProxy";\n\nLiveCaptionProxy.prototype.data = {\n  base: "http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",\n  interval: 1000\n};\n\nLiveCaptionProxy.prototype.caption = null;\n\nLiveCaptionProxy.prototype.head = null;\n\nLiveCaptionProxy.prototype.script = null;\n\nLiveCaptionProxy.prototype.timeout = null;\n\n/**\n *\n*/\nLiveCaptionProxy.prototype.getURL = function() {\n  return this.data.url;\n};\n\nLiveCaptionProxy.prototype.setURL = function(value) {\n  this.data.url = value;\n  return value;\n};\n\nLiveCaptionProxy.prototype.start = function() {\n  this.send();\n};\n\nLiveCaptionProxy.prototype.poll = function() {\n  var timeout,\n    _this = this;\n  timeout = setTimeout(function() {\n    _this.send();\n  }, this.data.interval || 1000);\n};\n\nLiveCaptionProxy.prototype.send = function() {\n  if (this.script != null) {\n    this.head.removeChild(this.script);\n  }\n  this.script = Utils.loadScript(this.data.base + this.data.url + ".js?nocache=" + Date.now());\n};\n\nLiveCaptionProxy.prototype.stop = function() {\n  clearTimeout(timeout);\n};\n\n/**\n *\n*/\nLiveCaptionProxy.prototype.parse = function(response) {\n  var html, text, _i, _len, _ref;\n  if (response.Stream !== this.data.url) {\n    return;\n  }\n  if ((this.caption != null) && this.caption.id >= response.Ticks) {\n    return;\n  }\n  this.caption = new CaptionCue(Utils.flattenTimecode(response.From), Utils.flattenTimecode(response.To), response.Ticks);\n  this.caption.text = response.Text;\n  html = "";\n  _ref = response.Text.split("\\n");\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    text = _ref[_i];\n    if (html !== "") {\n      html += "<br />";\n    }\n    html += "<span>" + text + "</span>";\n  }\n  this.caption.html = "<p>" + html + "</p>";\n  this.sendNotification(CaptioningNotifications.CUE_CHANGE, [this.caption]);\n  return this.caption;\n};\n\n/** \n * @private\n*/\n\nCaptionParsers = {\n  "application/ttml+xml": new SMPTETTParser(),\n  "application/x-subrip": new SRTParser(),\n  undefined: new SMPTETTParser()\n};\n\n/**\n * The CaptioningTimeUpdateCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction CaptioningTimeUpdateCommand() {\n  CaptioningTimeUpdateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(CaptioningTimeUpdateCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nCaptioningTimeUpdateCommand.prototype.execute = function(notification) {\n  var active, changed, cue, cues, index, time, track, _i, _len;\n  time = notification.getBody();\n  track = this.proxy.getTrack();\n  if (!(track != null)) {\n    return;\n  }\n  active = track.activeCues;\n  cues = track.cues;\n  changed = false;\n  for (_i = 0, _len = cues.length; _i < _len; _i++) {\n    cue = cues[_i];\n    if (time >= cue.startTime && time < cue.endTime) {\n      if (!(__indexOf.call(active, cue) >= 0)) {\n        active.push(cue);\n        changed = true;\n      }\n    } else {\n      index = active.indexOf(cue);\n      if (index !== -1) {\n        active.splice(index, 1);\n        changed = true;\n      }\n    }\n  }\n  if (changed === true) {\n    this.sendNotification(CaptioningNotifications.CUE_CHANGE, active);\n  }\n};\n\n/**\n * The CaptioningChangeMediaCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction CaptioningChangeMediaCommand() {\n  CaptioningChangeMediaCommand.__super__.constructor.call(this);\n}\n\n\n__extends(CaptioningChangeMediaCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nCaptioningChangeMediaCommand.prototype.execute = function(notification) {\n  var track;\n  track = notification.getBody().track;\n  if (track != null) {\n    this.proxy.setTracks(track);\n    this.sendNotification(CaptioningNotifications.ENABLED, true);\n  }\n};\n\n/**\n * The ChangeVisibilityCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction CaptioningVisibilityChangeCommand() {\n  CaptioningVisibilityChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(CaptioningVisibilityChangeCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nCaptioningVisibilityChangeCommand.prototype.execute = function(notification) {\n  this.proxy.setHidden(!notification.getBody());\n  CaptioningVisibilityChangeCommand.__super__.execute.call(this, notification);\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar UserSettingsNotifications = {\n  SETTING_CHANGE: "settingchange",\n  UPDATE_SETTINGS: "updatesettings"\n};\n\n/**\n * The CaptioningStartedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction CaptioningStartedCommand() {\n  CaptioningStartedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(CaptioningStartedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nCaptioningStartedCommand.prototype.execute = function(notification) {\n  var proxy, track, _ref;\n  proxy = this.facade.retrieveProxy(CaptioningProxy.NAME);\n  track = proxy.getTrack();\n  if (!(track != null) && ((_ref = proxy.getTracks()) != null ? _ref.length : void 0) > 0) {\n    track = proxy.autoSelectTrack();\n  }\n  if ((track != null ? track.isLive : void 0) === true) {\n    this.facade.removeCommand(Notifications.TIME_UPDATE);\n    proxy = this.facade.retrieveProxy(LiveCaptionProxy.NAME);\n    if (!(proxy != null)) {\n      proxy = new LiveCaptionProxy();\n      this.facade.registerProxy(proxy);\n    }\n    proxy.setURL(track.src);\n    proxy.start();\n  }\n};\n\n/** \n * The CaptioningWrapper class.\n *   \n * @constructor\n * @private\n * @extends {PluginWrapper}\n * @param {FlashPlayer}     player  The FlashPlayer\n * @param {Object}          config  The plugin config\n*/\nfunction CaptioningWrapper(player, config) {\n  CaptioningWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(CaptioningWrapper, PluginWrapper);\n\n\nCaptioningWrapper.NAME = "CaptioningWrapper";\n\nCaptioningWrapper.prototype.flashPluginIds = ["CaptioningPlugin", "OSMFCCDecoderPlugin", "CaptionSettingsPlugin", "AMPCaptionPlugin"];\n\nCaptioningWrapper.prototype.hidden = true;\n\n/** @override\n*/\nCaptioningWrapper.prototype.createXML = function(xml) {\n  var application, player, subply, _ref;\n  subply = (_ref = this.config.flash) != null ? _ref.subply : void 0;\n  if (subply != null) {\n    try {\n      if (subply.timeMethod != null) {\n        player = xml.getElementsByTagName("player")[0];\n        player.setAttribute("subply_time_method", subply.timeMethod);\n      }\n      if (subply.plugin != null) {\n        application = xml.firstChild;\n        subply = xml.getElementsByTagName("subply")[0];\n        if (!(subply != null)) {\n          subply = xml.createElement("subply");\n          application.appendChild(subply);\n        }\n        this.createProperty(xml, "SUBPLY_URL", this.config.flash.subply.plugin, subply);\n      }\n    } catch (error) {\n      this.facade.logger.error("[AMP CAPTIONING ERROR]", error);\n    }\n  }\n};\n\n/** @override\n*/\nCaptioningWrapper.prototype.createFlashVars = function(flashvars) {\n  var captionLangArr, captionUrlArr, config, track, _i, _len, _ref, _ref1;\n  config = this.player.config;\n  if (((_ref = config.media) != null ? _ref.track : void 0) != null) {\n    track = Utils.selectTrack(config.media.track, "captions");\n    if ((track.src != null) && track.src !== "") {\n      flashvars.caption_url = track.src;\n    }\n    if (config.media.track.length > 1) {\n      captionUrlArr = [];\n      captionLangArr = [];\n      _ref1 = config.media.track;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        track = _ref1[_i];\n        captionUrlArr.push(track.src);\n        captionLangArr.push(track.srclang);\n      }\n      flashvars.caption_url = captionUrlArr.join(",");\n      flashvars.caption_language = captionLangArr.join(",");\n    }\n    flashvars.caption_type = track.type != null ? encodeURIComponent(track.type) : "application/ttml+xml";\n  }\n};\n\n/** @override\n*/\nCaptioningWrapper.prototype.listNotificationInterests = function() {\n  return CaptioningWrapper.__super__.listNotificationInterests.apply(this, arguments).concat([Notifications.MEDIA_CHANGE, FlashNotifications.CAPTIONING_REQUEST, FlashNotifications.CAPTION_LANG_CHANGE]);\n};\n\n/**\n*/\nCaptioningWrapper.prototype.handleNotification = function(notification) {\n  var body, media, name, track, type;\n  CaptioningWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.CAPTION_LANG_CHANGE:\n      type = "";\n      break;\n    case FlashNotifications.CAPTIONING_REQUEST:\n      type = "visibilitychange";\n      body = body.enabled;\n      this.hidden = !body;\n      break;\n    case Notifications.MEDIA_CHANGE:\n      media = body;\n      if (media.track != null) {\n        track = Utils.selectTrack(media.track, "captions");\n        if (((track != null ? track.src : void 0) != null) && track.src !== "") {\n          media.captioningUrl = track.src;\n        }\n        media.captioningType = track.type || "application/ttml+xml";\n      }\n  }\n  if ((type != null) && type !== "") {\n    this.dispatchEvent(new Event(type, body));\n  }\n};\n\n/**\n*/\nCaptioningWrapper.prototype.getHidden = function() {\n  return this.hidden;\n};\n\nCaptioningWrapper.prototype.setHidden = function(value) {\n  this.hidden = value;\n  this.facade.getMediaElement().setPlayerProperty("captionDisplay", {\n    visible: !value\n  });\n  return value;\n};\n\n/**\n * Selects a caption track by its index in the getTracks array.\n * \n * @param {number}        index   The index to select \n * @return {CaptionTrack}         The selected caption track.\n * @expose\n*/\nCaptioningWrapper.prototype.selectTrackByIndex = function(index) {};\n\n/**\n * Selects a caption track by it\'s language property.\n * \n * @param {string}        lang  The language to select \n * @return {CaptionTrack}       The selected caption track.\n * @expose\n*/\nCaptioningWrapper.prototype.selectTrackByLanguage = function(lang) {\n  this.facade.getMediaElement().setTrackByLanguage(lang);\n};\n\n/**\n * Sets a caption Settings Object (styles)\n * \n * @param {Object}  object  The caption settings object. \n * @expose\n*/\nCaptioningWrapper.prototype.changeSettings = function(object) {};\n\n\nAMP.registerPlugin("captioning", "flash", CaptioningWrapper);\n\n/**\n * The CaptionTrack class.\n *   \n * @constructor\n * @private\n * @param {?Object} track A generic track object.\n*/\nfunction CaptionTrack(track, onload) {\n  var xhr,\n    _this = this;\n  this.kind = track.kind;\n  this.type = track.type;\n  this.src = track.src;\n  this.language = track.srclang;\n  this.label = track.label || this.srclang || this.kind;\n  this.cues = track.cues || [];\n  this.styles = track.styles || {};\n  this.activeCues = [];\n  this.isLive = /live-subply/.test(this.type);\n  if ((this.src != null) && this.src !== "" && !this.isLive) {\n    xhr = Utils.get(this.src, {\n      onload: function() {\n        try {\n          CaptionParsers[_this.type].parse(_this, xhr.response);\n        } catch (error) {\n          Logger.error("Could not parse caption track: " + _this.src);\n          return;\n        }\n        if (typeof onload === "function") {\n          onload();\n        }\n      },\n      onerror: function() {\n        Logger.error("Could not load caption track: " + _this.src);\n      }\n    });\n  } else {\n    setTimeout(onload, 1);\n  }\n}\n\nCaptionTrack.prototype.kind = null;\n\nCaptionTrack.prototype.src = null;\n\nCaptionTrack.prototype.language = null;\n\nCaptionTrack.prototype.cues = null;\n\nCaptionTrack.prototype.label = null;\n\nCaptionTrack.prototype.activeCues = null;\n\nCaptionTrack.prototype.type = null;\n\nCaptionTrack.prototype.styles = null;\n\nCaptionTrack.prototype.isLive = false;\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar CaptioningNotifications = {\n  VISIBILITY_CHANGE: "captioningvisibilitychange",\n  ENABLED: "captioningenabled",\n  TRACKS_LOADED: "captioningtracksloaded",\n  TRACK_SELECTED: "captioningtrackselected",\n  CUE_CHANGE: "captioningcuechange",\n  SETTINGS_VISIBILITY_CHANGE: "captioningsettingsvisibility",\n  TOGGLE_SETTINGS_VISIBILITY: "togglesettingsvisibility",\n  SETTINGS_CHANGE: "captioningsettingschange"\n};\n\n/** \n * The CaptioningProxy class\n * \n * @constructor\n * @private \n * @extends {PluginProxy}\n * @param   {Object}  config  The configuration object.\n*/\nfunction CaptioningProxy(config) {\n  this.activeCaptions = [];\n  this.providers = {};\n  this.tracks = [];\n  CaptioningProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(CaptioningProxy, PluginProxy);\n\n\n/** @static\n*/\nCaptioningProxy.NAME = ModuleProxy.NAME;\n\nCaptioningProxy.prototype.defaults = {};\n\nCaptioningProxy.prototype.hidden = true;\n\nCaptioningProxy.prototype.tracks = null;\n\nCaptioningProxy.prototype.track = null;\n\nCaptioningProxy.prototype.activeCaptions = null;\n\nCaptioningProxy.prototype.captions = null;\n\nCaptioningProxy.prototype.loaded = true;\n\n/**\n *\n*/\nCaptioningProxy.prototype.useNative = function() {\n  var _ref;\n  return (this.facade.player.mediaElement.textTracks != null) && ((_ref = window.TextTrackCue) != null ? _ref.length : void 0) === 3;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.getTracks = function() {\n  return this.tracks;\n};\n\nCaptioningProxy.prototype.setTracks = function(value) {\n  var count, item, loaded, track, trackLoaded, _i, _len,\n    _this = this;\n  this.tracks = [];\n  this.track = null;\n  count = value.length;\n  loaded = 0;\n  trackLoaded = function() {\n    loaded++;\n    if (loaded === count) {\n      _this.sendNotification(CaptioningNotifications.TRACKS_LOADED, _this.tracks);\n      _this.autoSelectTrack();\n    }\n  };\n  for (_i = 0, _len = value.length; _i < _len; _i++) {\n    item = value[_i];\n    track = new CaptionTrack(item, trackLoaded);\n    this.tracks.push(track);\n  }\n  return value;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.getTrack = function() {\n  return this.track;\n};\n\nCaptioningProxy.prototype.setTrack = function(value) {\n  this.track = value;\n  this.captions = this.track.cues;\n  this.activeCaptions = [];\n  this.sendNotification(CaptioningNotifications.TRACK_SELECTED, this.track);\n  return value;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.selectTrackByIndex = function(index) {\n  var track;\n  if ((0 <= index && index < this.tracks.length)) {\n    track = this.tracks[index];\n    this.setTrack(track);\n  }\n  return track;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.selectTrackByLanguage = function(lang) {\n  var item, track, _i, _len, _ref;\n  _ref = this.tracks;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    item = _ref[_i];\n    if (!(item.language === lang)) {\n      continue;\n    }\n    track = item;\n    break;\n  }\n  if (track != null) {\n    this.setTrack(track);\n  }\n  return track;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.getHidden = function() {\n  return this.hidden;\n};\n\nCaptioningProxy.prototype.setHidden = function(value) {\n  this.hidden = value;\n  return value;\n};\n\n/**\n *\n*/\nCaptioningProxy.prototype.autoSelectTrack = function() {\n  var lang, track, _ref;\n  lang = (_ref = this.facade.player.retrieveProxy(LocalizationProxy.NAME)) != null ? _ref.getLanguage() : void 0;\n  if (lang != null) {\n    lang = lang.split("-").shift();\n    track = this.selectTrackByLanguage(lang);\n  }\n  if (!(track != null)) {\n    track = this.tracks[0];\n    this.setTrack(track);\n  }\n  return track;\n};\n\n/**\n * The CaptioningHTMLMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n * @param {Object} viewComponent\n*/\nfunction CaptioningHTMLMediator(viewComponent) {\n  CaptioningHTMLMediator.__super__.constructor.call(this, null, null, viewComponent, null);\n}\n\n\n__extends(CaptioningHTMLMediator, ComponentMediator);\n\n\nCaptioningHTMLMediator.prototype.componentName = "captioning-settings";\n\nCaptioningHTMLMediator.prototype.captioningObject = {\n  "default": {\n    fontFamily: "Arial,sans-serif",\n    size: "1.3em",\n    scroll: "popout",\n    fontColor: "rgba(255,255,255,1)",\n    edgeType: null,\n    edgeColor: "rgba(0, 0, 0, 0)",\n    backgroundColor: "rgba(0,0,0,0)",\n    windowColor: "rgba(0,0,0,0.5)"\n  },\n  appliedStyleText: "",\n  selected: {\n    fontFamily: null,\n    size: null,\n    fontColor: null,\n    edgeType: null,\n    edgeColor: null,\n    backgroundColor: null,\n    windowColor: null\n  },\n  preset1: {\n    fontFamily: "Arial,sans-serif",\n    size: "1.3em",\n    fontColor: "rgba(255,255,255,1)",\n    edgeType: null,\n    edgeColor: "rgba(0, 0, 0, 0)",\n    backgroundColor: "rgba(0,0,0,0)",\n    windowColor: "rgba(0,0,0,0)"\n  },\n  preset2: {\n    fontFamily: "Arial,sans-serif",\n    size: "1.3em",\n    fontColor: "rgba(255,255,0,1)",\n    edgeType: null,\n    edgeColor: "rgba(0, 0, 0, 0)",\n    backgroundColor: "rgba(0,0,0,0)",\n    windowColor: "rgba(0,0,0,0)"\n  },\n  preset3: {\n    fontFamily: "Arial,sans-serif",\n    size: "1.3em",\n    fontColor: "rgba(255,255,255,1)",\n    edgeType: null,\n    edgeColor: "rgba(0, 0, 0, 0)",\n    backgroundColor: "rgba(0,0,0,1)",\n    windowColor: "rgba(0,0,0,0)"\n  },\n  preset4: {\n    fontFamily: "Arial,sans-serif",\n    size: "1.3em",\n    fontColor: "rgba(255,255,0,1)",\n    edgeType: null,\n    edgeColor: "rgba(0, 0, 0, 1)",\n    backgroundColor: "rgba(0,0,0,0)",\n    windowColor: "rgba(0,0,0,0.5)"\n  },\n  instance: null\n};\n\nCaptioningHTMLMediator.prototype.captionText = null;\n\nCaptioningHTMLMediator.prototype.settingsUiVisible = false;\n\nCaptioningHTMLMediator.prototype.captionningStyle = null;\n\nCaptioningHTMLMediator.prototype.swatchColorCurr = null;\n\nCaptioningHTMLMediator.prototype.swatchOpacityCurr = null;\n\nCaptioningHTMLMediator.prototype.colorPicker = null;\n\nCaptioningHTMLMediator.prototype.colorPickerOpacity = null;\n\nCaptioningHTMLMediator.prototype.advancedSettingContainer = null;\n\nCaptioningHTMLMediator.prototype.list = {\n  font: null,\n  language: null,\n  edge: null,\n  size: null,\n  scroll: null\n};\n\nCaptioningHTMLMediator.prototype.picker = {\n  color: null,\n  background: null,\n  edge: null,\n  window: null\n};\n\nCaptioningHTMLMediator.prototype.toggle = {\n  ON: null,\n  OFF: null,\n  disabled: false\n};\n\nCaptioningHTMLMediator.prototype.scroll = {\n  type: "popout",\n  typeSpeed: 5,\n  lines: 2,\n  scrollTimer: [],\n  speed: 10,\n  popout: null,\n  rollup: null,\n  painton: null\n};\n\n/**\n * @override\n*/\nCaptioningHTMLMediator.prototype.onRegister = function() {\n  var applyButton, cancelButton, captionContainer, captionLabel, clonedSwatch, color, colorArray, isDefault, listOptions, preset1, preset2, preset3, preset4, previewContainer, previewPara, resetButton, swatch, titleBar, titleText, toggleAdvancedButton, _i, _len,\n    _this = this;\n  this.captionText = this.create("caption-text", this.viewComponent.parentElement);\n  titleBar = this.create("captioning-titlebar");\n  titleText = this.create("captioning-title", titleBar, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_TITLE));\n  this.toggle.OFF = this.create("captioning-toggle-btn", titleBar, "div", "OFF");\n  this.toggle.ON = this.create("captioning-toggle-btn", titleBar, "div", "ON");\n  EventHandler.create(this.toggle.ON, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    if (!_this.toggle.disabled) {\n      _this.toggleButtonHandler(true);\n    }\n    return false;\n  });\n  if (!this.toggle.disabled) {\n    this.classList.add("captioning-floater-btnselected", this.toggle.OFF);\n  }\n  EventHandler.create(this.toggle.OFF, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    if (!_this.toggle.disabled) {\n      _this.toggleButtonHandler(false);\n    }\n    return false;\n  });\n  captionContainer = this.create("captioning-row");\n  captionLabel = this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_LANGUAGE));\n  this.list.language = this.create("captioning-dropdown", captionContainer, "select");\n  this.languageListPopulate();\n  EventHandler.create(this.list.language, "change", function(event) {\n    var langIsSelected;\n    event.stopImmediatePropagation();\n    langIsSelected = event.target.selectedValue !== "None";\n    _this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE, langIsSelected);\n    if (langIsSelected) {\n      _this.facade.setTrack(_this.facade.selectTrackByIndex(event.target.selectedIndex));\n    }\n    return false;\n  });\n  captionLabel = this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_PRESETS));\n  preset1 = this.create(["captioning-preset", "captioning-preset1"], captionContainer, null, "Aa");\n  preset2 = this.create(["captioning-preset", "captioning-preset2"], captionContainer, null, "Aa");\n  preset3 = this.create(["captioning-preset", "captioning-preset3"], captionContainer, null, "Aa");\n  preset4 = this.create(["captioning-preset", "captioning-preset4"], captionContainer, null, "Aa");\n  EventHandler.create(preset1, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected = _this.cloneObject(_this.captioningObject.preset1);\n    _this.applyCaptioningStyle();\n    return false;\n  });\n  EventHandler.create(preset2, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected = _this.cloneObject(_this.captioningObject.preset2);\n    _this.applyCaptioningStyle();\n    return false;\n  });\n  EventHandler.create(preset3, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected = _this.cloneObject(_this.captioningObject.preset3);\n    _this.applyCaptioningStyle();\n    return false;\n  });\n  EventHandler.create(preset4, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected = _this.cloneObject(_this.captioningObject.preset4);\n    _this.applyCaptioningStyle();\n    return false;\n  });\n  this.advancedSettingContainer = this.create("captioning-advanced-container");\n  captionContainer = this.create("captioning-row", this.advancedSettingContainer);\n  captionLabel = this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_FONT));\n  this.list.font = this.create("captioning-dropdown", captionContainer, "select");\n  listOptions = this.create(null, this.list.font, "option", "Arial");\n  listOptions.value = "Arial,sans-serif";\n  this.create(null, this.list.font, "option", "Times New Roman");\n  this.create(null, this.list.font, "option", "Courier");\n  this.create(null, this.list.font, "option", "Georgia");\n  this.create(null, this.list.font, "option", "Helvetica");\n  this.create(null, this.list.font, "option", "Verdana");\n  this.create(null, this.list.font, "option", "Impact");\n  this.create(null, this.list.font, "option", "Comic Sans Serif");\n  this.create(null, this.list.font, "option", "Times New Roman");\n  EventHandler.create(this.list.font, "change", function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected.fontFamily = event.target.value;\n    _this.applyCaptioningStyle(false);\n    return false;\n  });\n  captionContainer.appendChild(this.list.font);\n  captionLabel = this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_EDGE));\n  this.list.edge = this.create("captioning-dropdown", captionContainer, "select");\n  this.create(null, this.list.edge, "option", "none").value = "none";\n  this.create(null, this.list.edge, "option", "Depressed").value = "text-shadow: 0px 1px 0px";\n  this.create(null, this.list.edge, "option", "Left drop shadow").value = "text-shadow: -3px 3px 2px";\n  this.create(null, this.list.edge, "option", "Raised").value = "text-shadow: 0px 1px 1px";\n  this.create(null, this.list.edge, "option", "Right drop shadow").value = "text-shadow: 3px 3px 2px";\n  this.create(null, this.list.edge, "option", "Uniform").value = "text-shadow: 0px 0px 4px";\n  EventHandler.create(this.list.edge, "change", function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected.edgeType = event.target.value;\n    _this.applyCaptioningStyle(false);\n    return false;\n  });\n  captionContainer = this.create("captioning-row", this.advancedSettingContainer);\n  this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_SIZE));\n  this.list.size = this.create("captioning-dropdown", captionContainer, "select");\n  this.create(null, this.list.size, "option", "Small").value = ".8em";\n  this.create(null, this.list.size, "option", "Medium").value = "1.3em";\n  this.create(null, this.list.size, "option", "Large").value = "2.3em";\n  this.list.size.selectedIndex = 1;\n  EventHandler.create(this.list.size, "change", function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.selected.size = event.target.value;\n    _this.applyCaptioningStyle(false);\n    return false;\n  });\n  this.create("captioning-label", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_SCROLL));\n  this.list.scroll = this.create("captioning-dropdown", captionContainer, "select");\n  this.create(null, this.list.scroll, "option", "Pop out").value = "popout";\n  this.create(null, this.list.scroll, "option", "Roll on").value = "rollon";\n  this.create(null, this.list.scroll, "option", "Paint on").value = "painton";\n  EventHandler.create(this.list.scroll, "change", function(event) {\n    event.stopImmediatePropagation();\n    _this.scroll.type = event.target.value;\n    if (event.target.value === "painton") {\n      _this.captionText.classList.add(\'akamai-captioning-typed\');\n    } else {\n      _this.captionText.classList.remove(\'akamai-captioning-typed\');\n    }\n    return false;\n  });\n  captionContainer = this.create("captioning-row", this.advancedSettingContainer);\n  this.create("captioning-label-small", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_COLOR));\n  this.picker.color = this.create("captioning-color-picker", captionContainer);\n  this.picker.color.style.backgroundColor = this.captioningObject["default"].fontColor;\n  EventHandler.create(this.picker.color, EventHandler.CLICK, function(event) {\n    var alpha, _ref;\n    event.stopImmediatePropagation();\n    _this.colorPicker.style.display = _this.colorPicker.style.display === "block" ? "none" : "block";\n    if (_this.colorPicker.style.display === "block") {\n      if ((_ref = _this.swatchColorCurr) != null) {\n        _ref.style.borderColor = "rgba(0,0,0,0.3)";\n      }\n      _this.colorPicker.style.left = "152px";\n      _this.colorPicker.name = "fontColor";\n      _this.captioningObject.instance = _this.picker.color;\n      if (_this.picker.color.style.backgroundColor.indexOf(\'rgba\') !== -1) {\n        alpha = _this.picker.color.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g, \'\').split(\',\')[3];\n      }\n      _this.colorPickerOpacity.value = alpha != null ? alpha : 1;\n    }\n    return false;\n  });\n  this.create("captioning-label-small", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_BACKGROUND));\n  this.picker.background = this.create("captioning-color-picker", captionContainer);\n  this.picker.background.style.backgroundColor = this.captioningObject["default"].backgroundColor;\n  EventHandler.create(this.picker.background, EventHandler.CLICK, function(event) {\n    var alpha, _ref;\n    event.stopImmediatePropagation();\n    _this.colorPicker.style.display = _this.colorPicker.style.display === "block" ? "none" : "block";\n    if (_this.colorPicker.style.display === "block") {\n      if ((_ref = _this.swatchColorCurr) != null) {\n        _ref.style.borderColor = "rgba(0,0,0,0.3)";\n      }\n      _this.colorPicker.style.left = "264px";\n      _this.colorPicker.name = "backgroundColor";\n      _this.captioningObject.instance = _this.picker.background;\n      if (_this.picker.background.style.backgroundColor.indexOf(\'rgba\') !== -1) {\n        alpha = _this.picker.background.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g, \'\').split(\',\')[3];\n      }\n      _this.colorPickerOpacity.value = alpha != null ? alpha : 1;\n    }\n    return false;\n  });\n  this.create("captioning-label-small", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_EDGE));\n  this.picker.edge = this.create("captioning-color-picker", captionContainer);\n  this.picker.edge.style.backgroundColor = this.captioningObject["default"].edgeColor;\n  EventHandler.create(this.picker.edge, EventHandler.CLICK, function(event) {\n    var alpha, _ref;\n    event.stopImmediatePropagation();\n    _this.colorPicker.style.display = _this.colorPicker.style.display === "block" ? "none" : "block";\n    if (_this.colorPicker.style.display === "block") {\n      if ((_ref = _this.swatchColorCurr) != null) {\n        _ref.style.borderColor = "rgba(0,0,0,0.3)";\n      }\n      _this.colorPicker.style.left = "212px";\n      _this.colorPicker.name = "edgeColor";\n      _this.captioningObject.instance = _this.picker.edge;\n      if (_this.picker.edge.style.backgroundColor.indexOf(\'rgba\') !== -1) {\n        alpha = _this.picker.edge.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g, \'\').split(\',\')[3];\n      }\n      _this.colorPickerOpacity.value = alpha != null ? alpha : 1;\n    }\n    return false;\n  });\n  this.create("captioning-label-small", captionContainer, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_WINDOW));\n  this.picker.window = this.create("captioning-color-picker", captionContainer);\n  this.picker.window.style.backgroundColor = this.captioningObject["default"].windowColor;\n  EventHandler.create(this.picker.window, EventHandler.CLICK, function(event) {\n    var alpha, _ref;\n    event.stopImmediatePropagation();\n    _this.colorPicker.style.display = _this.colorPicker.style.display === "block" ? "none" : "block";\n    if (_this.colorPicker.style.display === "block") {\n      if ((_ref = _this.swatchColorCurr) != null) {\n        _ref.style.borderColor = "rgba(0,0,0,0.3)";\n      }\n      _this.colorPicker.style.left = "300px";\n      _this.colorPicker.name = "windowColor";\n      _this.captioningObject.instance = _this.picker.window;\n      if (_this.picker.window.style.backgroundColor.indexOf(\'rgba\') !== -1) {\n        alpha = _this.picker.window.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g, \'\').split(\',\')[3];\n      }\n      _this.colorPickerOpacity.value = alpha != null ? alpha : 1;\n    }\n    return false;\n  });\n  previewContainer = this.create(["caption-text", "caption-text-preview"]);\n  previewPara = this.create(null, previewContainer, "p", "Lorem ipsum dolor sit amet");\n  captionContainer = this.create("captioning-footer-container");\n  applyButton = this.create("captioning-footer-button", captionContainer, "div", this.localizationManager.getString(LocalizationConstants.MSG_CC_APPLY));\n  cancelButton = this.create("captioning-footer-button", captionContainer, "div", this.localizationManager.getString(LocalizationConstants.MSG_CC_CANCEL));\n  resetButton = this.create("captioning-footer-button", captionContainer, "div", this.localizationManager.getString(LocalizationConstants.MSG_CC_RESET));\n  if (this.facade.getViewComponent().clientWidth >= 0) {\n    toggleAdvancedButton = this.create("captioning-advanced-button", captionContainer, "div", this.localizationManager.getString(LocalizationConstants.MSG_CC_SHOW_ADVANCED));\n    EventHandler.create(toggleAdvancedButton, EventHandler.CLICK, function(event) {\n      event.stopImmediatePropagation();\n      if (_this.advancedSettingContainer.style.display === "block") {\n        event.target.innerHTML = _this.localizationManager.getString(LocalizationConstants.MSG_CC_SHOW_ADVANCED);\n        _this.advancedSettingContainer.style.display = "none";\n        _this.colorPicker.style.display = "none";\n      } else {\n        event.target.innerHTML = _this.localizationManager.getString(LocalizationConstants.MSG_CC_HIDE_ADVANCED);\n        _this.advancedSettingContainer.style.display = "block";\n      }\n      return false;\n    });\n  }\n  EventHandler.create(applyButton, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    try {\n      localStorage.setItem(Namespace.PREFIX + "captioningDefault", JSON.stringify(_this.captioningObject.selected));\n    } catch (localStorageError) {\n      _this.facade.logger.error("LocalStorage Not Supported on this Browser", localStorageError);\n    }\n    _this.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE, _this.settingsUiVisible);\n    _this.applyCaptioningStyle(false, true);\n    _this.sendNotification(CaptioningNotifications.SETTINGS_CHANGE, _this.captioningObject.selected);\n    return false;\n  });\n  EventHandler.create(cancelButton, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE, _this.settingsUiVisible);\n    return false;\n  });\n  EventHandler.create(resetButton, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    _this.colorPicker.style.display = "none";\n    _this.applyCaptioningStyle(true);\n    return false;\n  });\n  this.captionningStyle = this.create(null, document.getElementsByTagName(\'head\')[0], "style");\n  this.captionningStyle.type = \'text/css\';\n  colorArray = ["#000000", "#660000", "#990000", "#ff0000", "#000066", "#660066", "#990066", "#ff0066", "#006600", "#666600", "#996600", "#ff6600", "#006666", "#666666", "#996666", "#ff6666", "#009900", "#669966", "#999900", "#ff9900", "#009966", "#669966", "#999966", "#ff9966", "#00ff00", "#66ff00", "#99ff00", "#ffff00", "#00ff66", "#66ff66", "#99ff66", "#ffff66", "#000099", "#660099", "#990099", "#ff0099", "#0000ff", "#6600ff", "#9900ff", "#ff00ff", "#006699", "#666699", "#996699", "#ff6699", "#0066ff", "#6666ff", "#9966ff", "#ff66ff", "#009999", "#669999", "#999999", "#ff9999", "#0099ff", "#6699ff", "#9999ff", "#ff99ff", "#0099ff", "#66ff99", "#99ff99", "#ffff99", "#00ffff", "#66ffff", "#99ffff", "#ffffff"];\n  this.colorPicker = this.create("colorpicker-palette", this.viewComponent.parentElement);\n  swatch = this.create("colorpicker-swatch", false, null, "&nbsp;");\n  for (_i = 0, _len = colorArray.length; _i < _len; _i++) {\n    color = colorArray[_i];\n    swatch.style.backgroundColor = color;\n    clonedSwatch = swatch.cloneNode();\n    EventHandler.create(clonedSwatch, EventHandler.CLICK, function(event) {\n      event.stopImmediatePropagation();\n      if (_this.swatchColorCurr !== null) {\n        _this.swatchColorCurr.style.borderColor = "rgba(0,0,0,0.3)";\n      }\n      _this.swatchColorCurr = event.target;\n      _this.swatchColorCurr.style.borderColor = "rgba(255, 50, 50, 1)";\n      _this.captioningObject.instance.style.backgroundColor = _this.captioningObject.selected[_this.colorPicker.name] = _this.toRGBA(event.target.style.backgroundColor);\n      _this.applyCaptioningStyle(false);\n      return false;\n    });\n    this.colorPicker.appendChild(clonedSwatch);\n  }\n  this.create("opacity-label", this.colorPicker, "span", this.localizationManager.getString(LocalizationConstants.MSG_CC_OPACITY));\n  this.colorPickerOpacity = this.create("colorpicker-slider", this.colorPicker, "input");\n  this.colorPickerOpacity.type = "range";\n  this.colorPickerOpacity.min = 0;\n  this.colorPickerOpacity.max = 1;\n  this.colorPickerOpacity.step = .1;\n  this.colorPickerOpacity.value = 1;\n  EventHandler.create(this.colorPickerOpacity, "change", function(event) {\n    event.stopImmediatePropagation();\n    _this.captioningObject.instance.style.backgroundColor = _this.captioningObject.selected[_this.colorPicker.name] = _this.toRGBA(_this.captioningObject.instance.style.backgroundColor);\n    _this.applyCaptioningStyle(false);\n    return false;\n  });\n  this.swatchOpacityCurr = this.colorPickerOpacity;\n  EventHandler.create(document, EventHandler.CLICK, function(event) {\n    event.stopImmediatePropagation();\n    if (event.target.className !== "akamai-colorpicker-palette" && event.target.className !== "akamai-opacity-label" && event.target.className !== "akamai-colorpicker-slider" && _this.colorPicker.style.display !== "none") {\n      _this.colorPicker.style.display = "none";\n    }\n    return false;\n  });\n  if (localStorage.getItem(Namespace.PREFIX + "captioningDefault") != null) {\n    this.captioningObject.selected = JSON.parse(localStorage.getItem(Namespace.PREFIX + "captioningDefault"));\n    this.applyCaptioningStyle(false);\n  } else {\n    isDefault = !((this.facade.config.style != null) || this.facade.config.style !== "undefined");\n    if (!isDefault) {\n      this.captioningObject.selected = this.cloneObject(this.facade.config.style);\n    }\n    this.applyCaptioningStyle(isDefault);\n  }\n  CaptioningHTMLMediator.__super__.onRegister.call(this);\n};\n\nCaptioningHTMLMediator.prototype.toRGBA = function(colorCode) {\n  var rbga, rgb;\n  rgb = colorCode.replace(/^rgba?\\(|\\s+|\\)$/g, \'\').split(\',\');\n  rbga = \'rgba(\' + rgb[0] + "," + rgb[1] + "," + rgb[2] + "," + this.swatchOpacityCurr.value + \')\';\n  return rbga;\n};\n\nCaptioningHTMLMediator.prototype.languageListPopulate = function() {\n  var language, track, tracks, _i, _len, _ref;\n  tracks = this.facade.getTracks();\n  if (!(tracks != null)) {\n    return;\n  }\n  this.list.language.innerHTML = "";\n  for (_i = 0, _len = tracks.length; _i < _len; _i++) {\n    track = tracks[_i];\n    language = track.language;\n    language = this.facade.player.retrieveProxy(LocalizationProxy.NAME).getLanguageString(language);\n    if ((language != null) && language !== "") {\n      this.create(null, this.list.language, "option", language).value = track.language;\n    }\n  }\n  this.toggle.disabled = this.list.language.childElementCount === 0;\n  if (this.toggle.disabled) {\n    this.create(null, this.list.language, "option", "None");\n  }\n  this.list.language.value = (_ref = this.facade.getTrack()) != null ? _ref.language : void 0;\n};\n\nCaptioningHTMLMediator.prototype.cloneObject = function(clone) {\n  var cloned, key;\n  cloned = {};\n  for (key in clone) {\n    cloned[key] = clone[key];\n  }\n  return cloned;\n};\n\nCaptioningHTMLMediator.prototype.applyCaptioningStyle = function(isDefault, isApply) {\n  var backgroundColor, color, edgeType, fontFamily, fontSize, windowColor;\n  if (isDefault == null) {\n    isDefault = false;\n  }\n  if (isApply == null) {\n    isApply = false;\n  }\n  if (isDefault) {\n    this.captioningObject.selected = this.cloneObject(this.captioningObject["default"]);\n    this.list.font.value = this.captioningObject["default"].fontFamily;\n    this.list.edge.value = this.captioningObject["default"].edgeType != null ? this.captioningObject["default"].edgeType : "none";\n    this.list.size.value = this.captioningObject["default"].size;\n    this.list.scroll.value = this.captioningObject["default"].scroll;\n    this.picker.color.style.backgroundColor = this.captioningObject["default"].fontColor;\n    this.picker.background.style.backgroundColor = this.captioningObject["default"].backgroundColor;\n    this.picker.edge.style.backgroundColor = this.captioningObject["default"].edgeColor;\n    this.picker.window.style.backgroundColor = this.captioningObject["default"].windowColor;\n  } else {\n    if (this.captioningObject.selected.fontFamily != null) {\n      this.list.font.value = this.captioningObject.selected.fontFamily;\n    }\n    this.list.edge.value = this.captioningObject.selected.edgeType != null ? this.captioningObject.selected.edgeType : "none";\n    if (this.captioningObject.selected.size != null) {\n      this.list.size.value = this.captioningObject.selected.size;\n    }\n    this.picker.color.style.backgroundColor = this.captioningObject.selected.fontColor;\n    if (this.captioningObject.selected.backgroundColor != null) {\n      this.picker.background.style.backgroundColor = this.captioningObject.selected.backgroundColor;\n    }\n    if (this.captioningObject.selected.edgeColor != null) {\n      this.picker.edge.style.backgroundColor = this.captioningObject.selected.edgeColor;\n    }\n    if (this.captioningObject.selected.windowColor != null) {\n      this.picker.window.style.backgroundColor = this.captioningObject.selected.windowColor;\n    }\n  }\n  fontFamily = "font-family: " + (isDefault ? this.captioningObject["default"].fontFamily : this.list.font.value) + " !important;";\n  edgeType = (isDefault ? this.captioningObject["default"].edgeType + this.captioningObject["default"].edgeColor : this.list.edge.value + " " + this.picker.edge.style.backgroundColor) + " !important;";\n  fontSize = "font-size: " + (isDefault ? this.captioningObject["default"].size : this.list.size.value) + " !important;";\n  color = "color: " + (isDefault ? this.captioningObject["default"].fontColor : this.picker.color.style.backgroundColor) + " !important;";\n  backgroundColor = "background-color: " + (isDefault ? this.captioningObject["default"].backgroundColor : this.picker.background.style.backgroundColor) + " !important;";\n  windowColor = "background-color: " + (isDefault ? this.captioningObject["default"].windowColor : this.picker.window.style.backgroundColor) + " !important;";\n  if (isApply) {\n    this.captionningStyle.innerHTML = this.captioningObject.appliedStyleText = \'.akamai-caption-text { \' + fontFamily + fontSize + edgeType + windowColor + \' }\' + \'.akamai-caption-text p { \' + color + backgroundColor + \' }\';\n  } else {\n    this.captionningStyle.innerHTML = this.captioningObject.appliedStyleText + \'.akamai-caption-text-preview { \' + fontFamily + fontSize + edgeType + windowColor + \' }\' + \'.akamai-caption-text-preview p { \' + color + backgroundColor + \' }\';\n  }\n};\n\nCaptioningHTMLMediator.prototype.toggleButtonHandler = function(isON, isTargetButton) {\n  if (isON == null) {\n    isON = false;\n  }\n  if (isTargetButton == null) {\n    isTargetButton = true;\n  }\n  if (isON) {\n    this.classList.add("captioning-floater-btnselected", this.toggle.ON);\n    this.classList.remove("captioning-floater-btnselected", this.toggle.OFF);\n  } else {\n    this.classList.add("captioning-floater-btnselected", this.toggle.OFF);\n    this.classList.remove("captioning-floater-btnselected", this.toggle.ON);\n  }\n  if (isTargetButton) {\n    this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE, isON);\n  }\n  this.sendNotification(UserSettingsNotifications.UPDATE_SETTINGS, {\n    captioning: {\n      hidden: !isON\n    }\n  });\n};\n\n/* Get Caption Container Display Height\n*/\nCaptioningHTMLMediator.prototype.getCaptionDisplayHeight = function() {\n  var height, i, length;\n  height = 0;\n  i = length = this.captionText.childNodes.length;\n  while (i) {\n    --i;\n    if (length === 3 && i === 0) {\n      break;\n    }\n    height += Utils.getActualSize(this.captionText.childNodes[i]).height;\n  }\n  return height + "px";\n};\n\n/* Scroll Captions\n*/\nCaptioningHTMLMediator.prototype.scrollCaptions = function(scrollHeight, scrollTop, steps) {\n  var captionTextInstance, scroll, stepSize;\n  if (scrollHeight == null) {\n    scrollHeight = this.captionText.scrollHeight;\n  }\n  if (scrollTop == null) {\n    scrollTop = this.captionText.scrollTop;\n  }\n  if (steps == null) {\n    steps = 20;\n  }\n  stepSize = (scrollHeight - scrollTop) / steps;\n  captionTextInstance = this.captionText;\n  scroll = function() {\n    var _results;\n    if (scrollTop < scrollHeight) {\n      captionTextInstance.scrollTop = scrollTop += stepSize;\n      return setTimeout(scroll, 20);\n    } else {\n      _results = [];\n      while (captionTextInstance.childNodes.length > 2) {\n        _results.push(captionTextInstance.removeChild(captionTextInstance.firstChild));\n      }\n      return _results;\n    }\n  };\n  scroll();\n};\n\n/**\n * @override\n*/\nCaptioningHTMLMediator.prototype.listNotificationInterests = function() {\n  return [CaptioningNotifications.CUE_CHANGE, CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE, CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY, CaptioningNotifications.SETTINGS_CHANGE, CaptioningNotifications.TRACK_SELECTED, CaptioningNotifications.VISIBILITY_CHANGE];\n};\n\n/**\n * @override\n*/\nCaptioningHTMLMediator.prototype.handleNotification = function(notification) {\n  var body, captions, childNode, cue, i, name, note, state, temp, _i, _j, _len, _len1, _ref;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case CaptioningNotifications.CUE_CHANGE:\n      captions = "";\n      for (_i = 0, _len = body.length; _i < _len; _i++) {\n        cue = body[_i];\n        captions += cue.html;\n      }\n      switch (this.scroll.type) {\n        case "popout":\n          this.captionText.innerHTML = captions;\n          break;\n        case "rollon":\n        case "painton":\n          temp = document.createElement("div");\n          temp.innerHTML = captions;\n          _ref = temp.childNodes;\n          for (i = _j = 0, _len1 = _ref.length; _j < _len1; i = ++_j) {\n            childNode = _ref[i];\n            this.captionText.appendChild(childNode);\n          }\n          this.captionText.style.maxHeight = this.getCaptionDisplayHeight();\n          this.scrollCaptions();\n      }\n      break;\n    case CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE:\n    case CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY:\n      if (this.settingsUiVisible) {\n        this.colorPicker.style.display = "none";\n      }\n      this.settingsUiVisible = !this.settingsUiVisible;\n      if (this.settingsUiVisible && this.list.language.length === 1) {\n        this.languageListPopulate();\n      }\n      note = this.settingsUiVisible ? Notifications.ADD_APPLICATION_STATE : Notifications.REMOVE_APPLICATION_STATE;\n      state = "cc-setting-active";\n      this.sendNotification(note, state);\n      break;\n    case CaptioningNotifications.SETTINGS_CHANGE:\n      this.captioningObject.selected = body;\n      this.applyCaptioningStyle(false, true);\n      break;\n    case CaptioningNotifications.TRACK_SELECTED:\n      this.list.language.value = notification.body.language;\n      break;\n    case CaptioningNotifications.VISIBILITY_CHANGE:\n      this.toggleButtonHandler(body, false);\n  }\n};\n\n/**\n * The CaptioningMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n * @param {Object} viewComponent\n*/\nfunction CaptioningNativeMediator(viewComponent) {\n  CaptioningNativeMediator.__super__.constructor.call(this, CaptioningNativeMediator.NAME, viewComponent);\n}\n\n\n__extends(CaptioningNativeMediator, LocalizedMediator);\n\n\n/**\n * The name of the this Mediator.\n * \n * @static\n * @type {string}\n*/\nCaptioningNativeMediator.NAME = "CaptioningNativeMediator";\n\nCaptioningNativeMediator.prototype.video = null;\n\nCaptioningNativeMediator.prototype.index = -1;\n\nCaptioningNativeMediator.prototype.plugin = null;\n\n/**\n * @override\n*/\nCaptioningNativeMediator.prototype.onRegister = function() {\n  this.video = this.facade.player.mediaElement;\n  this.plugin = this.facade.retrieveProxy(CaptioningProxy.NAME);\n};\n\n/**\n * @override\n*/\nCaptioningNativeMediator.prototype.listNotificationInterests = function() {\n  return [CaptioningNotifications.VISIBILITY_CHANGE, CaptioningNotifications.TRACK_SELECTED, CaptioningNotifications.TRACKS_LOADED];\n};\n\n/**\n * @override\n*/\nCaptioningNativeMediator.prototype.handleNotification = function(notification) {\n  var body, cue, textTrack, textTrackCue, track, _i, _j, _len, _len1, _ref;\n  body = notification.getBody();\n  switch (notification.getName()) {\n    case CaptioningNotifications.TRACKS_LOADED:\n      for (_i = 0, _len = body.length; _i < _len; _i++) {\n        track = body[_i];\n        if (!(track.kind === "captions" || track.kind === "subtitles")) {\n          continue;\n        }\n        textTrack = this.video.addTextTrack(track.kind, track.label, track.srclang);\n        _ref = track.cues;\n        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n          cue = _ref[_j];\n          textTrackCue = new TextTrackCue(cue.startTime, cue.endTime, cue.text);\n          cue.id = cue.id;\n          textTrack.addCue(textTrackCue);\n        }\n      }\n      break;\n    case CaptioningNotifications.TRACK_SELECTED:\n      if (this.index > -1) {\n        this.video.textTracks[this.index].mode = "hidden";\n      }\n      this.index = this.plugin.getTracks().indexOf(body);\n      if (!this.plugin.getHidden()) {\n        this.video.textTracks[this.index].mode = "showing";\n      }\n      break;\n    case CaptioningNotifications.VISIBILITY_CHANGE:\n      this.video.textTracks[this.index].mode = this.plugin.getHidden() ? "hidden" : "showing";\n  }\n};\n\n/** \n * PluginMediator class.\n *   \n * @constructor\n * @private\n * @extends {OverlayMediator}\n*/\nfunction PluginMediator() {\n  PluginMediator.__super__.constructor.call(this);\n}\n\n\n__extends(PluginMediator, OverlayMediator);\n\n\n/** @override\n*/\nPluginMediator.prototype.initializeNotifier = function(key) {\n  PluginMediator.__super__.initializeNotifier.call(this, key);\n  this.plugin = this.facade.retrieveProxy(ModuleProxy.NAME);\n  this.media = this.facade.player.retrieveProxy(MediaProxy.NAME);\n};\n\n/** @override\n*/\nPluginMediator.prototype.onRegister = function() {\n  PluginMediator.__super__.onRegister.call(this);\n  this.facade.viewComponent = this.viewComponent;\n};\n\n/**\n * The CaptioningMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n * @param {Object} viewComponent\n*/\nfunction CaptioningMediator(viewComponent) {\n  CaptioningMediator.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(CaptioningMediator, PluginMediator);\n\n\nCaptioningMediator.prototype.componentName = "captioning";\n\nCaptioningMediator.prototype.captionButton = null;\n\n/**\n * @override\n*/\nCaptioningMediator.prototype.onRegister = function() {\n  var button;\n  button = new ButtonMediator(this.localizationManager.getString(LocalizationConstants.MSG_CC), this.viewComponent, null, "caption", this.onclick.bind(this));\n  this.facade.registerMediator(button);\n  this.captionButton = button.getViewComponent();\n  this.sendNotification(Notifications.ADD_CONTROL, this.captionButton);\n  CaptioningMediator.__super__.onRegister.call(this);\n};\n\n/**\n*/\nCaptioningMediator.prototype.onclick = function(event) {\n  var _ref;\n  event.stopImmediatePropagation();\n  if (((_ref = this.plugin.getTrack()) != null ? _ref.type : void 0) === "embedded") {\n    this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE, this.plugin.getHidden());\n  } else if (event.currentTarget === this.captionButton) {\n    this.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE, this.plugin.getHidden());\n  }\n  return false;\n};\n\n/**\n * @override\n*/\nCaptioningMediator.prototype.listNotificationInterests = function() {\n  return [CaptioningNotifications.VISIBILITY_CHANGE, CaptioningNotifications.ENABLED, CaptioningNotifications.TRACK_SELECTED];\n};\n\n/**\n * @override\n*/\nCaptioningMediator.prototype.handleNotification = function(notification) {\n  var body, note, state;\n  body = notification.getBody();\n  note = body ? Notifications.ADD_APPLICATION_STATE : Notifications.REMOVE_APPLICATION_STATE;\n  switch (notification.getName()) {\n    case CaptioningNotifications.TRACK_SELECTED:\n      state = "cc-embedded";\n      note = body.type === "embedded" ? Notifications.ADD_APPLICATION_STATE : Notifications.REMOVE_APPLICATION_STATE;\n      break;\n    case CaptioningNotifications.VISIBILITY_CHANGE:\n      state = "cc-active";\n      break;\n    case CaptioningNotifications.ENABLED:\n      note = body ? Notifications.ADD_CONTROL_STATE : Notifications.REMOVE_CONTROL_STATE;\n      state = "cc-enabled";\n  }\n  this.sendNotification(note, state);\n};\n\n/** \n * The OmniturePlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction OmniturePlugin() {\n  OmniturePlugin.__super__.constructor.call(this);\n}\n\n\n__extends(OmniturePlugin, Plugin);\n\n\nOmniturePlugin.prototype.moduleName = "omniture";\n\n/** @override\n*/\nOmniturePlugin.prototype.createController = function() {\n  this.registerCommand(Notifications.CHANGE_MEDIA, OmnitureChangeMediaCommand);\n  this.registerCommand(Notifications.ENDED, OmnitureEndedCommand);\n  this.registerCommand(Notifications.STARTED, OmnitureStartCommand);\n  this.registerCommand(Notifications.PLAY, OmniturePlayCommand);\n  this.registerCommand(Notifications.PAUSE, OmniturePauseCommand);\n  this.registerCommand(Notifications.SEEKING, OmnitureSeekingCommand);\n  this.registerCommand(Notifications.SEEKED, OmnitureSeekedCommand);\n  this.registerCommand(Notifications.CHANGE_CONTENT, OmnitureEndedCommand);\n  this.registerCommand(Notifications.CONTENT_CHANGED, OmnitureContentChangedCommand);\n  this.registerCommand(AdNotifications.AD_LOADED, OmnitureAdLoadedCommand);\n  this.registerCommand(AdNotifications.AD_STARTED, OmnitureAdStartedCommand);\n  this.registerCommand(AdNotifications.AD_PLAY, OmnitureAdPlayCommand);\n  this.registerCommand(AdNotifications.AD_PAUSE, OmnitureAdPauseCommand);\n  this.registerCommand(AdNotifications.AD_TIME_UPDATE, OmnitureAdTimeUpdateCommand);\n  this.registerCommand(AdNotifications.BREAK_END, OmnitureAdBreakEndCommand);\n};\n\n/** @override\n*/\nOmniturePlugin.prototype.createModel = function() {\n  var _ref;\n  if (((_ref = this.config.heartbeat) != null ? _ref.enabled : void 0) === true) {\n    this.registerProxy(new HeartbeatProxy(this.config));\n  } else {\n    this.registerProxy(new OmnitureProxy(this.config));\n  }\n};\n\n/**\n*/\nOmniturePlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.CHANGE_MEDIA, Notifications.CHANGE_CONTENT, Notifications.CONTENT_CHANGED, Notifications.TIME_UPDATE, Notifications.ENDED, Notifications.STARTED, Notifications.PLAY, Notifications.PAUSE, Notifications.SEEKING, Notifications.SEEKED, AdNotifications.AD_LOADED, AdNotifications.AD_STARTED, AdNotifications.AD_PLAY, AdNotifications.AD_PAUSE, AdNotifications.AD_TIME_REMAINING, AdNotifications.BREAK_START, AdNotifications.BREAK_END];\n};\n\n\nAMP.registerPlugin("omniture", "html", OmniturePlugin);\nAMP.registerPlugin("omniture", "flash", OmnitureWrapper);\n\n/** \n * @constructor\n * @private\n*/\nfunction InfoWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  InfoWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(InfoWrapper, PluginWrapper);\n\n\nInfoWrapper.NAME = "InfoWrapper";\n\n/** @override\n*/\nInfoWrapper.prototype.listNotificationInterests = function() {\n  return [FlashNotifications.CREATE_FLASH_VARS, FlashNotifications.CREATE_XML, FlashNotifications.SHARE, FlashNotifications.SHARE_REQUEST];\n};\n\n/**\n*/\nInfoWrapper.prototype.handleNotification = function(notification) {\n  var application, body, data, element, elements, flashvars, info, name, property, provider, text, type, view, xml, _i, _len;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.CREATE_FLASH_VARS:\n      flashvars = body.flashvars;\n      break;\n    case FlashNotifications.CREATE_XML:\n      xml = body.xml;\n      application = xml.firstChild;\n      view = xml.getElementsByTagName("view")[0];\n      elements = xml.getElementsByTagName("element");\n      for (_i = 0, _len = elements.length; _i < _len; _i++) {\n        element = elements[_i];\n        if (!(element.getAttribute("id") === "infoOverlayAdvanced")) {\n          continue;\n        }\n        info = element;\n        break;\n      }\n      if (!(view != null)) {\n        return;\n      }\n      if (!(info != null)) {\n        info = xml.createElement("element");\n        info.setAttribute("id", "infoOverlayAdvanced");\n        info.setAttribute("displayStates", "preplay,paused,ns,fs,mouseover");\n        view.insertBefore(info, view.childNodes[0]);\n      }\n      data = xml.createElement("data");\n      info.appendChild(data);\n      if (this.config.title != null) {\n        property = xml.createElement("property");\n        property.setAttribute("key", "title");\n        text = XMLUtils.createTextContent(xml, this.config.title);\n        property.appendChild(text);\n        data.appendChild(property);\n      }\n      if (this.config.description != null) {\n        property = xml.createElement("property");\n        property.setAttribute("key", "description");\n        text = XMLUtils.createTextContent(xml, this.config.description);\n        property.appendChild(text);\n        data.appendChild(property);\n      }\n      if (this.config.more != null) {\n        property = xml.createElement("property");\n        property.setAttribute("key", "more");\n        text = XMLUtils.createTextContent(xml, this.config.more);\n        property.appendChild(text);\n        data.appendChild(property);\n      }\n      if (this.config.less != null) {\n        property = xml.createElement("property");\n        property.setAttribute("key", "less");\n        text = XMLUtils.createTextContent(xml, this.config.less);\n        property.appendChild(text);\n        data.appendChild(property);\n      }\n      if (this.config.provider != null) {\n        provider = xml.createElement("property");\n        provider.setAttribute("key", "provider");\n        data.appendChild(provider);\n        if (this.config.provider.name != null) {\n          property = xml.createElement("property");\n          property.setAttribute("key", "name");\n          text = XMLUtils.createTextContent(xml, this.config.provider.name);\n          property.appendChild(text);\n          provider.appendChild(property);\n        }\n        if (this.config.provider.image != null) {\n          property = xml.createElement("property");\n          property.setAttribute("key", "image");\n          text = XMLUtils.createTextContent(xml, this.config.provider.image);\n          property.appendChild(text);\n          provider.appendChild(property);\n        }\n      }\n      break;\n    case FlashNotifications.SHARE:\n    case FlashNotifications.SHARE_REQUEST:\n      type = "share";\n  }\n  if (type != null) {\n    return this.dispatchEvent(new Event(type, body));\n  }\n};\n\n\nAMP.registerPlugin("info", "flash", InfoWrapper);\n\n/**\n * The InfoMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n*/\nfunction InfoMediator() {\n  InfoMediator.__super__.constructor.call(this);\n}\n\n\n__extends(InfoMediator, PluginMediator);\n\n\nInfoMediator.prototype.componentName = "info";\n\nInfoMediator.prototype.title = null;\n\nInfoMediator.prototype.shortDescription = null;\n\nInfoMediator.prototype.icon = null;\n\nInfoMediator.prototype.provider = null;\n\n/**\n * @override\n*/\nInfoMediator.prototype.onRegister = function() {\n  this.title = this.create("info-title");\n  this.provider = this.create("info-provider");\n  this.shortDescription = this.create("info-short-description");\n  this.icon = this.create("info-icon", this, "img");\n  this.dataChangedHandler();\n  InfoMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nInfoMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.MEDIA_CHANGE];\n};\n\n/**\n * @override\n*/\nInfoMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.MEDIA_CHANGE:\n      this.dataChangedHandler();\n  }\n};\n\nInfoMediator.prototype.moreClicked = function(event) {\n  return this.classList.add("open");\n};\n\nInfoMediator.prototype.closeClicked = function(event) {\n  return this.classList.remove("open");\n};\n\nInfoMediator.prototype.dataChangedHandler = function() {\n  var styles, _ref;\n  if (this.plugin.value.title != null) {\n    this.title.textContent = this.plugin.value.title;\n  }\n  if (((_ref = this.plugin.value.provider) != null ? _ref.image : void 0) != null) {\n    this.icon.src = this.plugin.value.provider.image;\n  }\n  styles = getComputedStyle(this.title);\n  if (this.title.clientHeight > parseInt(styles.lineHeight)) {\n    this.classList.add("info-small");\n    this.shortDescription.innerHTML = this.provider.innerHTML = "";\n    return;\n  } else {\n    this.classList.remove("info-small");\n  }\n  this.truncateDescription(this.plugin.value.description, this.plugin.value.more);\n  this.provider.textContent = this.plugin.value.provider.name != null ? "" + this.plugin.value.provider.name : "";\n};\n\nInfoMediator.prototype.truncateDescription = function(desc) {\n  var character, ellp, index, text, tf, _i, _len;\n  ellp = "...";\n  text = "";\n  tf = this.shortDescription;\n  tf.textContent = "";\n  if (!(desc != null)) {\n    return;\n  }\n  for (index = _i = 0, _len = desc.length; _i < _len; index = ++_i) {\n    character = desc[index];\n    tf.textContent = text + character + ellp;\n    if (tf.scrollHeight > tf.clientHeight) {\n      tf.textContent = text + ellp;\n      break;\n    } else {\n      text += character;\n    }\n  }\n};\n\n/** \n * The InfoProxy class.\n *   \n * @constructor\n * @private \n * @extends {DataBoundConfigurationProxy}\n * @param {Object} data\n*/\nfunction InfoProxy(data) {\n  InfoProxy.__super__.constructor.call(this, data);\n}\n\n\n__extends(InfoProxy, DataBoundConfigurationProxy);\n\n\nInfoProxy.prototype.configurationName = "info";\n\n/** @static\n*/\nInfoProxy.NAME = ModuleProxy.NAME;\n\nInfoProxy.prototype.defaults = {\n  title: \'#{media.title}\',\n  description: \'#{media.description}\',\n  provider: {},\n  more: "read more",\n  less: "less"\n};\n\n/** \n * The CaptioningPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Feature}\n*/\nfunction CaptioningPlugin() {\n  CaptioningPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(CaptioningPlugin, Feature);\n\n\nCaptioningPlugin.prototype.featureName = "captioning";\n\nCaptioningPlugin.prototype.moduleName = "captioning";\n\n/** @override\n*/\nCaptioningPlugin.prototype.createController = function() {\n  this.registerCommand(Notifications.CHANGE_MEDIA, CaptioningChangeMediaCommand);\n  this.registerCommand(Notifications.STARTED, CaptioningStartedCommand);\n  this.registerCommand(Notifications.TIME_UPDATE, CaptioningTimeUpdateCommand);\n  this.registerCommand(CaptioningNotifications.VISIBILITY_CHANGE, CaptioningVisibilityChangeCommand);\n  this.registerCommand(CaptioningNotifications.ENABLED, PluginEventCommand);\n  this.registerCommand(CaptioningNotifications.TRACK_SELECTED, PluginEventCommand);\n  this.registerCommand(CaptioningNotifications.TRACKS_LOADED, PluginEventCommand);\n  this.registerCommand(CaptioningNotifications.CUE_CHANGE, PluginEventCommand);\n};\n\n/** @override\n*/\nCaptioningPlugin.prototype.createModel = function() {\n  this.proxy = new CaptioningProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nCaptioningPlugin.prototype.createView = function() {\n  var mediator;\n  mediator = new CaptioningMediator();\n  this.registerMediator(mediator);\n  this.registerMediator(new CaptioningHTMLMediator(mediator.viewComponent));\n};\n\n/** @override\n*/\nCaptioningPlugin.prototype.createAPI = function() {\n  return new CaptioningAPI(this);\n};\n\n/**\n*/\nCaptioningPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.CHANGE_MEDIA, Notifications.STARTED, Notifications.TIME_UPDATE, CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY];\n};\n\n/**\n*/\nCaptioningPlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return CaptioningPlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in CaptioningNotifications) {\n      value = CaptioningNotifications[key];\n      if (value !== CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY) {\n        _results.push(value);\n      }\n    }\n    return _results;\n  })()).concat([Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, UserSettingsNotifications.UPDATE_SETTINGS, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE]);\n};\n\n/**\n * @return {boolean} The hidden flag.\n * @expose\n*/\nCaptioningPlugin.prototype.getHidden = function() {\n  return this.proxy.getHidden();\n};\n\n/**\n * @param {boolean} value The hidden flag.\n * @expose\n*/\nCaptioningPlugin.prototype.setHidden = function(value) {\n  this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE, !value);\n  return value;\n};\n\n/**\n * Returns an array of caption tracks\n * \n * @return {Array.<CaptionTrack>} The list of text tracks.\n * @expose\n*/\nCaptioningPlugin.prototype.getTracks = function() {\n  return this.proxy.getTracks();\n};\n\n/**\n * Returns the currently selected track.\n * \n * @return {CaptionTrack} The currently selected caption track.\n * @expose\n*/\nCaptioningPlugin.prototype.getTrack = function() {\n  return this.proxy.getTrack();\n};\n\n/**\n * Selects a caption track\n * \n * @param {CaptionTrack} value The caption track to select\n * @expose\n*/\nCaptioningPlugin.prototype.setTrack = function(value) {\n  this.proxy.setTrack(value);\n  return value;\n};\n\n/**\n * Selects a caption track by its index in the getTracks array.\n * \n * @param {number}        index   The index to select \n * @return {CaptionTrack}         The selected caption track.\n * @expose\n*/\nCaptioningPlugin.prototype.selectTrackByIndex = function(index) {\n  return this.proxy.selectTrackByIndex(index);\n};\n\n/**\n * Selects a caption track by it\'s language property.\n * \n * @param {string}        lang  The language to select \n * @return {CaptionTrack}       The selected caption track.\n * @expose\n*/\nCaptioningPlugin.prototype.selectTrackByLanguage = function(lang) {\n  return this.proxy.selectTrackByLanguage(lang);\n};\n\n/**\n * Sets a caption Settings Object (styles)\n * \n * @param {Object}  object  The caption settings object. \n * @expose\n*/\nCaptioningPlugin.prototype.changeSettings = function(object) {\n  this.sendNotification(CaptioningNotifications.SETTINGS_CHANGE, object);\n  return object;\n};\n\n\nAMP.registerPlugin("captioning", "html", CaptioningPlugin);\n\nfunction IMAWrapper() {\n  return IMAWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(IMAWrapper, AdWrapper);\n\n\nIMAWrapper.NAME = "IMAWrapper";\n\nIMAWrapper.prototype.flashPluginIds = ["GoogleIMAPlugin", "IMAOverlayAdPlugin"];\n\n/**\n*/\nIMAWrapper.prototype.createXML = function(xml) {\n  var admedia, application, companion, companions, ids, overlay, prop, props, vendor, _i, _j, _k, _len, _len1, _len2, _ref;\n  application = xml.firstChild;\n  admedia = xml.getElementsByTagName("admedia")[0];\n  if (!(admedia != null)) {\n    admedia = xml.createElement("admedia");\n    application.appendChild(admedia);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "dfp");\n  admedia.appendChild(vendor);\n  props = [\n    {\n      value: this.config.adTagUrl,\n      key: "DFP_AD_TAG_URL"\n    }, {\n      value: this.config.maxBitrate,\n      key: "DFP_MAX_BITRATE"\n    }, {\n      value: this.config.sceneMarkers,\n      key: "displaySceneMarkers"\n    }, {\n      value: this.config.ppid,\n      key: "DFP_PPID"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  if (this.config.position != null) {\n    vendor.setAttribute("position", this.config.position);\n  }\n  if (this.config.params != null) {\n    if (this.config.params.adTag != null) {\n      this.createProperty(xml, "DFP_AD_TAG_PARAMS", this.config.params.adTag, vendor);\n    }\n    if (this.config.params.manual != null) {\n      this.createProperty(xml, "DFP_MANUAL_PARAMS", this.config.params.manual, vendor);\n    }\n  }\n  if (this.config.companions != null) {\n    companions = [];\n    ids = [];\n    _ref = this.config.companions;\n    for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n      companion = _ref[_j];\n      companions.push(companion.width + "x" + companion.height);\n      ids.push(companion.id);\n    }\n    this.createProperty(xml, "DFP_SIZE", companions.join(","), vendor);\n    this.createProperty(xml, "COMPANION_ID", ids.join(","), vendor);\n  }\n  if (this.config.disableCompanionAds != null) {\n    this.createProperty(xml, "disableCompanionAds", this.config.disableCompanionAds, vendor);\n  }\n  if (this.config.overlay != null) {\n    if (this.config.overlay.enabled === true) {\n      overlay = xml.createElement("overlay");\n      admedia.appendChild(overlay);\n    }\n    props = [\n      {\n        value: "dfp",\n        key: "OVERLAY_AD_PARTNER"\n      }, {\n        value: this.config.overlay.adTagUrl,\n        key: "OVERLAY_AD_BASE_URL"\n      }, {\n        value: this.config.overlay.delay,\n        key: "OVERLAY_AD_DELAY"\n      }, {\n        value: this.config.overlay.interval,\n        key: "OVERLAY_AD_INTERVAL"\n      }, {\n        value: this.config.overlay.duration,\n        key: "OVERLAY_AD_DURATION"\n      }, {\n        value: "" + this.config.overlay.width + "x" + this.config.overlay.height,\n        key: "OVERLAY_AD_SIZE"\n      }\n    ];\n    for (_k = 0, _len2 = props.length; _k < _len2; _k++) {\n      prop = props[_k];\n      if (prop.value != null) {\n        this.createProperty(xml, prop.key, prop.value, overlay);\n      }\n    }\n  }\n  return xml;\n};\n\n/** \n * The IMAFullscreenProxy class.\n *   \n * @constructor\n * @private\n * @extends {IMAProxy}\n * @param   {Object}    config  The configuration object.\n*/\nfunction IMAFullscreenProxy(config) {\n  IMAFullscreenProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(IMAFullscreenProxy, IMAProxy);\n\n\n/** @static\n*/\nIMAFullscreenProxy.NAME = IMAProxy.NAME;\n\n/**\n*/\nIMAFullscreenProxy.prototype.createPlugin = function() {\n  return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container, this.facade.player.getMediaElement(), this.facade.getViewComponent().container);\n};\n\n/** @override\n*/\nIMAFullscreenProxy.prototype.engage = function(media) {\n  IMAFullscreenProxy.__super__.engage.call(this, media);\n  this.sendNotification(Notifications.DISABLE_VIDEO_EVENTS, ["paused", "ended", "durationchange", "error"]);\n};\n\n/** @override\n*/\nIMAFullscreenProxy.prototype.reset = function(media) {\n  IMAFullscreenProxy.__super__.reset.call(this, media);\n  this.sendNotification(Notifications.ENABLE_VIDEO_EVENTS, ["paused", "ended", "durationchange", "error"]);\n};\n\n/** @override\n*/\nIMAFullscreenProxy.prototype.breakStart = function() {\n  this.playbackCore = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore();\n  this.playbackCore.setEnabled(false);\n};\n\n/** @override\n*/\nIMAFullscreenProxy.prototype.breakEnd = function() {\n  IMAFullscreenProxy.__super__.breakEnd.call(this);\n  this.playbackCore.setEnabled(true);\n};\n\n/**\n * The IMAAddOverlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction IMAAddOverlayCommand() {\n  IMAAddOverlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(IMAAddOverlayCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nIMAAddOverlayCommand.prototype.execute = function(notification) {\n  this.facade.sendNotification(Notifications.ADD_APPLICATION_STATE, "ad-overlay-mode");\n};\n\n/**\n * The IMARemoveOverlayCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction IMARemoveOverlayCommand() {\n  IMARemoveOverlayCommand.__super__.constructor.call(this);\n}\n\n\n__extends(IMARemoveOverlayCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nIMARemoveOverlayCommand.prototype.execute = function(notification) {\n  var proxy;\n  proxy = this.facade.retrieveProxy(IMAOverlayProxy.NAME);\n  proxy.stop();\n  this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "ad-overlay-mode");\n};\n\n/**\n * The IMAOverlayMediator class.\n * \n * @constructor\n * @private\n * @extends {OverlayMediator}\n * @param {Object} viewComponent\n*/\nfunction IMAOverlayMediator() {\n  IMAOverlayMediator.__super__.constructor.call(this);\n}\n\n\n__extends(IMAOverlayMediator, OverlayMediator);\n\n\nIMAOverlayMediator.prototype.componentName = "ad-overlay";\n\nIMAOverlayMediator.prototype.anchor = null;\n\nIMAOverlayMediator.prototype.image = null;\n\nIMAOverlayMediator.prototype.tracker = null;\n\nIMAOverlayMediator.prototype.tracker2 = null;\n\nIMAOverlayMediator.prototype.closeButton = null;\n\nIMAOverlayMediator.prototype.closeText = null;\n\n/**\n * @override\n*/\nIMAOverlayMediator.prototype.onRegister = function() {\n  var _this = this;\n  this.anchor = this.create("ad-overlay-anchor");\n  this.anchor.target = "_blank";\n  this.image = this.create("ad-overlay-img", this.anchor, "img");\n  this.tracker = this.create();\n  this.tracker.width = 0;\n  this.tracker.height = 0;\n  this.tracker2 = this.create(null, this, "img");\n  this.tracker2.width = 0;\n  this.tracker2.height = 0;\n  this.closeButton = this.create("ad-close-button", this.anchor);\n  this.closeButton.onclick = function(event) {\n    event.stopImmediatePropagation();\n    _this.sendNotification(IMANotifications.REMOVE_OVERLAY);\n    return false;\n  };\n  this.closeText = this.createText("ad-close-text", "x", this.closeButton);\n  IMAOverlayMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nIMAOverlayMediator.prototype.listNotificationInterests = function() {\n  return [IMANotifications.ADD_OVERLAY, IMANotifications.REMOVE_OVERLAY];\n};\n\n/**\n * @override\n*/\nIMAOverlayMediator.prototype.handleNotification = function(notification) {\n  var ad;\n  switch (notification.getName()) {\n    case IMANotifications.ADD_OVERLAY:\n      ad = notification.getBody();\n      this.image.src = ad.src;\n      this.anchor.href = ad.href;\n      this.tracker.src = ad.tracking[0];\n      this.tracker2.src = ad.tracking[1];\n  }\n};\n\n/**\n * The IMAReadyCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction IMAReadyCommand() {\n  IMAReadyCommand.__super__.constructor.call(this);\n}\n\n\n__extends(IMAReadyCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nIMAReadyCommand.prototype.execute = function(notification) {\n  this.facade.retrieveProxy(IMAProxy.NAME).ready();\n};\n\n/**\n * The IMADisplayStateChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction IMADisplayStateChangeCommand() {\n  IMADisplayStateChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(IMADisplayStateChangeCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nIMADisplayStateChangeCommand.prototype.execute = function(notification) {\n  this.facade.retrieveProxy(IMAProxy.NAME).resize(notification.getBody());\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar StatsNotifications = {\n  VISIBILITY_CHANGE: "statsvisibilitychange",\n  BITRATES_UPDATE: "bitratesUpdate"\n};\n\n/** \n * The InfoPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction InfoPlugin() {\n  InfoPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(InfoPlugin, Plugin);\n\n\nInfoPlugin.prototype.moduleName = "info";\n\n/** @override\n*/\nInfoPlugin.prototype.createModel = function() {\n  this.registerProxy(new InfoProxy(this.config));\n};\n\n/** @override\n*/\n/** @override\n*/\nInfoPlugin.prototype.createView = function() {\n  this.registerMediator(new InfoMediator());\n};\n\n/** @override\n*/\nInfoPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.MEDIA_CHANGE];\n};\n\n\nAMP.registerPlugin("info", "html", InfoPlugin);\nAMP.registerPlugin("info", "external", InfoPlugin);\n\n/** \n * @constructor \n * @private\n*/\nfunction StatsProxy(config) {\n  StatsProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(StatsProxy, ModuleProxy);\n\n\n/** @static\n*/\nStatsProxy.NAME = ModuleProxy.NAME;\n\nStatsProxy.prototype.defaults = {\n  url: null\n};\n\nStatsProxy.prototype.hidden = true;\n\nStatsProxy.prototype.getURL = function() {\n  return this.data.url;\n};\n\nStatsProxy.prototype.setURL = function(value) {\n  return this.data.url = value;\n};\n\nStatsProxy.prototype.getHidden = function() {\n  return this.hidden;\n};\n\nStatsProxy.prototype.setHidden = function(value) {\n  return this.hidden = value;\n};\n\nStatsProxy.prototype.invoke = function() {\n  var xhr,\n    _this = this;\n  if (this.data.url != null) {\n    return xhr = Utils.get(this.data.url, {\n      onload: function() {\n        if (xhr.response != null) {\n          _this.sendNotification(StatsNotifications.BITRATES_UPDATE, xhr.response);\n        }\n      },\n      onerror: function(error) {\n        return _this.sendNotification(StatsNotifications.BITRATES_UPDATE, null);\n      }\n    });\n  }\n};\n\n/**\n * The StatsVisibilityChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction StatsVisibilityChangeCommand() {\n  StatsVisibilityChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(StatsVisibilityChangeCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nStatsVisibilityChangeCommand.prototype.execute = function(notification) {\n  var statsProxy;\n  statsProxy = this.facade.retrieveProxy(StatsProxy.NAME);\n  statsProxy.setHidden(notification.getBody());\n  statsProxy.setURL("" + (this.facade.player.getSrc()));\n  if (notification.getBody() === false) {\n    statsProxy.invoke();\n  }\n};\n\n/**\n * The StatsMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n * @param {Object} viewComponent\n*/\nfunction StatsMediator() {\n  StatsMediator.__super__.constructor.call(this);\n}\n\n\n__extends(StatsMediator, PluginMediator);\n\n\n/**\n * Stats Mediator\n * \n * @static\n * @type {string}\n*/\nStatsMediator.prototype.componentName = "stats";\n\nStatsMediator.prototype.statsText = null;\n\nStatsMediator.prototype.statsButton = null;\n\nStatsMediator.prototype.bitrateText = null;\n\nStatsMediator.prototype.bitrateArr = null;\n\n/**\n * @override\n*/\nStatsMediator.prototype.onRegister = function() {\n  var _this = this;\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, "stats-enabled");\n  this.classList.add("hidden");\n  this.statsFormat = this.create("stats-text");\n  this.statsBitRate = this.create("stats-text");\n  this.statsPlayBack = this.create("stats-text");\n  this.statsAnalytics = this.create("stats-text");\n  this.statsButton = this.create("stats-button", false);\n  this.statsButton.onclick = function(event) {\n    event.stopImmediatePropagation();\n    _this.sendNotification(StatsNotifications.VISIBILITY_CHANGE, !_this.plugin.getHidden());\n    return false;\n  };\n  this.sendNotification(Notifications.ADD_CONTROL, this.statsButton);\n  StatsMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nStatsMediator.prototype.listNotificationInterests = function() {\n  return [StatsNotifications.VISIBILITY_CHANGE, StatsNotifications.BITRATES_UPDATE];\n};\n\n/**\n * @override\n*/\nStatsMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case StatsNotifications.VISIBILITY_CHANGE:\n      if (this.plugin.getHidden()) {\n        this.classList.add("hidden");\n      } else {\n        this.classList.remove("hidden");\n        this.statsBitRate.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Adaptive Bitrate Renditions</b></p><p>Loading...</p>";\n        this.renderStats();\n      }\n      break;\n    case StatsNotifications.BITRATES_UPDATE:\n      if (body != null) {\n        this.checkContentType(body);\n      } else {\n        this.statsBitRate.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Adaptive Bitrate Renditions</b></p><p>Not Available</p>";\n      }\n  }\n};\n\n/*  Render Stats UI\n*/\nStatsMediator.prototype.renderStats = function() {\n  var analyticsVal, device, formatVal, isDash, playbackVal, player, urlVal, _ref;\n  try {\n    player = this.facade.player;\n    formatVal = player.getMedia() === void 0 ? "Not Available" : player.getMedia().type;\n    urlVal = player.getSrc() === "" || player.getSrc() === null ? "Not Available" : player.getSrc();\n    device = Utils.getDevice();\n    if (device == null) {\n      device = "";\n    }\n    playbackVal = this.facade.player.getConfig().mode !== "" && this.facade.player.getConfig().mode !== null && this.facade.player.getConfig().mode.indexOf("html") !== -1 ? this.facade.player.getVersion() + ", HTML5 Video: " + device : "Not Available";\n    isDash = (_ref = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore()) != null ? _ref.proxyName.indexOf("dash") : void 0;\n    if (isDash > -1) {\n      playbackVal += ", dash.js";\n    }\n    analyticsVal = this.facade.player.getConfig().mediaanalytics.config === "" || this.facade.player.getConfig().mediaanalytics.config === null ? "Not Available" : this.facade.player.getConfig().mediaanalytics.config;\n    this.statsFormat.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Stream</b></p><p>Format: " + formatVal + "</p><p>URL: " + urlVal + "</p>";\n    this.statsPlayBack.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Playback</b></p>" + playbackVal;\n    this.statsAnalytics.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Analytics</b></p>" + analyticsVal;\n  } catch (error) {\n    this.facade.logger.error("[AMP Stats Render Error]:", error);\n  }\n};\n\n/*  Check ContentType for HLS or Dash\n*/\n/*TODO: Remove this When Dash API to get Bitrate is found\n*/\nStatsMediator.prototype.checkContentType = function(items) {\n  var item, xhr, _i, _len, _ref,\n    _this = this;\n  this.bitrateArr = [];\n  if (typeof items === \'object\' && this.facade.player.getMedia().type.indexOf("dash") !== -1) {\n    xhr = Utils.get(items.URL, {\n      onload: function(event) {\n        var bitrateArray, bitrateStr, item, resStr, xml, _i, _len;\n        xml = XMLUtils.parse(event.detail.responseText);\n        bitrateArray = xml.querySelectorAll("AdaptationSet[mimeType*=\'video\']")[0].querySelectorAll("Representation");\n        for (_i = 0, _len = bitrateArray.length; _i < _len; _i++) {\n          item = bitrateArray[_i];\n          bitrateStr = (parseInt(item.getAttribute(\'bandwidth\')) / 1000).toFixed(0);\n          resStr = item.getAttribute(\'width\') + "x" + item.getAttribute(\'height\');\n          _this.bitrateArr.push({\n            bitrate: bitrateStr,\n            res: resStr\n          });\n        }\n        return _this.constructBitrateText(_this.bitrateArr);\n      },\n      onerror: function(event) {\n        return _this.facade.logger.error("[AMP Stats ERROR]", event);\n      }\n    });\n  } else {\n    _ref = items.split("#");\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      item = _ref[_i];\n      if (item.indexOf("BANDWIDTH") !== -1 && item.indexOf("RESOLUTION") !== -1) {\n        this.bitrateArr.push(this.parseBitrate(item));\n      }\n    }\n    this.constructBitrateText(this.bitrateArr);\n  }\n};\n\n/*  Format Bitrate HTML Text\n*/\nStatsMediator.prototype.constructBitrateText = function(bitrateArr) {\n  var bitrateSlNo, item, _i, _len, _ref;\n  this.bitrateArr = bitrateArr;\n  this.bitrateText = \'\';\n  this.bitrateArr.sort(function(a, b) {\n    var aBitrate, bBitrate;\n    aBitrate = parseInt(a.bitrate);\n    bBitrate = parseInt(b.bitrate);\n    if (aBitrate < bBitrate) {\n      return -1;\n    } else if (aBitrate > bBitrate) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n  _ref = this.bitrateArr;\n  for (bitrateSlNo = _i = 0, _len = _ref.length; _i < _len; bitrateSlNo = ++_i) {\n    item = _ref[bitrateSlNo];\n    this.bitrateText += "<p>" + (bitrateSlNo + 1) + ". " + item.bitrate + " kbps " + item.res + "</p>";\n  }\n  if (this.bitrateText === "") {\n    this.bitrateText = "<p>Not Available</p>";\n  }\n  this.statsBitRate.innerHTML = "<p><b class=\'" + this.classList.prefix + "stats-header\'>Adaptive Bitrate Renditions</b></p>" + this.bitrateText;\n};\n\n/*  Parse Bitrate String for HLS\n*/\nStatsMediator.prototype.parseBitrate = function(item) {\n  var bandwidthEndIndex, bandwidthStartIndex, bandwidthStr, resolutionEndIndex, resolutionStartIndex, resolutionStr;\n  bandwidthStartIndex = item.indexOf("BANDWIDTH");\n  bandwidthEndIndex = item.indexOf(",", bandwidthStartIndex + 10);\n  bandwidthStr = item.slice(bandwidthStartIndex + 10, bandwidthEndIndex);\n  resolutionStartIndex = item.indexOf("RESOLUTION");\n  resolutionEndIndex = item.indexOf(",", resolutionStartIndex + 10);\n  if (resolutionEndIndex - resolutionStartIndex > 20 || resolutionEndIndex === -1) {\n    resolutionEndIndex = item.indexOf("x", resolutionStartIndex + 10) + 4;\n  }\n  resolutionStr = item.slice(resolutionStartIndex + 11, resolutionEndIndex);\n  return {\n    bitrate: parseInt(bandwidthStr) / 1000,\n    res: resolutionStr\n  };\n};\n\n/**\n * The AISLaunchIDPLoginCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction AISLaunchIDPLoginCommand() {\n  AISLaunchIDPLoginCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISLaunchIDPLoginCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISLaunchIDPLoginCommand.prototype.execute = function(notification) {\n  AISLaunchIDPLoginCommand.__super__.execute.call(this, notification);\n  this.proxy.launchIDPLogin(notification.getBody());\n};\n\n/**\n * The AISChooserMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n*/\nfunction AISChooserMediator(parent) {\n  AISChooserMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(AISChooserMediator, ComponentMediator);\n\n\nAISChooserMediator.prototype.componentName = "ais-chooser";\n\nAISChooserMediator.prototype.menu = null;\n\nAISChooserMediator.prototype.label = null;\n\nAISChooserMediator.prototype.grid = null;\n\nAISChooserMediator.prototype.select = null;\n\nAISChooserMediator.prototype.login = null;\n\nAISChooserMediator.prototype.title = null;\n\n/**\n * @override\n*/\nAISChooserMediator.prototype.onRegister = function() {\n  var _this = this;\n  this.classList.add("hidden");\n  this.title = this.createText("ais-chooser-title", "Choose your provider");\n  this.grid = this.create("ais-chooser-grid");\n  this.menu = this.create("ais-chooser-menu");\n  this.label = this.createText("ais-chooser-label", "Providers: ", this.menu);\n  this.select = this.create("ais-chooser-select", this.menu, "select");\n  this.login = this.create("ais-chooser-login", false, "input");\n  this.login.type = "button";\n  this.login.value = "Login";\n  EventHandler.create(this.login, EventHandler.CLICK, function(event) {\n    var idpID;\n    if (typeof event.stopImmediatePropagation === "function") {\n      event.stopImmediatePropagation();\n    }\n    idpID = _this.select.options[_this.select.selectedIndex].value;\n    _this.sendNotification(AISNotifications.LAUNCH_IDP_LOGIN, idpID);\n    return false;\n  });\n  this.menu.appendChild(this.login);\n  AISChooserMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nAISChooserMediator.prototype.listNotificationInterests = function() {\n  return [AISNotifications.CHOOSE_AUTH_PROVIDER, AISNotifications.AUTHENTICATING];\n};\n\n/**\n * @override\n*/\nAISChooserMediator.prototype.handleNotification = function(notification) {\n  var baseURL, div, featuredGroup, footprints, group, groups, idp, idps, img, index, key, logos, member, option, options, proxy, resp, span, src, value, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1,\n    _this = this;\n  switch (notification.getName()) {\n    case AISNotifications.CHOOSE_AUTH_PROVIDER:\n      resp = notification.getBody();\n      idps = resp.possible_idps;\n      footprints = resp.footprints || [];\n      groups = resp.grouped_idps || [];\n      proxy = this.facade.retrieveProxy(ModuleProxy.NAME);\n      logos = proxy.value.logos;\n      baseURL = logos != null ? logos.base : void 0;\n      this.grid.innerHTML = "";\n      if ((groups != null) && ((logos != null ? logos.group : void 0) != null)) {\n        for (_i = 0, _len = groups.length; _i < _len; _i++) {\n          group = groups[_i];\n          if (!(group.name === logos.group)) {\n            continue;\n          }\n          featuredGroup = group;\n          break;\n        }\n        if (featuredGroup != null) {\n          _ref = featuredGroup.members;\n          for (index = _j = 0, _len1 = _ref.length; _j < _len1; index = ++_j) {\n            member = _ref[index];\n            idp = idps[member];\n            div = this.create(["ais-chooser-grid-item", "ais-chooser-grid-index-" + (index + 1)], this.grid);\n            if (div.dataset == null) {\n              div.dataset = {};\n            }\n            div.dataset.key = member;\n            div.onclick = function(event) {\n              var idpID, target;\n              if (typeof event.stopImmediatePropagation === "function") {\n                event.stopImmediatePropagation();\n              }\n              target = (event.currentTarget != null) ? event.currentTarget : event.srcElement;\n              idpID = target.dataset.key;\n              _this.sendNotification(AISNotifications.LAUNCH_IDP_LOGIN, idpID);\n              return false;\n            };\n            if (((_ref1 = idps[member].logos) != null ? _ref1[logos.key] : void 0) != null) {\n              img = this.create("ais-chooser-grid-cell-img", div, "img");\n              img.alt = idp.display_name;\n              src = idp.logos[logos.key];\n              if (src.indexOf("http") === -1) {\n                src = baseURL + src;\n              }\n              img.src = src;\n              if (img.dataset == null) {\n                img.dataset = {};\n              }\n              img.dataset.key = member;\n              span = this.create("ais-chooser-grid-cell-label", div, "span");\n              span.innerHTML = idp.display_name;\n            } else {\n              div.innerHTML = idp.display_name;\n            }\n          }\n        }\n      }\n      if (this.grid.innerHTML !== "") {\n        this.classList.add("ais-chooser-featured");\n        this.label.textContent = "Other ";\n      }\n      options = this.select.options;\n      for (index = _k = 0, _len2 = options.length; _k < _len2; index = ++_k) {\n        option = options[index];\n        this.select.options.remove(index);\n      }\n      if (footprints.length > 0) {\n        for (_l = 0, _len3 = footprints.length; _l < _len3; _l++) {\n          key = footprints[_l];\n          options[options.length] = new Option("" + idps[key].display_name, "" + key);\n        }\n      }\n      for (key in idps) {\n        value = idps[key];\n        options[options.length] = new Option("" + value.display_name, "" + key);\n      }\n      this.classList.remove("hidden");\n      break;\n    case AISNotifications.AUTHENTICATING:\n      this.classList.add("hidden");\n  }\n};\n\n/**\n * The AISPlayMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n * @param {Object} viewComponent\n*/\nfunction AISPlayMediator(parent) {\n  AISPlayMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(AISPlayMediator, ComponentMediator);\n\n\nAISPlayMediator.prototype.componentName = "ais-play";\n\nAISPlayMediator.prototype.menu = null;\n\nAISPlayMediator.prototype.restart = null;\n\nAISPlayMediator.prototype.resume = null;\n\nAISPlayMediator.prototype.resumeTime = null;\n\n/**\n * @override\n*/\nAISPlayMediator.prototype.onRegister = function() {\n  var _this = this;\n  this.classList.add("hidden");\n  this.menu = this.create("ais-play-menu");\n  this.restart = this.create("ais-play-restart", this.menu);\n  this.restart.type = "button";\n  this.restart.textContent = "Restart";\n  this.restart.onclick = function(event) {\n    if (typeof event.stopImmediatePropagation === "function") {\n      event.stopImmediatePropagation();\n    }\n    _this.play();\n    return false;\n  };\n  this.resume = this.create("ais-play-resume", this.menu);\n  this.resume.type = "button";\n  this.resume.value = "Resume";\n  this.restart.onclick = function(event) {\n    if (typeof event.stopImmediatePropagation === "function") {\n      event.stopImmediatePropagation();\n    }\n    _this.play(_this.resumeTime);\n    return false;\n  };\n  AISPlayMediator.__super__.onRegister.call(this);\n};\n\nAISPlayMediator.prototype.play = function(time) {\n  var proxy;\n  proxy = this.facade.retrieveProxy(AISProxy.NAME);\n  proxy.play(time);\n};\n\n/**\n * @override\n*/\nAISPlayMediator.prototype.listNotificationInterests = function() {\n  return [AISNotifications.CHOOSE_PLAY_OPTIONS];\n};\n\n/**\n * @override\n*/\nAISPlayMediator.prototype.handleNotification = function(notification) {\n  switch (notification.getName()) {\n    case AISNotifications.CHOOSE_PLAY_OPTIONS:\n      this.resumeTime = notification.getBody();\n      this.classList.remove("hidden");\n  }\n};\n\n/**\n * The AISAuthenticateMediaCommand class.\n * \n * @constructor\n * @private\n * @extends {amp.plugins.PluginCommand}\n*/\nfunction AISAuthorizeCommand() {\n  AISAuthorizeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISAuthorizeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISAuthorizeCommand.prototype.execute = function(notification) {\n  var reason;\n  reason = this.media.getData().status.reason;\n  if (reason === "ais" || reason === "token") {\n    this.proxy.authorize();\n  }\n};\n\n/**\n * The AISAuthenticatingMediator class.\n * \n * @constructor\n * @private\n * @extends {LocalizedMediator}\n*/\nfunction AISAuthenticatingMediator(parent) {\n  AISAuthenticatingMediator.__super__.constructor.call(this, null, null, parent);\n}\n\n\n__extends(AISAuthenticatingMediator, ComponentMediator);\n\n\nAISAuthenticatingMediator.prototype.componentName = "ais-authenticating";\n\nAISAuthenticatingMediator.prototype.retry = null;\n\n/**\n * @override\n*/\nAISAuthenticatingMediator.prototype.onRegister = function() {\n  this.classList.add("hidden");\n  this.retry = this.create("ais-authenticating-button");\n  this.retry.type = "button";\n  this.retry.value = "Back to Providers";\n  this.retry.onclick = this.onclick.bind(this);\n  AISAuthenticatingMediator.__super__.onRegister.call(this);\n};\n\n/**\n*/\nAISAuthenticatingMediator.prototype.onclick = function(event) {\n  if (typeof event.stopImmediatePropagation === "function") {\n    event.stopImmediatePropagation();\n  }\n  this.classList.add("hidden");\n  this.sendNotification(AISNotifications.START_AUTHENTICATION);\n  return false;\n};\n\n/**\n * @override\n*/\nAISAuthenticatingMediator.prototype.listNotificationInterests = function() {\n  return [AISNotifications.AUTHENTICATING];\n};\n\n/**\n * @override\n*/\nAISAuthenticatingMediator.prototype.handleNotification = function(notification) {\n  switch (notification.getName()) {\n    case AISNotifications.AUTHENTICATING:\n      if (notification.getBody() === true) {\n        this.classList.remove("hidden");\n      } else {\n        this.classList.add("hidden");\n      }\n  }\n};\n\n/**\n * The AISStartAuthenticationCommand class.\n *   \n * @constructor\n * @private\n * @extends {amp.plugins.PluginEventCommand}\n*/\nfunction AISStartAuthenticationCommand() {\n  AISStartAuthenticationCommand.__super__.constructor.call(this);\n}\n\n\n__extends(AISStartAuthenticationCommand, PluginEventCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nAISStartAuthenticationCommand.prototype.execute = function(notification) {\n  this.proxy.bounce();\n  AISStartAuthenticationCommand.__super__.execute.call(this, notification);\n};\n\n/** \n * @constructor\n * @private\n*/\nfunction AISMediator() {\n  AISMediator.__super__.constructor.call(this);\n}\n\n\n__extends(AISMediator, OverlayMediator);\n\n\nAISMediator.prototype.componentName = "ais";\n\nAISMediator.prototype.chooser = null;\n\nAISMediator.prototype.auth = null;\n\nAISMediator.prototype.play = null;\n\nAISMediator.prototype.onRegister = function() {\n  var _this = this;\n  this.classList.add("hidden");\n  setTimeout(function() {\n    _this.chooser = new AISChooserMediator(_this);\n    _this.facade.registerMediator(_this.chooser);\n    _this.auth = new AISAuthenticatingMediator(_this);\n    _this.facade.registerMediator(_this.auth);\n    _this.play = new AISPlayMediator(_this);\n    return _this.facade.registerMediator(_this.play);\n  }, 20);\n  AISMediator.__super__.onRegister.call(this);\n};\n\nAISMediator.prototype.listNotificationInterests = function() {\n  return [AISNotifications.START_AUTHENTICATION, AISNotifications.AUTHENTICATION_COMPLETE, AISNotifications.CHOOSE_PLAY_OPTIONS, Notifications.MEDIA_CHANGE];\n};\n\nAISMediator.prototype.handleNotification = function(notification) {\n  switch (notification.getName()) {\n    case AISNotifications.CHOOSE_PLAY_OPTIONS:\n    case AISNotifications.START_AUTHENTICATION:\n      this.classList.remove("hidden");\n      break;\n    case AISNotifications.AUTHENTICATION_COMPLETE:\n    case Notifications.MEDIA_CHANGE:\n      this.classList.add("hidden");\n      this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE, "authenticating");\n  }\n};\n\n/** \n * The AISPlugin class.\n *   \n * @param {Module}  app     \n *    The parent module of this plugin.\n * \n * @constructor\n * @private\n * @extends {Feature}\n*/\nfunction AISPlugin() {\n  AISPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AISPlugin, Feature);\n\n\nAISPlugin.NAME = "AISPlugin";\n\nAISPlugin.prototype.moduleName = "ais";\n\nAISPlugin.prototype.featureName = "auth";\n\nAISPlugin.prototype.idps = null;\n\n/** @override\n*/\nAISPlugin.prototype.createController = function() {\n  AISPlugin.__super__.createController.call(this);\n  this.registerCommand(SecurityNotifications.AUTHORIZE, AISAuthorizeCommand);\n  this.registerCommand(AISNotifications.LAUNCH_IDP_LOGIN, AISLaunchIDPLoginCommand);\n  this.registerCommand(AISNotifications.START_AUTHENTICATION, AISStartAuthenticationCommand);\n  this.registerCommand(AISNotifications.AUTHENTICATED, PluginEventCommand);\n  this.registerCommand(AISNotifications.AUTHENTICATING, PluginEventCommand);\n  this.registerCommand(AISNotifications.AUTHENTICATION_COMPLETE, PluginEventCommand);\n  this.registerCommand(AISNotifications.CHOOSE_AUTH_PROVIDER, PluginEventCommand);\n  this.registerCommand(AISNotifications.CHOOSE_PLAY_OPTIONS, PluginEventCommand);\n};\n\n/** @override\n*/\nAISPlugin.prototype.createModel = function() {\n  this.proxy = new AISProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nAISPlugin.prototype.createView = function() {\n  this.registerMediator(new AISMediator());\n};\n\n/** @override\n*/\nAISPlugin.prototype.createNotificationEvent = function(notificationName, body, type) {\n  var event;\n  event = Module.prototype.createNotificationEvent.call(this, notificationName, body, type);\n  if (!(event != null)) {\n    return;\n  }\n  event.type = event.type.replace(new RegExp("^" + (this.getModuleName())), "");\n  return event;\n};\n\n/** @override\n*/\nAISPlugin.prototype.listNotificationInterests = function() {\n  return AISPlugin.__super__.listNotificationInterests.call(this).concat([Notifications.MEDIA_CHANGE, SecurityNotifications.AUTHORIZE]);\n};\n\n/**\n*/\nAISPlugin.prototype.listNotificationPublications = function() {\n  return AISPlugin.__super__.listNotificationPublications.call(this).concat([SecurityNotifications.AUTHORIZED, SecurityNotifications.CHECK_AUTHORIZATION, SecurityNotifications.AUTHORIZATION_FAILED, SecurityNotifications.SET_TOKEN, SecurityNotifications.SET_KEY, Notifications.INITIALIZED, Notifications.PLAY, Notifications.SEEK]);\n};\n\n/**\n * @expose\n*/\nAISPlugin.prototype.authorize = function(media) {\n  this.proxy.authorize(media);\n  return media;\n};\n\n/**\n * @expose\n*/\nAISPlugin.prototype.logout = function() {\n  this.proxy.logout();\n};\n\n/**\n * @return {Array.<Object>} The list of IDPs.\n * @expose\n*/\nAISPlugin.prototype.getIdps = function() {\n  return this.idps;\n};\n\n\nAMP.registerPlugin("ais", "html", AISPlugin);\n\n/** \n * The AISFlashPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction AISFlashPlugin() {\n  AISFlashPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AISFlashPlugin, AISPlugin);\n\n\nAISFlashPlugin.NAME = "AISFlashPlugin";\n\nAISFlashPlugin.prototype.proxy = null;\n\nAISFlashPlugin.prototype.startTime = null;\n\n/**\n*/\nAISFlashPlugin.prototype.createController = function() {\n  this.registerCommand(Notifications.DISPATCH_EVENT, DispatchEventCommand);\n  this.registerCommand(AISNotifications.LAUNCH_IDP_LOGIN, AISLaunchIDPLoginCommand);\n  this.registerCommand(AISNotifications.START_AUTHENTICATION, AISStartAuthenticationCommand);\n};\n\n/**\n*/\nAISFlashPlugin.prototype.setData = function(data) {\n  var proxy;\n  proxy = this.retrieveProxy(AISProxy.NAME);\n  proxy.data.platformID = data.platformID;\n  proxy.data.resourceID = data.resourceID;\n  proxy.data.contentID = data.contentID;\n};\n\n/**\n*/\nAISFlashPlugin.prototype.authorize = function(media) {\n  this.retrieveProxy(AISProxy.NAME).authorize(media);\n};\n\n/** \n * The IMAPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {AdPlugin}\n*/\nfunction IMAPlugin() {\n  IMAPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(IMAPlugin, AdPlugin);\n\n\nIMAPlugin.prototype.moduleName = "ima";\n\nIMAPlugin.prototype.createFullscreenProxy = function() {\n  return new IMAFullscreenProxy(this.config);\n};\n\nIMAPlugin.prototype.createProxy = function() {\n  return new IMAProxy(this.config);\n};\n\nIMAPlugin.prototype.isFullscreenDevice = function() {\n  var ua;\n  ua = navigator.userAgent;\n  return Utils.isFullscreenDevice() || /Android 4\\.[0-1]/.test(ua) || /CrKey/.test(ua);\n};\n\n/** @override\n*/\nIMAPlugin.prototype.createModel = function() {\n  IMAPlugin.__super__.createModel.call(this);\n  if (this.config.overlay != null) {\n    this.registerProxy(new IMAOverlayProxy(this.config.overlay));\n  }\n};\n\n/** @override\n*/\nIMAPlugin.prototype.createController = function() {\n  IMAPlugin.__super__.createController.call(this);\n  if (this.config.overlay != null) {\n    this.registerCommand(IMANotifications.ADD_OVERLAY, IMAAddOverlayCommand);\n    this.registerCommand(IMANotifications.REMOVE_OVERLAY, IMARemoveOverlayCommand);\n  }\n  this.registerCommand(Notifications.READY, IMAReadyCommand);\n  this.registerCommand(Notifications.FULL_SCREEN_CHANGE, IMADisplayStateChangeCommand);\n};\n\n/** @override\n*/\nIMAPlugin.prototype.createView = function() {\n  IMAPlugin.__super__.createView.call(this);\n  if (this.config.overlay != null) {\n    this.registerMediator(new IMAOverlayMediator());\n  }\n};\n\n\nAMP.registerPlugin("ima", "html", IMAPlugin);\nAMP.registerPlugin("ima", "flash", IMAWrapper);\n\n/** \n * @constructor\n * @private\n * @extends {PluginWrapper}\n*/\nfunction AISWrapper(player, config) {\n  var dispatchEvent, key;\n  AISWrapper.__super__.constructor.call(this, player, config);\n  this.plugin = new AISFlashPlugin();\n  dispatchEvent = this.dispatcher.dispatchEvent.bind(this.dispatcher);\n  for (key in AISNotifications) {\n    this.plugin.addEventListener(AISNotifications[key], dispatchEvent);\n  }\n  this.plugin.oninitialized = this.player.registerModule.bind(this.player, this.plugin);\n  this.plugin.initialize(config, this.player);\n}\n\n\n__extends(AISWrapper, PluginWrapper);\n\n\nAISWrapper.NAME = "AISWrapper";\n\nAISWrapper.prototype.plugin = null;\n\n/**\n*/\nAISWrapper.prototype.getFeatureName = function() {\n  return "auth";\n};\n\n/**\n*/\nAISWrapper.prototype.createXML = function(xml) {\n  var application, auth, element, prop, props, text, vendor, _i, _len;\n  application = xml.firstChild;\n  auth = xml.getElementsByTagName("authentication");\n  if (!(auth != null) || auth.length === 0) {\n    auth = xml.createElement("authentication");\n    application.appendChild(auth);\n  } else {\n    auth = auth[0];\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "ais");\n  auth.appendChild(vendor);\n  props = [\n    {\n      value: this.config.platformID,\n      key: "platformID"\n    }, {\n      value: this.config.resourceID,\n      key: "resourceID"\n    }, {\n      value: this.config.contentID,\n      key: "contentID"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (!(prop.value != null)) {\n      continue;\n    }\n    element = xml.createElement("property");\n    element.setAttribute("key", prop.key);\n    text = XMLUtils.createTextContent(xml, prop.value);\n    element.appendChild(text);\n    vendor.appendChild(element);\n  }\n  return xml;\n};\n\n/**\n*/\nAISWrapper.prototype.listNotificationInterests = function() {\n  return AISWrapper.__super__.listNotificationInterests.apply(this, arguments).concat([SecurityNotifications.AUTHORIZE, FlashNotifications.TIME_UPDATE, FlashNotifications.ENDED, FlashNotifications.PAUSED, FlashNotifications.CAPABILITY_CHANGE, FlashNotifications.RESET]);\n};\n\n/**\n*/\nAISWrapper.prototype.handleNotification = function(notification) {\n  var body, mediaProxy, name;\n  AISWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case SecurityNotifications.AUTHORIZE:\n      this.plugin.startTime = null;\n      this.plugin.setData(body);\n      mediaProxy = this.player.retrieveProxy(MediaProxy.NAME);\n      if (!(mediaProxy.getSrc() != null)) {\n        mediaProxy.setSrc(body.media.src);\n      }\n      this.plugin.authorize();\n      break;\n    case FlashNotifications.TIME_UPDATE:\n      this.plugin.sendNotification(Notifications.TIME_UPDATE, body);\n      break;\n    case FlashNotifications.ENDED:\n      this.plugin.sendNotification(Notifications.ENDED, body);\n      break;\n    case FlashNotifications.PAUSED:\n      this.plugin.sendNotification(Notifications.PAUSE, body);\n      break;\n    case FlashNotifications.RESET:\n      this.plugin.sendNotification(Notifications.MEDIA_CHANGE, body);\n      break;\n    case FlashNotifications.CAPABILITY_CHANGE:\n      if ((this.plugin.startTime != null) && body.type === "canSeekChange" && body.enabled) {\n        this.player.setCurrentTime(this.plugin.startTime);\n      }\n  }\n};\n\n/**\n * @expose\n*/\nAISWrapper.prototype.authorize = function(media) {\n  this.plugin.authorize(media);\n  return media;\n};\n\n/**\n * @expose\n*/\nAISWrapper.prototype.logout = function() {\n  this.plugin.logout();\n};\n\n/**\n * @return {Array.<Object>} The list of IDPs.\n * @expose\n*/\nAISWrapper.prototype.getIdps = function() {\n  return this.plugin.getIdps();\n};\n\n\nAMP.registerPlugin("ais", "flash", AISWrapper);\n\n/** \n * @constructor \n * @private\n*/\nfunction FreeWheelProxy(config) {\n  this.media = {};\n  this.adtimeupdate = this.adTimeupdate.bind(this);\n  this.timeupdate = this.midrollCheck.bind(this);\n  FreeWheelProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(FreeWheelProxy, AdProxy);\n\n\n/** @static\n*/\nFreeWheelProxy.NAME = AdProxy.NAME;\n\nFreeWheelProxy.prototype.context = null;\n\nFreeWheelProxy.prototype.prerollSlots = null;\n\nFreeWheelProxy.prototype.midrollSlots = null;\n\nFreeWheelProxy.prototype.postrollSlots = null;\n\nFreeWheelProxy.prototype.initialized = false;\n\nFreeWheelProxy.prototype.playWhenLoaded = false;\n\nFreeWheelProxy.prototype.timeupdate = null;\n\nFreeWheelProxy.prototype.adtimeupdate = null;\n\nFreeWheelProxy.prototype.slot = null;\n\nFreeWheelProxy.prototype.playbackCore = null;\n\nFreeWheelProxy.prototype.nextMidroll = null;\n\nFreeWheelProxy.prototype.midrollEngaged = false;\n\nFreeWheelProxy.prototype.defaults = {\n  networkId: "96749",\n  serverUrl: "http://demo.v.fwmrm.net/ad/g/1",\n  profileId: "global-js",\n  siteSectionId: "DemoSiteGroup.01",\n  siteSectionFallbackId: null,\n  videoAssetId: \'#{media.guid}\',\n  videoAssetFallbackId: null,\n  prerollSlotId: null,\n  midrollSlotId: null,\n  postrollSlotId: null,\n  visitorId: null,\n  keyValues: null,\n  keyValuesString: null,\n  renderers: null\n};\n\n/**\n*/\nFreeWheelProxy.prototype.initialize = function() {\n  this.plugin = this.createPlugin();\n  this.plugin.setNetwork(this.value.networkId);\n  this.plugin.setServer(this.value.serverUrl);\n};\n\nFreeWheelProxy.prototype.createPlugin = function() {\n  return new tv.freewheel.SDK.AdManager();\n};\n\n/**\n*/\nFreeWheelProxy.prototype.engage = function(media) {\n  var cuePoints, index, key, keyValue, pair, pairs, renderer, renderers, scene, time, value, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2;\n  FreeWheelProxy.__super__.engage.call(this, media);\n  this.terminateAllAds();\n  this.context = this.plugin.newContext();\n  this.context.registerVideoDisplayBase(this.facade.player.viewComponent.id);\n  this.context.setProfile(this.value.profileId);\n  this.context.setVideoAsset(this.value.videoAssetId, media.duration, this.value.networkId, null, null, null, null, this.value.videoAssetFallbackId);\n  this.context.setSiteSection(this.value.siteSectionId, this.value.networkId, null, null, this.value.siteSectionFallbackId);\n  if (this.value.visitorId != null) {\n    this.context.setVisitor(this.value.visitorId);\n  }\n  if (this.value.keyValues != null) {\n    _ref = this.value.keyValues;\n    for (key in _ref) {\n      value = _ref[key];\n      if (value != null) {\n        this.context.addKeyValue(key, value);\n      }\n    }\n  }\n  if (this.value.keyValuesString != null) {\n    pairs = this.value.keyValuesString.split("&");\n    for (_i = 0, _len = pairs.length; _i < _len; _i++) {\n      pair = pairs[_i];\n      if (!(pair !== "")) {\n        continue;\n      }\n      keyValue = pair.split("=");\n      this.context.addKeyValue(keyValue[0], keyValue[1]);\n    }\n  }\n  this.context.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE, this.onRequestComplete.bind(this));\n  this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED, this.onSlotStarted.bind(this));\n  this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED, this.onSlotEnded.bind(this));\n  this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION, this.onAdImpression.bind(this));\n  this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END, this.onAdImpressionEnd.bind(this));\n  this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT, 10000, tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);\n  this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT, 10000, tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);\n  this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE, false, tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);\n  this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE, false, tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);\n  this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE, false, tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);\n  if (this.value.prerollSlotId != null) {\n    this.context.addTemporalSlot(this.value.prerollSlotId, tv.freewheel.SDK.ADUNIT_PREROLL, 0);\n  }\n  if (((_ref1 = media.scenes) != null ? _ref1.length : void 0) > 0 && (this.value.midrollSlotId != null)) {\n    cuePoints = [];\n    _ref2 = media.scenes;\n    for (index = _j = 0, _len1 = _ref2.length; _j < _len1; index = ++_j) {\n      scene = _ref2[index];\n      if (!(index > 0)) {\n        continue;\n      }\n      time = Utils.flattenTimecode(scene.sceneStartTime);\n      cuePoints.push(time);\n      this.context.addTemporalSlot(this.value.midrollSlotId, tv.freewheel.SDK.ADUNIT_MIDROLL, time);\n    }\n    this.facade.player.sendNotification(Notifications.ADD_CUE_POINTS, cuePoints);\n  }\n  if (this.value.postrollSlotId != null) {\n    this.context.addTemporalSlot(this.value.postrollSlotId, tv.freewheel.SDK.ADUNIT_POSTROLL, media.duration);\n  }\n  renderers = this.value.renderers;\n  if ((renderers != null ? renderers.length : void 0) > 0) {\n    for (_k = 0, _len2 = renderers.length; _k < _len2; _k++) {\n      renderer = renderers[_k];\n      this.context.addRenderer(renderer.url, renderer.baseUnit, renderer.contentType, renderer.slotType, renderer.soAdUnit, renderer.creativeApi, renderer.parameters);\n    }\n  }\n  this.initialized = false;\n  this.context.submitRequest();\n  this.facade.getViewComponent().container.style.pointerEvents = "none";\n};\n\n/**\n*/\nFreeWheelProxy.prototype.onRequestComplete = function(event) {\n  var cues, slot, slots, _i, _len;\n  cues = [];\n  if (event.success) {\n    slots = this.context.getTemporalSlots();\n    for (_i = 0, _len = slots.length; _i < _len; _i++) {\n      slot = slots[_i];\n      switch (slot.getTimePositionClass()) {\n        case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:\n          if (this.value.prerollSlotId != null) {\n            this.prerollSlots.push(slot);\n          }\n          break;\n        case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:\n          if (this.value.midrollSlotId != null) {\n            cues.push(slot.getTimePosition());\n            this.midrollSlots.push(slot);\n          }\n          break;\n        case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:\n          if (this.value.postrollSlotId != null) {\n            this.postrollSlots.push(slot);\n          }\n      }\n    }\n  }\n  if (cues.length > 0) {\n    this.sendNotification(Notifications.ADD_CUE_POINTS, cues);\n  }\n  this.initialized = true;\n  if (this.playWhenLoaded === true) {\n    this.startAd();\n  }\n};\n\n/** @override\n*/\nFreeWheelProxy.prototype.breakStart = function() {\n  var video;\n  this.setInProgress(true);\n  this.playbackCore = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore();\n  this.playbackCore.setEnabled(false);\n  video = this.facade.player.getMediaElement();\n  video.addEventListener("playing", this.playbackCore.handlers.playing);\n  video.addEventListener("pause", this.playbackCore.handlers.pause);\n  video.addEventListener("waiting", this.playbackCore.handlers.waiting);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.onAdImpression = function(event) {\n  this.sendNotification(AdNotifications.IMPRESSION, this.adVO);\n  this.sendNotification(AdNotifications.AD_STARTED, this.adVO);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.onAdImpressionEnd = function(event) {\n  this.sendNotification(AdNotifications.AD_ENDED, this.adVO);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.midrollCheck = function(event) {\n  var video;\n  video = event.currentTarget;\n  if (this.playbackCore.getCurrentTime() >= this.nextMidroll.getTimePosition()) {\n    video.removeEventListener("timeupdate", this.timeupdate);\n    this.startBreak();\n    this.engageAds();\n    this.midrollEngaged = false;\n    this.playAd(this.nextMidroll);\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.adTimeupdate = function(event) {\n  try {\n    if (this.slot != null) {\n      this.sendNotification(AdNotifications.AD_TIME_UPDATE, this.slot.getPlayheadTime());\n      this.sendNotification(AdNotifications.AD_TIME_REMAINING, this.slot.getTotalDuration() - this.slot.getPlayheadTime());\n    }\n  } catch (error) {\n    this.facade.logger.error("[AMP FREEWHEEL ERROR]", error);\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.onSlotStarted = function(event) {\n  this.slot = event.slot;\n  this.facade.player.getMediaElement().addEventListener("timeupdate", this.adtimeupdate);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.onSlotEnded = function(event) {\n  var index, slotTimePositionClass;\n  this.facade.player.getMediaElement().removeEventListener("timeupdate", this.adtimeupdate);\n  slotTimePositionClass = event.slot.getTimePositionClass();\n  this.slot = null;\n  switch (slotTimePositionClass) {\n    case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:\n      if (this.prerollSlots.length) {\n        this.prerollSlots.shift();\n        if (this.prerollSlots.length) {\n          this.playAd(this.prerollSlots[0]);\n        } else {\n          this.endBreak();\n        }\n      }\n      break;\n    case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:\n      index = this.midrollSlots.indexOf(this.nextMidroll);\n      if (index > -1) {\n        this.midrollSlots.splice(index, 1);\n      }\n      this.facade.player.getMediaElement().addEventListener("canplaythrough", this.canplaythrough);\n      this.endBreak();\n      break;\n    case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:\n      if (this.postrollSlots.length) {\n        this.postrollSlots.shift();\n        if (this.postrollSlots.length) {\n          this.playAd(this.postrollSlots[0]);\n        } else {\n          this.endBreak();\n        }\n      }\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.playAd = function(ad) {\n  this.adVO = new AdVO(ad.getCustomId(), ad.getCustomId(), ad.getTotalDuration(), ad.getTimePosition(), ad.getTimePositionClass().toLowerCase(), "freewheel", null, null, null, ad);\n  this.sendNotification(AdNotifications.AD_LOADED, this.adVO);\n  try {\n    ad.play();\n  } catch (error) {\n    this.error(error);\n  }\n};\n\n/** @override\n*/\nFreeWheelProxy.prototype.start = function() {\n  if (FreeWheelProxy.__super__.start.call(this) === false) {\n    return false;\n  }\n  if (this.canPlay() === true) {\n    this.startAd();\n  } else {\n    this.playWhenLoaded = true;\n  }\n  return true;\n};\n\n/**\n*/\nFreeWheelProxy.prototype.canPlay = function() {\n  return this.initialized === true;\n};\n\n/**\n*/\nFreeWheelProxy.prototype.startAd = function() {\n  this.playWhenLoaded = false;\n  if (this.prerollSlots.length) {\n    this.playAd(this.prerollSlots[0]);\n  } else {\n    this.endBreak();\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.play = function() {\n  FreeWheelProxy.__super__.play.call(this);\n  this.facade.player.getMediaElement().play();\n  if (this.terminateAdOnPlay === true) {\n    this.terminateAdOnPlay = false;\n    this.terminateAd();\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.pause = function() {\n  var video;\n  FreeWheelProxy.__super__.pause.call(this);\n  video = this.facade.player.getMediaElement();\n  video.pause();\n  setTimeout(function() {\n    return video.controls = false;\n  }, 0);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.breakEnd = function() {\n  var video,\n    _this = this;\n  FreeWheelProxy.__super__.breakEnd.call(this);\n  this.setInProgress(false);\n  if (this.playbackCore == null) {\n    this.playbackCore = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore();\n  }\n  video = this.facade.player.getMediaElement();\n  video.removeEventListener("playing", this.playbackCore.handlers.playing);\n  video.removeEventListener("pause", this.playbackCore.handlers.pause);\n  video.removeEventListener("waiting", this.playbackCore.handlers.waiting);\n  this.playbackCore.setEnabled(true);\n  if (this.playbackCore.getEnded()) {\n    this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED);\n    this.facade.player.sendNotification(Notifications.ENDED);\n  } else {\n    setTimeout(function() {\n      _this.facade.player.sendNotification(Notifications.PLAY, true);\n      _this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);\n      _this.engageMidrollCheck();\n    }, 1);\n  }\n};\n\n/** @override\n*/\nFreeWheelProxy.prototype.contentStarted = function() {\n  this.engageMidrollCheck();\n};\n\n/** @override\n*/\nFreeWheelProxy.prototype.contentSeek = function(time) {\n  var midroll;\n  midroll = this.getNextMidroll(time);\n  if (!(midroll != null)) {\n    return;\n  }\n  if (!(this.nextMidroll != null) || midroll.getTimePosition() < this.nextMidroll.getTimePosition()) {\n    if (this.midrollEngaged) {\n      this.nextMidroll = midroll;\n    } else {\n      this.engageMidrollCheck();\n    }\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.engageMidrollCheck = function() {\n  var _ref;\n  if (((_ref = this.midrollSlots) != null ? _ref.length : void 0) === 0 || this.midrollEngaged === true) {\n    return;\n  }\n  this.nextMidroll = this.getNextMidroll(this.playbackCore.getCurrentTime());\n  if (!(this.nextMidroll != null)) {\n    return;\n  }\n  this.midrollEngaged = true;\n  this.facade.player.getMediaElement().addEventListener("timeupdate", this.timeupdate);\n};\n\n/**\n*/\nFreeWheelProxy.prototype.getNextMidroll = function(time) {\n  var midroll, nextMidroll, _i, _len, _ref;\n  _ref = this.midrollSlots;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    midroll = _ref[_i];\n    if (time < midroll.getTimePosition()) {\n      nextMidroll = midroll;\n      break;\n    }\n  }\n  return nextMidroll;\n};\n\n/** @override\n*/\nFreeWheelProxy.prototype.contentEnded = function() {\n  var _ref;\n  this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);\n  if (((_ref = this.postrollSlots) != null ? _ref.length : void 0)) {\n    this.startBreak();\n    this.playAd(this.postrollSlots[0]);\n  } else {\n    this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED);\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.terminateAd = function() {\n  var _base;\n  if (this.started === true && this.facade.player.getMediaElement().paused === true) {\n    this.terminateAdOnPlay = true;\n    return;\n  }\n  if (this.slot != null) {\n    if (typeof (_base = this.slot).stop === "function") {\n      _base.stop();\n    }\n  }\n};\n\n/**\n*/\nFreeWheelProxy.prototype.terminateAllAds = function() {\n  this.terminateAd();\n  this.prerollSlots = [];\n  this.midrollSlots = [];\n  this.postrollSlots = [];\n};\n\nfunction FreeWheelWrapper() {\n  return FreeWheelWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(FreeWheelWrapper, AdWrapper);\n\n\nFreeWheelWrapper.NAME = "FreeWheelWrapper";\n\nFreeWheelWrapper.prototype.flashPluginIds = ["FreewheelPlugin"];\n\n/** @override\n*/\nFreeWheelWrapper.prototype.createXML = function(xml) {\n  var admedia, application, key, keyValue, prop, props, value, vendor, _i, _len, _ref;\n  application = xml.firstChild;\n  admedia = xml.getElementsByTagName("admedia")[0];\n  if (!(admedia != null)) {\n    admedia = xml.createElement("admedia");\n    application.appendChild(admedia);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "freewheel");\n  admedia.appendChild(vendor);\n  props = [\n    {\n      value: this.config.plugin.swf,\n      key: "FREEWHEEL_AD_MANAGER_URL"\n    }, {\n      value: this.config.serverUrl,\n      key: "FREEWHEEL_SERVER_URL"\n    }, {\n      value: this.config.networkId,\n      key: "FREEWHEEL_NETWORK_ID"\n    }, {\n      value: this.config.profileId,\n      key: "FREEWHEEL_PROFILE"\n    }, {\n      value: this.config.siteSectionId,\n      key: "FREEWHEEL_SITE_SECTION_ID"\n    }, {\n      value: this.config.siteSectionFallbackId,\n      key: "FREEWHEEL_SITE_SECTION_FALLBACK_ID"\n    }, {\n      value: this.config.prerollSlotId,\n      key: "FREEWHEEL_PREROLL_SLOT_ID"\n    }, {\n      value: this.config.midrollSlotId,\n      key: "FREEWHEEL_MIDROLL_SLOT_ID"\n    }, {\n      value: this.config.postrollSlotId,\n      key: "FREEWHEEL_POSTROLL_SLOT_ID"\n    }, {\n      value: this.config.videoAssetId,\n      key: "FREEWHEEL_VIDEO_ASSET_ID"\n    }, {\n      value: this.config.videoAssetFallbackId,\n      key: "FREEWHEEL_VIDEO_ASSET_FALLBACK_ID"\n    }, {\n      value: this.config.videoAssetVideoPlayRandom,\n      key: "FREEWHEEL_VIDEO_ASSET_VIDEO_PLAY_RANDOM"\n    }, {\n      value: this.config.visitorId,\n      key: "FREEWHEEL_VISITOR_ID"\n    }, {\n      value: this.config.keyValuesString,\n      key: "FREEWHEEL_KEY_VALUES_STRING"\n    }, {\n      value: "30898",\n      key: "FREEWHEEL_SITE_SECTION_PAGE_VIEW_RANDOM"\n    }, {\n      value: "EXACT",\n      key: "FREEWHEEL_VIDEO_ASSET_DURATION_TYPE"\n    }, {\n      value: this.config.visitorHeader,\n      key: "FREEWHEEL_VISITOR_HTTP_HEADER_KEY_VALUE"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  if (this.config.position != null) {\n    vendor.setAttribute("position", this.config.position);\n  }\n  if (this.config.keyValues != null) {\n    keyValue = xml.createElement("property");\n    keyValue.setAttribute("key", "FREEWHEEL_KEY_VALUE");\n    _ref = this.config.keyValues;\n    for (key in _ref) {\n      value = _ref[key];\n      if (value != null) {\n        this.createProperty(xml, key, value, keyValue);\n      }\n    }\n    vendor.appendChild(keyValue);\n  }\n};\n\n/** \n * The StatsPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction StatsPlugin() {\n  StatsPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(StatsPlugin, Plugin);\n\n\nStatsPlugin.prototype.moduleName = "stats";\n\n/** @override\n*/\nStatsPlugin.prototype.createModel = function() {\n  this.proxy = new StatsProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nStatsPlugin.prototype.createController = function() {\n  StatsPlugin.__super__.createController.call(this);\n  this.registerCommand(StatsNotifications.VISIBILITY_CHANGE, StatsVisibilityChangeCommand);\n};\n\n/** @override\n*/\nStatsPlugin.prototype.createView = function() {\n  this.registerMediator(new StatsMediator());\n};\n\n/** @override\n*/\nStatsPlugin.prototype.listNotificationPublications = function() {\n  return StatsPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE, StatsNotifications.VISIBILITY_CHANGE]);\n};\n\n/**\n * @return   {boolean}  A boolean indicating whether or not the stats are hidden.\n * @expose\n*/\nStatsPlugin.prototype.getHidden = function() {\n  return this.proxy.getHidden();\n};\n\n/**\n * \n * @param   {boolean} value A boolean indicating whether or not the stats are hidden.\n * @expose\n*/\nStatsPlugin.prototype.setHidden = function(value) {\n  this.sendNotification(StatsNotifications.VISIBILITY_CHANGE, value);\n  return value;\n};\n\n\nAMP.registerPlugin("stats", "html", StatsPlugin);\n\n/** \n * The IMAProxy class.\n *   \n * @constructor\n * @private \n * @extends {AdProxy}\n * @param {Object} config\n*/\nfunction MOATProxy(config) {\n  MOATProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(MOATProxy, ModuleProxy);\n\n\n/** @static\n*/\nMOATProxy.NAME = ModuleProxy.NAME;\n\n/**\n*/\nMOATProxy.prototype.initSDK = function(adsManagerVO) {\n  if (typeof initMoatTracking !== "undefined" && initMoatTracking !== null) {\n    initMoatTracking(adsManagerVO.adManager, {\n      "partnerCode": this.config.data.partnerCode,\n      "viewMode": adsManagerVO.viewMode,\n      "slicer1": this.config.data.slicer1,\n      "slicer2": this.config.data.slicer2\n    }, adsManagerVO.adContainer);\n  }\n};\n\nfunction MOATWrapper() {\n  return MOATWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(MOATWrapper, PluginWrapper);\n\n\nMOATWrapper.NAME = "MOATWrapper";\n\n/** @override\n*/\nMOATWrapper.prototype.createXML = function(xml) {\n  var application, metrics, prop, props, vendor, _i, _len;\n  application = xml.firstChild;\n  metrics = xml.getElementsByTagName("metrics")[0];\n  if (!(metrics != null)) {\n    metrics = xml.createElement("metrics");\n    application.appendChild(metrics);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "moat");\n  metrics.appendChild(vendor);\n  props = [\n    {\n      value: this.config.data.partnerCode,\n      key: "partnerCode"\n    }, {\n      value: this.config.data.slicer1,\n      key: "slicer1"\n    }, {\n      value: this.config.data.slicer2,\n      key: "slicer2"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  return xml;\n};\n\n/**\n * The MOATAdManagerLoadedCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction MOATAdManagerLoadedCommand() {\n  MOATAdManagerLoadedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(MOATAdManagerLoadedCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nMOATAdManagerLoadedCommand.prototype.execute = function(notification) {\n  var moatProxy;\n  moatProxy = this.facade.retrieveProxy(MOATProxy.NAME);\n  if (notification.getBody()) {\n    moatProxy.initSDK(notification.getBody());\n  }\n};\n\n/**\n * DASHPlaybackProxy constructor.\n * \n * @constructor\n * @private\n * @extends {PlaybackCoreProxy}\n*/\nfunction DASHPlaybackProxy(data) {\n  DASHPlaybackProxy.__super__.constructor.call(this, data.types);\n  this.buffer = data.buffer;\n}\n\n\n__extends(DASHPlaybackProxy, PlaybackCoreProxy);\n\n\nDASHPlaybackProxy.prototype.initialized = true;\n\nDASHPlaybackProxy.prototype.playbackCoreName = "dash";\n\nDASHPlaybackProxy.prototype.context = null;\n\nDASHPlaybackProxy.prototype.player = null;\n\nDASHPlaybackProxy.prototype.buffer = null;\n\nDASHPlaybackProxy.prototype.isDVR = false;\n\n/** @override\n*/\nDASHPlaybackProxy.prototype.resumecomplete = function() {\n  this.applyHandlers(true);\n  this.play();\n};\n\n/** @override\n*/\nDASHPlaybackProxy.prototype.load = function() {\n  var video,\n    _this = this;\n  video = this.getMediaElement();\n  video.addEventListener("loadedmetadata", this.resumeHandlers.loadedmetadata);\n  this.context = new Dash.di.DashContext();\n  this.player = new MediaPlayer(this.context);\n  if (this.buffer != null) {\n    MediaPlayer.dependencies.BufferController.DEFAULT_MIN_BUFFER_TIME = this.buffer;\n  }\n  this.player.startup();\n  this.player.addEventListener("error", this.onError.bind(this));\n  this.player.debug.setLogToBrowserConsole(this.facade.logger.enabled);\n  this.player.attachView(video);\n  this.player.setAutoPlay(false);\n  this.player.attachSource(this.getSrc());\n  this.isDVR = this.facade.retrieveProxy(MediaProxy.NAME).getTemporalType() === "dvr";\n  if (this.isDVR === true) {\n    video.addEventListener("timeupdate", function(event) {\n      var duration, time;\n      try {\n        time = _this.player.time();\n        duration = _this.player.duration();\n        _this.sendNotification(Notifications.DISPLAY_TIME, {\n          value: time / duration,\n          currentTime: time,\n          duration: duration\n        });\n      } catch (error) {\n        _this.facade.logger.error(error);\n      }\n    });\n  }\n};\n\n/**\n*/\nDASHPlaybackProxy.prototype.seek = function(value) {\n  DASHPlaybackProxy.__super__.seek.call(this, this.isDVR === true ? this.player.getDVRSeekOffset(value) : value);\n};\n\n/**\n*/\nDASHPlaybackProxy.prototype.getDuration = function() {\n  if (this.isDVR === true) {\n    return this.player.duration();\n  } else {\n    return DASHPlaybackProxy.__super__.getDuration.call(this);\n  }\n};\n\n/**\n*/\nDASHPlaybackProxy.prototype.getStats = function() {\n  return {};\n};\n\n/**\n*/\nDASHPlaybackProxy.prototype.onError = function(event) {\n  this.facade.logger.error("DASH JS Playback Error:", event);\n};\n\n/** \n * @constructor \n * @private\n*/\nfunction FreeWheelPlugin() {\n  FreeWheelPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(FreeWheelPlugin, AdPlugin);\n\n\nFreeWheelPlugin.prototype.moduleName = "freewheel";\n\nFreeWheelPlugin.prototype.featureName = "ads";\n\n/** @override\n*/\nFreeWheelPlugin.prototype.createProxy = function() {\n  return new FreeWheelProxy(this.config);\n};\n\n/** @override\n*/\nFreeWheelPlugin.prototype.isFullscreenDevice = function() {\n  return false;\n};\n\n\nAMP.registerPlugin("freewheel", "html", FreeWheelPlugin);\nAMP.registerPlugin("freewheel", "flash", FreeWheelWrapper);\n\n/**\n * The DASHChangeDisplayStateCommand class.\n *   \n * @constructor\n * @private\n * @extends {puremvc.SimpleCommand}\n*/\nfunction DASHChangeDisplayStateCommand() {\n  DASHChangeDisplayStateCommand.__super__.constructor.call(this);\n}\n\n\n__extends(DASHChangeDisplayStateCommand, puremvc.SimpleCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nDASHChangeDisplayStateCommand.prototype.execute = function(notification) {\n  var core, fullscreen, playback, proxy, state, target,\n    _this = this;\n  state = notification.getBody();\n  playback = this.facade.retrieveProxy(PlaybackProxy.NAME);\n  core = this.facade.getMediaElement();\n  if (!(core != null) || !core.webkitSupportsFullscreen) {\n    return;\n  }\n  proxy = this.facade.retrieveProxy(ApplicationStateProxy.NAME);\n  proxy.setDisplayState(state);\n  fullscreen = {};\n  target = this.facade.viewComponent;\n  if (target.requestFullscreen != null) {\n    fullscreen.enter = function() {\n      return target.requestFullscreen();\n    };\n    fullscreen.exit = function() {\n      return document.cancelFullscreen();\n    };\n    fullscreen.event = "onfullscreenchange";\n    fullscreen.element = "fullscreenElement";\n  } else if (target.webkitRequestFullScreen != null) {\n    fullscreen.enter = function() {\n      return target.webkitRequestFullScreen();\n    };\n    fullscreen.exit = function() {\n      return document.webkitCancelFullScreen();\n    };\n    fullscreen.event = "onwebkitfullscreenchange";\n    fullscreen.element = "webkitFullscreenElement";\n  } else if (target.mozRequestFullScreen != null) {\n    fullscreen.enter = function() {\n      return target.mozRequestFullscreen();\n    };\n    fullscreen.exit = function() {\n      return document.mozCancelFullScreen();\n    };\n    fullscreen.event = "onmozfullscreenchange";\n    fullscreen.element = "mozFullscreenElement";\n  } else if (target.msRequestFullScreen != null) {\n    fullscreen.enter = function() {\n      return target.msRequestFullscreen();\n    };\n    fullscreen.exit = function() {\n      return document.msCancelFullScreen();\n    };\n    fullscreen.event = "onmozfullscreenchange";\n    fullscreen.element = "mozFullscreenElement";\n  }\n  if (state === DisplayState.FULL_SCREEN) {\n    fullscreen.enter();\n    if (fullscreen.event != null) {\n      core[fullscreen.event] = function(event) {\n        if (!(document[fullscreen.element] != null)) {\n          return _this.sendNotification(Notifications.CHANGE_DISPLAY_STATE, DisplayState.NORMAL);\n        }\n      };\n    }\n  } else if (state === DisplayState.NORMAL) {\n    fullscreen.exit();\n    core[fullscreen.event] = null;\n  }\n  this.facade.dispatchEvent(new Event("fullscreenchange", state === DisplayState.FULL_SCREEN));\n};\n\n/** \n * The DASHProxy class.\n *   \n * @param {Object}  config  The plugin configuration object.\n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction DASHProxy(config) {\n  DASHProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(DASHProxy, PluginProxy);\n\n\n/** @static\n*/\nDASHProxy.NAME = ModuleProxy.NAME;\n\nDASHProxy.prototype.defaults = {\n  types: ["application/dash+xml"],\n  buffer: null\n};\n\nDASHProxy.prototype.initialize = function() {\n  var core, player;\n  window.MediaSource = window.MediaSource || window.WebKitMediaSource;\n  if (window.MediaSource != null) {\n    this.sendNotification(Notifications.INITIALIZED);\n    core = new DASHPlaybackProxy(this.getConfigurationData());\n    player = this.facade.player.retrieveProxy(PlayerProxy.NAME);\n    player.registerPlaybackCore(core);\n  }\n};\n\n/**\n * The AMPChromeCastPlayer class.\n *\n * @param {Object} player\n *    The player instance\n * \n * @constructor\n*/\nfunction ChromeCastPlayer(shim) {\n  var index, rule, sheet, style;\n  this.shim = shim;\n  ChromeCastPlayer.__super__.constructor.call(this);\n  this.state = cast.receiver.media.PlayerState.IDLE;\n  try {\n    style = document.createElement(\'style\');\n    style.type = \'text/css\';\n    style.appendChild(document.createTextNode(""));\n    document.head.appendChild(style);\n    sheet = style.sheet;\n    rule = ".akamai-html5.akamai-video::cue {color: #FFFFFF; background: #000000; visibility: hidden;}";\n    index = sheet.insertRule(rule, 0);\n    this.cssRule = sheet.rules[index];\n  } catch (error) {\n    Logger.error(error);\n  }\n}\n\n\n__extends(ChromeCastPlayer, EventDispatcher);\n\n\nChromeCastPlayer.prototype.player = null;\n\nChromeCastPlayer.prototype.callbackMap = null;\n\nChromeCastPlayer.prototype.state = null;\n\nChromeCastPlayer.prototype.activeTrackId = null;\n\nChromeCastPlayer.prototype.cssRule = null;\n\nChromeCastPlayer.prototype.textTrackStyle = null;\n\nChromeCastPlayer.prototype.ccHandler = null;\n\nChromeCastPlayer.prototype.feed = null;\n\nChromeCastPlayer.prototype.media = null;\n\nChromeCastPlayer.prototype.tracks = null;\n\n/**\n *\n*/\nChromeCastPlayer.prototype.registerPlayer = function(player) {\n  var events, listener, readyHandler,\n    _this = this;\n  this.player = player;\n  events = ["loadedmetadata", "ended", "error"];\n  listener = this.dispatchEvent.bind(this);\n  events.forEach(function(type) {\n    return player.addEventListener(type, listener);\n  });\n  readyHandler = function() {\n    _this.player.removeEventListener("ready", readyHandler);\n    _this.applyMedia();\n    _this.applyFeed();\n    _this.applyClassName();\n  };\n  this.player.addEventListener("ready", readyHandler);\n  this.player.addEventListener("playing", this.setState.bind(this, cast.receiver.media.PlayerState.PLAYING));\n  this.player.addEventListener("pause", this.setState.bind(this, cast.receiver.media.PlayerState.PAUSED));\n  this.player.addEventListener("waiting", this.setState.bind(this, cast.receiver.media.PlayerState.BUFFERING));\n};\n\n/**\n * @private\n*/\nChromeCastPlayer.prototype.setState = function(state) {\n  if (state === this.state) {\n    return;\n  }\n  this.state = state;\n  this.shim.mediaManager.broadcastStatus(true);\n  return state;\n};\n\n/**\n * Registers an API that the player should call when there is an error.\n *\n * @param {function(Object)} errorCallback\n *    The callback method called when the player has an error.\n*/\nChromeCastPlayer.prototype.registerErrorCallback = function(errorCallback) {\n  this.onerror = errorCallback;\n};\n\n/**\n * Registers an API that the player should call when the media has ended.\n *\n * @param {function()} endedCallback\n *    The callback method called when the player has ended.\n*/\nChromeCastPlayer.prototype.registerEndedCallback = function(endedCallback) {\n  this.onended = endedCallback;\n};\n\n/**\n * Registers an API that the player should call when load is complete.\n *\n * @param {function()} loadCallback\n *    The callback method called when the player has completed load succesfully.\n*/\nChromeCastPlayer.prototype.registerLoadCallback = function(loadCallback) {\n  this.onloadedmetadata = loadCallback;\n};\n\n/**\n * Called to unregister for error callbacks.\n*/\nChromeCastPlayer.prototype.unregisterErrorCallback = function() {\n  this.onerror = null;\n};\n\n/**\n * Called to unregister for ended callbacks.\n*/\nChromeCastPlayer.prototype.unregisterEndedCallback = function() {\n  this.onended = null;\n};\n\n/**\n * Called to unregister for load callbacks.\n*/\nChromeCastPlayer.prototype.unregisterLoadCallback = function() {\n  this.onloadedmetadata = null;\n};\n\n/**\n * Loads content to be played.\n *\n * @param {string} contentId\n *    The content ID. Should be treated as an opaque string.\n *\n * @param {boolean} autoplay\n *    Whether the content should play after load.\n *\n * @param {number} opt_time\n *    The expected current time after load (in seconds). Optional.\n *\n * @param {cast.receiver.media.TracksInfo} opt_tracksInfo\n *    The tracks information. Optional.\n*/\nChromeCastPlayer.prototype.load = function(contentId, autoplay, opt_time, opt_tracksInfo) {\n  var customData, info, key, media, metadata, value, _ref, _ref1, _ref2, _ref3;\n  info = this.shim.mediaManager.getMediaInformation();\n  customData = info.customData || {};\n  metadata = info.metadata || {};\n  if (opt_tracksInfo != null) {\n    this.editTracksInfo(opt_tracksInfo);\n  } else {\n    this.activeTrackId = null;\n  }\n  if ((customData.feed != null) && (((_ref = this.player) != null ? _ref.feed : void 0) != null)) {\n    this.feed = customData.feed;\n    this.media = null;\n    this.applyFeed();\n    return;\n  }\n  this.feed = null;\n  media = {\n    src: contentId,\n    type: info.contentType,\n    title: metadata.title,\n    poster: (_ref1 = metadata.images) != null ? _ref1.url : void 0,\n    description: metadata.subtitle,\n    pubDate: new Date(info.releaseDate),\n    metadata: customData,\n    duration: info.duration,\n    startTime: opt_time || ((_ref2 = customData.media) != null ? _ref2.startTime : void 0),\n    autoplay: autoplay\n  };\n  if (customData.media != null) {\n    _ref3 = customData.media;\n    for (key in _ref3) {\n      value = _ref3[key];\n      if (!(media[key] != null)) {\n        media[key] = value;\n      }\n    }\n  }\n  this.tracks = info.tracks;\n  this.media = media;\n  this.applyMedia();\n};\n\n/**\n *\n*/\nChromeCastPlayer.prototype.applyMedia = function() {\n  if (!(this.player != null) || !(this.media != null)) {\n    return;\n  }\n  this.ccHandler = this.loadTracks.bind(this, this.tracks);\n  this.player.addEventListener("loadedmetadata", this.ccHandler);\n  this.player.setMedia(this.media);\n  this.setState(cast.receiver.media.PlayerState.BUFFERING);\n};\n\n/**\n *\n*/\nChromeCastPlayer.prototype.loadTracks = function(tracks, event) {\n  var playbackCore, track, type;\n  this.player.removeEventListener("loadedmetadata", this.ccHandler);\n  if ((tracks != null ? tracks.length : void 0) > 0) {\n    track = this.getTrack(0);\n    if (track != null) {\n      type = /ttml/.test(track.trackContentType) ? "ttml" : track.trackContentType;\n      playbackCore = this.player.retrieveProxy("PlayerProxy").getActivePlaybackCore();\n      playbackCore.player.enableCaptions(true, type, track.trackContentId);\n    }\n  }\n};\n\n/**\n *\n*/\nChromeCastPlayer.prototype.applyFeed = function() {\n  if (!(this.player != null) || !(this.feed != null)) {\n    return;\n  }\n  this.player.addEventListener("mediachange", this.mediachangeHandler.bind(this));\n  if (feed.data != null) {\n    this.player.feed.setData(feed.data);\n  } else if (feed.url != null) {\n    this.player.feed.setURL(feed.url);\n  }\n};\n\n/**\n *\n*/\nChromeCastPlayer.prototype.mediachangeHandler = function(event) {\n  var media, mediaInfo;\n  this.removeHandler("mediachange");\n  media = this.player.getMedia();\n  mediaInfo = new cast.receiver.media.MediaInformation();\n  mediaInfo.contentId = media.src;\n  mediaInfo.contentType = media.type;\n  mediaInfo.customData = media.metadata;\n  mediaInfo.duration = media.duration;\n  mediaInfo.metadata = {\n    title: media.title,\n    subtitle: media.description,\n    images: [\n      {\n        url: media.poster\n      }\n    ],\n    releaseDate: media.pubDate.toISOString()\n  };\n  this.media = media;\n  this.shim.mediaManager.setMediaInformation(mediaInfo, true);\n};\n\n/**\n * Resets the player.\n*/\nChromeCastPlayer.prototype.reset = function() {};\n\n/**\n * Starts playback.\n*/\nChromeCastPlayer.prototype.play = function() {\n  this.player.play();\n};\n\n/**\n * Sets playback to start at a new time position.\n *\n * @param {number} time\n *    The expected current time after seek (in seconds).\n *\n * @param {cast.receiver.media.SeekResumeState} opt_resumeState\n *    The expected state after seek. Optional.\n*/\nChromeCastPlayer.prototype.seek = function(time, opt_resumeState) {\n  this.player.setCurrentTime(time);\n  switch (opt_resumeState) {\n    case cast.receiver.media.SeekResumeState.PLAYBACK_PAUSE:\n      this.player.pause();\n      break;\n    case cast.receiver.media.SeekResumeState.PLAYBACK_START:\n      this.player.play();\n  }\n};\n\n/**\n * Pauses playback.\n*/\nChromeCastPlayer.prototype.pause = function() {\n  return this.player.pause();\n};\n\n/**\n * Provides the state of the player.\n *\n * @return {cast.receiver.media.PlayerState\n *    The current state of the player\n*/\nChromeCastPlayer.prototype.getState = function() {\n  return this.state;\n};\n\n/**\n * Provides the current time of the media in seconds.\n *\n * @return {number\n *    The current time of the video, in seconds.\n*/\nChromeCastPlayer.prototype.getCurrentTimeSec = function() {\n  if (this.player != null) {\n    return this.player.getCurrentTime();\n  } else {\n    return 0;\n  }\n};\n\n/**\n * Provides the duration of the media in seconds.\n *\n * @return {number\n *    Duration of the video, in seconds.\n*/\nChromeCastPlayer.prototype.getDurationSec = function() {\n  if (this.player != null) {\n    return this.player.getDuration();\n  } else {\n    return 0;\n  }\n};\n\n/**\n * Provides the stream volume.\n *\n * @return {cast.receiver.media.Volume\n *    The media volume\n*/\nChromeCastPlayer.prototype.getVolume = function() {\n  var volume;\n  volume = new cast.receiver.media.Volume();\n  volume.level = this.player.getVolume();\n  volume.muted = this.player.getMuted();\n  return volume;\n};\n\n/**\n * Sets the stream volume.\n *\n * @param {cast.receiver.media.Volume} volume\n *    New volume\n*/\nChromeCastPlayer.prototype.setVolume = function(volume) {\n  if (volume.level != null) {\n    this.player.setVolume(volume.level);\n  }\n  if (volume.muted === true) {\n    this.player.setMuted(true);\n  } else {\n    if (this.player.getMuted() === true) {\n      this.player.setMuted(false);\n    }\n  }\n  return volume;\n};\n\n/**\n * Allows to edit the tracks information (active tracks and style).\n *\n * @param {cast.receiver.MediaManager.EditTracksInfoData} data\n *    The tracks information. The tracks definition can not change so\n *    the tracks field will be undefined (and should be ignored).\n*/\nChromeCastPlayer.prototype.editTracksInfo = function(data) {\n  var activeTrack, style;\n  if (data.activeTrackIds != null) {\n    activeTrack = data.activeTrackIds[0];\n    if (this.activeTrackId !== activeTrack) {\n      this.activeTrackId = activeTrack;\n      this.applyClassName();\n    }\n  }\n  style = data.textTrackStyle;\n  if ((style != null) && (this.cssRule != null)) {\n    this.textTrackStyle = style;\n    if (style.foregroundColor != null) {\n      this.cssRule.style.color = this.hexToRgba(style.foregroundColor);\n    }\n    if (style.backgroundColor != null) {\n      this.cssRule.style.backgroundColor = this.hexToRgba(style.backgroundColor);\n    }\n    if (style.windowType === cast.receiver.media.TextTrackWindowType.ROUNDED_CORNERS) {\n      this.cssRule.style.borderRadius = style.windowRoundedCornerRadius + "px";\n    }\n    if (style.fontScale != null) {\n      this.cssRule.style.fontSize = style.fontScale + "em";\n    }\n    if (style.fontFamily != null) {\n      this.cssRule.style.fontFamily = style.fontFamily;\n    }\n  }\n};\n\nChromeCastPlayer.prototype.applyClassName = function(hex) {\n  var classList, className;\n  if (!(this.player != null)) {\n    return;\n  }\n  className = "akamai-cc";\n  classList = this.player.getMediaElement().classList;\n  if (this.activeTrackId != null) {\n    classList.add(className);\n  } else {\n    classList.remove(className);\n  }\n};\n\nChromeCastPlayer.prototype.hexToRgba = function(hex) {\n  var a, b, g, r;\n  if (!/^#[A-Fa-f0-9]{6}([A-Fa-f0-9]{2})?$/.test(hex)) {\n    return hex;\n  }\n  r = parseInt(hex.substring(1, 3), 16);\n  g = parseInt(hex.substring(3, 5), 16);\n  b = parseInt(hex.substring(5, 7), 16);\n  a = hex.length === 9 ? parseInt(hex.substring(7, 9), 16) / 256 : 1;\n  return "rgba(" + r + "," + g + "," + b + "," + a + ")";\n};\n\nChromeCastPlayer.prototype.getTrack = function(id) {\n  var track;\n  if (!(id != null)) {\n    id = this.activeTrackId;\n  }\n  track = this.tracks.filter(function(item) {\n    return item.trackId === id;\n  })[0];\n  if (track != null) {\n    if (!(track.trackContentType != null)) {\n      track.trackContentType = cast.player.api.CaptionsType.CEA608;\n    }\n  }\n  return track;\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar ChromeCastConstants = {\n  CHANNEL_ID: "urn:x-cast:com.akamai.amp.cast",\n  APPLICATION_ID: "CC1AD845",\n  SUPPORTED_TYPES: [Utils.mimeTypes.m3u8, Utils.mimeTypes.mp4, Utils.mimeTypes.mpd, Utils.mimeTypes.ism, Utils.mimeTypes.webm, Utils.mimeTypes.mp3]\n};\n\n/** \n * The ChromeCastSenderProxy class.\n *   \n * @param {Object}  config  The plugin configuration object.\n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction ChromeCastSenderProxy(config) {\n  this.messageBus = config.messageBus || ChromeCastConstants.CHANNEL_ID;\n  ChromeCastSenderProxy.__super__.constructor.call(this, config.sender);\n}\n\n\n__extends(ChromeCastSenderProxy, PluginProxy);\n\n\n/** @static\n*/\nChromeCastSenderProxy.NAME = ModuleProxy.NAME;\n\nChromeCastSenderProxy.prototype.defaults = {\n  applicationID: ChromeCastConstants.APPLICATION_ID\n};\n\nChromeCastSenderProxy.prototype.session = null;\n\nChromeCastSenderProxy.prototype.media = null;\n\nChromeCastSenderProxy.prototype.messageBus = null;\n\nChromeCastSenderProxy.prototype.feed = null;\n\nChromeCastSenderProxy.prototype.currentTime = null;\n\nChromeCastSenderProxy.prototype.duration = null;\n\nChromeCastSenderProxy.prototype.receiverAvailable = false;\n\nChromeCastSenderProxy.prototype.currentTime = 0;\n\nChromeCastSenderProxy.prototype.duration = 0;\n\nChromeCastSenderProxy.prototype.playerState = null;\n\nChromeCastSenderProxy.prototype.displayTimeTimeout = null;\n\n/** @override\n*/\nChromeCastSenderProxy.prototype.initialize = function() {\n  var _ref,\n    _this = this;\n  if (typeof chrome !== "undefined" && chrome !== null ? (_ref = chrome.cast) != null ? _ref.isAvailable : void 0 : void 0) {\n    this.initializeCastApi();\n  } else {\n    window[\'__onGCastApiAvailable\'] = function(loaded, errorInfo) {\n      if (loaded === true) {\n        _this.initializeCastApi();\n      } else {\n        _this.logError("cast load error", errorInfo);\n      }\n    };\n  }\n};\n\nChromeCastSenderProxy.prototype.initializeCastApi = function() {\n  var apiConfig, applicationID, sessionRequest;\n  applicationID = this.getConfigurationData().applicationID;\n  sessionRequest = new chrome.cast.SessionRequest(applicationID);\n  apiConfig = new chrome.cast.ApiConfig(sessionRequest, this.sessionListener.bind(this), this.receiverListener.bind(this), chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);\n  chrome.cast.initialize(apiConfig, this.onInitSuccess.bind(this), this.onInitError.bind(this));\n};\n\nChromeCastSenderProxy.prototype.onInitSuccess = function(event) {\n  this.logEvent("init success", event);\n};\n\nChromeCastSenderProxy.prototype.onInitError = function(event) {\n  this.logError("init error", event);\n};\n\nChromeCastSenderProxy.prototype.receiverListener = function(event) {\n  this.receiverAvailable = event === \'available\';\n  this.sendNotification(ChromeCastNotifications.AVAILABILITY_CHANGE, this.receiverAvailable);\n  this.logEvent("receiver " + (this.receiverAvailable ? "found" : "list empty"));\n};\n\nChromeCastSenderProxy.prototype.sessionListener = function(event) {\n  var session;\n  this.logEvent("session listener", event);\n  session = event;\n  if (session.media.length !== 0) {\n    this.onMediaDiscovered(session.media[0]);\n  } else {\n    this.onRequestSessionSuccess(event);\n  }\n};\n\nChromeCastSenderProxy.prototype.launch = function() {\n  chrome.cast.requestSession(this.onRequestSessionSuccess.bind(this), this.onLaunchError.bind(this));\n};\n\nChromeCastSenderProxy.prototype.send = function(msg) {\n  var _ref;\n  if ((_ref = this.session) != null) {\n    if (typeof _ref.sendMessage === "function") {\n      _ref.sendMessage(this.messageBus, msg, this.onMessageSuccess.bind(this), this.onMessageError.bind(this));\n    }\n  }\n};\n\nChromeCastSenderProxy.prototype.onLaunchError = function(event) {\n  this.logError("launch error.", event);\n};\n\nChromeCastSenderProxy.prototype.onRequestSessionSuccess = function(event) {\n  var playbackProxy;\n  this.logEvent("request session success.", event);\n  this.session = event;\n  this.session.addMessageListener(this.messageBus, this.onMessage.bind(this));\n  this.session.addUpdateListener(this.onUpdate.bind(this));\n  playbackProxy = this.facade.player.retrieveProxy(PlaybackProxy.NAME);\n  if (this.session.media.length === 0) {\n    this.loadMedia(playbackProxy.getCurrentTime());\n  }\n};\n\nChromeCastSenderProxy.prototype.onUpdate = function(isAlive) {\n  if (!isAlive) {\n    this.sendNotification(Notifications.PLAYBACK_TARGET_CHANGE, {\n      target: "amp"\n    });\n    this.stopDisplayTimeUpdate();\n  }\n};\n\nChromeCastSenderProxy.prototype.onMessageSuccess = function(event) {\n  this.logEvent("message sent", event);\n};\n\nChromeCastSenderProxy.prototype.onMessageError = function(event) {\n  this.logError("message error", event);\n};\n\nChromeCastSenderProxy.prototype.onMessage = function(namespace, message) {\n  var detail, target, type;\n  message = JSON.parse(message);\n  type = message.type;\n  detail = message.detail || {};\n  switch (type) {\n    case "dispatchevent":\n      target = detail.target === "player" ? this.facade.player.parent : this.facade.player.parent[detail.target];\n      if (target != null) {\n        target.dispatchEvent(detail.event);\n      }\n  }\n  this.sendNotification(Notifications.DISPATCH_EVENT, {\n    type: "message",\n    message: message\n  });\n};\n\nChromeCastSenderProxy.prototype.onStop = function(event) {\n  this.logEvent("stop");\n  this.session.stop(this.onStopSuccess.bind(this), this.onStopError.bind(this));\n};\n\nChromeCastSenderProxy.prototype.onStopSuccess = function(event) {\n  this.logEvent("stop success", event);\n};\n\nChromeCastSenderProxy.prototype.onStopError = function(event) {\n  this.logError("stop error", event);\n};\n\nChromeCastSenderProxy.prototype.logEvent = function(message, data) {\n  if (message == null) {\n    message = data.type || "";\n  }\n  this.facade.logger.log("[AMP CHROMECAST] " + message, data);\n};\n\nChromeCastSenderProxy.prototype.logError = function(message, data) {\n  this.facade.logger.error("[AMP CHROMECAST ERROR] " + message, data);\n};\n\nChromeCastSenderProxy.prototype.getFeed = function() {\n  return this.feed;\n};\n\nChromeCastSenderProxy.prototype.setFeed = function(value) {\n  if (this.feed === value) {\n    return;\n  }\n  this.feed = value;\n  if (this.session != null) {\n    this.loadMedia();\n  }\n};\n\nChromeCastSenderProxy.prototype.loadMedia = function(startTime) {\n  var customData, feed, media, receiverCanPlay, request, source, _ref;\n  if (startTime == null) {\n    startTime = 0;\n  }\n  media = this.facade.player.retrieveProxy(MediaProxy.NAME).getData();\n  if (!(media != null)) {\n    return;\n  }\n  receiverCanPlay = function(type) {\n    if (ChromeCastConstants.SUPPORTED_TYPES.indexOf(type) > -1) {\n      return "maybe";\n    } else {\n      return "";\n    }\n  };\n  source = Utils.selectSource(media.source, receiverCanPlay);\n  if (!(source != null)) {\n    return;\n  }\n  customData = {\n    media: media\n  };\n  feed = (_ref = this.facade.player.getModules()) != null ? _ref.feed : void 0;\n  if (feed != null) {\n    customData.feed = {\n      data: feed.getData(),\n      url: feed.getURL()\n    };\n  }\n  request = this.mediaToLoadRequest(media, source, startTime, customData);\n  this.session.loadMedia(request, this.onMediaDiscovered.bind(this), this.onMediaError.bind(this));\n};\n\nChromeCastSenderProxy.prototype.mediaToLoadRequest = function(media, source, startTime, customData) {\n  var index, mediaInfo, metadata, request, track, value, _i, _len, _ref, _ref1, _ref2;\n  metadata = new chrome.cast.media.GenericMediaMetadata();\n  metadata.title = media.title;\n  metadata.subtitle = media.description;\n  metadata.image = [new chrome.cast.Image(media.poster)];\n  metadata.releaseDate = (_ref = media.pubDate) != null ? typeof _ref.toISOString === "function" ? _ref.toISOString() : void 0 : void 0;\n  mediaInfo = new chrome.cast.media.MediaInfo(source.src, source.type);\n  mediaInfo.duration = media.duration;\n  mediaInfo.customData = customData;\n  mediaInfo.metadata = metadata;\n  if (((_ref1 = media.track) != null ? _ref1.length : void 0) > 0) {\n    mediaInfo.tracks = [];\n    _ref2 = media.track;\n    for (index = _i = 0, _len = _ref2.length; _i < _len; index = ++_i) {\n      value = _ref2[index];\n      track = new chrome.cast.media.Track(index, chrome.cast.media.TrackType.TEXT);\n      track.subtype = chrome.cast.media.TextTrackType.CAPTIONS;\n      track.name = "Closed Captions";\n      track.language = value.srclang;\n      track.customData = value;\n      track.trackContentId = value.src;\n      track.trackContentType = value.type;\n      mediaInfo.tracks.push(track);\n    }\n  }\n  request = new chrome.cast.media.LoadRequest(mediaInfo);\n  request.currentTime = startTime;\n  return request;\n};\n\nChromeCastSenderProxy.prototype.onMediaDiscovered = function(media) {\n  if (this.media != null) {\n    this.media.removeUpdateListener(this.mediaStatusUpdate);\n  }\n  this.media = media;\n  this.mediaStatusUpdate = this.onMediaStatusUpdate.bind(this);\n  this.media.addUpdateListener(this.mediaStatusUpdate);\n  this.sendNotification(Notifications.PLAYBACK_TARGET_CHANGE, {\n    target: "chromecast"\n  });\n};\n\nChromeCastSenderProxy.prototype.onMediaStatusUpdate = function(status) {\n  this.logEvent("mediastatusupdate", status);\n  this.updatePlayerState(this.media.playerState);\n  this.updateDisplayTime();\n  if (status === false) {\n    this.stopDisplayTimeUpdate();\n  }\n};\n\nChromeCastSenderProxy.prototype.updatePlayerState = function(playerState) {\n  var state;\n  if (playerState === this.playerState) {\n    return;\n  }\n  this.playerState = playerState;\n  switch (this.playerState) {\n    case chrome.cast.media.PlayerState.BUFFERING:\n      state = PlayState.WAITING;\n      break;\n    case chrome.cast.media.PlayerState.PLAYING:\n      state = PlayState.PLAYING;\n      break;\n    case chrome.cast.media.PlayerState.PAUSED:\n      state = PlayState.PAUSED;\n  }\n  this.sendNotification(Notifications.CHANGE_PLAY_STATE, state);\n  if (this.playerState === chrome.cast.media.PlayerState.PLAYING) {\n    this.startDisplayTimeUpdate();\n  } else {\n    this.stopDisplayTimeUpdate();\n  }\n};\n\nChromeCastSenderProxy.prototype.startDisplayTimeUpdate = function() {\n  this.stopDisplayTimeUpdate();\n  this.displayTimeTimeout = setInterval(this.updateDisplayTime.bind(this), 100);\n};\n\nChromeCastSenderProxy.prototype.stopDisplayTimeUpdate = function() {\n  clearInterval(this.displayTimeTimeout);\n  this.displayTimeTimeout = null;\n};\n\nChromeCastSenderProxy.prototype.updateDisplayTime = function() {\n  var currentTime, duration, _ref;\n  currentTime = this.media.getEstimatedTime() || 0;\n  duration = ((_ref = this.media.media) != null ? _ref.duration : void 0) || currentTime;\n  if (duration !== this.duration) {\n    this.duration = duration;\n    this.sendNotification(Notifications.CHANGE_DURATION, this.duration);\n    return;\n  }\n  if (currentTime !== this.currentTime) {\n    this.currentTime = currentTime;\n    this.sendNotification(Notifications.DISPLAY_TIME, {\n      currentTime: this.currentTime,\n      duration: this.duration\n    });\n  }\n};\n\nChromeCastSenderProxy.prototype.onMediaError = function(error) {\n  this.logError("media error", error);\n  this.stopDisplayTimeUpdate();\n};\n\nChromeCastSenderProxy.prototype.play = function() {\n  this.media.play();\n};\n\nChromeCastSenderProxy.prototype.pause = function() {\n  this.media.pause();\n};\n\nChromeCastSenderProxy.prototype.setCurrentTime = function(time) {\n  var request;\n  request = new chrome.cast.media.SeekRequest();\n  request.currentTime = time;\n  this.media.seek(request);\n};\n\nChromeCastSenderProxy.prototype.getCurrentTime = function() {\n  return this.currentTime;\n};\n\nChromeCastSenderProxy.prototype.isReceiverAvailable = function() {\n  return this.receiverAvailable;\n};\n\n/**\n * The ChromeCastLaunchCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastLaunchCommand() {\n  ChromeCastLaunchCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastLaunchCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastLaunchCommand.prototype.execute = function(notification) {\n  this.proxy.launch();\n};\n\n/**\n * The ChromeCastCaptioningVisibilityChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastCaptioningVisibilityChangeCommand() {\n  ChromeCastCaptioningVisibilityChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastCaptioningVisibilityChangeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastCaptioningVisibilityChangeCommand.prototype.execute = function(notification) {\n  this.proxy.send({\n    type: "captioning.visibilitychange",\n    detail: {\n      visibility: notification.getBody()\n    }\n  });\n};\n\n/**\n * The ChromeCastCaptioningSettingsChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastCaptioningSettingsChangeCommand() {\n  ChromeCastCaptioningSettingsChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastCaptioningSettingsChangeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastCaptioningSettingsChangeCommand.prototype.execute = function(notification) {\n  this.proxy.send({\n    type: "captioning.settingschange",\n    detail: notification.getBody()\n  });\n};\n\n/**\n * The ChromeCastReceiverReadyCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastReceiverReadyCommand() {\n  ChromeCastReceiverReadyCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastReceiverReadyCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastReceiverReadyCommand.prototype.execute = function(notification) {\n  this.facade.player.getViewComponent().hidden = false;\n  this.plugin.ready();\n};\n\n/**\n * ChromeCastPlaybackProxy constructor.\n * \n * @constructor\n * @private\n * @extends {PlaybackCoreProxy}\n*/\nfunction ChromeCastPlaybackProxy(types, receiver) {\n  this.receiver = receiver;\n  ChromeCastPlaybackProxy.__super__.constructor.call(this, types);\n}\n\n\n__extends(ChromeCastPlaybackProxy, PlaybackCoreProxy);\n\n\nChromeCastPlaybackProxy.prototype.initialized = true;\n\nChromeCastPlaybackProxy.prototype.player = null;\n\nChromeCastPlaybackProxy.prototype.host = null;\n\nChromeCastPlaybackProxy.prototype.protocol = null;\n\nChromeCastPlaybackProxy.prototype.playbackCoreName = "chromecast";\n\nChromeCastPlaybackProxy.prototype.manifest = null;\n\nChromeCastPlaybackProxy.prototype.xhr = null;\n\nChromeCastPlaybackProxy.prototype.trackInfo = null;\n\nChromeCastPlaybackProxy.prototype.receiver = null;\n\n/** \n * @override\n * @private\n*/\nChromeCastPlaybackProxy.prototype.reset = function() {\n  ChromeCastPlaybackProxy.__super__.reset.call(this);\n  this.xhr = null;\n  this.manifest = null;\n};\n\nChromeCastPlaybackProxy.prototype.unload = function() {\n  if (this.player != null) {\n    this.trackInfo = {\n      activeTrackIds: [this.receiver.chromecastPlayer.activeTrackId],\n      textTrackStyle: this.receiver.chromecastPlayer.textTrackStyle\n    };\n    this.receiver.chromecastPlayer.activeTrackId = null;\n    this.receiver.chromecastPlayer.textTrackStyle = null;\n    this.player.unload();\n    this.player = null;\n  }\n};\n\n/** @override\n*/\nChromeCastPlaybackProxy.prototype.load = function() {\n  var _this = this;\n  if (this.xhr != null) {\n    if (this.manifest != null) {\n      this.loadMediaPlayer();\n    }\n  } else {\n    this.xhr = new XMLHttpRequest();\n    this.xhr.onload = function(event) {\n      if (_this.xhr.status === 200) {\n        _this.manifest = _this.xhr.responseText;\n        _this.loadMediaPlayer();\n      }\n    };\n    this.xhr.onerror = function(event) {\n      _this.facade.logger.error(event);\n      _this.player.unload();\n    };\n    this.xhr.open("GET", this.getSrc());\n    this.xhr.send();\n  }\n};\n\nChromeCastPlaybackProxy.prototype.loadMediaPlayer = function() {\n  var initStart, mediaProxy, type, types, video,\n    _this = this;\n  this.data.loading = true;\n  this.playWhenLoaded = true;\n  this.unload();\n  video = this.facade.getMediaElement();\n  video.addEventListener("canplay", this.resumeHandlers.canplay);\n  video.addEventListener("loadedmetadata", this.handlers.loadedmetadata);\n  video.addEventListener("durationchange", this.handlers.durationchange);\n  video.addEventListener("canplaythrough", this.handlers.canplaythrough);\n  if (video.src != null) {\n    video.src = null;\n  }\n  initStart = 0;\n  if (Logger.enabled === true) {\n    cast.player.api.setLoggerLevel(cast.player.api.LoggerLevel.DEBUG);\n  }\n  this.host = new cast.player.api.Host({\n    \'mediaElement\': video,\n    \'url\': this.getSrc()\n  });\n  this.host.updateManifestRequestInfo = function(requestInfo) {\n    if (requestInfo.url === _this.getSrc()) {\n      requestInfo.skipRequest = true;\n      requestInfo.setResponse(_this.manifest);\n    }\n  };\n  this.host.onError = function(errorCode) {\n    _this.facade.logger.error("Google Media Player Fatal Error - " + errorCode);\n    _this.player.unload();\n  };\n  mediaProxy = this.facade.retrieveProxy(MediaProxy.NAME);\n  type = mediaProxy.getType();\n  types = Utils.mimeTypes;\n  switch (type) {\n    case types.m3u8:\n      this.protocol = cast.player.api.CreateHlsStreamingProtocol(this.host);\n      break;\n    case types.mpd:\n      this.protocol = cast.player.api.CreateDashStreamingProtocol(this.host);\n      break;\n    case types.ism:\n      this.protocol = cast.player.api.CreateSmoothStreamingProtocol(this.host);\n  }\n  if (this.protocol != null) {\n    this.player = new cast.player.api.Player(this.host);\n    this.player.load(this.protocol, initStart);\n  } else {\n    this.facade.logger.error("Google Media Player Error: Could not create protocol");\n  }\n};\n\n/** \n * @override\n*/\nChromeCastPlaybackProxy.prototype.resumecomplete = function() {\n  ChromeCastPlaybackProxy.__super__.resumecomplete.call(this);\n};\n\n/**\n * The ChromeCastBreakStartCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastBreakStartCommand() {\n  ChromeCastBreakStartCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastBreakStartCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastBreakStartCommand.prototype.execute = function(notification) {\n  var playbackCore;\n  this.facade.logger.debug("ChromeCastBreakStartCommand");\n  playbackCore = this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore();\n  if (playbackCore.getPlaybackCoreName() === "chromecast") {\n    playbackCore.unload();\n    playbackCore.src = null;\n  }\n};\n\n/**\n * The ChromeCastReceiverMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n*/\nfunction ChromeCastReceiverMediator() {\n  ChromeCastReceiverMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastReceiverMediator, PluginMediator);\n\n\n/**\n * @override\n*/\nChromeCastReceiverMediator.prototype.onRegister = function() {\n  this.sendNotification(Notifications.ADD_APPLICATION_STATE, "chromecast-receiver");\n  ChromeCastReceiverMediator.__super__.onRegister.call(this);\n};\n\n/**\n * The ChromeCastSenderMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n*/\nfunction ChromeCastSenderMediator() {\n  ChromeCastSenderMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastSenderMediator, PluginMediator);\n\n\nChromeCastSenderMediator.prototype.componentName = "chromecast";\n\nChromeCastSenderMediator.prototype.controls = null;\n\n/**\n * @override\n*/\nChromeCastSenderMediator.prototype.onRegister = function() {\n  this.controls = new ChromeCastControlsMediator();\n  ChromeCastSenderMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nChromeCastSenderMediator.prototype.registerOverlay = function() {};\n\n/**\n * @override\n*/\nChromeCastSenderMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.PLAYBACK_TARGET_CHANGE, Notifications.CHANGE_PLAY_STATE];\n};\n\n/**\n * @override\n*/\nChromeCastSenderMediator.prototype.handleNotification = function(notification) {\n  var body, name, target;\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case Notifications.PLAYBACK_TARGET_CHANGE:\n      target = body.target;\n      if (target === "chromecast") {\n        this.facade.registerMediator(this.controls);\n      } else {\n        this.facade.removeMediator(this.controls.getMediatorName());\n      }\n      break;\n    case Notifications.CHANGE_PLAY_STATE:\n      this.controls.setState(body);\n  }\n};\n\n/**\n * The ChromeCastSenderMediator class.\n * \n * @constructor\n * @extends {ChromeCastSenderMediator}\n * @private\n*/\nfunction ChromeCastHTMLSenderMediator() {\n  ChromeCastHTMLSenderMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastHTMLSenderMediator, ChromeCastSenderMediator);\n\n\nChromeCastHTMLSenderMediator.prototype.chromeCastButton = null;\n\n/**\n * @override\n*/\nChromeCastHTMLSenderMediator.prototype.onRegister = function() {\n  this.chromeCastButton = new ChromeCastButtonMediator();\n  this.facade.registerMediator(this.chromeCastButton);\n  ChromeCastHTMLSenderMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nChromeCastHTMLSenderMediator.prototype.listNotificationInterests = function() {\n  return ChromeCastHTMLSenderMediator.__super__.listNotificationInterests.call(this).concat([ChromeCastNotifications.AVAILABILITY_CHANGE]);\n};\n\n/**\n * @override\n*/\nChromeCastHTMLSenderMediator.prototype.handleNotification = function(notification) {\n  var body, name;\n  ChromeCastHTMLSenderMediator.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case ChromeCastNotifications.AVAILABILITY_CHANGE:\n      if (body === true) {\n        this.sendNotification(Notifications.ADD_CONTROL_STATE, "chromecast");\n        this.facade.player.sendNotification(Notifications.ADD_CONTROL, this.chromeCastButton.getViewComponent());\n      } else {\n        this.sendNotification(Notifications.REMOVE_CONTROL_STATE, "chromecast");\n        this.facade.player.sendNotification(Notifications.REMOVE_CONTROL, this.chromeCastButton.getViewComponent());\n      }\n  }\n};\n\n/** \n * The ChromeCastReceiverProxy class.\n *   \n * @param {Object}  config  The plugin configuration object.\n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction ChromeCastReceiverProxy(config) {\n  this.messageBus = config.messageBus || ChromeCastConstants.CHANNEL_ID;\n  ChromeCastReceiverProxy.__super__.constructor.call(this, config.receiver);\n}\n\n\n__extends(ChromeCastReceiverProxy, PluginProxy);\n\n\n/** @static\n*/\nChromeCastReceiverProxy.NAME = ModuleProxy.NAME;\n\nChromeCastReceiverProxy.prototype.defaults = {\n  shim: null,\n  types: ["application/x-mpegURL", "application/dash+xml", "application/vnd.ms-sstr+xml"]\n};\n\nChromeCastReceiverProxy.prototype.messageBus = null;\n\nChromeCastReceiverProxy.prototype.castReceiverManager = null;\n\nChromeCastReceiverProxy.prototype.castMessageBus = null;\n\nChromeCastReceiverProxy.prototype.startTime = 0;\n\nChromeCastReceiverProxy.prototype.currentTime = 0;\n\nChromeCastReceiverProxy.prototype.boundHandler = null;\n\nChromeCastReceiverProxy.prototype.amp = null;\n\nChromeCastReceiverProxy.prototype.mediaManager = null;\n\nChromeCastReceiverProxy.prototype.playbackCore = null;\n\nChromeCastReceiverProxy.prototype.teardownTimeout = null;\n\nChromeCastReceiverProxy.prototype.chromecastPlayer = null;\n\nChromeCastReceiverProxy.prototype.initialize = function() {\n  var core, player;\n  ChromeCastReceiverProxy.__super__.initialize.call(this);\n  this.sendNotification(Notifications.INITIALIZED);\n  core = new ChromeCastPlaybackProxy(this.getConfigurationData().types, this);\n  player = this.facade.player.retrieveProxy(PlayerProxy.NAME);\n  player.registerPlaybackCore(core);\n};\n\nChromeCastReceiverProxy.prototype.ready = function() {\n  if (this.facade.logger.enabled === true) {\n    cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);\n  }\n  this.shim = ChromeCastShim.getInstance();\n  this.castReceiverManager = this.shim.castReceiverManager;\n  this.castReceiverManager.onReady = this.castReceiverManager.onSystemVolumeChanged = this.castReceiverManager.onVisibilityChanged = this.logEvent.bind(this);\n  this.castReceiverManager.onSenderConnected = this.onSenderConnected.bind(this);\n  this.castReceiverManager.onSenderDisconnected = this.onSenderDisconnected.bind(this);\n  this.amp = this.facade.player;\n  this.chromecastPlayer = this.shim.player;\n  this.chromecastPlayer.registerPlayer(this.amp);\n  this.mediaManager = this.shim.mediaManager;\n  this.castMessageBus = this.shim.castMessageBuses[this.messageBus];\n  this.castMessageBus.onMessage = this.onMessage.bind(this);\n  this.amp.addEventListener("seeking", this.eventHandler.bind(this));\n  this.amp.addEventListener("seeked", this.eventHandler.bind(this));\n  this.amp.addEventListener("pause", this.startTeardownTimeout.bind(this, 20 * 60));\n  this.amp.addEventListener("ended", this.startTeardownTimeout.bind(this, 5 * 60));\n  this.amp.addEventListener("error", this.startTeardownTimeout.bind(this, 5 * 60));\n  this.amp.addEventListener("playing", this.stopTeardownTimeout.bind(this));\n  this.amp.addEventListener("loadedmetadata", this.stopTeardownTimeout.bind(this));\n  if (this.amp.ads != null) {\n    this["amp"].ads.addEventListener("breakstart", this.dispatchEvent.bind(this, "ads"));\n    this["amp"].ads.addEventListener("breakend", this.onBreakEnd.bind(this));\n    this["amp"].ads.addEventListener("started", this.dispatchEvent.bind(this, "ads"));\n    this["amp"].ads.addEventListener("ended", this.dispatchEvent.bind(this, "ads"));\n    this["amp"].ads.addEventListener("companion", this.dispatchEvent.bind(this, "ads"));\n  }\n  this.startTeardownTimeout(5 * 60);\n};\n\nChromeCastReceiverProxy.prototype.onBreakEnd = function(event) {\n  this.dispatchEvent("ads", event);\n  if (this.amp.getEnded() === true) {\n    this.startTeardownTimeout(5 * 60);\n  }\n};\n\nChromeCastReceiverProxy.prototype.logEvent = function(message, data) {\n  if (!(message != null)) {\n    message = data.type || "";\n  } else if (!(data != null)) {\n    data = message.data;\n    message = data.type;\n  }\n  this.facade.logger.log("[CHROMECAST] ", message, data);\n};\n\nChromeCastReceiverProxy.prototype.onSenderConnected = function(event) {\n  this.logEvent("senderconnected", event);\n  setTimeout(this.sendNotification.bind(this, Notifications.DISPATCH_EVENT, new Event("senderconnected", event)), 0);\n};\n\nChromeCastReceiverProxy.prototype.onSenderDisconnected = function(event) {\n  this.logEvent("sender disconnected", event);\n  if (this.castReceiverManager.getSenders().length === 0 && event.reason === cast.receiver.system.DisconnectReason.REQUESTED_BY_SENDER) {\n    this.teardown();\n  }\n  setTimeout(this.sendNotification.bind(this, Notifications.DISPATCH_EVENT, new Event("senderdisconnected", event)), 0);\n};\n\nChromeCastReceiverProxy.prototype.onMessage = function(event) {\n  var detail, ids, message, textTrackStyle, type;\n  this.logEvent("message from sender", event);\n  try {\n    message = event.data || event.message;\n    if (!(message != null)) {\n      return;\n    }\n    type = message.type;\n    detail = message.detail;\n    if (typeof detail === "string") {\n      detail = JSON.parse(detail);\n    }\n    if (!(detail != null)) {\n      return;\n    }\n    switch (type) {\n      case "captioning.visibilitychange":\n        ids = [];\n        if (detail.visibility === true) {\n          ids.push(0);\n        }\n        this.chromecastPlayer.editTracksInfo({\n          activeTrackIds: ids\n        });\n        break;\n      case "captioning.settingschange":\n        textTrackStyle = new cast.receiver.media.TextTrackStyle();\n        textTrackStyle.foregroundColor = detail.fontColor;\n        textTrackStyle.backgroundColor = detail.backgroundColor;\n        textTrackStyle.fontScale = detail.size;\n        textTrackStyle.windowColor = detail.windowColor;\n        textTrackStyle.fontFamily = detail.fontFamily;\n        textTrackStyle.edgeColor = detail.edgeColor;\n        textTrackStyle.edgeType = detail.edgeType;\n        this.chromecastPlayer.editTracksInfo({\n          textTrackStyle: textTrackStyle\n        });\n        break;\n      case "stats.visibilitychange":\n        this["amp"].stats.setHidden(!detail.visibility);\n    }\n    this.sendNotification(Notifications.DISPATCH_EVENT, event);\n  } catch (error) {\n    this.error(error);\n  }\n};\n\nChromeCastReceiverProxy.prototype.onClose = function(event) {\n  this.logEvent("message channel closed", event);\n};\n\nChromeCastReceiverProxy.prototype.eventHandler = function(event) {\n  var msg;\n  msg = {\n    type: event.type\n  };\n  if (event.detail != null) {\n    msg.detail = event.detail;\n  }\n  this.send(msg);\n};\n\nChromeCastReceiverProxy.prototype.dispatchEvent = function(target, event) {\n  this.send({\n    type: "dispatchevent",\n    detail: {\n      target: target,\n      event: event\n    }\n  });\n};\n\nChromeCastReceiverProxy.prototype.send = function(message) {\n  this.castMessageBus.broadcast(message);\n};\n\nChromeCastReceiverProxy.prototype.startTeardownTimeout = function(seconds) {\n  this.stopTeardownTimeout();\n  this.teardownTimeout = setTimeout(this.teardown.bind(this), seconds * 1000);\n};\n\nChromeCastReceiverProxy.prototype.stopTeardownTimeout = function() {\n  clearTimeout(this.teardownTimeout);\n};\n\nChromeCastReceiverProxy.prototype.teardown = function() {\n  window.close();\n};\n\n/**\n * The ChromeCastFeedChangedCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastFeedChangedCommand() {\n  ChromeCastFeedChangedCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastFeedChangedCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastFeedChangedCommand.prototype.execute = function(notification) {\n  this.proxy.setFeed(notification.getBody());\n};\n\n/**\n * The ChromeCastSeekCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastSeekCommand() {\n  ChromeCastSeekCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastSeekCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastSeekCommand.prototype.execute = function(notification) {\n  this.facade.logger.debug("ChromeCastSeekCommand");\n  this.plugin.setCurrentTime(notification.getBody());\n};\n\n/**\n * The ChromeCastButtonMediator class.\n * \n * @constructor\n * @extends {PluginMediator}\n * @param {Object} parent\n * @private\n*/\nfunction ChromeCastButtonMediator() {\n  ChromeCastButtonMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastButtonMediator, ButtonMediator);\n\n\nChromeCastButtonMediator.prototype.componentName = "chromecast";\n\nChromeCastButtonMediator.prototype.onclick = function(event) {\n  event.stopImmediatePropagation();\n  this.sendNotification(ChromeCastNotifications.LAUNCH);\n  return false;\n};\n\n/**\n * The ChromeCastTogglePlayPauseCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastTogglePlayPauseCommand() {\n  ChromeCastTogglePlayPauseCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastTogglePlayPauseCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastTogglePlayPauseCommand.prototype.execute = function(notification) {\n  switch (this.applicationState.getPlayState()) {\n    case PlayState.ENDED:\n      this.plugin.setCurrentTime(0);\n      this.plugin.play();\n      break;\n    case PlayState.PAUSED:\n    case PlayState.READY:\n      this.plugin.play();\n      break;\n    case PlayState.PLAYING:\n    case PlayState.WAITING:\n      this.plugin.pause();\n  }\n};\n\n/**\n * The ChromeCastControlsMediator class.\n * \n * @constructor\n * @extends {PluginMediator}\n * @private\n*/\nfunction ChromeCastControlsMediator() {\n  ChromeCastControlsMediator.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastControlsMediator, ControlsMediator);\n\n\nChromeCastControlsMediator.prototype.componentName = "chromecast-controls";\n\nChromeCastControlsMediator.prototype.message = null;\n\nChromeCastControlsMediator.prototype.messageContainer = null;\n\nChromeCastControlsMediator.prototype.button = null;\n\nChromeCastControlsMediator.prototype.captioningActive = false;\n\n/** @override\n*/\nChromeCastControlsMediator.prototype.initializeNotifier = function(key) {\n  ChromeCastControlsMediator.__super__.initializeNotifier.call(this, key);\n  this.viewComponent.innerHTML = "";\n  this.messageContainer = this.create("chromecast-message-container");\n  this.message = this.createText("chromecast-message", this.localizationManager.getString("MSG_CHROMECAST_MESSAGE"), this.messageContainer);\n  this.button = new ChromeCastButtonMediator();\n};\n\n/** @override\n*/\nChromeCastControlsMediator.prototype.onRegister = function() {\n  var button, fullscreen, _ref, _ref1;\n  this.facade.registerMediator(this.button);\n  ChromeCastControlsMediator.__super__.onRegister.call(this);\n  fullscreen = new FullScreenMediator(this.controlBar);\n  fullscreen.setDisabled(true);\n  this.facade.registerMediator(fullscreen);\n  this.sendNotification(Notifications.ADD_CONTROL, this.button.getViewComponent());\n  if (!this.viewComponent.getElementsByClassName("akamai-caption akamai-button").length && ((_ref = this.facade.player.captioning) != null ? (_ref1 = _ref.config) != null ? _ref1.enabled : void 0 : void 0) === true) {\n    button = new ButtonMediator(this.localizationManager.getString(LocalizationConstants.MSG_CC), this.viewComponent.getElementsByClassName("akamai-control-bar")[0], null, "caption", this.captionButtonClick.bind(this));\n    this.facade.registerMediator(button);\n    this.captionButton = button.getViewComponent();\n    this.sendNotification(Notifications.ADD_CONTROL, this.captionButton);\n    this.sendNotification(Notifications.ADD_CONTROL_STATE, "cc-enabled");\n  }\n};\n\nChromeCastControlsMediator.prototype.captionButtonClick = function() {\n  var note;\n  this.captioningActive = !this.captioningActive;\n  try {\n    this.facade.player.parent.chromecast.postMessage({\n      type: "captioning.visibilitychange",\n      detail: {\n        visibility: this.captioningActive\n      }\n    });\n  } catch (error) {\n    this.facade.logger.error("[AMP Chromecast Captioning Error]", error);\n  }\n  note = this.captioningActive ? Notifications.ADD_APPLICATION_STATE : Notifications.REMOVE_APPLICATION_STATE;\n  this.sendNotification(note, "cc-active");\n};\n\n/**\n * The ChromeCastPlaybackTargetChangeCommand class.\n *   \n * @constructor\n * @private\n * @extends {PluginCommand}\n*/\nfunction ChromeCastPlaybackTargetChangeCommand() {\n  ChromeCastPlaybackTargetChangeCommand.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastPlaybackTargetChangeCommand, PluginCommand);\n\n\n/**\n * Executes the command.\n * \n * @param {puremvc.Notification} notification \n *    The notification.\n * \n * @override\n*/\nChromeCastPlaybackTargetChangeCommand.prototype.execute = function(notification) {\n  var body, currentTime, duration, target;\n  body = notification.getBody();\n  target = body.target;\n  if (target === "chromecast") {\n    this.player.pause();\n  } else if (target === "amp") {\n    currentTime = this.proxy.getCurrentTime();\n    duration = this.player.getDuration();\n    if (currentTime !== 0) {\n      if (currentTime !== duration) {\n        this.seekedHandler = this.seeked.bind(this);\n        this.player.addEventListener("seeked", this.seekedHandler);\n      }\n      this.player.setCurrentTime(currentTime);\n    }\n  }\n};\n\nChromeCastPlaybackTargetChangeCommand.prototype.seeked = function(event) {\n  this.player.removeEventListener("seeked", this.seekedHandler);\n  this.player.play();\n};\n\nChromeCastPlaybackTargetChangeCommand.prototype.seekedHandler = null;\n\n/** \n * The ChromeCastPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ChromeCastPlugin() {\n  ChromeCastPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastPlugin, Plugin);\n\n\nChromeCastPlugin.prototype.moduleName = "chromecast";\n\nChromeCastPlugin.prototype.isAvailable = function() {\n  return this.isSender() || this.isReceiver();\n};\n\n/**\n*/\nChromeCastPlugin.prototype.loadResources = function() {\n  if (!this.isAvailable()) {\n    this.resourcesLoaded();\n    return;\n  }\n  ChromeCastPlugin.__super__.loadResources.call(this);\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.onRegister = function() {\n  if (!this.isAvailable()) {\n    this.sendNotification(PluginNotifications.PLUGIN_REGISTERED, this);\n  } else {\n    ChromeCastPlugin.__super__.onRegister.call(this);\n  }\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.createModel = function() {\n  this.proxy = this.isSender() ? new ChromeCastSenderProxy(this.config) : new ChromeCastReceiverProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.createController = function() {\n  ChromeCastPlugin.__super__.createController.call(this);\n  if (this.isSender()) {\n    this.registerCommand(Notifications.PLAYBACK_TARGET_CHANGE, ChromeCastPlaybackTargetChangeCommand);\n    this.registerCommand(ChromeCastNotifications.LAUNCH, ChromeCastLaunchCommand);\n    this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, ChromeCastTogglePlayPauseCommand);\n    this.registerCommand(UserNotifications.SEEK, ChromeCastSeekCommand);\n    this.registerCommand(CaptioningNotifications.VISIBILITY_CHANGE, ChromeCastCaptioningVisibilityChangeCommand);\n    this.registerCommand(CaptioningNotifications.SETTINGS_CHANGE, ChromeCastCaptioningSettingsChangeCommand);\n    this.registerCommand(ChromeCastNotifications.AVAILABILITY_CHANGE, PluginEventCommand);\n  } else if (this.isReceiver()) {\n    this.registerCommand(Notifications.READY, ChromeCastReceiverReadyCommand);\n    this.registerCommand(AdNotifications.BREAK_START, ChromeCastBreakStartCommand);\n  }\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.createView = function() {\n  if (this.isSender()) {\n    this.registerMediator(new ChromeCastHTMLSenderMediator());\n  } else if (this.isReceiver()) {\n    this.registerMediator(new ChromeCastReceiverMediator());\n  }\n};\n\nChromeCastPlugin.prototype.isSender = function() {\n  return !ChromeCastPlugin.prototype.isReceiver() && /Chrome/.test(navigator.userAgent);\n};\n\nChromeCastPlugin.prototype.isReceiver = function() {\n  return /CrKey/.test(navigator.userAgent);\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.listNotificationInterests = function() {\n  return [Notifications.READY, CaptioningNotifications.VISIBILITY_CHANGE, CaptioningNotifications.SETTINGS_CHANGE, AdNotifications.BREAK_START];\n};\n\n/** @override\n*/\nChromeCastPlugin.prototype.listNotificationPublications = function() {\n  return ChromeCastPlugin.__super__.listNotificationPublications.apply(this, arguments).concat([Notifications.INITIALIZED, Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE, Notifications.PLAYBACK_TARGET_CHANGE, ChromeCastNotifications.AVAILABILITY_CHANGE, Notifications.MEDIA_CHANGE, Notifications.CHANGE_PLAY_STATE, Notifications.CHANGE_DURATION, Notifications.DISPLAY_TIME]);\n};\n\n/**\n * @expose\n*/\nChromeCastPlugin.prototype.play = function() {\n  var _base;\n  if (typeof (_base = this.proxy).play === "function") {\n    _base.play();\n  }\n};\n\n/**\n * @expose\n*/\nChromeCastPlugin.prototype.pause = function() {\n  var _base;\n  if (typeof (_base = this.proxy).pause === "function") {\n    _base.pause();\n  }\n};\n\n/**\n * @param {Number}  value   The time in seconds to seek to.\n * @expose\n*/\nChromeCastPlugin.prototype.setCurrentTime = function(value) {\n  this.proxy.setCurrentTime(value);\n  return value;\n};\n\n/**\n * Returns if The chromecast device\'s Availability \n * @expose\n*/\nChromeCastPlugin.prototype.isReceiverAvailable = function() {\n  var _ref;\n  return ((_ref = this.proxy) != null ? typeof _ref.isReceiverAvailable === "function" ? _ref.isReceiverAvailable() : void 0 : void 0) || false;\n};\n\nChromeCastPlugin.prototype.getMedia = function() {\n  return this.proxy.media;\n};\n\nChromeCastPlugin.prototype.getSession = function() {\n  return this.proxy.session;\n};\n\nChromeCastPlugin.prototype.getMediaManager = function() {\n  return this.proxy.mediaManager;\n};\n\nChromeCastPlugin.prototype.getCastReceiverManager = function() {\n  return this.proxy.castReceiverManager;\n};\n\nChromeCastPlugin.prototype.getCastMessageBus = function() {\n  return this.proxy.castMessageBuses[this.proxy.messageBus];\n};\n\n/**\n * sends a message across the message bus.\n * \n * @param {Object} msg \n * @expose\n*/\nChromeCastPlugin.prototype.postMessage = function(msg) {\n  this.proxy.send(msg);\n};\n\n\nAMP.registerPlugin("chromecast", "html", ChromeCastPlugin);\n\n/** \n * The ChromeCastFlashPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @param {Object}  config  The plugin\'s configuration object.\n * @constructor\n * @extends {ChromeCastPlugin}\n * @private\n*/\nfunction ChromeCastFlashPlugin() {\n  ChromeCastFlashPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ChromeCastFlashPlugin, ChromeCastPlugin);\n\n\nChromeCastFlashPlugin.NAME = "ChromeCastFlashPlugin";\n\n/** @override\n*/\nChromeCastFlashPlugin.prototype.createModel = function() {\n  this.proxy = new ChromeCastSenderProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nChromeCastFlashPlugin.prototype.createController = function() {\n  ChromeCastFlashPlugin.__super__.createController.call(this);\n  this.registerCommand(Notifications.PLAYBACK_TARGET_CHANGE, ChromeCastPlaybackTargetChangeCommand);\n  this.registerCommand(ChromeCastNotifications.LAUNCH, ChromeCastLaunchCommand);\n  this.registerCommand(FeedNotifications.FEED_CHANGED, ChromeCastFeedChangedCommand);\n  this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE, ChromeCastTogglePlayPauseCommand);\n  this.registerCommand(UserNotifications.SEEK, ChromeCastSeekCommand);\n};\n\n/** @override\n*/\nChromeCastFlashPlugin.prototype.createView = function() {\n  this.registerMediator(new ChromeCastSenderMediator());\n};\n\n/** @override\n*/\nChromeCastFlashPlugin.prototype.listNotificationInterests = function() {\n  return [FeedNotifications.FEED_CHANGED, Notifications.CHANGE_MEDIA];\n};\n\n/**\n * @enum {string}\n * @const\n * @private\n*/\n\nvar ChromeCastNotifications = {\n  LAUNCH: "launch",\n  AVAILABILITY_CHANGE: "availabilitychange"\n};\n\n/** \n * @constructor\n * @extends {PluginWrapper}\n * @private\n*/\nfunction ChromeCastWrapper(player, init) {\n  if (!ChromeCastPlugin.prototype.isSender()) {\n    throw new Error("Chromecast not supported on this platform. Skipping plugin initialization.");\n  }\n  ChromeCastWrapper.__super__.constructor.call(this, player, init);\n  this.plugin = new ChromeCastFlashPlugin();\n  this.plugin.initialize(init, this.player);\n  player.registerModule(this.plugin);\n}\n\n\n__extends(ChromeCastWrapper, PluginWrapper);\n\n\nChromeCastWrapper.NAME = "ChromeCastWrapper";\n\nChromeCastWrapper.prototype.buttonId = "chromecastBtn";\n\nChromeCastWrapper.prototype.plugin = null;\n\n/** @override\n*/\nChromeCastWrapper.prototype.createXML = function(xml) {\n  var controls;\n  if (this.hasControls(xml) === false) {\n    return xml;\n  }\n  controls = this.getControls(xml);\n  if (!(controls[this.buttonId] != null)) {\n    this.createElement(xml, this.buttonId);\n  }\n  return xml;\n};\n\n/**\n*/\nChromeCastWrapper.prototype.listNotificationInterests = function() {\n  return ChromeCastWrapper.__super__.listNotificationInterests.call(this).concat([FlashNotifications.ELEMENT_EVENT, FlashNotifications.LOAD_STATE_READY, FlashNotifications.LOAD_STATE_LOADING, FlashNotifications.APPLICATION_STATE_CHANGE, ChromeCastNotifications.AVAILABILITY_CHANGE]);\n};\n\n/**\n*/\nChromeCastWrapper.prototype.handleNotification = function(notification) {\n  var body, isReceiverAvailable, name, _ref;\n  ChromeCastWrapper.__super__.handleNotification.call(this, notification);\n  name = notification.getName();\n  body = notification.getBody();\n  switch (name) {\n    case FlashNotifications.ELEMENT_EVENT:\n      if (body.type === "click" && body.element === this.buttonId) {\n        this.plugin.sendNotification(ChromeCastNotifications.LAUNCH);\n      }\n      break;\n    case ChromeCastNotifications.AVAILABILITY_CHANGE:\n      if (((_ref = this.player.mediaElement) != null ? _ref.setPlayerProperty : void 0) != null) {\n        this.player.mediaElement.setPlayerProperty(this.buttonId, {\n          visible: body\n        });\n      }\n      break;\n    case FlashNotifications.APPLICATION_STATE_CHANGE:\n    case FlashNotifications.LOAD_STATE_READY:\n    case FlashNotifications.LOAD_STATE_LOADING:\n      isReceiverAvailable = this.plugin.isReceiverAvailable();\n      if (isReceiverAvailable) {\n        this.player.mediaElement.setPlayerProperty(this.buttonId, {\n          state: 1\n        });\n      }\n      this.player.mediaElement.setPlayerProperty(this.buttonId, {\n        visible: isReceiverAvailable\n      });\n  }\n};\n\n/**\n * @expose\n*/\nChromeCastWrapper.prototype.play = function() {\n  this.plugin.play();\n};\n\n/**\n * @expose\n*/\nChromeCastWrapper.prototype.pause = function() {\n  this.plugin.pause();\n};\n\n/**\n * @param {Number}  value   The time in seconds to seek to.\n * @expose\n*/\nChromeCastWrapper.prototype.setCurrentTime = function(value) {\n  this.plugin.setCurrentTime(value);\n  return value;\n};\n\nChromeCastWrapper.prototype.getMedia = function() {\n  return this.plugin.getMedia();\n};\n\nChromeCastWrapper.prototype.getSession = function() {\n  return this.plugin.getSession();\n};\n\nChromeCastWrapper.prototype.getMediaManager = function() {\n  return this.plugin.getMediaManager();\n};\n\nChromeCastWrapper.prototype.getCastReceiverManager = function() {\n  return this.plugin.getCastReceiverManager();\n};\n\nChromeCastWrapper.prototype.getCastMessageBus = function() {\n  return this.plugin.getCastMessageBuses();\n};\n\n/**\n * sends a message across the message bus.\n * \n * @param {Object} msg \n * @expose\n*/\nChromeCastWrapper.prototype.postMessage = function(msg) {\n  this.plugin.postMessage(msg);\n};\n\n\nAMP.registerPlugin("chromecast", "flash", ChromeCastWrapper);\n\n/** \n * The MOATPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {AdPlugin}\n*/\nfunction MOATPlugin() {\n  MOATPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(MOATPlugin, Plugin);\n\n\nMOATPlugin.prototype.moduleName = "moat";\n\n/** @override\n*/\nMOATPlugin.prototype.createModel = function() {\n  this.proxy = new MOATProxy(this.config);\n  this.registerProxy(this.proxy);\n};\n\n/** @override\n*/\nMOATPlugin.prototype.createController = function() {\n  MOATPlugin.__super__.createController.call(this);\n  return this.registerCommand(AdNotifications.AD_MANAGER_LOADED, MOATAdManagerLoadedCommand);\n};\n\n/** @override\n*/\nMOATPlugin.prototype.listNotificationInterests = function() {\n  return [AdNotifications.AD_MANAGER_LOADED];\n};\n\n\nAMP.registerPlugin("moat", "html", MOATPlugin);\nAMP.registerPlugin("moat", "flash", MOATWrapper);\n\n/**\n * Create a ChromeCastShim.\n * \n * @param {?cast.receiver.CastReceiverManager.Config} config\n * @param {Object.<string, string>} messageBuses\n*/\nfunction ChromeCastShim(config, messageBuses) {\n  var key, value;\n  if (!/CrKey/.test(navigator.userAgent) || !(typeof cast !== "undefined" && cast !== null)) {\n    return;\n  }\n  ChromeCastShim.__super__.constructor.call(this);\n  this.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();\n  this.castReceiverManager.onReady = this.dispatchEvent.bind(this, {\n    type: "ready"\n  });\n  this.castReceiverManager.onSenderConnected = this.dispatchEvent.bind(this, {\n    type: "senderconnected"\n  });\n  this.castReceiverManager.onSenderDisconnected = this.dispatchEvent.bind(this, {\n    type: "senderdisconnected"\n  });\n  this.castReceiverManager.onShutdown = this.dispatchEvent.bind(this, {\n    type: "shutdown"\n  });\n  this.castReceiverManager.onStandbyChanged = this.dispatchEvent.bind(this, {\n    type: "standbychange"\n  });\n  this.castReceiverManager.onSystemVolumeChanged = this.dispatchEvent.bind(this, {\n    type: "systemvolumechanged"\n  });\n  this.castReceiverManager.onVisibilityChanged = this.dispatchEvent.bind(this, {\n    type: "visibilitychanged"\n  });\n  this.player = new ChromeCastPlayer(this);\n  this.mediaManager = new cast.receiver.MediaManager(this.player);\n  if (!(messageBuses != null)) {\n    messageBuses = {};\n  }\n  messageBuses[ChromeCastConstants.CHANNEL_ID] = cast.receiver.CastMessageBus.MessageType.JSON;\n  this.castMessageBuses = {};\n  for (key in messageBuses) {\n    value = messageBuses[key];\n    this.castMessageBuses[key] = this.castReceiverManager.getCastMessageBus(key, value);\n  }\n  this.castReceiverManager.start(config);\n  return;\n}\n\n\n__extends(ChromeCastShim, EventDispatcher);\n\n\n/**\n * @type {cast.receiver.CastReceiverManager}\n*/\nChromeCastShim.prototype.castReceiverManager = null;\n\n/**\n * @type {cast.receiver.MediaManager}\n*/\nChromeCastShim.prototype.mediaManager = null;\n\n/**\n * @type {Object.<string, cast.receiver.CastMessageBus>}\n*/\nChromeCastShim.prototype.castMessageBuses = null;\n\n/**\n * @type {cast.receiver.media.Player}\n*/\nChromeCastShim.prototype.player = null;\n\nChromeCastShim.getInstance = function() {\n  return this.instance;\n};\n\nChromeCastShim.instance = new ChromeCastShim();\n\n/** \n * The DASHPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction DASHPlugin() {\n  DASHPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(DASHPlugin, Plugin);\n\n\nDASHPlugin.prototype.moduleName = "dash";\n\n/** @override\n*/\nDASHPlugin.prototype.createModel = function() {\n  this.registerProxy(new DASHProxy(this.config));\n};\n\nDASHPlugin.prototype.registered = function() {\n  this.player.registerCommand(Notifications.CHANGE_DISPLAY_STATE, DASHChangeDisplayStateCommand);\n  DASHPlugin.__super__.registered.call(this);\n};\n\n\nAMP.registerPlugin("dash", "html", DASHPlugin);\n\n/** \n * The ControlPanelPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ControlPlugin() {\n  ControlPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ControlPlugin, Plugin);\n\n\n/** @override\n*/\nControlPlugin.prototype.listNotificationPublications = function() {\n  return ControlPlugin.__super__.listNotificationPublications.apply(this, arguments).concat([Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE]);\n};\n\n/**\n * The PanelControlMediator class.\n * \n * @constructor\n * @private\n * @extends {ButtonMediator}\n*/\nfunction PanelControlMediator(componentName) {\n  PanelControlMediator.__super__.constructor.call(this, null, null, null, componentName, onclick);\n}\n\n\n__extends(PanelControlMediator, ButtonMediator);\n\n\nPanelControlMediator.prototype.panel = null;\n\nPanelControlMediator.prototype.timeout = null;\n\nPanelControlMediator.prototype.closePanelDelayed = null;\n\n/**\n * @override\n*/\nPanelControlMediator.prototype.onRegister = function() {\n  this.closePanelDelayed = this.delayedClosePanel.bind(this);\n  if (Utils.getDevice() === "desktop") {\n    this.onmouseleave = this.closePanelDelayed;\n    this.onmouseenter = this.openPanel;\n    this.onclick = this.clickHandler;\n  } else {\n    this.onclick = this.togglePanel;\n  }\n  PanelControlMediator.__super__.onRegister.call(this);\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, "" + this.componentName + "-enabled");\n  this.sendNotification(Notifications.ADD_CONTROL, this.viewComponent);\n};\n\nPanelControlMediator.prototype.openPanel = function() {\n  clearTimeout(this.timeout);\n  this.sendNotification(PanelNotifications.OPEN_PANEL, this.panel);\n  this.panel.viewComponent.addEventListener("mouseleave", this.closePanelDelayed);\n};\n\nPanelControlMediator.prototype.closePanel = function() {\n  if (Utils.isMouseOverElement(this.panel.viewComponent) || Utils.isMouseOverElement(this.viewComponent) || this.facade.player.retrieveProxy(ApplicationStateProxy.NAME).getIsUserActive()) {\n    return;\n  }\n  this.panel.viewComponent.addEventListener("mouseleave", this.closePanelDelayed);\n  this.sendNotification(PanelNotifications.CLOSE_PANEL, this.panel);\n};\n\nPanelControlMediator.prototype.delayedClosePanel = function() {\n  this.timeout = setTimeout(this.closePanel.bind(this), 350);\n};\n\nPanelControlMediator.prototype.togglePanel = function() {\n  this.sendNotification(PanelNotifications.TOGGLE_PANEL, this.panel);\n};\n\nPanelControlMediator.prototype.clickPanel = function() {};\n\n/**\n * The PlayPauseMediator class.\n * \n * @constructor\n * @private\n * @extends {ButtonMediator}\n*/\nfunction PanelMediator(componentName) {\n  PanelMediator.__super__.constructor.call(this, componentName, null, null, null);\n}\n\n\n__extends(PanelMediator, ComponentMediator);\n\n\nPanelMediator.prototype.componentType = "panel";\n\nPanelMediator.prototype.control = null;\n\n/**\n * @override\n*/\nPanelMediator.prototype.onRegister = function() {\n  PanelMediator.__super__.onRegister.call(this);\n  this.sendNotification(PanelNotifications.ADD_PANEL, this);\n};\n\n/** \n * The ControlProxy class.\n * \n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction ControlProxy(config) {\n  ControlProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ControlProxy, PluginProxy);\n\n\n/** @static\n*/\nControlProxy.NAME = ModuleProxy.NAME;\n\nControlProxy.prototype.loaded = true;\n\nControlProxy.prototype.controlName = null;\n\n/**\n *\n*/\nControlProxy.prototype.getControlName = function() {\n  return this.controlName;\n};\n\nControlProxy.prototype.setControlName = function(value) {\n  return this.controlName = value;\n};\n\n/** \n * The ControlPanelProxy class.\n * \n * @constructor\n * @private\n * @extends {PluginProxy}\n*/\nfunction ControlPanelProxy(config) {\n  ControlPanelProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(ControlPanelProxy, ControlProxy);\n\n\n/** @static\n*/\nControlPanelProxy.NAME = ModuleProxy.NAME;\n\nControlPanelProxy.prototype.hidden = true;\n\n/**\n *\n*/\nControlPanelProxy.prototype.getHidden = function() {\n  return this.hidden;\n};\n\nControlPanelProxy.prototype.setHidden = function(value) {\n  this.hidden = value;\n  return value;\n};\n\n/** \n * The VolumePanelProxy class.\n * \n * @constructor\n * @private\n * @extends {ControlPanelProxy}\n*/\nfunction VolumePanelProxy(config) {\n  VolumePanelProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(VolumePanelProxy, ControlPanelProxy);\n\n\n/** @static\n*/\nVolumePanelProxy.NAME = ModuleProxy.NAME;\n\nVolumePanelProxy.prototype.controlName = "volume";\n\nVolumePanelProxy.prototype.defaults = {\n  direction: "vertical"\n};\n\nVolumePanelProxy.prototype.getDirection = function() {\n  return this.data.direction;\n};\n\n/**\n*/\nfunction VolumePanelWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  VolumePanelWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(VolumePanelWrapper, PluginWrapper);\n\n\nVolumePanelWrapper.NAME = "VolumePanelWrapper";\n\n\nAMP.registerPlugin("volumepanel", "flash", VolumePanelWrapper);\n\nfunction VolumePanelControlMediator(componentName) {\n  VolumePanelControlMediator.__super__.constructor.call(this, componentName);\n}\n\n\n__extends(VolumePanelControlMediator, PanelControlMediator);\n\n\nVolumePanelControlMediator.prototype.clickHandler = function() {\n  this.sendNotification(Notifications.TOGGLE_MUTED);\n};\n\n/**\n * The VolumeMediator class.\n * \n * @constructor\n * @private\n * @extends {ModuleMediator}\n * @param {Object} viewComponent\n*/\nfunction VolumeMediator(parent, direction) {\n  VolumeMediator.__super__.constructor.call(this, parent, direction);\n}\n\n\n__extends(VolumeMediator, SliderMediator);\n\n\nVolumeMediator.prototype.componentName = "volume";\n\n/** \n * @override\n*/\nVolumeMediator.prototype.valueChanged = function() {\n  this.sendNotification(Notifications.CHANGE_VOLUME, this.value);\n  this.sendNotification(UserSettingsNotifications.UPDATE_SETTINGS, {\n    volume: this.value\n  });\n};\n\n/** \n * @override\n*/\nVolumeMediator.prototype.listNotificationInterests = function() {\n  return [Notifications.VOLUME_CHANGE, Notifications.READY];\n};\n\n/** \n * @override\n*/\nVolumeMediator.prototype.handleNotification = function(notification) {\n  switch (notification.getName()) {\n    case Notifications.READY:\n      this.updateValue(this.facade.player.retrieveProxy(PlaybackProxy.NAME).getVolume());\n      break;\n    case Notifications.VOLUME_CHANGE:\n      this.updateValue(notification.getBody());\n  }\n};\n\n/**\n * The ControlPanelMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n*/\nfunction ControlPanelMediator() {\n  ControlPanelMediator.__super__.constructor.call(this);\n  this.controls = {};\n}\n\n\n__extends(ControlPanelMediator, PluginMediator);\n\n\nControlPanelMediator.prototype.panel = null;\n\nControlPanelMediator.prototype.control = null;\n\nControlPanelMediator.prototype.separator = null;\n\nControlPanelMediator.prototype.controls = null;\n\nControlPanelMediator.prototype.labels = null;\n\nControlPanelMediator.prototype.closed = true;\n\nControlPanelMediator.prototype.panelClass = PanelMediator;\n\nControlPanelMediator.prototype.controlClass = PanelControlMediator;\n\n/**\n * @override\n*/\nControlPanelMediator.prototype.onRegister = function() {\n  this.panel = this.createPanel(this.componentName);\n  this.control = this.createControl(this.componentName);\n  this.separator = this.createSeparator(this.componentName);\n  this.panel.control = this.control;\n  this.control.panel = this.panel;\n  if (this.labels == null) {\n    this.labels = {};\n  }\n  this.createPanelControls(name);\n};\n\nControlPanelMediator.prototype.createControl = function(name) {\n  var control;\n  control = new this.controlClass(name);\n  this.facade.registerMediator(control);\n  return control;\n};\n\nControlPanelMediator.prototype.createPanel = function(name) {\n  var panel;\n  panel = new this.panelClass(name);\n  this.facade.registerMediator(panel);\n  return panel;\n};\n\nControlPanelMediator.prototype.createSeparator = function(name) {\n  return this.create(["separator", "icon"], this.panel);\n};\n\nControlPanelMediator.prototype.createPanelControls = function(name) {\n  var data, key, value, _ref;\n  data = this.plugin.getConfigurationData();\n  for (key in data) {\n    value = data[key];\n    if (value === true) {\n      this.controls[key] = this.addPanelControl(new ButtonMediator(this.localizationManager.getString(this.labels[key]), null, null, key, (_ref = this.panelButtonClickHandler) != null ? typeof _ref.bind === "function" ? _ref.bind(this, key) : void 0 : void 0));\n    }\n  }\n};\n\nControlPanelMediator.prototype.addPanelControl = function(control) {\n  this.facade.registerMediator(control);\n  this.panel.getViewComponent().appendChild(control.getViewComponent());\n  return control;\n};\n\n/**\n*/\nControlPanelMediator.prototype.panelButtonClickHandler = function() {\n  this.sendNotification(PanelNotifications.CLOSE_PANEL, this.panel);\n};\n\n/**\n * The VolumePanelMediator class.\n * \n * @constructor\n * @private\n * @extends {ControlPanelMediator}\n*/\nfunction VolumePanelMediator() {\n  VolumePanelMediator.__super__.constructor.call(this);\n}\n\n\n__extends(VolumePanelMediator, ControlPanelMediator);\n\n\nVolumePanelMediator.prototype.componentName = "volume";\n\nVolumePanelMediator.prototype.slider = null;\n\nVolumePanelMediator.prototype.level = null;\n\nVolumePanelMediator.prototype.controlClass = VolumePanelControlMediator;\n\n/**\n*/\nVolumePanelMediator.prototype.onRegister = function() {\n  VolumePanelMediator.__super__.onRegister.call(this);\n  this.slider = new VolumeMediator(this.panel, this.plugin.getDirection());\n  this.facade.registerMediator(this.slider);\n};\n\nVolumePanelMediator.prototype.updateVolumeButton = function(percent) {\n  var level;\n  level = Math.ceil(percent * 10);\n  if (level === this.level) {\n    return;\n  }\n  if (this.level != null) {\n    this.sendNotification(Notifications.REMOVE_CONTROL_STATE, "volume-" + this.level);\n  }\n  this.level = level;\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, "volume-" + this.level);\n};\n\n/** \n * @override\n*/\nVolumePanelMediator.prototype.listNotificationInterests = function() {\n  return VolumePanelMediator.__super__.listNotificationInterests.apply(this, arguments).concat([Notifications.VOLUME_CHANGE]);\n};\n\n/** \n * @override\n*/\nVolumePanelMediator.prototype.handleNotification = function(notification) {\n  VolumePanelMediator.__super__.handleNotification.call(this, notification);\n  switch (notification.getName()) {\n    case Notifications.VOLUME_CHANGE:\n      this.updateVolumeButton(notification.body);\n  }\n};\n\n/** \n * The ControlPanelPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction ControlPanelPlugin() {\n  ControlPanelPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(ControlPanelPlugin, ControlPlugin);\n\n\n/** @override\n*/\nControlPanelPlugin.prototype.listNotificationPublications = function() {\n  var key, value;\n  return ControlPanelPlugin.__super__.listNotificationPublications.call(this).concat((function() {\n    var _results;\n    _results = [];\n    for (key in PanelNotifications) {\n      value = PanelNotifications[key];\n      _results.push(value);\n    }\n    return _results;\n  })());\n};\n\n/**\n * The PlaylistMediator class.\n * \n * @constructor\n * @private\n * @extends {PluginMediator}\n * @param {Object} viewComponent\n*/\nfunction PlaylistMediator(viewComponent) {\n  PlaylistMediator.__super__.constructor.call(this, viewComponent);\n}\n\n\n__extends(PlaylistMediator, PluginMediator);\n\n\n/**\n * Stats Mediator\n * \n * @static\n * @type {string}\n*/\nPlaylistMediator.prototype.componentName = "playlist";\n\nPlaylistMediator.prototype.playlistButton = null;\n\n/**\n * @override\n*/\nPlaylistMediator.prototype.onRegister = function() {\n  var button;\n  button = new ButtonMediator(null, this.viewComponent, null, "playlist", this.playlistOnClick.bind(this));\n  this.facade.registerMediator(button);\n  this.playlistButton = button.getViewComponent();\n  this.sendNotification(Notifications.ADD_CONTROL, this.playlistButton);\n  this.sendNotification(Notifications.ADD_CONTROL_STATE, "playlist-enabled");\n  PlaylistMediator.__super__.onRegister.call(this);\n};\n\nPlaylistMediator.prototype.playlistOnClick = function(event) {\n  this.facade.logger.debug(\'AMP Event: Playlist Clicked\');\n};\n\n/** \n * The VolumePanelPlugin class.\n *   \n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction VolumePanelPlugin() {\n  VolumePanelPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(VolumePanelPlugin, ControlPanelPlugin);\n\n\nVolumePanelPlugin.prototype.moduleName = "volumepanel";\n\n/**\n*/\nVolumePanelPlugin.prototype.isVolumeSettable = function() {\n  var newVolume, oldVolume, settable, video;\n  settable = false;\n  video = this.player.getMediaElement();\n  oldVolume = video.volume;\n  newVolume = Math.random();\n  video.volume = newVolume;\n  if (video.volume === newVolume) {\n    settable = true;\n  }\n  video.volume = oldVolume;\n  return settable;\n};\n\n/** @override\n*/\nVolumePanelPlugin.prototype.createFramework = function() {\n  if (!this.isVolumeSettable()) {\n    return;\n  } else {\n    VolumePanelPlugin.__super__.createFramework.call(this);\n  }\n};\n\n/** @override\n*/\nVolumePanelPlugin.prototype.createModel = function() {\n  this.registerProxy(new VolumePanelProxy(this.config));\n};\n\n/** @override\n*/\nVolumePanelPlugin.prototype.createView = function() {\n  if (!this.isVolumeSettable()) {\n    return;\n  }\n  this.registerMediator(new VolumePanelMediator());\n};\n\n/** @override\n*/\nVolumePanelPlugin.prototype.listNotificationPublications = function() {\n  return VolumePanelPlugin.__super__.listNotificationPublications.apply(this, arguments).concat([Notifications.CHANGE_VOLUME, Notifications.TOGGLE_MUTED, UserSettingsNotifications.UPDATE_SETTINGS]);\n};\n\n/** @override\n*/\nVolumePanelPlugin.prototype.listNotificationInterests = function() {\n  return VolumePanelPlugin.__super__.listNotificationInterests.apply(this, arguments).concat([Notifications.VOLUME_CHANGE, Notifications.READY]);\n};\n\n\nAMP.registerPlugin("volumepanel", "html", VolumePanelPlugin);\n\n/**\n*/\n/** @constructor\n*/\nfunction OutbrainProxy(config) {\n  OutbrainProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(OutbrainProxy, RecommendationsProxy);\n\n\n/** @static\n*/\nOutbrainProxy.NAME = ModuleProxy.NAME;\n\n/** @override\n*/\nOutbrainProxy.prototype.data = {\n  url: null,\n  target: null,\n  apiKey: null,\n  jsWidgetId: null\n};\n\n/** @override\n*/\nOutbrainProxy.prototype.createRecommendations = function(feed) {\n  var item, rec, recs, _i, _len, _ref;\n  recs = [];\n  _ref = feed.documents.doc;\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    item = _ref[_i];\n    rec = new RecommendationVO(item.video.id, item.url, item.video.title, item.video.title, item.thumbnail.url, 0, null, this.getTarget(), item);\n    recs.push(rec);\n  }\n  return recs;\n};\n\n/** @override\n*/\nOutbrainProxy.prototype.getURL = function() {\n  var format, href, key, url, widgetJSId;\n  format = "json";\n  widgetJSId = encodeURIComponent(this.data.jsWidgetId);\n  key = encodeURIComponent(this.data.apiKey);\n  href = encodeURIComponent(document.location.href);\n  url = this.data.url + "?format=" + format + "&widgetJSId=" + widgetJSId + "&settings=false&url=" + href + "&idx=0&key=" + key + "&rand=" + Date.now() + "&recs=true";\n  return url;\n};\n\n/**\n * @constructor\n * @private\n * @extends {RecommendationsWrapper}\n*/\nfunction OutbrainWrapper(player, config) {\n  if (config == null) {\n    config = {};\n  }\n  OutbrainWrapper.__super__.constructor.call(this, player, config);\n}\n\n\n__extends(OutbrainWrapper, RecommendationsWrapper);\n\n\nOutbrainWrapper.NAME = "OutbrainWrapper";\n\n/**\n*/\nOutbrainWrapper.prototype.createFlashVars = function(flashvars) {\n  OutbrainWrapper.__super__.createFlashVars.call(this, flashvars);\n  flashvars.recommendations_partner = "outbrain";\n  return flashvars;\n};\n\n/**\n*/\nOutbrainWrapper.prototype.createXML = function(xml) {\n  var application, prop, props, recommendations, vendor, _i, _len;\n  application = xml.firstChild;\n  recommendations = xml.getElementsByTagName("recommendations")[0];\n  if (!(recommendations != null)) {\n    recommendations = xml.createElement("recommendations");\n    application.appendChild(recommendations);\n  }\n  vendor = xml.createElement("vendor");\n  vendor.setAttribute("id", "outbrain");\n  recommendations.appendChild(vendor);\n  props = [\n    {\n      value: this.config.url,\n      key: "OUTBRAIN_BASE_URL"\n    }, {\n      value: this.config.apiKey,\n      key: "OUTBRAIN_API_KEY"\n    }, {\n      value: this.config.jsWidgetId,\n      key: "OUTBRAIN_WIDGET_JS_ID"\n    }, {\n      value: this.config.mode,\n      key: "OUTBRAIN_MODE"\n    }, {\n      value: this.config.playerSrcId,\n      key: "OUTBRAIN_PLAYER_SRC_ID"\n    }, {\n      value: "internal",\n      key: "OUTBRAIN_VIEW_PROVIDER"\n    }, {\n      value: this.config.videoData,\n      key: "videoData"\n    }\n  ];\n  for (_i = 0, _len = props.length; _i < _len; _i++) {\n    prop = props[_i];\n    if (prop.value != null) {\n      this.createProperty(xml, prop.key, prop.value, vendor);\n    }\n  }\n  return xml;\n};\n\n/** \n * The PlaylistPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction PlaylistPlugin() {\n  PlaylistPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(PlaylistPlugin, Plugin);\n\n\nPlaylistPlugin.prototype.moduleName = "playlist";\n\n/** @override\n*/\nPlaylistPlugin.prototype.createView = function() {\n  this.registerMediator(new PlaylistMediator());\n};\n\n/** @override\n*/\nPlaylistPlugin.prototype.listNotificationPublications = function() {\n  return PlaylistPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.ADD_CONTROL, Notifications.REMOVE_CONTROL, Notifications.ADD_CONTROL_STATE, Notifications.REMOVE_CONTROL_STATE]);\n};\n\n\nAMP.registerPlugin("playlist", "html", PlaylistPlugin);\n\nfunction AdChoicesWrapper() {\n  return AdChoicesWrapper.__super__.constructor.apply(this, arguments);\n}\n\n\n__extends(AdChoicesWrapper, PluginWrapper);\n\n\nAdChoicesWrapper.NAME = "AdChoicesWrapper";\n\n/** @override\n*/\nAdChoicesWrapper.prototype.createXML = function(xml) {\n  var element, options, view;\n  view = xml.getElementsByTagName("view")[0];\n  options = xml.createElement("element");\n  options.setAttribute("id", "adOptions");\n  view.appendChild(options);\n  element = xml.createElement("element");\n  element.setAttribute("id", "adChoices");\n  element.setAttribute("target", this.config.target);\n  options.appendChild(element);\n  element = xml.createElement("element");\n  element.setAttribute("id", "adCountdown");\n  options.appendChild(element);\n  return xml;\n};\n\n/**\n * The AdChoicesMediator class.\n * \n * @constructor\n * @extends {ComponentMediator}\n * @private\n*/\nfunction AdChoicesMediator() {\n  AdChoicesMediator.__super__.constructor.call(this);\n}\n\n\n__extends(AdChoicesMediator, ComponentMediator);\n\n\nAdChoicesMediator.prototype.componentName = "ad-choices";\n\nAdChoicesMediator.prototype.icon = null;\n\nAdChoicesMediator.prototype.text = null;\n\nAdChoicesMediator.prototype.container = null;\n\n/**\n * @override\n*/\nAdChoicesMediator.prototype.onRegister = function() {\n  var data;\n  data = this.facade.retrieveProxy(ModuleProxy.NAME);\n  this.container = this.create("ad-choices-link", this, "a");\n  this.container.target = "_blank";\n  this.container.href = data.getTarget();\n  this.text = this.createText("ad-choices-text", "AdChoices", this.container);\n  this.icon = this.create("ad-choices-icon", this.container);\n  AdChoicesMediator.__super__.onRegister.call(this);\n};\n\n/**\n * @override\n*/\nAdChoicesMediator.prototype.listNotificationInterests = function() {\n  return [AdNotifications.AD_CONTAINER_CREATED];\n};\n\n/**\n * @override\n*/\nAdChoicesMediator.prototype.handleNotification = function(notification) {\n  var container;\n  switch (notification.getName()) {\n    case AdNotifications.AD_CONTAINER_CREATED:\n      container = notification.getBody();\n      if (container != null) {\n        container.appendChild(this.viewComponent);\n      }\n  }\n};\n\n/**\n *\n*/\n/** @constructor\n*/\nfunction AdChoicesProxy(config) {\n  AdChoicesProxy.__super__.constructor.call(this, config);\n}\n\n\n__extends(AdChoicesProxy, ModuleProxy);\n\n\n/** @static\n*/\nAdChoicesProxy.NAME = ModuleProxy.NAME;\n\nAdChoicesProxy.prototype.defaults = {\n  target: null\n};\n\n/**\n *\n*/\nAdChoicesProxy.prototype.getTarget = function() {\n  return this.data.target;\n};\n\nAdChoicesProxy.prototype.setTarget = function(value) {\n  return this.data.target = value;\n};\n\n/** \n * The OutbrainPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {RecommendationsPlugin}\n*/\nfunction OutbrainPlugin() {\n  OutbrainPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(OutbrainPlugin, RecommendationsPlugin);\n\n\nOutbrainPlugin.prototype.moduleName = "outbrain";\n\n/** @override\n*/\nOutbrainPlugin.prototype.createModel = function() {\n  OutbrainPlugin.__super__.createModel.call(this);\n  this.registerProxy(new OutbrainProxy(this.config));\n};\n\n\nAMP.registerPlugin("outbrain", "html", OutbrainPlugin);\nAMP.registerPlugin("outbrain", "flash", OutbrainWrapper);\n\n/** \n * The AdChoicesPlugin class.\n *   \n * @param {Module}  app     The parent module of this plugin.\n * @constructor\n * @private\n * @extends {Plugin}\n*/\nfunction AdChoicesPlugin() {\n  AdChoicesPlugin.__super__.constructor.call(this);\n}\n\n\n__extends(AdChoicesPlugin, Plugin);\n\n\nAdChoicesPlugin.prototype.moduleName = "adchoices";\n\n/** @override\n*/\nAdChoicesPlugin.prototype.createModel = function() {\n  this.registerProxy(new AdChoicesProxy(this.config));\n};\n\n/** @override\n*/\nAdChoicesPlugin.prototype.createView = function() {\n  this.registerMediator(new AdChoicesMediator());\n};\n\n/**\n * @override\n*/\nAdChoicesPlugin.prototype.listNotificationInterests = function() {\n  return [AdNotifications.AD_CONTAINER_CREATED];\n};\n\n\nAMP.registerPlugin("adchoices", "html", AdChoicesPlugin);\nAMP.registerPlugin("adchoices", "flash", AdChoicesWrapper);\n\n\nglobal["akamai"] = {\n	"amp": {\n		"AMP": AMP,\n		"utils": {\n			"Utils": Utils,\n			"QueryString": QueryString,\n			"Logger": Logger\n		}\n	}\n};\n  /* End JS Lib\n  */\n  window["AKAMAI_MEDIA_PLAYER"].saveSDK(version, global);\n}\nwindow.AKAMAI_MEDIA_PLAYER.setVersion(version);\n})();';
},function(n,e){n.exports='<application>\n  <player core_player_name="amp-premier-player"\n          volume=".75"\n          mbr_starting_index="1"\n          inpage_bitrate_index_limit="3"\n          use_last_known_bitrate="false"\n          use_netsession_client="false"\n          netsession_install_prompt_frequency_secs="-1"\n          ad_server_timeout="20"\n          ad_control_enabled="true"\n          dvr_enabled="1"\n          branding_preload="none"\n          hds_live_low_latency="true"\n          fullscreen_enabled="true"\n          show_feature_bar="false"\n          suppress_events="mediaPlayerViewInitialized"\n          caption_language="en-us"\n          hds_fragment_retry_data_gap_threshold= "20"\n          ads_auto_fit="true"\n          auto_replay="false">\n  </player>\n  <view skin="{baseSkinUrl}webmd.assets.swf">\n    <element id="endState" enabled="false" hideElements="viewAll" />\n    <element id="logoOverlay" style="height: 45px; width: 150px; right: 15px; bottom: 15px; opacity: 1.0;"/>\n    <element id="captionDisplay"\n             initState="off"\n             position="relative"\n             captionWidth="90"\n             enabled="true"\n             settingsEnabled="true"\n             style="width: 100%; rightMargin:0; bottom: 0; windowColor:0x000000; windowOpacity:1.0; font: Arial; fontColor:0xffffff; fontBGColor:0x000000; fontBGOpacity:0; edgeType:none; edgeColor:0x000000; edgeOpacity:0; scroll:popOut; textAlign: center; fontSize:12; fontWeight:normal;"\n             />\n    <element id="bufferingView" mode="loader" tether="true" style="fontSize:30px;" />\n    <element id="endSlate" enabled="false" hideElements="brandingLogo|viewAll" />\n    <element id="controls" height="28" scrubPosition="inline" itemMargin="5" />\n    <element id="captionBtn" />\n    <element id="recommendationSlate" viewMode="grid" items="6" />\n    <element id="replayBtn" />\n    <element id="playPauseBtn" />\n    <element id="rewindBtn" />\n    <element id="scrubBar" style="height: 18px;" />\n    <element id="loadedBar" style="background: linear-gradient(90deg, #00FF00, #1B1B1B);" />\n    <element id="playlistBtn" />\n    <element id="timeLocationIndicator" type="arrow" color="#FFFFFF" />\n    <element id="goLiveBtn" />\n    <element id="shareBtn" />\n    <element id="captionBtn" />\n    <element id="statsBtn" />\n    <element id="hdClientBtn" />\n    <element id="chromecastBtn"/>\n    <element id="volumeBar" color="#CA2127" />\n    <element id="volumeBtn" />\n    <element id="fullscreenBtn" />\n  </view>\n</application>\n'},function(n,e){"use strict";function t(n){return n._instancesByReactRootID||n._instancesByContainerID||[]}n.exports=t},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a),l=t(38),c=i(l),u=t(130),d=i(u),p=t(37),f=i(p),h=t(126),m=i(h);e["default"]=r["default"].createClass({displayName:"checkbox_question",propTypes:{questionChoices:o.PropTypes.array.isRequired,questionId:o.PropTypes.string.isRequired,questionPage:o.PropTypes.string,questionRequired:o.PropTypes.string,questionText:o.PropTypes.string.isRequired,questionIsDisabled:o.PropTypes.bool,questionShowTable:o.PropTypes.string,questionTotalResponse:o.PropTypes.number,questionIntro:o.PropTypes.string},mixins:[d["default"],m["default"]],getInitialState:function(){var n=this,e=this.props.questionChoices.map(function(e){return"true"!==e.selected||n.props.questionIsDisabled?void 0:e._id});return{errors:[""],values:e}},handleChange:function(){var n=[];this.createErrors(),(0,s["default"])(r["default"].findDOMNode(this)).find("input:checked").each(function(e,t){n.push((0,s["default"])(t).val())}),this.setState({values:n})},renderCheckboxQuestions:function(){var n=this,e=this.props.questionChoices.map(function(e,t){var i=!1,o=n.calcPercent(e),a=n.renderPercentBar(o),s=n.renderPercentNumber(o),l=(0,f["default"])({"qna-is-correct":"true"===e.isCorrect&&n.props.questionIsDisabled,"qna-checkbox-choice":!0,"qna-is-highlighted":"true"===e.selected&&n.props.questionIsDisabled||-1!==n.state.values.indexOf(e._id)&&!n.props.questionIsDisabled});return n.props.questionIsDisabled&&"true"===e.selected?i=!0:c["default"].includes(n.state.values,e._id)&&!n.props.questionIsDisabled&&(i=!0),r["default"].createElement("li",{className:l,key:t},a,r["default"].createElement("input",{disabled:n.props.questionIsDisabled?"disabled":!1,type:"checkbox",checked:i,onChange:n.handleChange,name:"option-"+n.props.questionId,id:"option-"+e._id,value:e._id}),r["default"].createElement("label",{htmlFor:"option-"+e._id,dangerouslySetInnerHTML:{__html:e.choiceText}}),s)});return e},render:function(){var n=this.state.errors.map(function(n,e){return r["default"].createElement("div",{className:"error",key:e},n)}),e=this.renderCheckboxQuestions(this.props.questionChoices),t=this.renderQuestionExplanation(this.props.questionChoices[0]);return r["default"].createElement("div",{className:"qna-checkbox-question"},r["default"].createElement("fieldset",null,r["default"].createElement("legend",null,this.props.questionPage),r["default"].createElement("div",{className:"qna-question-introduction",dangerouslySetInnerHTML:{__html:this.props.questionIntro}}),r["default"].createElement("div",{className:"qna-question",dangerouslySetInnerHTML:{__html:this.props.questionText}}),n,r["default"].createElement("input",{name:"question_id",id:"question_id",type:"hidden",value:this.props.questionId}),r["default"].createElement("input",{name:this.props.questionId,id:this.props.questionId,type:"hidden",value:"CheckBox"}),r["default"].createElement("ul",null,e)),t)}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to checkbox_question.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(131),s=i(a),l=t(37),c=i(l);e["default"]=r["default"].createClass({displayName:"cme_chart",propTypes:{charts:o.PropTypes.array.isRequired,closeHandler:o.PropTypes.func.isRequired},mixins:[s["default"]],close:function(){this.props.closeHandler("isChartVisible")},render:function(){var n=this,e=!1,t=this.props.charts.map(function(t,i,o){if(!e&&t.choice.length>0)for(var a=0;a<t.choice.length;a++)if("true"===t.choice[a].isCorrect){e=!0;break}var s=n.renderQuestion(t,i,o);return r["default"].createElement("div",{key:i},s)}),i=(0,c["default"])({"is-visible":e,"qna-is-correct":!0});return r["default"].createElement("div",{className:"cme-chart"},r["default"].createElement("p",{className:i},"Indicates correct answer."),t)}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to cme_chart.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a),l=t(247),c=i(l),u=t(131),d=i(u),p=t(37),f=i(p),h=t(84);e["default"]=r["default"].createClass({displayName:"form",propTypes:{questions:r["default"].PropTypes.array.isRequired,qid:r["default"].PropTypes.string.isRequired,page:r["default"].PropTypes.string.isRequired,htmlCharting:r["default"].PropTypes.bool,closeHandler:r["default"].PropTypes.func,getSelectedRefValues:r["default"].PropTypes.func,isValid:r["default"].PropTypes.bool},mixins:[d["default"]],getInitialState:function(){return{isValid:!1}},componentDidMount:function(){this.formChangeHandler()},componentWillReceiveProps:function(){this.formChangeHandler()},getSelectedRefValues:function(){var n={};for(var e in this.refs)if(this.refs[e].state.value&&(n[this.refs[e].state.value]="selected"),this.refs[e].state.values)for(var t=0;t<this.refs[e].state.values.length;t++)n[this.refs[e].state.values[t]]="selected";return n},submitHandler:function(n,e){var t=this.props,i=t.qid,o=t.page;if(e.preventDefault(),this.formChangeHandler(),this.state.isValid){var r=(0,s["default"])("#"+n);c["default"].post(decodeURIComponent(r.serialize()),this.props.qid,this.props.page),this.props.getSelectedRefValues(this.getSelectedRefValues()),this.props.closeHandler&&this.props.closeHandler("isQuestionVisible",!0,i,o)}},checkValidity:function(){var n=this,e=!0;return this.props.questions.forEach(function(t){n.refs[t._id]&&(n.refs[t._id].validate()||(e=!1))}),e},formChangeHandler:function(){var n=this.checkValidity();(0,h.nextTick)(this.setState({isValid:n}))},render:function(){var n=this.props,e=n.qid,t=n.page,i=this.state.isValid,o=(0,f["default"])({disabled:!i,"qna-submit-button":!0}),a=(0,f["default"])({"qna-required-message":!0,"is-visible":!i}),s=this.props.questions.map(this.renderQuestion);return r["default"].createElement("form",{onChange:this.formChangeHandler,onSubmit:this.submitHandler.bind(this,e+"_form"),className:"qna-radio-form",id:e+"_form"},r["default"].createElement("label",{htmlFor:e+"_form",className:a},"All questions required."),r["default"].createElement("input",{type:"hidden",name:"questionnaire_id",id:"questionnaire_id",value:e}),r["default"].createElement("input",{type:"hidden",name:"responseType",id:"responseType",value:"samepage"}),r["default"].createElement("input",{type:"hidden",name:"nextPageURL",id:"nextPageURL",value:"null"}),r["default"].createElement("input",{type:"hidden",name:"questionnaireType",id:"questionnaireType",value:"null"}),r["default"].createElement("input",{type:"hidden",name:"form_id",id:"form_id",value:t}),r["default"].createElement("input",{type:"hidden",name:"formType",id:"formType",value:"DEFAULT"}),s,r["default"].createElement("div",{className:"button-container"},r["default"].createElement("button",{className:o,disabled:!this.state.isValid,onClick:this.submitHandler.bind(this,e+"_form"),id:"submit-"+e},"Submit")))}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to form.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(273),r=i(o),a=t(246),s=i(a),l=t(251),c=i(l),u=t(3),d=i(u),p=t(49),f=t(38),h=t(10),m=i(h),y=t(272),g=i(y),v=t(37),_=i(v),C=function(){var n=new s["default"],e=new c["default"](n);return d["default"].createClass({displayName:"Player.CME",propTypes:{qid:u.PropTypes.string,page:u.PropTypes.string},mixins:[(0,p.connect)(e)],componentDidMount:function(){var e=this.props,t=e.qid,i=e.page;n.requestQnaXml(t,i)},componentDidUpdate:function(n,e){this.rememberMeFired||((0,f.get)(e,"quiz.qid",!1)||(0,f.get)(e,"quiz.isChartVisible",!1))&&(this.rememberMeFired=!0,brandAdvance2.trackScene(),brandAdvance2.rememberMe())},getSelectedRefValues:function(n){this.setState({selectedValues:n})},upDateQuestionsForChart:function(n){var e=this,t=n.filter(function(n){return"true"===n._showAnsTable});return t.forEach(function(n){if(n.isDisabled=!0,"RadioButton"===n.displayRule||"CheckBox"===n.displayRule){n.OriginalTotalResponse=parseInt(n.totalResponse,10),"false"===n.responded&&n.totalResponse++;var t=(0,f.toArray)(n.choice);t.forEach(function(t){if("true"===t.selected&&(t.selected="selected"),(!t.totalResponse||isNaN(parseInt(t.totalResponse,10)))&&(t.totalResponse=0),"selected"===t.selected)if("selected"===e.state.selectedValues[t._id]){var i=Math.round(t.totalResponse/100*n.OriginalTotalResponse);t.totalResponse=parseInt(i/n.totalResponse*100,10),t.selected="true"}else{var i=Math.round(t.totalResponse/100*n.OriginalTotalResponse-1);t.totalResponse=parseInt(i/n.totalResponse*100,10),t.selected="false"}else if(e.state.selectedValues[t._id]){var i=Math.round(t.totalResponse/100*n.OriginalTotalResponse+1);t.totalResponse=parseInt(i/n.totalResponse*100,10),t.selected="true"}else{var i=Math.round(t.totalResponse/100*n.OriginalTotalResponse);t.totalResponse=parseInt(i/n.totalResponse*100,10)}})}}),t},renderCharts:function(n){var e=void 0,t=(0,_["default"])({"chart-layer":!0,"is-visible":this.state.quiz.isChartVisible});return e=n.length>0?d["default"].createElement("div",{ref:"qnaScroll",className:t},d["default"].createElement(g["default"],{closeHandler:this.closeLayer,charts:n})):null},closeHandler:function(){n.hideQuestion(),this.setState({wasSubmitted:!0})},render:function(){var n=d["default"].createElement("div",null,"Loading ..."),e=null,t=function(){},i=void 0,o=(0,f.get)(this,"state.quiz.questionnaire",void 0),a=this.props,s=a.qid,l=a.page,c=(0,f.get)(this,"state.quiz.isChartVisible",!1);if(c)if((0,m["default"])("[data-qna-message]").length>0)(0,m["default"])(".qna-container").addClass("is-invisible"),(0,m["default"])("#qna-message").addClass("is-visible");else{(0,m["default"])("#qna-message").addClass("is-invisible");var u=JSON.parse(JSON.stringify(o.page[0].question)),p=u.map(function(n){return n.isDisabled=!0,n._showAnsTable="true",n});this.state.wasSubmitted===!0&&(p=this.upDateQuestionsForChart(p)),i=this.renderCharts(p),n=d["default"].createElement("div",{ref:"qnaScroll",className:e},d["default"].createElement(g["default"],{closeHandler:t,charts:u,chartClassName:"qna-stand-alone-container"}))}else if(o&&o.page.length>0){var h=o.page.filter(function(n){return n._id===l});n=d["default"].createElement(r["default"],{questions:h[0].question,getSelectedRefValues:this.getSelectedRefValues,closeHandler:this.closeHandler,qid:s,page:l})}return n}})};e["default"]=C,n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to qna_standalone_presenter.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(130),s=i(a),l=t(37),c=i(l),u=t(126),d=i(u);e["default"]=r["default"].createClass({displayName:"radio_question",propTypes:{questionChoices:o.PropTypes.array.isRequired,questionId:o.PropTypes.string.isRequired,questionPage:o.PropTypes.string,questionRequired:o.PropTypes.string,questionText:o.PropTypes.string.isRequired,questionIsDisabled:o.PropTypes.bool,questionShowTable:o.PropTypes.string,questionTotalResponse:o.PropTypes.number,questionIntro:o.PropTypes.string},mixins:[s["default"],d["default"]],getDefaultProps:function(){return{isDisabled:!1}},getInitialState:function(){var n=this,e=void 0;return this.props.questionChoices.forEach(function(t){"true"!==t.selected||n.props.questionIsDisabled||(e=t._id)}),{errors:[""],value:e}},handleChange:function(n){this.setState({value:n.target.value}),this.createErrors()},renderRadioQuestions:function(){var n=this,e=this.props.questionChoices.map(function(e,t){var i=!1,o=n.calcPercent(e),a=n.renderPercentBar(o),s=n.renderPercentNumber(o),l=(0,c["default"])({"qna-is-correct":"true"===e.isCorrect&&n.props.questionIsDisabled,"qna-radio-choice":!0,"qna-is-highlighted":"true"===e.selected&&n.props.questionIsDisabled||n.state.value===e._id&&!n.props.questionIsDisabled});return n.props.questionIsDisabled&&"true"===e.selected?i=!0:n.state.value!==e._id||n.props.questionIsDisabled||(i=!0),r["default"].createElement("li",{className:l,key:t},a,r["default"].createElement("input",{ref:e._id,disabled:n.props.questionIsDisabled?"disabled":!1,checked:i,id:"option-"+e._id,name:"option-"+n.props.questionId,onChange:n.handleChange,type:"radio",value:e._id}),r["default"].createElement("label",{htmlFor:"option-"+e._id,dangerouslySetInnerHTML:{__html:e.choiceText}}),s)});return e},render:function(){var n=this.state.errors.map(function(n,e){return r["default"].createElement("div",{className:"error",key:e},n)}),e=this.renderRadioQuestions(this.props.questionChoices),t=this.renderQuestionExplanation(this.props.questionChoices[0]);return r["default"].createElement("div",{className:"qna-radio-question"},r["default"].createElement("fieldset",null,r["default"].createElement("legend",null,this.props.questionPage),r["default"].createElement("p",{className:"qna-question-introduction",dangerouslySetInnerHTML:{__html:this.props.questionIntro}}),r["default"].createElement("div",{className:"qna-question",dangerouslySetInnerHTML:{__html:this.props.questionText}}),n,r["default"].createElement("ul",null,e),r["default"].createElement("input",{name:"question_id",id:"question_id",type:"hidden",value:this.props.questionId}),r["default"].createElement("input",{name:this.props.questionId,id:this.props.questionId,type:"hidden",value:"CheckBox"})),t)}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to radio_question.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a);e["default"]=r["default"].createClass({displayName:"textarea_question",propTypes:{questionId:o.PropTypes.string.isRequired,questionPage:o.PropTypes.string,questionRequired:o.PropTypes.string,questionText:o.PropTypes.string.isRequired,questionIsDisabled:o.PropTypes.bool},getInitialState:function(){return{errors:[""]}},validate:function(){this.createErrors()},createErrors:function(){"true"===this.props.questionRequired&&""===(0,s["default"])(r["default"].findDOMNode(this)).find("input").val()?this.setState({errors:["Please provide an answer."]}):this.setState({errors:[]})},handleChange:function(n){this.setState({value:n.target.value}),this.createErrors()},render:function(){var n=this.state.errors.map(function(n,e){return r["default"].createElement("div",{className:"error",key:e},n)});return r["default"].createElement("div",{className:"qna-textarea-question"},r["default"].createElement("fieldset",null,r["default"].createElement("legend",{htmlFor:this.props.questionId},this.props.questionPage),r["default"].createElement("div",{className:"qna-question"},this.props.questionText),n,r["default"].createElement("input",{key:"rkey-"+this.props.questionId,disabled:this.props.questionIsDisabled?"disabled":!1,onChange:this.handleChange,className:"qna-textarea-question",type:"textarea",name:"option-"+this.props.questionId,id:this.props.questionId}),r["default"].createElement("input",{name:"question_id",id:"question_id",type:"hidden",value:this.props.questionId}),r["default"].createElement("input",{name:this.props.questionId,id:this.props.questionId,type:"hidden",value:"TextArea"})))}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to textarea_question.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a);e["default"]=r["default"].createClass({displayName:"textbox_question",propTypes:{questionId:o.PropTypes.string.isRequired,questionPage:o.PropTypes.string,questionRequired:o.PropTypes.string,questionText:o.PropTypes.string.isRequired,questionIsDisabled:o.PropTypes.bool},getInitialState:function(){return{errors:[""]}},validate:function(){this.createErrors()},createErrors:function(){"true"===this.props.questionRequired&&""===(0,s["default"])(r["default"].findDOMNode(this)).find("input").val()?this.setState({errors:["Please provide an answer."]}):this.setState({errors:[]})},handleChange:function(n){this.setState({value:n.target.value}),this.createErrors()},render:function(){var n=this.state.errors.map(function(n,e){return r["default"].createElement("div",{className:"error",key:e},n)});return r["default"].createElement("div",{className:"qna-textbox-question"},r["default"].createElement("fieldset",null,r["default"].createElement("legend",{htmlFor:this.props.questionId},this.props.questionPage),r["default"].createElement("div",{className:"qna-question"},this.props.questionText),n,r["default"].createElement("input",{key:"rkey-"+this.props.questionId,disabled:this.props.questionIsDisabled?"disabled":!1,onChange:this.handleChange,className:"qna-textbox-question",type:"textbox",name:"option-"+this.props.questionId,id:this.props.questionId}),r["default"].createElement("input",{name:"question_id",id:"question_id",type:"hidden",value:this.props.questionId}),r["default"].createElement("input",{name:this.props.questionId,id:this.props.questionId,type:"hidden",value:"TextBox"})))}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to textbox_question.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){(function(n){!function(){var e=t(23),i=t(21),o=t(8),r=t(3);n.makeHot=n.hot.data?n.hot.data.makeHot:e(function(){return i.getRootInstances(o)},r)}();try{(function(){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var o=t(3),r=i(o),a=t(10),s=i(a),l=t(37),c=i(l),u=t(85),d=(i(u),t(249)),p=i(d);e["default"]=r["default"].createClass({displayName:"Player.Controls",propTypes:{playerId:o.PropTypes.string,iterator:o.PropTypes.number,controlVolume:o.PropTypes.number},mixins:[p["default"]],componentDidMount:function(){this.volumeHover(),this.fullscreenPlayer(),this.onPlayPause(),this.volumeFn(),this.volumebarFn(),this.progressDuration(),this.progressClickFn(),this.ProgressScrub(),this.volumeScrub(),this.ba2IsiVideoPause(),this.setupFullScreenIdleDetection()},getInitialState:function(){return{fullscreenFlg:!1,muteFlg:!1,playButton:!0,isMouseIdle:!1,volumeLow:!1,volumeMed:!1,volumeHigh:!0,volumeBar:!1,onProgress:!0,isVisible:!1,volumeScrubFlg:!1,progressScrubFlg:!1}},setupFullScreenIdleDetection:function(){var n=this,e=this;this.idleTimeoutId=setTimeout(function(){n.setState({isMouseIdle:!0})},3e3),(0,s["default"])(document).off("mousemove.idle"+e.props.iterator),(0,s["default"])(document).on("mousemove.idle"+e.props.iterator,function(){n.clearFullScreenIdleDetection(),(0,s["default"])(document).off("mousemove.idle"+e.props.iterator),n.setupFullScreenIdleDetection()})},clearFullScreenIdleDetection:function(){var n=this;clearTimeout(this.idleTimeoutId),(0,s["default"])(document).off("mousemove.idle"+n.props.iterator),this.setState({isMouseIdle:!1})},fullscreenPlayer:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".fullscreen"),e=this;(0,s["default"])(document).on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen||e.setState({fullscreenFlg:!1})}),n.on("click touch",function(){screenfull.isFullscreen?(videoPlayer[e.props.iterator].mediaApi._v.exitFullScreen(),e.setState({fullscreenFlg:!1})):(videoPlayer[e.props.iterator].mediaApi._v.enterFullScreen(),e.setState({fullscreenFlg:!0}))})},volumeHover:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".button-mute"),e=(0,s["default"])(r["default"].findDOMNode(this)).find(".volume-wrap"),t=this;n.hover(function(){t.setState({isVisible:!0,volumeBar:!0,onProgress:!1})},function(){}),e.hover(function(){},function(){t.setState({isVisible:!1,volumeBar:!1,onProgress:!0})})},volumeFn:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".button-mute"),e=this;n.on("click touch",function(){if(e.state.muteFlg){videoPlayer[e.props.iterator].mediaApi.unmute();var n=videoPlayer[e.props.iterator].mediaApi.getVolume();e.setProps({controlVolume:n}),e.setState({muteFlg:!1}),(0,s["default"])(r["default"].findDOMNode(e)).find(".volume").css("height",100*n+"%"),(0,s["default"])(r["default"].findDOMNode(e)).find(".not-volume").css("height",100*(1-n)+"%"),e.volumeState(e.props.controlVolume)}else videoPlayer[e.props.iterator].mediaApi.mute(),e.setProps({controlVolume:0}),e.volumeState(e.props.controlVolume),(0,s["default"])(r["default"].findDOMNode(e)).find(".volume").css("height","0%"),(0,s["default"])(r["default"].findDOMNode(e)).find(".not-volume").css("height","100%")})},volumebarFn:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".volume-inner"),e=this;n.on("click",function(n){var t=void 0,i=void 0;t=(0,s["default"])(this).offset().top+(0,s["default"])(this).height(),n.pageY>=t?((0,s["default"])(r["default"].findDOMNode(e)).find(".volume").css("height","0%"),(0,s["default"])(r["default"].findDOMNode(e)).find(".not-volume").css("height","100%"),i=0):i=(t-n.pageY)/(0,s["default"])(this).height(),e.setProps({controlVolume:i}),e.setState({muteFlg:!1}),videoPlayer[e.props.iterator].mediaApi.setVolume(i),(0,s["default"])(r["default"].findDOMNode(e)).find(".volume").css("height",100*i+"%"),(0,s["default"])(r["default"].findDOMNode(e)).find(".not-volume").css("height",100*(1-i)+"%"),e.volumeState(e.props.controlVolume)})},volumeState:function(n){n>0&&.33>=n?this.setState({volumeHigh:!1,volumeLow:!0,volumeMed:!1}):n>.33&&.66>=n?this.setState({volumeHigh:!1,volumeLow:!1,volumeMed:!0}):n>.66?this.setState({volumeHigh:!0,volumeLow:!1,volumeMed:!1}):0===n&&this.setState({muteFlg:!0,volumeHigh:!1,volumeLow:!1,volumeMed:!1})},onPlayPause:function(){var n=this,e=(0,s["default"])(r["default"].findDOMNode(this)).find(".playpause");(0,s["default"])(videoPlayer[n.props.iterator].mediaApi._v.mediaElement).on("pause",function(){n.setState({playButton:!0})}),(0,s["default"])(videoPlayer[n.props.iterator].mediaApi._v.mediaElement).on("play",function(){n.setState({playButton:!1})}),e.on("click touch",function(){n.state.playButton?(n.setState({playButton:!0}),videoPlayer[n.props.iterator].mediaApi._v.mediaElement.play()):(n.setState({playButton:!1}),videoPlayer[n.props.iterator].mediaApi._v.mediaElement.pause())})},progressDuration:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".progress-drag").width(),e=(0,s["default"])(r["default"].findDOMNode(this)).find(".video-progress").width(),t=100*n/e,i=this,o=(0,s["default"])(r["default"].findDOMNode(this)).find(".video-progress");videoPlayer[i.props.iterator].mediaApi._v.mediaElement.addEventListener("timeupdate",function(){var n=videoPlayer[i.props.iterator].mediaApi._v.mediaElement.currentTime*(100-t)/videoPlayer[i.props.iterator].mediaApi._v.mediaElement.duration,e=100-n;o.find(".seekslider").css("width",n+"%"),o.find(".not-value").css("width",e+"%");var a=i.secondsToPrettyTime(videoPlayer[i.props.iterator].mediaApi._v.mediaElement.duration,2),l=i.secondsToPrettyTime(videoPlayer[i.props.iterator].mediaApi._v.mediaElement.currentTime,2);(0,s["default"])(r["default"].findDOMNode(i)).find(".curtimetext").text(l),(0,s["default"])(r["default"].findDOMNode(i)).find(".durtimetext").text(a)})},progressClickFn:function(){var n=this,e=(0,s["default"])(r["default"].findDOMNode(this)).find(".video-progress");e.on("click tpuch",function(e){var t=void 0,i=void 0;t=e.pageX-(0,s["default"])(this).offset().left,t>=(0,s["default"])(this).width()?videoPlayer[n.props.iterator].mediaApi._v.mediaElement.currentTime=videoPlayer[n.props.iterator].mediaApi._v.mediaElement.duration:(i=t/(0,s["default"])(this).width(),videoPlayer[n.props.iterator].mediaApi._v.mediaElement.currentTime=i*videoPlayer[n.props.iterator].mediaApi._v.mediaElement.duration)})},killEvent:function(n){n.stopPropagation()},onMouseMove:function(n){var e=(0,s["default"])(r["default"].findDOMNode(this)).offset().left,t=void 0,i=n.pageX-e;self=this,i>=(0,s["default"])(r["default"].findDOMNode(this)).width()?videoPlayer[self.props.iterator].mediaApi._v.mediaElement.currentTime=videoPlayer[self.props.iterator].mediaApi._v.mediaElement.duration:(t=i/(0,s["default"])(r["default"].findDOMNode(this)).width(),videoPlayer[self.props.iterator].mediaApi._v.mediaElement.currentTime=t*videoPlayer[self.props.iterator].mediaApi._v.mediaElement.duration)},onTouchMove:function(n){n.preventDefault();var e=(0,s["default"])(r["default"].findDOMNode(this)),t=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],i=t.pageX-e.offset().left,o=void 0,a=this;i>=e.width()?videoPlayer[a.props.iterator].mediaApi._v.mediaElement.currentTime=videoPlayer[a.props.iterator].mediaApi._v.mediaElement.duration:(pos1=i/e.width(),videoPlayer[a.props.iterator].mediaApi._v.mediaElement.currentTime=o*videoPlayer[a.props.iterator].mediaApi._v.mediaElement.duration)},dragStart:function(n){n.stopPropagation(),this.setState({isDragging:!0}),(0,s["default"])(document).on("mousemove.drag",this.onMouseMove),(0,s["default"])(document).on("mouseup.drag",this.dragEnd),(0,s["default"])(document).on("touchmove",this.onTouchMove),(0,s["default"])(document).on("touchend",this.dragEnd)},dragEnd:function(n){this.state.isDragging!==!1&&((0,s["default"])(document).off("mousemove.drag"),(0,s["default"])(document).off("mouseup.drag"),(0,s["default"])(document).off("touchmove"),(0,s["default"])(document).off("touchend"),this.setState({isDragging:!1}))},onVolumeMouseMove:function(n){var e=void 0,t=void 0,i=this,o=(0,s["default"])(r["default"].findDOMNode(this)).find(".volume-inner");e=o.offset().top+o.height(),n.pageY>=e?t=0:(t=(e-n.pageY)/o.height(),t>=1&&(t=1)),i.setProps({controlVolume:t}),i.setState({muteFlg:!1}),videoPlayer[i.props.iterator].mediaApi.setVolume(t),o.find(".volume").css("height",100*t+"%"),o.find(".not-volume").css("height",100*(1-t)+"%"),i.volumeState(i.props.controlVolume)},onVolumeTouchMove:function(n){n.preventDefault();var e=(0,s["default"])(r["default"].findDOMNode(this)),t=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],i=e.offset().top,o=e.height(),a=i+o,l=void 0,c=this;t.pageY>=a?(e.find(".volume").css("height","0%"),
e.find(".not-volume").css("height","100%"),l=0):l=(a-t.pageY)/this.offsetHeight,c.setProps({controlVolume:l}),c.setState({muteFlg:!1}),videoPlayer[c.props.iterator].mediaApi.setVolume(l),e.find(".volume").css("height",100*l+"%"),e.find(".not-volume").css("height",100*(1-l)+"%"),c.volumeState(c.props.controlVolume)},volumeDragStart:function(n){n.stopPropagation(),this.setState({isDragging:!0}),(0,s["default"])(document).on("mousemove.vol",this.onVolumeMouseMove),(0,s["default"])(document).on("mouseup.vol",this.volumeDragEnd),(0,s["default"])(document).on("touchmove",this.onVolumeTouchMove),(0,s["default"])(document).on("touchend",this.volumeDragEnd)},volumeDragEnd:function(n){this.state.isDragging!==!1&&((0,s["default"])(document).off("mousemove.vol"),(0,s["default"])(document).off("mouseup.vol"),(0,s["default"])(document).off("touchmove"),(0,s["default"])(document).off("touchend"),this.setState({isDragging:!1}))},ProgressScrub:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".on-progress-drag"),e=this;n.on("mousedown",e.dragStart),n.on("mouseup",e.dragEnd),n.on("click",e.killEvent),n.on("touchstart",e.dragStart),n.on("touchend",e.dragEnd)},volumeScrub:function(){var n=(0,s["default"])(r["default"].findDOMNode(this)).find(".volume-inner"),e=this;n.on("mousedown",e.volumeDragStart),n.on("mouseup",e.volumeDragEnd),n.on("click",e.killEvent),n.on("touchstart",e.volumeDragStart),n.on("touchend",e.volumeDragEnd)},ba2IsiVideoPause:function(){var n=this;videoPlayer[this.props.iterator].mediaApi._v.mediaElement.onplaying=function(){(0,s["default"])(".isi").length>0&&(0,s["default"])(".isi-header").on("click touch",function(){(0,s["default"])(".isi").hasClass("is-expanded")&&(videoPlayer[n.props.iterator].mediaApi._v.mediaElement.pause(),n.setState({playButton:!1}))});for(var e=0;e<videoPlayer.length;e++)e!==n.props.iterator&&videoPlayer[e].mediaApi._v.mediaElement.pause()}},render:function(){var n=(0,c["default"])({"video-controls":!0,"video-buttons":!0,"is-idle":this.state.isMouseIdle}),e=(0,c["default"])({"fs-exit":this.state.fullscreenFlg,fs:!this.state.fullscreenFlg}),t=(0,c["default"])({play:this.state.playButton,pause:!this.state.playButton}),i=(0,c["default"])({unmute:this.state.muteFlg,"volume-low":this.state.volumeLow,"volume-med":this.state.volumeMed,"volume-high":this.state.volumeHigh}),o=(0,c["default"])({"volume-wrap":!0,"volume-bar-background":this.state.volumeBar}),a=(0,c["default"])({"video-progress":!0,"on-progress-drag":this.state.onProgress}),s=(0,c["default"])({"volume-bar-wrap":!0,"is-invisible":!this.state.isVisible,"is-visible":this.state.isVisible});return r["default"].createElement("div",{className:n,id:this.props.playerId},r["default"].createElement("div",{className:a},r["default"].createElement("div",{className:"seekslider"}),r["default"].createElement("div",{className:"not-value"},r["default"].createElement("div",{className:"progress-drag"}))),r["default"].createElement("div",{className:"play-buttons-bar"},r["default"].createElement("div",{className:"playpause"},r["default"].createElement("button",{className:t})),r["default"].createElement("div",{className:"duration"},r["default"].createElement("span",{className:"curtimetext"},"00:00"),r["default"].createElement("span",{className:"separator"},"/"),r["default"].createElement("span",{className:"durtimetext"},"00:00")),r["default"].createElement("div",{className:o},r["default"].createElement("div",{className:s},r["default"].createElement("div",{className:"volume-bar"},r["default"].createElement("div",{className:"volume-inner"},r["default"].createElement("div",{className:"not-volume"}),r["default"].createElement("div",{className:"volume"},r["default"].createElement("div",{className:"volume-drag"}))))),r["default"].createElement("div",{className:"button-mute"},r["default"].createElement("button",{className:i}))),r["default"].createElement("div",{className:"fullscreen"},r["default"].createElement("button",{className:e}))))}}),n.exports=e["default"]}).call(this)}finally{!function(){var e=n.hot.data&&n.hot.data.foundReactClasses||!1;if(n.exports&&n.makeHot){var i=t(22);i(n,t(3))&&(e=!0);var o=e;o&&n.hot.accept(function(n){n&&console.error("Cannot not apply hot update to stand_alone_player_control.jsx: "+n.message)})}n.hot.dispose(function(t){t.makeHot=n.makeHot,t.foundReactClasses=e})}()}}).call(e,t(14)(n))},function(n,e,t){function i(n,e){return n?"[object Object]"===Object.prototype.toString.call(n.props)&&o(n.type,e):!1}var o=t(132);n.exports=i},function(n,e){"use strict";function t(n,e){var t=e.bind(n);t.__reactBoundContext=n,t.__reactBoundMethod=e,t.__reactBoundArguments=null;var i=n.constructor.displayName,o=t.bind;return t.bind=function(r){var a=Array.prototype.slice.call(arguments,1);if(r!==n&&null!==r)console.warn("bind(): React component methods may only be bound to the component instance. See "+i);else if(!a.length)return console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+i),t;var s=o.apply(t,arguments);return s.__reactBoundContext=n,s.__reactBoundMethod=e,s.__reactBoundArguments=a,s},t}n.exports=function(n){var e="function"==typeof n.getPublicInstance?n.getPublicInstance():n;if(e)for(var i in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||e[i].__reactBoundContext!==e)){var o=e.__reactAutoBindMap[i];e[i]=t(e,o)}}},function(n,e,t){"use strict";function i(n){n._pendingForceUpdate===!1&&(n._pendingForceUpdate=!0)}function o(n,e){if(n._pendingForceUpdate===!0){var t=n._instance||n;t.forceUpdate?t.forceUpdate():e&&e.Component&&e.Component.prototype.forceUpdate.call(t)}}function r(n,e){s(n,a),s(n,i),s(n,o,e)}var a=t(280),s=t(286);n.exports=r},function(n,e){"use strict";n.exports=function(){function n(n){return function(){return o[n]?o[n].apply(this,arguments):void 0}}function e(e,t){e[t]=o[t],"function"==typeof e[t]&&"type"!==t&&"constructor"!==t&&(e[t]=n(t),o[t].isReactClassApproved&&(e[t].isReactClassApproved=o[t].isReactClassApproved),e.__reactAutoBindMap&&e.__reactAutoBindMap[t]&&(e.__reactAutoBindMap[t]=e[t]))}function t(n){o={},Object.getOwnPropertyNames(n).forEach(function(e){o[e]=n[e]})}function i(n){r.push(n),r.forEach(function(n){Object.getOwnPropertyNames(o).forEach(function(t){e(n,t)})})}var o,r=[];return function(n){Object.prototype.hasOwnProperty.call(n,"__isAssimilatedByReactHotAPI")||(t(n),i(n),n.__isAssimilatedByReactHotAPI=!0)}}},function(n,e,t){"use strict";var i=t(284);n.exports=function(n,e){if("function"!=typeof n)throw new Error("Expected getRootInstances to be a function.");var t={};return function(o,r){if(r=r||o.displayName||o.name,!r)return console.error("Hot reload is disabled for one of your types. To enable it, pass a string uniquely identifying this class within this current module as a second parameter to makeHot."),o;t[r]||(t[r]=i(n,e));var a=t[r];return a(o)}}},function(n,e,t){"use strict";function i(n){if(!n.hasOwnProperty("type"))return!1;var e=Object.getOwnPropertyDescriptor(n,"type");return"function"==typeof e.get?!1:!0}function o(n){var e=n.prototype,t=e&&"function"==typeof e.render;return!t&&i(n)&&(e=n.type.prototype),e}var r=t(282),a=t(285);n.exports=function(n,e){var t=r(),i=null;return function(r){var s=o(r);return t(s),i&&a(n,e),i||(i=r)}}},function(n,e,t){var i=t(281),o=!1;n.exports=function(n,e){function t(){o=!1;var t,r=n();for(var a in r)r.hasOwnProperty(a)&&(t=r[a],t=t._reactInternalInstance||t,i(t,e))}o||setTimeout(t)}},function(n,e){"use strict";function t(n,e,i){if(e(n,i),n._renderedComponent)t(n._renderedComponent,e,i);else for(var o in n._renderedChildren)t(n._renderedChildren[o],e,i)}n.exports=t},function(n,e){n.exports=function(n){"function"==typeof execScript?execScript(n):eval.call(null,n)}},function(n,e,t){t(287)(t(268))},function(n,e,t){(function(n){function e(){c?(console.log("[WDS] App hot update..."),window.postMessage("webpackHotUpdate"+d,"*")):(console.log("[WDS] App updated. Reloading..."),window.location.reload())}var i=t(267),o=t(290),r=t(321),a=document.getElementsByTagName("script"),s=(a[a.length-1].getAttribute("src").replace(/\/[^\/]+$/,""),i.parse(n.substr(1))),l=null,c=!1,u=!0,d="",p={hot:function(){c=!0,console.log("[WDS] Hot Module Replacement enabled.")},invalid:function(){console.log("[WDS] App updated. Recompiling...")},hash:function(n){d=n},"still-ok":function(){console.log("[WDS] Nothing changed.")},ok:function(){return u?u=!1:void e()},warnings:function(n){console.log("[WDS] Warnings while compiling.");for(var t=0;t<n.length;t++)console.warn(r(n[t]));return u?u=!1:void e()},errors:function(n){console.log("[WDS] Errors while compiling.");for(var t=0;t<n.length;t++)console.error(r(n[t]));return u?u=!1:void e()},"proxy-error":function(n){console.log("[WDS] Proxy error.");for(var t=0;t<n.length;t++)console.error(r(n[t]));return u?u=!1:void e()}},f=function(){l=new o(i.format({protocol:s.protocol,auth:s.auth,hostname:"0.0.0.0"===s.hostname?window.location.hostname:s.hostname,port:s.port,pathname:"/"===s.path?"/sockjs-node":s.path})),l.onclose=function(){console.error("[WDS] Disconnected!"),l=null,setTimeout(function(){f()},2e3)},l.onmessage=function(n){var e=JSON.parse(n.data);p[e.type](e.data)}};f()}).call(e,"?http://localhost:8080")},function(n,e,t){(function(e){"use strict";var i=t(299);n.exports=t(297)(i),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(e,function(){return this}())},function(n,e,t){"use strict";function i(){r.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var o=t(4),r=t(87);o(i,r),n.exports=i},function(n,e,t){"use strict";function i(n){r.call(this),this.initEvent("message",!1,!1),this.data=n}var o=t(4),r=t(87);o(i,r),n.exports=i},function(n,e,t){"use strict";function i(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}var o=t(27),r=t(52);i.prototype._transportClose=function(n,e){r.postMessage("c",o.stringify([n,e]))},i.prototype._transportMessage=function(n){r.postMessage("t",n)},i.prototype._send=function(n){this._transport.send(n)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},n.exports=i},function(n,e,t){(function(e){"use strict";var i=t(18),o=t(30),r=t(27),a=t(293),s=t(135),l=t(52),c=t(136),u=function(){};"production"!==e.env.NODE_ENV&&(u=t(9)("sockjs-client:iframe-bootstrap")),n.exports=function(n,e){var t={};e.forEach(function(n){n.facadeTransport&&(t[n.facadeTransport.transportName]=n.facadeTransport)}),t[s.transportName]=s;var d;n.bootstrap_iframe=function(){var e;l.currentWindowId=c.hash.slice(1);var s=function(o){if(o.source===parent&&("undefined"==typeof d&&(d=o.origin),o.origin===d)){var s;try{s=r.parse(o.data)}catch(p){return void u("bad json",o.data)}if(s.windowId===l.currentWindowId)switch(s.type){case"s":var f;try{f=r.parse(s.data)}catch(p){u("bad json",s.data);break}var h=f[0],m=f[1],y=f[2],g=f[3];if(u(h,m,y,g),h!==n.version)throw new Error('Incompatibile SockJS! Main site uses: "'+h+'", the iframe: "'+n.version+'".');if(!i.isOriginEqual(y,c.href)||!i.isOriginEqual(g,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+y+", "+g+")");e=new a(new t[m](y,g));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}};o.attachEvent("message",s),l.postMessage("s")}}}).call(e,t(1))},function(n,e,t){(function(e,i){"use strict";function o(n,e){var t=this;r.call(this);var o=function(){var i=t.ifr=new c(u.transportName,e,n);i.once("message",function(n){if(n){var e;try{e=s.parse(n)}catch(i){return d("bad json",n),t.emit("finish"),void t.close()}var o=e[0],r=e[1];t.emit("finish",o,r)}t.close()}),i.once("close",function(){t.emit("finish"),t.close()})};i.document.body?o():l.attachEvent("load",o)}var r=t(12).EventEmitter,a=t(4),s=t(27),l=t(30),c=t(141),u=t(135),d=function(){};"production"!==e.env.NODE_ENV&&(d=t(9)("sockjs-client:info-iframe")),a(o,r),o.enabled=function(){return c.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},n.exports=o}).call(e,t(1),function(){return this}())},function(n,e,t){(function(e){"use strict";function i(n,e){f(n);var t=this;o.call(this),setTimeout(function(){t.doXhr(n,e)},0)}var o=t(12).EventEmitter,r=t(4),a=t(18),s=t(89),l=t(62),c=t(50),u=t(308),d=t(295),p=t(134),f=function(){};"production"!==e.env.NODE_ENV&&(f=t(9)("sockjs-client:info-receiver")),r(i,o),i._getReceiver=function(n,e,t){return t.sameOrigin?new p(e,c):l.enabled?new p(e,l):s.enabled&&t.sameScheme?new p(e,s):d.enabled()?new d(n,e):new p(e,u)},i.prototype.doXhr=function(n,e){var t=this,o=a.addPath(n,"/info");f("doXhr",o),this.xo=i._getReceiver(n,o,e),this.timeoutRef=setTimeout(function(){f("timeout"),t._cleanup(!1),t.emit("finish")},i.timeout),this.xo.once("finish",function(n,e){f("finish",n,e),t._cleanup(!0),t.emit("finish",n,e)})},i.prototype._cleanup=function(n){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!n&&this.xo&&this.xo.close(),this.xo=null},i.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},i.timeout=8e3,n.exports=i}).call(e,t(1))},function(n,e,t){(function(e,i){"use strict";function o(n,e,t){if(!(this instanceof o))return new o(n,e,t);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=o.CONNECTING,this.extensions="",this.protocol="",t=t||{},t.protocols_whitelist&&y.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=t.transports;var i=t.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(i)}}this._server=t.server||c.numberString(1e3);var r=new a(n);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+n+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==r.protocol&&"https:"!==r.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var s="https:"===r.protocol;if("https"===_.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var l=e.sort();l.forEach(function(n,e){if(!n)throw new SyntaxError("The protocols entry '"+n+"' is invalid.");if(e<l.length-1&&n===l[e+1])throw new SyntaxError("The protocols entry '"+n+"' is duplicated.")});var u=d.getOrigin(_.href);this._origin=u?u.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,A("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:d.isOriginEqual(this.url,_.href),sameScheme:d.isSchemeEqual(this.url,_.href)},this._ir=new P(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function r(n){return 1e3===n||n>=3e3&&4999>=n}t(298);var a=t(91),s=t(4),l=t(27),c=t(44),u=t(313),d=t(18),p=t(30),f=t(315),h=t(90),m=t(51),y=t(314),g=t(87),v=t(133),_=t(136),C=t(291),E=t(292),P=t(296),A=function(){};"production"!==e.env.NODE_ENV&&(i.dbg=t(9),A=i.dbg("sockjs-client:main"));var x;s(o,v),o.prototype.close=function(n,e){if(n&&!r(n))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==o.CLOSING&&this.readyState!==o.CLOSED){var t=!0;this._close(n||1e3,e||"Normal closure",t)}},o.prototype.send=function(n){if("string"!=typeof n&&(n=""+n),this.readyState===o.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===o.OPEN&&this._transport.send(u.quote(n))},o.version=t(145),o.CONNECTING=0,o.OPEN=1,o.CLOSING=2,o.CLOSED=3,o.prototype._receiveInfo=function(n,e){if(A("_receiveInfo",e),this._ir=null,!n)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=n.base_url?n.base_url:this.url,n=h.extend(n,this._urlInfo),A("info",n);var t=x.filterToEnabled(this._transportsWhitelist,n);this._transports=t.main,A(this._transports.length+" enabled transports"),this._connect()},o.prototype._connect=function(){for(var n=this._transports.shift();n;n=this._transports.shift()){if(A("attempt",n.transportName),n.needBody&&(!i.document.body||"undefined"!=typeof i.document.readyState&&"complete"!==i.document.readyState&&"interactive"!==i.document.readyState))return A("waiting for body"),this._transports.unshift(n),void p.attachEvent("load",this._connect.bind(this));var e=this._rto*n.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),A("using timeout",e);var t=d.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());A("transport url",t);var o=new n(t,this._transUrl);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=n.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},o.prototype._transportTimeout=function(){A("_transportTimeout"),this.readyState===o.CONNECTING&&this._transportClose(2007,"Transport timed out")},o.prototype._transportMessage=function(n){A("_transportMessage",n);var e,t=this,i=n.slice(0,1),o=n.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void A("heartbeat",this.transport)}if(o)try{e=l.parse(o)}catch(r){A("bad json",o)}if("undefined"==typeof e)return void A("empty payload",o);switch(i){case"a":Array.isArray(e)&&e.forEach(function(n){A("message",t.transport,n),t.dispatchEvent(new E(n))});break;case"m":A("message",this.transport,e),this.dispatchEvent(new E(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},o.prototype._transportClose=function(n,e){return A("_transportClose",this.transport,n,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),r(n)||2e3===n||this.readyState!==o.CONNECTING?void this._close(n,e):void this._connect()},o.prototype._open=function(){A("_open",this._transport.transportName,this.readyState),this.readyState===o.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=o.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),A("connected",this.transport)):this._close(1006,"Server lost session")},o.prototype._close=function(n,e,t){A("_close",this.transport,n,e,t,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===o.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=o.CLOSING,setTimeout(function(){this.readyState=o.CLOSED,i&&this.dispatchEvent(new g("error"));var r=new C("close");r.wasClean=t||!1,r.code=n||1e3,r.reason=e,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,A("disconnected")}.bind(this),0)},o.prototype.countRTO=function(n){return n>100?4*n:300+n},n.exports=function(n){return x=f(n),t(294)(o,n),o}}).call(e,t(1),function(){return this}())},function(n,e){"use strict";function t(n){var e=+n;return e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function i(n){return n>>>0}function o(){}var r,a=Array.prototype,s=Object.prototype,l=Function.prototype,c=String.prototype,u=a.slice,d=s.toString,p=function(n){return"[object Function]"===s.toString.call(n)},f=function(n){return"[object Array]"===d.call(n)},h=function(n){return"[object String]"===d.call(n)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(n){return!1}}();r=m?function(n,e,t,i){!i&&e in n||Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:!0,value:t})}:function(n,e,t,i){!i&&e in n||(n[e]=t)};var y=function(n,e,t){for(var i in e)s.hasOwnProperty.call(e,i)&&r(n,i,e[i],t)},g=function(n){if(null==n)throw new TypeError("can't convert "+n+" to object");return Object(n)};y(l,{bind:function(n){var e=this;if(!p(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var t=u.call(arguments,1),i=function(){if(this instanceof l){var i=e.apply(this,t.concat(u.call(arguments)));return Object(i)===i?i:this}return e.apply(n,t.concat(u.call(arguments)))},r=Math.max(0,e.length-t.length),a=[],s=0;r>s;s++)a.push("$"+s);var l=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(i);return e.prototype&&(o.prototype=e.prototype,l.prototype=new o,o.prototype=null),l}}),y(Array,{isArray:f});var v=Object("a"),_="a"!==v[0]||!(0 in v),C=function(n){var e=!0,t=!0;return n&&(n.call("foo",function(n,t,i){"object"!=typeof i&&(e=!1)}),n.call([1],function(){t="string"==typeof this},"x")),!!n&&e&&t};y(a,{forEach:function(n){var e=g(this),t=_&&h(this)?this.split(""):e,i=arguments[1],o=-1,r=t.length>>>0;if(!p(n))throw new TypeError;for(;++o<r;)o in t&&n.call(i,t[o],o,e)}},!C(a.forEach));var E=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);y(a,{indexOf:function(n){var e=_&&h(this)?this.split(""):g(this),i=e.length>>>0;if(!i)return-1;var o=0;for(arguments.length>1&&(o=t(arguments[1])),o=o>=0?o:Math.max(0,i+o);i>o;o++)if(o in e&&e[o]===n)return o;return-1}},E);var P=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var n=void 0===/()??/.exec("")[1];c.split=function(e,t){var o=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==d.call(e))return P.call(this,e,t);var r,s,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),f=0;for(e=new RegExp(e.source,p+"g"),o+="",n||(r=new RegExp("^"+e.source+"$(?!\\s)",p)),t=void 0===t?-1>>>0:i(t);(s=e.exec(o))&&(l=s.index+s[0].length,!(l>f&&(u.push(o.slice(f,s.index)),!n&&s.length>1&&s[0].replace(r,function(){for(var n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(s[n]=void 0)}),s.length>1&&s.index<o.length&&a.push.apply(u,s.slice(1)),c=s[0].length,f=l,u.length>=t)));)e.lastIndex===s.index&&e.lastIndex++;return f===o.length?(c||!e.test(""))&&u.push(""):u.push(o.slice(f)),u.length>t?u.slice(0,t):u}}():"0".split(void 0,0).length&&(c.split=function(n,e){return void 0===n&&0===e?[]:P.call(this,n,e)});var A="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",x="​",N="["+A+"]",b=new RegExp("^"+N+N+"*"),T=new RegExp(N+N+"*$"),M=c.trim&&(A.trim()||!x.trim());y(c,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(b,"").replace(T,"")}},M);var S=c.substr,k="".substr&&"b"!=="0b".substr(-1);y(c,{substr:function(n,e){return S.call(this,0>n&&(n=this.length+n)<0?0:n,e)}},k)},function(n,e,t){"use strict";n.exports=[t(309),t(311),t(143),t(139),t(88)(t(139)),t(140),t(88)(t(140)),t(144),t(310),t(88)(t(144)),t(301)]},function(n,e){(function(e){n.exports=e.WebSocket||e.MozWebSocket}).call(e,function(){return this}())},function(n,e,t){(function(e){"use strict";function i(n){if(!i.enabled())throw new Error("Transport created when disabled");r.call(this,n,"/jsonp",s,a)}var o=t(4),r=t(142),a=t(306),s=t(307);o(i,r),i.enabled=function(){return!!e.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,n.exports=i}).call(e,function(){return this}())},function(n,e,t){(function(e){"use strict";function i(n,e){a(n),r.call(this),this.sendBuffer=[],this.sender=e,this.url=n}var o=t(4),r=t(12).EventEmitter,a=function(){};"production"!==e.env.NODE_ENV&&(a=t(9)("sockjs-client:buffered-sender")),o(i,r),i.prototype.send=function(n){a("send",n),this.sendBuffer.push(n),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){a("sendScheduleWait");var n,e=this;this.sendStop=function(){a("sendStop"),e.sendStop=null,clearTimeout(n)},n=setTimeout(function(){a("timeout"),e.sendStop=null,e.sendSchedule()},25)},i.prototype.sendSchedule=function(){a("sendSchedule",this.sendBuffer.length);var n=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){n.sendStop=null,e?(a("error",e),n.emit("close",e.code||1006,"Sending error: "+e),n._cleanup()):n.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},i.prototype.stop=function(){a("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n,e,t){a(e),r.call(this),this.Receiver=n,this.receiveUrl=e,this.AjaxObject=t,this._scheduleReceiver()}var o=t(4),r=t(12).EventEmitter,a=function(){};"production"!==e.env.NODE_ENV&&(a=t(9)("sockjs-client:polling")),o(i,r),i.prototype._scheduleReceiver=function(){a("_scheduleReceiver");var n=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){a("message",e),n.emit("message",e)}),e.once("close",function(t,i){a("close",t,i,n.pollIsClosing),n.poll=e=null,n.pollIsClosing||("network"===i?n._scheduleReceiver():(n.emit("close",t||1006,i),n.removeAllListeners()))})},i.prototype.abort=function(){a("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},n.exports=i}).call(e,t(1))},function(n,e,t){(function(e){"use strict";function i(n){s(n),r.call(this);var e=this,t=this.es=new a(n);t.onmessage=function(n){s("message",n.data),e.emit("message",decodeURI(n.data))},t.onerror=function(n){s("error",t.readyState,n);var i=2!==t.readyState?"network":"permanent";e._cleanup(),e._close(i)}}var o=t(4),r=t(12).EventEmitter,a=t(138),s=function(){};"production"!==e.env.NODE_ENV&&(s=t(9)("sockjs-client:receiver:eventsource")),o(i,r),i.prototype.abort=function(){s("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){s("cleanup");var n=this.es;n&&(n.onmessage=n.onerror=null,n.close(),this.es=null)},i.prototype._close=function(n){s("close",n);var e=this;setTimeout(function(){e.emit("close",null,n),e.removeAllListeners()},200)},n.exports=i}).call(e,t(1))},function(n,e,t){(function(e,i){"use strict";function o(n){u(n),l.call(this);var e=this;a.polluteGlobalNamespace(),this.id="a"+c.string(6),n=s.addQuery(n,"c="+decodeURIComponent(a.WPrefix+"."+this.id)),u("using htmlfile",o.htmlfileEnabled);var t=o.htmlfileEnabled?a.createHtmlfile:a.createIframe;i[a.WPrefix][this.id]={start:function(){u("start"),e.iframeObj.loaded()},message:function(n){u("message",n),e.emit("message",n)},stop:function(){u("stop"),e._cleanup(),e._close("network")}},this.iframeObj=t(n,function(){u("callback"),e._cleanup(),e._close("permanent")})}var r=t(4),a=t(52),s=t(18),l=t(12).EventEmitter,c=t(44),u=function(){};"production"!==e.env.NODE_ENV&&(u=t(9)("sockjs-client:receiver:htmlfile")),r(o,l),o.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},o.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete i[a.WPrefix][this.id]},o.prototype._close=function(n){u("_close",n),this.emit("close",null,n),this.removeAllListeners()},o.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in i)try{o.htmlfileEnabled=!!new i[d]("htmlfile")}catch(p){}o.enabled=o.htmlfileEnabled||a.iframeEnabled,n.exports=o}).call(e,t(1),function(){return this}())},function(n,e,t){(function(e,i){"use strict";function o(n){d(n);var e=this;u.call(this),r.polluteGlobalNamespace(),this.id="a"+a.string(6);var t=l.addQuery(n,"c="+encodeURIComponent(r.WPrefix+"."+this.id));i[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(t),this.timeoutId=setTimeout(function(){d("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},o.timeout)}var r=t(52),a=t(44),s=t(51),l=t(18),c=t(4),u=t(12).EventEmitter,d=function(){};"production"!==e.env.NODE_ENV&&(d=t(9)("sockjs-client:receiver:jsonp")),c(o,u),o.prototype.abort=function(){if(d("abort"),i[r.WPrefix][this.id]){var n=new Error("JSONP user aborted read");n.code=1e3,this._abort(n)}},o.timeout=35e3,o.scriptErrorTimeout=1e3,o.prototype._callback=function(n){d("_callback",n),this._cleanup(),this.aborting||(n&&(d("message",n),this.emit("message",n)),this.emit("close",null,"network"),this.removeAllListeners())},o.prototype._abort=function(n){d("_abort",n),this._cleanup(),this.aborting=!0,this.emit("close",n.code,n.message),this.removeAllListeners()},o.prototype._cleanup=function(){if(d("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var n=this.script;n.parentNode.removeChild(n),n.onreadystatechange=n.onerror=n.onload=n.onclick=null,this.script=null}delete i[r.WPrefix][this.id]},o.prototype._scriptError=function(){d("_scriptError");var n=this;this.errorTimer||(this.errorTimer=setTimeout(function(){n.loadedOkay||n._abort(new Error("JSONP script loaded abnormally (onerror)"))},o.scriptErrorTimeout))},o.prototype._createScript=function(n){d("_createScript",n);var e,t=this,o=this.script=i.document.createElement("script");if(o.id="a"+a.string(8),o.src=n,o.type="text/javascript",o.charset="UTF-8",o.onerror=this._scriptError.bind(this),o.onload=function(){d("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(d("onreadystatechange",o.readyState),/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){t.loadedOkay=!0;try{o.onclick()}catch(n){}}o&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof o.async&&i.document.attachEvent)if(s.isOpera())e=this.script2=i.document.createElement("script"),e.text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=e.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(r){}o.async=!0}"undefined"!=typeof o.async&&(o.async=!0);var l=i.document.getElementsByTagName("head")[0];l.insertBefore(o,l.firstChild),e&&l.insertBefore(e,l.firstChild)},n.exports=o}).call(e,t(1),function(){return this}())},function(n,e,t){(function(e,i){"use strict";function o(n){l("createIframe",n);try{return i.document.createElement('<iframe name="'+n+'">')}catch(e){var t=i.document.createElement("iframe");return t.name=n,t}}function r(){l("createForm"),c=i.document.createElement("form"),c.style.display="none",c.style.position="absolute",c.method="POST",c.enctype="application/x-www-form-urlencoded",c.acceptCharset="UTF-8",u=i.document.createElement("textarea"),u.name="d",c.appendChild(u),i.document.body.appendChild(c)}var a=t(44),s=t(18),l=function(){};"production"!==e.env.NODE_ENV&&(l=t(9)("sockjs-client:sender:jsonp"));var c,u;n.exports=function(n,e,t){l(n,e),c||r();var i="a"+a.string(8);c.target=i,c.action=s.addQuery(s.addPath(n,"/jsonp_send"),"i="+i);var d=o(i);d.id=i,d.style.display="none",c.appendChild(d);try{u.value=e}catch(p){}c.submit();var f=function(n){l("completed",i,n),d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){l("cleaning up",i),d.parentNode.removeChild(d),d=null},500),u.value="",t(n))};return d.onerror=function(){l("onerror",i),f()},d.onload=function(){l("onload",i),f()},d.onreadystatechange=function(n){l("onreadystatechange",i,d.readyState,n),"complete"===d.readyState&&f()},function(){l("aborted",i),f(new Error("Aborted"))}}}).call(e,t(1),function(){return this}())},function(n,e,t){"use strict";function i(){var n=this;o.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},i.timeout)}var o=t(12).EventEmitter,r=t(4);r(i,o),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,n.exports=i},function(n,e,t){(function(e){"use strict";function i(n){if(!i.enabled())throw new Error("Transport created when disabled");
s.call(this),c("constructor",n);var e=this,t=r.addPath(n,"/websocket");t="https"===t.slice(0,5)?"wss"+t.slice(5):"ws"+t.slice(4),this.url=t,this.ws=new l(this.url),this.ws.onmessage=function(n){c("message event",n.data),e.emit("message",n.data)},this.unloadRef=o.unloadAdd(function(){c("unload"),e.ws.close()}),this.ws.onclose=function(n){c("close event",n.code,n.reason),e.emit("close",n.code,n.reason),e._cleanup()},this.ws.onerror=function(n){c("error event",n),e.emit("close",1006,"WebSocket connection broken"),e._cleanup()}}var o=t(30),r=t(18),a=t(4),s=t(12).EventEmitter,l=t(300),c=function(){};"production"!==e.env.NODE_ENV&&(c=t(9)("sockjs-client:websocket")),a(i,s),i.prototype.send=function(n){var e="["+n+"]";c("send",e),this.ws.send(e)},i.prototype.close=function(){c("close"),this.ws&&this.ws.close(),this._cleanup()},i.prototype._cleanup=function(){c("_cleanup");var n=this.ws;n&&(n.onmessage=n.onclose=n.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return c("enabled"),!!l},i.transportName="websocket",i.roundTrips=2,n.exports=i}).call(e,t(1))},function(n,e,t){"use strict";function i(n){if(!l.enabled)throw new Error("Transport created when disabled");r.call(this,n,"/xhr",s,l)}var o=t(4),r=t(43),a=t(143),s=t(61),l=t(89);o(i,r),i.enabled=a.enabled,i.transportName="xdr-polling",i.roundTrips=2,n.exports=i},function(n,e,t){(function(e){"use strict";function i(n){if(!l.enabled&&!s.enabled)throw new Error("Transport created when disabled");r.call(this,n,"/xhr_streaming",a,s)}var o=t(4),r=t(43),a=t(61),s=t(62),l=t(50),c=t(51);o(i,r),i.enabled=function(n){return n.nullOrigin?!1:c.isOpera()?!1:s.enabled},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!e.document,n.exports=i}).call(e,function(){return this}())},function(n,e){(function(e){"use strict";e.crypto&&e.crypto.getRandomValues?n.exports.randomBytes=function(n){var t=new Uint8Array(n);return e.crypto.getRandomValues(t),t}:n.exports.randomBytes=function(n){for(var e=new Array(n),t=0;n>t;t++)e[t]=Math.floor(256*Math.random());return e}}).call(e,function(){return this}())},function(n,e,t){"use strict";var i,o=t(27),r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,a=function(n){var e,t={},i=[];for(e=0;65536>e;e++)i.push(String.fromCharCode(e));return n.lastIndex=0,i.join("").replace(n,function(n){return t[n]="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,t};n.exports={quote:function(n){var e=o.stringify(n);return r.lastIndex=0,r.test(e)?(i||(i=a(r)),e.replace(r,function(n){return i[n]})):e}}},function(n,e){(function(e){"use strict";var t={};["log","debug","warn"].forEach(function(n){var i=e.console&&e.console[n]&&e.console[n].apply;t[n]=i?function(){return e.console[n].apply(e.console,arguments)}:"log"===n?function(){}:t.log}),n.exports=t}).call(e,function(){return this}())},function(n,e,t){(function(e){"use strict";var i=function(){};"production"!==e.env.NODE_ENV&&(i=t(9)("sockjs-client:utils:transport")),n.exports=function(n){return{filterToEnabled:function(e,t){var o={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],n.forEach(function(n){return n?"websocket"===n.transportName&&t.websocket===!1?void i("disabled from server","websocket"):e.length&&-1===e.indexOf(n.transportName)?void i("not in whitelist",n.transportName):void(n.enabled(t)?(i("enabled",n.transportName),o.main.push(n),n.facadeTransport&&o.facade.push(n.facadeTransport)):i("disabled",n.transportName)):void 0}),o}}}}).call(e,t(1))},function(n,e,t){function i(){return e.colors[u++%e.colors.length]}function o(n){function t(){}function o(){var n=o,t=+new Date,r=t-(c||t);n.diff=r,n.prev=c,n.curr=t,c=t,null==n.useColors&&(n.useColors=e.useColors()),null==n.color&&n.useColors&&(n.color=i());var a=Array.prototype.slice.call(arguments);a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;s++;var o=e.formatters[i];if("function"==typeof o){var r=a[s];t=o.call(n,r),a.splice(s,1),s--}return t}),"function"==typeof e.formatArgs&&(a=e.formatArgs.apply(n,a));var l=o.log||e.log||console.log.bind(console);l.apply(n,a)}t.enabled=!1,o.enabled=!0;var r=e.enabled(n)?o:t;return r.namespace=n,r}function r(n){e.save(n);for(var t=(n||"").split(/[\s,]+/),i=t.length,o=0;i>o;o++)t[o]&&(n=t[o].replace(/\*/g,".*?"),"-"===n[0]?e.skips.push(new RegExp("^"+n.substr(1)+"$")):e.names.push(new RegExp("^"+n+"$")))}function a(){e.enable("")}function s(n){var t,i;for(t=0,i=e.skips.length;i>t;t++)if(e.skips[t].test(n))return!1;for(t=0,i=e.names.length;i>t;t++)if(e.names[t].test(n))return!0;return!1}function l(n){return n instanceof Error?n.stack||n.message:n}e=n.exports=o,e.coerce=l,e.disable=a,e.enable=r,e.enabled=s,e.humanize=t(317),e.names=[],e.skips=[],e.formatters={};var c,u=0},function(n,e){function t(n){if(n=""+n,!(n.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*u;case"days":case"day":case"d":return t*c;case"hours":case"hour":case"hrs":case"hr":case"h":return t*l;case"minutes":case"minute":case"mins":case"min":case"m":return t*s;case"seconds":case"second":case"secs":case"sec":case"s":return t*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}}function i(n){return n>=c?Math.round(n/c)+"d":n>=l?Math.round(n/l)+"h":n>=s?Math.round(n/s)+"m":n>=a?Math.round(n/a)+"s":n+"ms"}function o(n){return r(n,c,"day")||r(n,l,"hour")||r(n,s,"minute")||r(n,a,"second")||n+" ms"}function r(n,e,t){return e>n?void 0:1.5*e>n?Math.floor(n/e)+" "+t:Math.ceil(n/e)+" "+t+"s"}var a=1e3,s=60*a,l=60*s,c=24*l,u=365.25*c;n.exports=function(n,e){return e=e||{},"string"==typeof n?t(n):e["long"]?o(n):i(n)}},function(n,e,t){(function(e){"use strict";var i,o={hash:1,query:1};n.exports=function(n){n=n||e.location||{},i=i||t(91);var r,a={},s=typeof n;if("blob:"===n.protocol)a=new i(unescape(n.pathname),{});else if("string"===s){a=new i(n,{});for(r in o)delete a[r]}else if("object"===s)for(r in n)r in o||(a[r]=n[r]);return a}}).call(e,function(){return this}())},function(n,e){"use strict";function t(n){for(var e,t=/([^=?&]+)=([^&]*)/g,i={};e=t.exec(n);i[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return i}function i(n,e){e=e||"";var t=[];"string"!=typeof e&&(e="?");for(var i in n)o.call(n,i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return t.length?e+t.join("&"):""}var o=Object.prototype.hasOwnProperty;e.stringify=i,e.parse=t},function(n,e){"use strict";n.exports=function(n,e){if(e=e.split(":")[0],n=+n,!n)return!1;switch(e){case"http":case"ws":return 80!==n;case"https":case"wss":return 443!==n;case"ftp":return 21!==n;case"gopher":return 70!==n;case"file":return!1}return 0!==n}},function(n,e,t){"use strict";var i=t(322)();n.exports=function(n){return"string"==typeof n?n.replace(i,""):n}},function(n,e){"use strict";n.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}},function(n,e){(function(e){n.exports=e}).call(e,{})},function(n,e){n.exports=function(n,e){var t=n.filter(function(n){return e&&e.indexOf(n)<0});t.length>0&&(console.warn("[HMR] The following modules couldn't be hot updated: (They would need a full reload!)"),t.forEach(function(n){console.warn("[HMR]  - "+n)})),e&&0!==e.length?(console.log("[HMR] Updated modules:"),e.forEach(function(n){console.log("[HMR]  - "+n)})):console.log("[HMR] Nothing hot updated.")}},function(n,e,t){var i,o=function(){return i.indexOf(t.h())>=0},r=function s(){n.hot.check(function(e,i){return e?void(n.hot.status()in{abort:1,fail:1}?(console.warn("[HMR] Cannot check for update. Need to do a full reload!"),console.warn("[HMR] "+e.stack||e.message)):console.warn("[HMR] Update check failed: "+e.stack||e.message)):i?void n.hot.apply({ignoreUnaccepted:!0},function(e,r){return e?void(n.hot.status()in{abort:1,fail:1}?(console.warn("[HMR] Cannot apply update. Need to do a full reload!"),console.warn("[HMR] "+e.stack||e.message)):console.warn("[HMR] Update failed: "+e.stack||e.message)):(o()||s(),t(324)(i,r),void(o()&&console.log("[HMR] App is up to date.")))}):(console.warn("[HMR] Cannot find update. Need to do a full reload!"),void console.warn("[HMR] (Probably because of restarting the webpack-dev-server)"))})},a=window.addEventListener?function(n,e){window.addEventListener(n,e,!1)}:function(n,e){window.attachEvent("on"+n,e)};a("message",function(e){"string"==typeof e.data&&0===e.data.indexOf("webpackHotUpdate")&&(i=e.data,o()||"idle"!==n.hot.status()||(console.log("[HMR] Checking for updates on the server..."),r()))}),console.log("[HMR] Waiting for update signal from WDS...")}]);
//# sourceMappingURL=ba2.bundle.js.map